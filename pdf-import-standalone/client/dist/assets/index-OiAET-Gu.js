var q5=Object.defineProperty;var Pm=i=>{throw TypeError(i)};var V5=(i,a,c)=>a in i?q5(i,a,{enumerable:!0,configurable:!0,writable:!0,value:c}):i[a]=c;var Hr=(i,a,c)=>V5(i,typeof a!="symbol"?a+"":a,c),_h=(i,a,c)=>a.has(i)||Pm("Cannot "+c);var nn=(i,a,c)=>(_h(i,a,"read from private field"),c?c.call(i):a.get(i)),Rn=(i,a,c)=>a.has(i)?Pm("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(i):a.set(i,c),Ln=(i,a,c,_e)=>(_h(i,a,"write to private field"),_e?_e.call(i,c):a.set(i,c),c),wn=(i,a,c)=>(_h(i,a,"access private method"),c);var Jl=(i,a,c,_e)=>({set _(ot){Ln(i,a,ot,c)},get _(){return nn(i,a,_e)}});(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const ot of document.querySelectorAll('link[rel="modulepreload"]'))_e(ot);new MutationObserver(ot=>{for(const $t of ot)if($t.type==="childList")for(const zt of $t.addedNodes)zt.tagName==="LINK"&&zt.rel==="modulepreload"&&_e(zt)}).observe(document,{childList:!0,subtree:!0});function c(ot){const $t={};return ot.integrity&&($t.integrity=ot.integrity),ot.referrerPolicy&&($t.referrerPolicy=ot.referrerPolicy),ot.crossOrigin==="use-credentials"?$t.credentials="include":ot.crossOrigin==="anonymous"?$t.credentials="omit":$t.credentials="same-origin",$t}function _e(ot){if(ot.ep)return;ot.ep=!0;const $t=c(ot);fetch(ot.href,$t)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function getAugmentedNamespace(i){if(i.__esModule)return i;var a=i.default;if(typeof a=="function"){var c=function _e(){return this instanceof _e?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};c.prototype=a.prototype}else c={};return Object.defineProperty(c,"__esModule",{value:!0}),Object.keys(i).forEach(function(_e){var ot=Object.getOwnPropertyDescriptor(i,_e);Object.defineProperty(c,_e,ot.get?ot:{enumerable:!0,get:function(){return i[_e]}})}),c}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(i){return i===null||typeof i!="object"?null:(i=z$1&&i[z$1]||i["@@iterator"],typeof i=="function"?i:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(i,a,c){this.props=i,this.context=a,this.refs=D$1,this.updater=c||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(i,a){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,a,"setState")};E$1.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(i,a,c){this.props=i,this.context=a,this.refs=D$1,this.updater=c||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(i,a,c){var _e,ot={},$t=null,zt=null;if(a!=null)for(_e in a.ref!==void 0&&(zt=a.ref),a.key!==void 0&&($t=""+a.key),a)J.call(a,_e)&&!L$1.hasOwnProperty(_e)&&(ot[_e]=a[_e]);var ct=arguments.length-2;if(ct===1)ot.children=c;else if(1<ct){for(var Et=Array(ct),s=0;s<ct;s++)Et[s]=arguments[s+2];ot.children=Et}if(i&&i.defaultProps)for(_e in ct=i.defaultProps,ct)ot[_e]===void 0&&(ot[_e]=ct[_e]);return{$$typeof:l$1,type:i,key:$t,ref:zt,props:ot,_owner:K$1.current}}function N$1(i,a){return{$$typeof:l$1,type:i.type,key:a,ref:i.ref,props:i.props,_owner:i._owner}}function O$1(i){return typeof i=="object"&&i!==null&&i.$$typeof===l$1}function escape$1(i){var a={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(c){return a[c]})}var P$1=/\/+/g;function Q$1(i,a){return typeof i=="object"&&i!==null&&i.key!=null?escape$1(""+i.key):a.toString(36)}function R$1(i,a,c,_e,ot){var $t=typeof i;($t==="undefined"||$t==="boolean")&&(i=null);var zt=!1;if(i===null)zt=!0;else switch($t){case"string":case"number":zt=!0;break;case"object":switch(i.$$typeof){case l$1:case n$1:zt=!0}}if(zt)return zt=i,ot=ot(zt),i=_e===""?"."+Q$1(zt,0):_e,I$1(ot)?(c="",i!=null&&(c=i.replace(P$1,"$&/")+"/"),R$1(ot,a,c,"",function(s){return s})):ot!=null&&(O$1(ot)&&(ot=N$1(ot,c+(!ot.key||zt&&zt.key===ot.key?"":(""+ot.key).replace(P$1,"$&/")+"/")+i)),a.push(ot)),1;if(zt=0,_e=_e===""?".":_e+":",I$1(i))for(var ct=0;ct<i.length;ct++){$t=i[ct];var Et=_e+Q$1($t,ct);zt+=R$1($t,a,c,Et,ot)}else if(Et=A$1(i),typeof Et=="function")for(i=Et.call(i),ct=0;!($t=i.next()).done;)$t=$t.value,Et=_e+Q$1($t,ct++),zt+=R$1($t,a,c,Et,ot);else if($t==="object")throw a=String(i),Error("Objects are not valid as a React child (found: "+(a==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":a)+"). If you meant to render a collection of children, use an array instead.");return zt}function S$1(i,a,c){if(i==null)return i;var _e=[],ot=0;return R$1(i,_e,"","",function($t){return a.call(c,$t,ot++)}),_e}function T$1(i){if(i._status===-1){var a=i._result;a=a(),a.then(function(c){(i._status===0||i._status===-1)&&(i._status=1,i._result=c)},function(c){(i._status===0||i._status===-1)&&(i._status=2,i._result=c)}),i._status===-1&&(i._status=0,i._result=a)}if(i._status===1)return i._result.default;throw i._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(i,a,c){S$1(i,function(){a.apply(this,arguments)},c)},count:function(i){var a=0;return S$1(i,function(){a++}),a},toArray:function(i){return S$1(i,function(a){return a})||[]},only:function(i){if(!O$1(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(i,a,c){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var _e=C$1({},i.props),ot=i.key,$t=i.ref,zt=i._owner;if(a!=null){if(a.ref!==void 0&&($t=a.ref,zt=K$1.current),a.key!==void 0&&(ot=""+a.key),i.type&&i.type.defaultProps)var ct=i.type.defaultProps;for(Et in a)J.call(a,Et)&&!L$1.hasOwnProperty(Et)&&(_e[Et]=a[Et]===void 0&&ct!==void 0?ct[Et]:a[Et])}var Et=arguments.length-2;if(Et===1)_e.children=c;else if(1<Et){ct=Array(Et);for(var s=0;s<Et;s++)ct[s]=arguments[s+2];_e.children=ct}return{$$typeof:l$1,type:i.type,key:ot,ref:$t,props:_e,_owner:zt}};react_production_min.createContext=function(i){return i={$$typeof:u,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:t,_context:i},i.Consumer=i};react_production_min.createElement=M$1;react_production_min.createFactory=function(i){var a=M$1.bind(null,i);return a.type=i,a};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(i){return{$$typeof:v$1,render:i}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(i){return{$$typeof:y,_payload:{_status:-1,_result:i},_init:T$1}};react_production_min.memo=function(i,a){return{$$typeof:x,type:i,compare:a===void 0?null:a}};react_production_min.startTransition=function(i){var a=V$1.transition;V$1.transition={};try{i()}finally{V$1.transition=a}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(i,a){return U$1.current.useCallback(i,a)};react_production_min.useContext=function(i){return U$1.current.useContext(i)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(i){return U$1.current.useDeferredValue(i)};react_production_min.useEffect=function(i,a){return U$1.current.useEffect(i,a)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(i,a,c){return U$1.current.useImperativeHandle(i,a,c)};react_production_min.useInsertionEffect=function(i,a){return U$1.current.useInsertionEffect(i,a)};react_production_min.useLayoutEffect=function(i,a){return U$1.current.useLayoutEffect(i,a)};react_production_min.useMemo=function(i,a){return U$1.current.useMemo(i,a)};react_production_min.useReducer=function(i,a,c){return U$1.current.useReducer(i,a,c)};react_production_min.useRef=function(i){return U$1.current.useRef(i)};react_production_min.useState=function(i){return U$1.current.useState(i)};react_production_min.useSyncExternalStore=function(i,a,c){return U$1.current.useSyncExternalStore(i,a,c)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$1=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(i,a,c){var _e,ot={},$t=null,zt=null;c!==void 0&&($t=""+c),a.key!==void 0&&($t=""+a.key),a.ref!==void 0&&(zt=a.ref);for(_e in a)m$1.call(a,_e)&&!p$1.hasOwnProperty(_e)&&(ot[_e]=a[_e]);if(i&&i.defaultProps)for(_e in a=i.defaultProps,a)ot[_e]===void 0&&(ot[_e]=a[_e]);return{$$typeof:k,type:i,key:$t,ref:zt,props:ot,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function a(it,at){var bt=it.length;it.push(at);e:for(;0<bt;){var St=bt-1>>>1,ht=it[St];if(0<ot(ht,at))it[St]=at,it[bt]=ht,bt=St;else break e}}function c(it){return it.length===0?null:it[0]}function _e(it){if(it.length===0)return null;var at=it[0],bt=it.pop();if(bt!==at){it[0]=bt;e:for(var St=0,ht=it.length,vt=ht>>>1;St<vt;){var yt=2*(St+1)-1,At=it[yt],Nt=yt+1,Ht=it[Nt];if(0>ot(At,bt))Nt<ht&&0>ot(Ht,At)?(it[St]=Ht,it[Nt]=bt,St=Nt):(it[St]=At,it[yt]=bt,St=yt);else if(Nt<ht&&0>ot(Ht,bt))it[St]=Ht,it[Nt]=bt,St=Nt;else break e}}return at}function ot(it,at){var bt=it.sortIndex-at.sortIndex;return bt!==0?bt:it.id-at.id}if(typeof performance=="object"&&typeof performance.now=="function"){var $t=performance;i.unstable_now=function(){return $t.now()}}else{var zt=Date,ct=zt.now();i.unstable_now=function(){return zt.now()-ct}}var Et=[],s=[],st=1,Tt=null,wt=3,e=!1,gt=!1,_=!1,$=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(it){for(var at=c(s);at!==null;){if(at.callback===null)_e(s);else if(at.startTime<=it)_e(s),at.sortIndex=at.expirationTime,a(Et,at);else break;at=c(s)}}function o(it){if(_=!1,g(it),!gt)if(c(Et)!==null)gt=!0,lt(ut);else{var at=c(s);at!==null&&ft(o,at.startTime-it)}}function ut(it,at){gt=!1,_&&(_=!1,d(h),h=-1),e=!0;var bt=wt;try{for(g(at),Tt=c(Et);Tt!==null&&(!(Tt.expirationTime>at)||it&&!pt());){var St=Tt.callback;if(typeof St=="function"){Tt.callback=null,wt=Tt.priorityLevel;var ht=St(Tt.expirationTime<=at);at=i.unstable_now(),typeof ht=="function"?Tt.callback=ht:Tt===c(Et)&&_e(Et),g(at)}else _e(Et);Tt=c(Et)}if(Tt!==null)var vt=!0;else{var yt=c(s);yt!==null&&ft(o,yt.startTime-at),vt=!1}return vt}finally{Tt=null,wt=bt,e=!1}}var dt=!1,b=null,h=-1,et=5,nt=-1;function pt(){return!(i.unstable_now()-nt<et)}function Bt(){if(b!==null){var it=i.unstable_now();nt=it;var at=!0;try{at=b(!0,it)}finally{at?Pt():(dt=!1,b=null)}}else dt=!1}var Pt;if(typeof j=="function")Pt=function(){j(Bt)};else if(typeof MessageChannel<"u"){var Rt=new MessageChannel,Ft=Rt.port2;Rt.port1.onmessage=Bt,Pt=function(){Ft.postMessage(null)}}else Pt=function(){$(Bt,0)};function lt(it){b=it,dt||(dt=!0,Pt())}function ft(it,at){h=$(function(){it(i.unstable_now())},at)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(it){it.callback=null},i.unstable_continueExecution=function(){gt||e||(gt=!0,lt(ut))},i.unstable_forceFrameRate=function(it){0>it||125<it?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):et=0<it?Math.floor(1e3/it):5},i.unstable_getCurrentPriorityLevel=function(){return wt},i.unstable_getFirstCallbackNode=function(){return c(Et)},i.unstable_next=function(it){switch(wt){case 1:case 2:case 3:var at=3;break;default:at=wt}var bt=wt;wt=at;try{return it()}finally{wt=bt}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(it,at){switch(it){case 1:case 2:case 3:case 4:case 5:break;default:it=3}var bt=wt;wt=it;try{return at()}finally{wt=bt}},i.unstable_scheduleCallback=function(it,at,bt){var St=i.unstable_now();switch(typeof bt=="object"&&bt!==null?(bt=bt.delay,bt=typeof bt=="number"&&0<bt?St+bt:St):bt=St,it){case 1:var ht=-1;break;case 2:ht=250;break;case 5:ht=1073741823;break;case 4:ht=1e4;break;default:ht=5e3}return ht=bt+ht,it={id:st++,callback:at,priorityLevel:it,startTime:bt,expirationTime:ht,sortIndex:-1},bt>St?(it.sortIndex=bt,a(s,it),c(Et)===null&&it===c(s)&&(_?(d(h),h=-1):_=!0,ft(o,bt-St))):(it.sortIndex=ht,a(Et,it),gt||e||(gt=!0,lt(ut))),it},i.unstable_shouldYield=pt,i.unstable_wrapCallback=function(it){var at=wt;return function(){var bt=wt;wt=at;try{return it.apply(this,arguments)}finally{wt=bt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(i,a){ha(i,a),ha(i+"Capture",a)}function ha(i,a){for(ea[i]=a,i=0;i<a.length;i++)da.add(a[i])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(i){return ja.call(ma,i)?!0:ja.call(la,i)?!1:ka.test(i)?ma[i]=!0:(la[i]=!0,!1)}function pa(i,a,c,_e){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return _e?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function qa(i,a,c,_e){if(a===null||typeof a>"u"||pa(i,a,c,_e))return!0;if(_e)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function v(i,a,c,_e,ot,$t,zt){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=_e,this.attributeNamespace=ot,this.mustUseProperty=c,this.propertyName=i,this.type=a,this.sanitizeURL=$t,this.removeEmptyString=zt}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){z[i]=new v(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];z[a]=new v(a,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){z[i]=new v(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){z[i]=new v(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){z[i]=new v(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){z[i]=new v(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){z[i]=new v(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){z[i]=new v(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){z[i]=new v(i,5,!1,i.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(ra,sa);z[a]=new v(a,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(ra,sa);z[a]=new v(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(ra,sa);z[a]=new v(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){z[i]=new v(i,1,!1,i.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){z[i]=new v(i,1,!1,i.toLowerCase(),null,!0,!0)});function ta(i,a,c,_e){var ot=z.hasOwnProperty(a)?z[a]:null;(ot!==null?ot.type!==0:_e||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(qa(a,c,ot,_e)&&(c=null),_e||ot===null?oa(a)&&(c===null?i.removeAttribute(a):i.setAttribute(a,""+c)):ot.mustUseProperty?i[ot.propertyName]=c===null?ot.type===3?!1:"":c:(a=ot.attributeName,_e=ot.attributeNamespace,c===null?i.removeAttribute(a):(ot=ot.type,c=ot===3||ot===4&&c===!0?"":""+c,_e?i.setAttributeNS(_e,a,c):i.setAttribute(a,c))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(i){return i===null||typeof i!="object"?null:(i=Ja&&i[Ja]||i["@@iterator"],typeof i=="function"?i:null)}var A=Object.assign,La;function Ma(i){if(La===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);La=a&&a[1]||""}return`
`+La+i}var Na=!1;function Oa(i,a){if(!i||Na)return"";Na=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(s){var _e=s}Reflect.construct(i,[],a)}else{try{a.call()}catch(s){_e=s}i.call(a.prototype)}else{try{throw Error()}catch(s){_e=s}i()}}catch(s){if(s&&_e&&typeof s.stack=="string"){for(var ot=s.stack.split(`
`),$t=_e.stack.split(`
`),zt=ot.length-1,ct=$t.length-1;1<=zt&&0<=ct&&ot[zt]!==$t[ct];)ct--;for(;1<=zt&&0<=ct;zt--,ct--)if(ot[zt]!==$t[ct]){if(zt!==1||ct!==1)do if(zt--,ct--,0>ct||ot[zt]!==$t[ct]){var Et=`
`+ot[zt].replace(" at new "," at ");return i.displayName&&Et.includes("<anonymous>")&&(Et=Et.replace("<anonymous>",i.displayName)),Et}while(1<=zt&&0<=ct);break}}}finally{Na=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?Ma(i):""}function Pa(i){switch(i.tag){case 5:return Ma(i.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return i=Oa(i.type,!1),i;case 11:return i=Oa(i.type.render,!1),i;case 1:return i=Oa(i.type,!0),i;default:return""}}function Qa(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ca:return(i.displayName||"Context")+".Consumer";case Ba:return(i._context.displayName||"Context")+".Provider";case Da:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ga:return a=i.displayName||null,a!==null?a:Qa(i.type)||"Memo";case Ha:a=i._payload,i=i._init;try{return Qa(i(a))}catch{}}return null}function Ra(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(a);case 8:return a===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Sa(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ta(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ua(i){var a=Ta(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),_e=""+i[a];if(!i.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var ot=c.get,$t=c.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return ot.call(this)},set:function(zt){_e=""+zt,$t.call(this,zt)}}),Object.defineProperty(i,a,{enumerable:c.enumerable}),{getValue:function(){return _e},setValue:function(zt){_e=""+zt},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Va(i){i._valueTracker||(i._valueTracker=Ua(i))}function Wa(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var c=a.getValue(),_e="";return i&&(_e=Ta(i)?i.checked?"true":"false":i.value),i=_e,i!==c?(a.setValue(i),!0):!1}function Xa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ya(i,a){var c=a.checked;return A({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function Za(i,a){var c=a.defaultValue==null?"":a.defaultValue,_e=a.checked!=null?a.checked:a.defaultChecked;c=Sa(a.value!=null?a.value:c),i._wrapperState={initialChecked:_e,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ab(i,a){a=a.checked,a!=null&&ta(i,"checked",a,!1)}function bb(i,a){ab(i,a);var c=Sa(a.value),_e=a.type;if(c!=null)_e==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(_e==="submit"||_e==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?cb(i,a.type,c):a.hasOwnProperty("defaultValue")&&cb(i,a.type,Sa(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function db(i,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var _e=a.type;if(!(_e!=="submit"&&_e!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,c||a===i.value||(i.value=a),i.defaultValue=a}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function cb(i,a,c){(a!=="number"||Xa(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var eb=Array.isArray;function fb(i,a,c,_e){if(i=i.options,a){a={};for(var ot=0;ot<c.length;ot++)a["$"+c[ot]]=!0;for(c=0;c<i.length;c++)ot=a.hasOwnProperty("$"+i[c].value),i[c].selected!==ot&&(i[c].selected=ot),ot&&_e&&(i[c].defaultSelected=!0)}else{for(c=""+Sa(c),a=null,ot=0;ot<i.length;ot++){if(i[ot].value===c){i[ot].selected=!0,_e&&(i[ot].defaultSelected=!0);return}a!==null||i[ot].disabled||(a=i[ot])}a!==null&&(a.selected=!0)}}function gb(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function hb(i,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(p(92));if(eb(c)){if(1<c.length)throw Error(p(93));c=c[0]}a=c}a==null&&(a=""),c=a}i._wrapperState={initialValue:Sa(c)}}function ib(i,a){var c=Sa(a.value),_e=Sa(a.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),a.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),_e!=null&&(i.defaultValue=""+_e)}function jb(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function kb(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?kb(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var mb,nb=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,_e,ot){MSApp.execUnsafeLocalFunction(function(){return i(a,c,_e,ot)})}:i}(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=mb.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function ob(i,a){if(a){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=a;return}}i.textContent=a}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(i){qb.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),pb[a]=pb[i]})});function rb(i,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||pb.hasOwnProperty(i)&&pb[i]?(""+a).trim():a+"px"}function sb(i,a){i=i.style;for(var c in a)if(a.hasOwnProperty(c)){var _e=c.indexOf("--")===0,ot=rb(c,a[c],_e);c==="float"&&(c="cssFloat"),_e?i.setProperty(c,ot):i[c]=ot}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(i,a){if(a){if(tb[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(p(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(p(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(p(61))}if(a.style!=null&&typeof a.style!="object")throw Error(p(62))}}function vb(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yb=null,zb=null,Ab=null;function Bb(i){if(i=Cb(i)){if(typeof yb!="function")throw Error(p(280));var a=i.stateNode;a&&(a=Db(a),yb(i.stateNode,i.type,a))}}function Eb(i){zb?Ab?Ab.push(i):Ab=[i]:zb=i}function Fb(){if(zb){var i=zb,a=Ab;if(Ab=zb=null,Bb(i),a)for(i=0;i<a.length;i++)Bb(a[i])}}function Gb(i,a){return i(a)}function Hb(){}var Ib=!1;function Jb(i,a,c){if(Ib)return i(a,c);Ib=!0;try{return Gb(i,a,c)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(i,a){var c=i.stateNode;if(c===null)return null;var _e=Db(c);if(_e===null)return null;c=_e[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_e=!_e.disabled)||(i=i.type,_e=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!_e;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(p(231,a,typeof c));return c}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(i,a,c,_e,ot,$t,zt,ct,Et){var s=Array.prototype.slice.call(arguments,3);try{a.apply(c,s)}catch(st){this.onError(st)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(i){Ob=!0,Pb=i}};function Tb(i,a,c,_e,ot,$t,zt,ct,Et){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(i,a,c,_e,ot,$t,zt,ct,Et){if(Tb.apply(this,arguments),Ob){if(Ob){var s=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=s)}}function Vb(i){var a=i,c=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,a.flags&4098&&(c=a.return),i=a.return;while(i)}return a.tag===3?c:null}function Wb(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function Xb(i){if(Vb(i)!==i)throw Error(p(188))}function Yb(i){var a=i.alternate;if(!a){if(a=Vb(i),a===null)throw Error(p(188));return a!==i?null:i}for(var c=i,_e=a;;){var ot=c.return;if(ot===null)break;var $t=ot.alternate;if($t===null){if(_e=ot.return,_e!==null){c=_e;continue}break}if(ot.child===$t.child){for($t=ot.child;$t;){if($t===c)return Xb(ot),i;if($t===_e)return Xb(ot),a;$t=$t.sibling}throw Error(p(188))}if(c.return!==_e.return)c=ot,_e=$t;else{for(var zt=!1,ct=ot.child;ct;){if(ct===c){zt=!0,c=ot,_e=$t;break}if(ct===_e){zt=!0,_e=ot,c=$t;break}ct=ct.sibling}if(!zt){for(ct=$t.child;ct;){if(ct===c){zt=!0,c=$t,_e=ot;break}if(ct===_e){zt=!0,_e=$t,c=ot;break}ct=ct.sibling}if(!zt)throw Error(p(189))}}if(c.alternate!==_e)throw Error(p(190))}if(c.tag!==3)throw Error(p(188));return c.stateNode.current===c?i:a}function Zb(i){return i=Yb(i),i!==null?$b(i):null}function $b(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=$b(i);if(a!==null)return a;i=i.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(i){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,i,void 0,(i.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(i){return i>>>=0,i===0?32:31-(pc(i)/qc|0)|0}var rc=64,sc=4194304;function tc(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function uc(i,a){var c=i.pendingLanes;if(c===0)return 0;var _e=0,ot=i.suspendedLanes,$t=i.pingedLanes,zt=c&268435455;if(zt!==0){var ct=zt&~ot;ct!==0?_e=tc(ct):($t&=zt,$t!==0&&(_e=tc($t)))}else zt=c&~ot,zt!==0?_e=tc(zt):$t!==0&&(_e=tc($t));if(_e===0)return 0;if(a!==0&&a!==_e&&!(a&ot)&&(ot=_e&-_e,$t=a&-a,ot>=$t||ot===16&&($t&4194240)!==0))return a;if(_e&4&&(_e|=c&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=_e;0<a;)c=31-oc(a),ot=1<<c,_e|=i[c],a&=~ot;return _e}function vc(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(i,a){for(var c=i.suspendedLanes,_e=i.pingedLanes,ot=i.expirationTimes,$t=i.pendingLanes;0<$t;){var zt=31-oc($t),ct=1<<zt,Et=ot[zt];Et===-1?(!(ct&c)||ct&_e)&&(ot[zt]=vc(ct,a)):Et<=a&&(i.expiredLanes|=ct),$t&=~ct}}function xc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yc(){var i=rc;return rc<<=1,!(rc&4194240)&&(rc=64),i}function zc(i){for(var a=[],c=0;31>c;c++)a.push(i);return a}function Ac(i,a,c){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-oc(a),i[a]=c}function Bc(i,a){var c=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var _e=i.eventTimes;for(i=i.expirationTimes;0<c;){var ot=31-oc(c),$t=1<<ot;a[ot]=0,_e[ot]=-1,i[ot]=-1,c&=~$t}}function Cc(i,a){var c=i.entangledLanes|=a;for(i=i.entanglements;c;){var _e=31-oc(c),ot=1<<_e;ot&a|i[_e]&a&&(i[_e]|=a),c&=~ot}}var C=0;function Dc(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(i,a){switch(i){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(a.pointerId)}}function Tc(i,a,c,_e,ot,$t){return i===null||i.nativeEvent!==$t?(i={blockedOn:a,domEventName:c,eventSystemFlags:_e,nativeEvent:$t,targetContainers:[ot]},a!==null&&(a=Cb(a),a!==null&&Fc(a)),i):(i.eventSystemFlags|=_e,a=i.targetContainers,ot!==null&&a.indexOf(ot)===-1&&a.push(ot),i)}function Uc(i,a,c,_e,ot){switch(a){case"focusin":return Lc=Tc(Lc,i,a,c,_e,ot),!0;case"dragenter":return Mc=Tc(Mc,i,a,c,_e,ot),!0;case"mouseover":return Nc=Tc(Nc,i,a,c,_e,ot),!0;case"pointerover":var $t=ot.pointerId;return Oc.set($t,Tc(Oc.get($t)||null,i,a,c,_e,ot)),!0;case"gotpointercapture":return $t=ot.pointerId,Pc.set($t,Tc(Pc.get($t)||null,i,a,c,_e,ot)),!0}return!1}function Vc(i){var a=Wc(i.target);if(a!==null){var c=Vb(a);if(c!==null){if(a=c.tag,a===13){if(a=Wb(c),a!==null){i.blockedOn=a,Ic(i.priority,function(){Gc(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xc(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var c=Yc(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var _e=new c.constructor(c.type,c);wb=_e,c.target.dispatchEvent(_e),wb=null}else return a=Cb(c),a!==null&&Fc(a),i.blockedOn=c,!1;a.shift()}return!0}function Zc(i,a,c){Xc(i)&&c.delete(a)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(i,a){i.blockedOn===a&&(i.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(i){function a(ot){return ad(ot,i)}if(0<Kc.length){ad(Kc[0],i);for(var c=1;c<Kc.length;c++){var _e=Kc[c];_e.blockedOn===i&&(_e.blockedOn=null)}}for(Lc!==null&&ad(Lc,i),Mc!==null&&ad(Mc,i),Nc!==null&&ad(Nc,i),Oc.forEach(a),Pc.forEach(a),c=0;c<Qc.length;c++)_e=Qc[c],_e.blockedOn===i&&(_e.blockedOn=null);for(;0<Qc.length&&(c=Qc[0],c.blockedOn===null);)Vc(c),c.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(i,a,c,_e){var ot=C,$t=cd.transition;cd.transition=null;try{C=1,fd(i,a,c,_e)}finally{C=ot,cd.transition=$t}}function gd(i,a,c,_e){var ot=C,$t=cd.transition;cd.transition=null;try{C=4,fd(i,a,c,_e)}finally{C=ot,cd.transition=$t}}function fd(i,a,c,_e){if(dd){var ot=Yc(i,a,c,_e);if(ot===null)hd(i,a,_e,id,c),Sc(i,_e);else if(Uc(ot,i,a,c,_e))_e.stopPropagation();else if(Sc(i,_e),a&4&&-1<Rc.indexOf(i)){for(;ot!==null;){var $t=Cb(ot);if($t!==null&&Ec($t),$t=Yc(i,a,c,_e),$t===null&&hd(i,a,_e,id,c),$t===ot)break;ot=$t}ot!==null&&_e.stopPropagation()}else hd(i,a,_e,null,c)}}var id=null;function Yc(i,a,c,_e){if(id=null,i=xb(_e),i=Wc(i),i!==null)if(a=Vb(i),a===null)i=null;else if(c=a.tag,c===13){if(i=Wb(a),i!==null)return i;i=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return id=i,null}function jd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var i,a=ld,c=a.length,_e,ot="value"in kd?kd.value:kd.textContent,$t=ot.length;for(i=0;i<c&&a[i]===ot[i];i++);var zt=c-i;for(_e=1;_e<=zt&&a[c-_e]===ot[$t-_e];_e++);return md=ot.slice(i,1<_e?1-_e:void 0)}function od(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function pd(){return!0}function qd(){return!1}function rd(i){function a(c,_e,ot,$t,zt){this._reactName=c,this._targetInst=ot,this.type=_e,this.nativeEvent=$t,this.target=zt,this.currentTarget=null;for(var ct in i)i.hasOwnProperty(ct)&&(c=i[ct],this[ct]=c?c($t):$t[ct]);return this.isDefaultPrevented=($t.defaultPrevented!=null?$t.defaultPrevented:$t.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),a}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yd&&(yd&&i.type==="mousemove"?(wd=i.screenX-yd.screenX,xd=i.screenY-yd.screenY):xd=wd=0,yd=i),wd)},movementY:function(i){return"movementY"in i?i.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Od[i])?!!a[i]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(i){if(i.key){var a=Md[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=od(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(i){return i.type==="keypress"?od(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?od(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(i,a){switch(i){case"keyup":return $d.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ie=!1;function je(i,a){switch(i){case"compositionend":return he(a);case"keypress":return a.which!==32?null:(fe=!0,ee);case"textInput":return i=a.data,i===ee&&fe?null:i;default:return null}}function ke(i,a){if(ie)return i==="compositionend"||!ae&&ge(i,a)?(i=nd(),md=ld=kd=null,ie=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return de&&a.locale!=="ko"?null:a.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!le[i.type]:a==="textarea"}function ne(i,a,c,_e){Eb(_e),a=oe(a,"onChange"),0<a.length&&(c=new td("onChange","change",null,c,_e),i.push({event:c,listeners:a}))}var pe=null,qe=null;function re(i){se(i,0)}function te(i){var a=ue(i);if(Wa(a))return i}function ve(i,a){if(i==="change")return a}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(i){if(i.propertyName==="value"&&te(qe)){var a=[];ne(a,qe,i,xb(i)),Jb(re,a)}}function Ce(i,a,c){i==="focusin"?(Ae(),pe=a,qe=c,pe.attachEvent("onpropertychange",Be)):i==="focusout"&&Ae()}function De(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return te(qe)}function Ee(i,a){if(i==="click")return te(a)}function Fe(i,a){if(i==="input"||i==="change")return te(a)}function Ge(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(i,a){if(He(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var c=Object.keys(i),_e=Object.keys(a);if(c.length!==_e.length)return!1;for(_e=0;_e<c.length;_e++){var ot=c[_e];if(!ja.call(a,ot)||!He(i[ot],a[ot]))return!1}return!0}function Je(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ke(i,a){var c=Je(i);i=0;for(var _e;c;){if(c.nodeType===3){if(_e=i+c.textContent.length,i<=a&&_e>=a)return{node:c,offset:a-i};i=_e}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Je(c)}}function Le(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Le(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Me(){for(var i=window,a=Xa();a instanceof i.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)i=a.contentWindow;else break;a=Xa(i.document)}return a}function Ne(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function Oe(i){var a=Me(),c=i.focusedElem,_e=i.selectionRange;if(a!==c&&c&&c.ownerDocument&&Le(c.ownerDocument.documentElement,c)){if(_e!==null&&Ne(c)){if(a=_e.start,i=_e.end,i===void 0&&(i=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(i,c.value.length);else if(i=(a=c.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var ot=c.textContent.length,$t=Math.min(_e.start,ot);_e=_e.end===void 0?$t:Math.min(_e.end,ot),!i.extend&&$t>_e&&(ot=_e,_e=$t,$t=ot),ot=Ke(c,$t);var zt=Ke(c,_e);ot&&zt&&(i.rangeCount!==1||i.anchorNode!==ot.node||i.anchorOffset!==ot.offset||i.focusNode!==zt.node||i.focusOffset!==zt.offset)&&(a=a.createRange(),a.setStart(ot.node,ot.offset),i.removeAllRanges(),$t>_e?(i.addRange(a),i.extend(zt.node,zt.offset)):(a.setEnd(zt.node,zt.offset),i.addRange(a)))}}for(a=[],i=c;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)i=a[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(i,a,c){var _e=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Te||Qe==null||Qe!==Xa(_e)||(_e=Qe,"selectionStart"in _e&&Ne(_e)?_e={start:_e.selectionStart,end:_e.selectionEnd}:(_e=(_e.ownerDocument&&_e.ownerDocument.defaultView||window).getSelection(),_e={anchorNode:_e.anchorNode,anchorOffset:_e.anchorOffset,focusNode:_e.focusNode,focusOffset:_e.focusOffset}),Se&&Ie(Se,_e)||(Se=_e,_e=oe(Re,"onSelect"),0<_e.length&&(a=new td("onSelect","select",null,a,c),i.push({event:a,listeners:_e}),a.target=Qe)))}function Ve(i,a){var c={};return c[i.toLowerCase()]=a.toLowerCase(),c["Webkit"+i]="webkit"+a,c["Moz"+i]="moz"+a,c}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(i){if(Xe[i])return Xe[i];if(!We[i])return i;var a=We[i],c;for(c in a)if(a.hasOwnProperty(c)&&c in Ye)return Xe[i]=a[c];return i}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(i,a){df.set(i,a),fa(a,[i])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(i,a,c){var _e=i.type||"unknown-event";i.currentTarget=c,Ub(_e,a,void 0,i),i.currentTarget=null}function se(i,a){a=(a&4)!==0;for(var c=0;c<i.length;c++){var _e=i[c],ot=_e.event;_e=_e.listeners;e:{var $t=void 0;if(a)for(var zt=_e.length-1;0<=zt;zt--){var ct=_e[zt],Et=ct.instance,s=ct.currentTarget;if(ct=ct.listener,Et!==$t&&ot.isPropagationStopped())break e;nf(ot,ct,s),$t=Et}else for(zt=0;zt<_e.length;zt++){if(ct=_e[zt],Et=ct.instance,s=ct.currentTarget,ct=ct.listener,Et!==$t&&ot.isPropagationStopped())break e;nf(ot,ct,s),$t=Et}}}if(Qb)throw i=Rb,Qb=!1,Rb=null,i}function D(i,a){var c=a[of];c===void 0&&(c=a[of]=new Set);var _e=i+"__bubble";c.has(_e)||(pf(a,i,2,!1),c.add(_e))}function qf(i,a,c){var _e=0;a&&(_e|=4),pf(c,i,_e,a)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(i){if(!i[rf]){i[rf]=!0,da.forEach(function(c){c!=="selectionchange"&&(mf.has(c)||qf(c,!1,i),qf(c,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[rf]||(a[rf]=!0,qf("selectionchange",!1,a))}}function pf(i,a,c,_e){switch(jd(a)){case 1:var ot=ed;break;case 4:ot=gd;break;default:ot=fd}c=ot.bind(null,a,c,i),ot=void 0,!Lb||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(ot=!0),_e?ot!==void 0?i.addEventListener(a,c,{capture:!0,passive:ot}):i.addEventListener(a,c,!0):ot!==void 0?i.addEventListener(a,c,{passive:ot}):i.addEventListener(a,c,!1)}function hd(i,a,c,_e,ot){var $t=_e;if(!(a&1)&&!(a&2)&&_e!==null)e:for(;;){if(_e===null)return;var zt=_e.tag;if(zt===3||zt===4){var ct=_e.stateNode.containerInfo;if(ct===ot||ct.nodeType===8&&ct.parentNode===ot)break;if(zt===4)for(zt=_e.return;zt!==null;){var Et=zt.tag;if((Et===3||Et===4)&&(Et=zt.stateNode.containerInfo,Et===ot||Et.nodeType===8&&Et.parentNode===ot))return;zt=zt.return}for(;ct!==null;){if(zt=Wc(ct),zt===null)return;if(Et=zt.tag,Et===5||Et===6){_e=$t=zt;continue e}ct=ct.parentNode}}_e=_e.return}Jb(function(){var s=$t,st=xb(c),Tt=[];e:{var wt=df.get(i);if(wt!==void 0){var e=td,gt=i;switch(i){case"keypress":if(od(c)===0)break e;case"keydown":case"keyup":e=Rd;break;case"focusin":gt="focus",e=Fd;break;case"focusout":gt="blur",e=Fd;break;case"beforeblur":case"afterblur":e=Fd;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=Vd;break;case $e:case af:case bf:e=Hd;break;case cf:e=Xd;break;case"scroll":e=vd;break;case"wheel":e=Zd;break;case"copy":case"cut":case"paste":e=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Td}var _=(a&4)!==0,$=!_&&i==="scroll",d=_?wt!==null?wt+"Capture":null:wt;_=[];for(var j=s,g;j!==null;){g=j;var o=g.stateNode;if(g.tag===5&&o!==null&&(g=o,d!==null&&(o=Kb(j,d),o!=null&&_.push(tf(j,o,g)))),$)break;j=j.return}0<_.length&&(wt=new e(wt,gt,null,c,st),Tt.push({event:wt,listeners:_}))}}if(!(a&7)){e:{if(wt=i==="mouseover"||i==="pointerover",e=i==="mouseout"||i==="pointerout",wt&&c!==wb&&(gt=c.relatedTarget||c.fromElement)&&(Wc(gt)||gt[uf]))break e;if((e||wt)&&(wt=st.window===st?st:(wt=st.ownerDocument)?wt.defaultView||wt.parentWindow:window,e?(gt=c.relatedTarget||c.toElement,e=s,gt=gt?Wc(gt):null,gt!==null&&($=Vb(gt),gt!==$||gt.tag!==5&&gt.tag!==6)&&(gt=null)):(e=null,gt=s),e!==gt)){if(_=Bd,o="onMouseLeave",d="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(_=Td,o="onPointerLeave",d="onPointerEnter",j="pointer"),$=e==null?wt:ue(e),g=gt==null?wt:ue(gt),wt=new _(o,j+"leave",e,c,st),wt.target=$,wt.relatedTarget=g,o=null,Wc(st)===s&&(_=new _(d,j+"enter",gt,c,st),_.target=g,_.relatedTarget=$,o=_),$=o,e&&gt)t:{for(_=e,d=gt,j=0,g=_;g;g=vf(g))j++;for(g=0,o=d;o;o=vf(o))g++;for(;0<j-g;)_=vf(_),j--;for(;0<g-j;)d=vf(d),g--;for(;j--;){if(_===d||d!==null&&_===d.alternate)break t;_=vf(_),d=vf(d)}_=null}else _=null;e!==null&&wf(Tt,wt,e,_,!1),gt!==null&&$!==null&&wf(Tt,$,gt,_,!0)}}e:{if(wt=s?ue(s):window,e=wt.nodeName&&wt.nodeName.toLowerCase(),e==="select"||e==="input"&&wt.type==="file")var ut=ve;else if(me(wt))if(we)ut=Fe;else{ut=De;var dt=Ce}else(e=wt.nodeName)&&e.toLowerCase()==="input"&&(wt.type==="checkbox"||wt.type==="radio")&&(ut=Ee);if(ut&&(ut=ut(i,s))){ne(Tt,ut,c,st);break e}dt&&dt(i,wt,s),i==="focusout"&&(dt=wt._wrapperState)&&dt.controlled&&wt.type==="number"&&cb(wt,"number",wt.value)}switch(dt=s?ue(s):window,i){case"focusin":(me(dt)||dt.contentEditable==="true")&&(Qe=dt,Re=s,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(Tt,c,st);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(Tt,c,st)}var b;if(ae)e:{switch(i){case"compositionstart":var h="onCompositionStart";break e;case"compositionend":h="onCompositionEnd";break e;case"compositionupdate":h="onCompositionUpdate";break e}h=void 0}else ie?ge(i,c)&&(h="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(h="onCompositionStart");h&&(de&&c.locale!=="ko"&&(ie||h!=="onCompositionStart"?h==="onCompositionEnd"&&ie&&(b=nd()):(kd=st,ld="value"in kd?kd.value:kd.textContent,ie=!0)),dt=oe(s,h),0<dt.length&&(h=new Ld(h,i,null,c,st),Tt.push({event:h,listeners:dt}),b?h.data=b:(b=he(c),b!==null&&(h.data=b)))),(b=ce?je(i,c):ke(i,c))&&(s=oe(s,"onBeforeInput"),0<s.length&&(st=new Ld("onBeforeInput","beforeinput",null,c,st),Tt.push({event:st,listeners:s}),st.data=b))}se(Tt,a)})}function tf(i,a,c){return{instance:i,listener:a,currentTarget:c}}function oe(i,a){for(var c=a+"Capture",_e=[];i!==null;){var ot=i,$t=ot.stateNode;ot.tag===5&&$t!==null&&(ot=$t,$t=Kb(i,c),$t!=null&&_e.unshift(tf(i,$t,ot)),$t=Kb(i,a),$t!=null&&_e.push(tf(i,$t,ot))),i=i.return}return _e}function vf(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function wf(i,a,c,_e,ot){for(var $t=a._reactName,zt=[];c!==null&&c!==_e;){var ct=c,Et=ct.alternate,s=ct.stateNode;if(Et!==null&&Et===_e)break;ct.tag===5&&s!==null&&(ct=s,ot?(Et=Kb(c,$t),Et!=null&&zt.unshift(tf(c,Et,ct))):ot||(Et=Kb(c,$t),Et!=null&&zt.push(tf(c,Et,ct)))),c=c.return}zt.length!==0&&i.push({event:a,listeners:zt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(i){return(typeof i=="string"?i:""+i).replace(xf,`
`).replace(yf,"")}function Af(i,a,c){if(a=zf(a),zf(i)!==a&&c)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(i){return Hf.resolve(null).then(i).catch(If)}:Ff;function If(i){setTimeout(function(){throw i})}function Kf(i,a){var c=a,_e=0;do{var ot=c.nextSibling;if(i.removeChild(c),ot&&ot.nodeType===8)if(c=ot.data,c==="/$"){if(_e===0){i.removeChild(ot),bd(a);return}_e--}else c!=="$"&&c!=="$?"&&c!=="$!"||_e++;c=ot}while(c);bd(a)}function Lf(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function Mf(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return i;a--}else c==="/$"&&a++}i=i.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(i){var a=i[Of];if(a)return a;for(var c=i.parentNode;c;){if(a=c[uf]||c[Of]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(i=Mf(i);i!==null;){if(c=i[Of])return c;i=Mf(i)}return a}i=c,c=i.parentNode}return null}function Cb(i){return i=i[Of]||i[uf],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ue(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(p(33))}function Db(i){return i[Pf]||null}var Sf=[],Tf=-1;function Uf(i){return{current:i}}function E(i){0>Tf||(i.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(i,a){Tf++,Sf[Tf]=i.current,i.current=a}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(i,a){var c=i.type.contextTypes;if(!c)return Vf;var _e=i.stateNode;if(_e&&_e.__reactInternalMemoizedUnmaskedChildContext===a)return _e.__reactInternalMemoizedMaskedChildContext;var ot={},$t;for($t in c)ot[$t]=a[$t];return _e&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=ot),ot}function Zf(i){return i=i.childContextTypes,i!=null}function $f(){E(Wf),E(H)}function ag(i,a,c){if(H.current!==Vf)throw Error(p(168));G(H,a),G(Wf,c)}function bg(i,a,c){var _e=i.stateNode;if(a=a.childContextTypes,typeof _e.getChildContext!="function")return c;_e=_e.getChildContext();for(var ot in _e)if(!(ot in a))throw Error(p(108,Ra(i)||"Unknown",ot));return A({},c,_e)}function cg(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,i),G(Wf,Wf.current),!0}function dg(i,a,c){var _e=i.stateNode;if(!_e)throw Error(p(169));c?(i=bg(i,a,Xf),_e.__reactInternalMemoizedMergedChildContext=i,E(Wf),E(H),G(H,i)):E(Wf),G(Wf,c)}var eg=null,fg=!1,gg=!1;function hg(i){eg===null?eg=[i]:eg.push(i)}function ig(i){fg=!0,hg(i)}function jg(){if(!gg&&eg!==null){gg=!0;var i=0,a=C;try{var c=eg;for(C=1;i<c.length;i++){var _e=c[i];do _e=_e(!0);while(_e!==null)}eg=null,fg=!1}catch(ot){throw eg!==null&&(eg=eg.slice(i+1)),ac(fc,jg),ot}finally{C=a,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(i,a){kg[lg++]=ng,kg[lg++]=mg,mg=i,ng=a}function ug(i,a,c){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=i;var _e=rg;i=sg;var ot=32-oc(_e)-1;_e&=~(1<<ot),c+=1;var $t=32-oc(a)+ot;if(30<$t){var zt=ot-ot%5;$t=(_e&(1<<zt)-1).toString(32),_e>>=zt,ot-=zt,rg=1<<32-oc(a)+ot|c<<ot|_e,sg=$t+i}else rg=1<<$t|c<<ot|_e,sg=i}function vg(i){i.return!==null&&(tg(i,1),ug(i,1,0))}function wg(i){for(;i===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;i===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(i,a){var c=Bg(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=i,a=i.deletions,a===null?(i.deletions=[c],i.flags|=16):a.push(c)}function Cg(i,a){switch(i.tag){case 5:var c=i.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,xg=i,yg=Lf(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,xg=i,yg=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=qg!==null?{id:rg,overflow:sg}:null,i.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Bg(18,null,null,0),c.stateNode=a,c.return=i,i.child=c,xg=i,yg=null,!0):!1;default:return!1}}function Dg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Eg(i){if(I){var a=yg;if(a){var c=a;if(!Cg(i,a)){if(Dg(i))throw Error(p(418));a=Lf(c.nextSibling);var _e=xg;a&&Cg(i,a)?Ag(_e,c):(i.flags=i.flags&-4097|2,I=!1,xg=i)}}else{if(Dg(i))throw Error(p(418));i.flags=i.flags&-4097|2,I=!1,xg=i}}}function Fg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xg=i}function Gg(i){if(i!==xg)return!1;if(!I)return Fg(i),I=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!Ef(i.type,i.memoizedProps)),a&&(a=yg)){if(Dg(i))throw Hg(),Error(p(418));for(;a;)Ag(i,a),a=Lf(a.nextSibling)}if(Fg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(p(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(a===0){yg=Lf(i.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}i=i.nextSibling}yg=null}}else yg=xg?Lf(i.stateNode.nextSibling):null;return!0}function Hg(){for(var i=yg;i;)i=Lf(i.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(i){zg===null?zg=[i]:zg.push(i)}var Kg=ua.ReactCurrentBatchConfig;function Lg(i,a,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(p(309));var _e=c.stateNode}if(!_e)throw Error(p(147,i));var ot=_e,$t=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===$t?a.ref:(a=function(zt){var ct=ot.refs;zt===null?delete ct[$t]:ct[$t]=zt},a._stringRef=$t,a)}if(typeof i!="string")throw Error(p(284));if(!c._owner)throw Error(p(290,i))}return i}function Mg(i,a){throw i=Object.prototype.toString.call(a),Error(p(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function Ng(i){var a=i._init;return a(i._payload)}function Og(i){function a(d,j){if(i){var g=d.deletions;g===null?(d.deletions=[j],d.flags|=16):g.push(j)}}function c(d,j){if(!i)return null;for(;j!==null;)a(d,j),j=j.sibling;return null}function _e(d,j){for(d=new Map;j!==null;)j.key!==null?d.set(j.key,j):d.set(j.index,j),j=j.sibling;return d}function ot(d,j){return d=Pg(d,j),d.index=0,d.sibling=null,d}function $t(d,j,g){return d.index=g,i?(g=d.alternate,g!==null?(g=g.index,g<j?(d.flags|=2,j):g):(d.flags|=2,j)):(d.flags|=1048576,j)}function zt(d){return i&&d.alternate===null&&(d.flags|=2),d}function ct(d,j,g,o){return j===null||j.tag!==6?(j=Qg(g,d.mode,o),j.return=d,j):(j=ot(j,g),j.return=d,j)}function Et(d,j,g,o){var ut=g.type;return ut===ya?st(d,j,g.props.children,o,g.key):j!==null&&(j.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===Ha&&Ng(ut)===j.type)?(o=ot(j,g.props),o.ref=Lg(d,j,g),o.return=d,o):(o=Rg(g.type,g.key,g.props,null,d.mode,o),o.ref=Lg(d,j,g),o.return=d,o)}function s(d,j,g,o){return j===null||j.tag!==4||j.stateNode.containerInfo!==g.containerInfo||j.stateNode.implementation!==g.implementation?(j=Sg(g,d.mode,o),j.return=d,j):(j=ot(j,g.children||[]),j.return=d,j)}function st(d,j,g,o,ut){return j===null||j.tag!==7?(j=Tg(g,d.mode,o,ut),j.return=d,j):(j=ot(j,g),j.return=d,j)}function Tt(d,j,g){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Qg(""+j,d.mode,g),j.return=d,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case va:return g=Rg(j.type,j.key,j.props,null,d.mode,g),g.ref=Lg(d,null,j),g.return=d,g;case wa:return j=Sg(j,d.mode,g),j.return=d,j;case Ha:var o=j._init;return Tt(d,o(j._payload),g)}if(eb(j)||Ka(j))return j=Tg(j,d.mode,g,null),j.return=d,j;Mg(d,j)}return null}function wt(d,j,g,o){var ut=j!==null?j.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return ut!==null?null:ct(d,j,""+g,o);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case va:return g.key===ut?Et(d,j,g,o):null;case wa:return g.key===ut?s(d,j,g,o):null;case Ha:return ut=g._init,wt(d,j,ut(g._payload),o)}if(eb(g)||Ka(g))return ut!==null?null:st(d,j,g,o,null);Mg(d,g)}return null}function e(d,j,g,o,ut){if(typeof o=="string"&&o!==""||typeof o=="number")return d=d.get(g)||null,ct(j,d,""+o,ut);if(typeof o=="object"&&o!==null){switch(o.$$typeof){case va:return d=d.get(o.key===null?g:o.key)||null,Et(j,d,o,ut);case wa:return d=d.get(o.key===null?g:o.key)||null,s(j,d,o,ut);case Ha:var dt=o._init;return e(d,j,g,dt(o._payload),ut)}if(eb(o)||Ka(o))return d=d.get(g)||null,st(j,d,o,ut,null);Mg(j,o)}return null}function gt(d,j,g,o){for(var ut=null,dt=null,b=j,h=j=0,et=null;b!==null&&h<g.length;h++){b.index>h?(et=b,b=null):et=b.sibling;var nt=wt(d,b,g[h],o);if(nt===null){b===null&&(b=et);break}i&&b&&nt.alternate===null&&a(d,b),j=$t(nt,j,h),dt===null?ut=nt:dt.sibling=nt,dt=nt,b=et}if(h===g.length)return c(d,b),I&&tg(d,h),ut;if(b===null){for(;h<g.length;h++)b=Tt(d,g[h],o),b!==null&&(j=$t(b,j,h),dt===null?ut=b:dt.sibling=b,dt=b);return I&&tg(d,h),ut}for(b=_e(d,b);h<g.length;h++)et=e(b,d,h,g[h],o),et!==null&&(i&&et.alternate!==null&&b.delete(et.key===null?h:et.key),j=$t(et,j,h),dt===null?ut=et:dt.sibling=et,dt=et);return i&&b.forEach(function(pt){return a(d,pt)}),I&&tg(d,h),ut}function _(d,j,g,o){var ut=Ka(g);if(typeof ut!="function")throw Error(p(150));if(g=ut.call(g),g==null)throw Error(p(151));for(var dt=ut=null,b=j,h=j=0,et=null,nt=g.next();b!==null&&!nt.done;h++,nt=g.next()){b.index>h?(et=b,b=null):et=b.sibling;var pt=wt(d,b,nt.value,o);if(pt===null){b===null&&(b=et);break}i&&b&&pt.alternate===null&&a(d,b),j=$t(pt,j,h),dt===null?ut=pt:dt.sibling=pt,dt=pt,b=et}if(nt.done)return c(d,b),I&&tg(d,h),ut;if(b===null){for(;!nt.done;h++,nt=g.next())nt=Tt(d,nt.value,o),nt!==null&&(j=$t(nt,j,h),dt===null?ut=nt:dt.sibling=nt,dt=nt);return I&&tg(d,h),ut}for(b=_e(d,b);!nt.done;h++,nt=g.next())nt=e(b,d,h,nt.value,o),nt!==null&&(i&&nt.alternate!==null&&b.delete(nt.key===null?h:nt.key),j=$t(nt,j,h),dt===null?ut=nt:dt.sibling=nt,dt=nt);return i&&b.forEach(function(Bt){return a(d,Bt)}),I&&tg(d,h),ut}function $(d,j,g,o){if(typeof g=="object"&&g!==null&&g.type===ya&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case va:e:{for(var ut=g.key,dt=j;dt!==null;){if(dt.key===ut){if(ut=g.type,ut===ya){if(dt.tag===7){c(d,dt.sibling),j=ot(dt,g.props.children),j.return=d,d=j;break e}}else if(dt.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===Ha&&Ng(ut)===dt.type){c(d,dt.sibling),j=ot(dt,g.props),j.ref=Lg(d,dt,g),j.return=d,d=j;break e}c(d,dt);break}else a(d,dt);dt=dt.sibling}g.type===ya?(j=Tg(g.props.children,d.mode,o,g.key),j.return=d,d=j):(o=Rg(g.type,g.key,g.props,null,d.mode,o),o.ref=Lg(d,j,g),o.return=d,d=o)}return zt(d);case wa:e:{for(dt=g.key;j!==null;){if(j.key===dt)if(j.tag===4&&j.stateNode.containerInfo===g.containerInfo&&j.stateNode.implementation===g.implementation){c(d,j.sibling),j=ot(j,g.children||[]),j.return=d,d=j;break e}else{c(d,j);break}else a(d,j);j=j.sibling}j=Sg(g,d.mode,o),j.return=d,d=j}return zt(d);case Ha:return dt=g._init,$(d,j,dt(g._payload),o)}if(eb(g))return gt(d,j,g,o);if(Ka(g))return _(d,j,g,o);Mg(d,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,j!==null&&j.tag===6?(c(d,j.sibling),j=ot(j,g),j.return=d,d=j):(c(d,j),j=Qg(g,d.mode,o),j.return=d,d=j),zt(d)):c(d,j)}return $}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(i){var a=Wg.current;E(Wg),i._currentValue=a}function bh(i,a,c){for(;i!==null;){var _e=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,_e!==null&&(_e.childLanes|=a)):_e!==null&&(_e.childLanes&a)!==a&&(_e.childLanes|=a),i===c)break;i=i.return}}function ch(i,a){Xg=i,Zg=Yg=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&a&&(dh=!0),i.firstContext=null)}function eh(i){var a=i._currentValue;if(Zg!==i)if(i={context:i,memoizedValue:a,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=i,Xg.dependencies={lanes:0,firstContext:i}}else Yg=Yg.next=i;return a}var fh=null;function gh(i){fh===null?fh=[i]:fh.push(i)}function hh(i,a,c,_e){var ot=a.interleaved;return ot===null?(c.next=c,gh(a)):(c.next=ot.next,ot.next=c),a.interleaved=c,ih(i,_e)}function ih(i,a){i.lanes|=a;var c=i.alternate;for(c!==null&&(c.lanes|=a),c=i,i=i.return;i!==null;)i.childLanes|=a,c=i.alternate,c!==null&&(c.childLanes|=a),c=i,i=i.return;return c.tag===3?c.stateNode:null}var jh=!1;function kh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function mh(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function nh(i,a,c){var _e=i.updateQueue;if(_e===null)return null;if(_e=_e.shared,K&2){var ot=_e.pending;return ot===null?a.next=a:(a.next=ot.next,ot.next=a),_e.pending=a,ih(i,c)}return ot=_e.interleaved,ot===null?(a.next=a,gh(_e)):(a.next=ot.next,ot.next=a),_e.interleaved=a,ih(i,c)}function oh(i,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var _e=a.lanes;_e&=i.pendingLanes,c|=_e,a.lanes=c,Cc(i,c)}}function ph(i,a){var c=i.updateQueue,_e=i.alternate;if(_e!==null&&(_e=_e.updateQueue,c===_e)){var ot=null,$t=null;if(c=c.firstBaseUpdate,c!==null){do{var zt={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};$t===null?ot=$t=zt:$t=$t.next=zt,c=c.next}while(c!==null);$t===null?ot=$t=a:$t=$t.next=a}else ot=$t=a;c={baseState:_e.baseState,firstBaseUpdate:ot,lastBaseUpdate:$t,shared:_e.shared,effects:_e.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=a:i.next=a,c.lastBaseUpdate=a}function qh(i,a,c,_e){var ot=i.updateQueue;jh=!1;var $t=ot.firstBaseUpdate,zt=ot.lastBaseUpdate,ct=ot.shared.pending;if(ct!==null){ot.shared.pending=null;var Et=ct,s=Et.next;Et.next=null,zt===null?$t=s:zt.next=s,zt=Et;var st=i.alternate;st!==null&&(st=st.updateQueue,ct=st.lastBaseUpdate,ct!==zt&&(ct===null?st.firstBaseUpdate=s:ct.next=s,st.lastBaseUpdate=Et))}if($t!==null){var Tt=ot.baseState;zt=0,st=s=Et=null,ct=$t;do{var wt=ct.lane,e=ct.eventTime;if((_e&wt)===wt){st!==null&&(st=st.next={eventTime:e,lane:0,tag:ct.tag,payload:ct.payload,callback:ct.callback,next:null});e:{var gt=i,_=ct;switch(wt=a,e=c,_.tag){case 1:if(gt=_.payload,typeof gt=="function"){Tt=gt.call(e,Tt,wt);break e}Tt=gt;break e;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=_.payload,wt=typeof gt=="function"?gt.call(e,Tt,wt):gt,wt==null)break e;Tt=A({},Tt,wt);break e;case 2:jh=!0}}ct.callback!==null&&ct.lane!==0&&(i.flags|=64,wt=ot.effects,wt===null?ot.effects=[ct]:wt.push(ct))}else e={eventTime:e,lane:wt,tag:ct.tag,payload:ct.payload,callback:ct.callback,next:null},st===null?(s=st=e,Et=Tt):st=st.next=e,zt|=wt;if(ct=ct.next,ct===null){if(ct=ot.shared.pending,ct===null)break;wt=ct,ct=wt.next,wt.next=null,ot.lastBaseUpdate=wt,ot.shared.pending=null}}while(!0);if(st===null&&(Et=Tt),ot.baseState=Et,ot.firstBaseUpdate=s,ot.lastBaseUpdate=st,a=ot.shared.interleaved,a!==null){ot=a;do zt|=ot.lane,ot=ot.next;while(ot!==a)}else $t===null&&(ot.shared.lanes=0);rh|=zt,i.lanes=zt,i.memoizedState=Tt}}function sh(i,a,c){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var _e=i[a],ot=_e.callback;if(ot!==null){if(_e.callback=null,_e=c,typeof ot!="function")throw Error(p(191,ot));ot.call(_e)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(i){if(i===th)throw Error(p(174));return i}function yh(i,a){switch(G(wh,a),G(vh,i),G(uh,th),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:lb(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=lb(a,i)}E(uh),G(uh,a)}function zh(){E(uh),E(vh),E(wh)}function Ah(i){xh(wh.current);var a=xh(uh.current),c=lb(a,i.type);a!==c&&(G(vh,i),G(uh,c))}function Bh(i){vh.current===i&&(E(uh),E(vh))}var L=Uf(0);function Ch(i){for(var a=i;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Dh=[];function Eh(){for(var i=0;i<Dh.length;i++)Dh[i]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321))}function Mh(i,a){if(a===null)return!1;for(var c=0;c<a.length&&c<i.length;c++)if(!He(i[c],a[c]))return!1;return!0}function Nh(i,a,c,_e,ot,$t){if(Hh=$t,M=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Fh.current=i===null||i.memoizedState===null?Oh:Ph,i=c(_e,ot),Jh){$t=0;do{if(Jh=!1,Kh=0,25<=$t)throw Error(p(301));$t+=1,O=N=null,a.updateQueue=null,Fh.current=Qh,i=c(_e,ot)}while(Jh)}if(Fh.current=Rh,a=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,a)throw Error(p(300));return i}function Sh(){var i=Kh!==0;return Kh=0,i}function Th(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=i:O=O.next=i,O}function Uh(){if(N===null){var i=M.alternate;i=i!==null?i.memoizedState:null}else i=N.next;var a=O===null?M.memoizedState:O.next;if(a!==null)O=a,N=i;else{if(i===null)throw Error(p(310));N=i,i={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=i:O=O.next=i}return O}function Vh(i,a){return typeof a=="function"?a(i):a}function Wh(i){var a=Uh(),c=a.queue;if(c===null)throw Error(p(311));c.lastRenderedReducer=i;var _e=N,ot=_e.baseQueue,$t=c.pending;if($t!==null){if(ot!==null){var zt=ot.next;ot.next=$t.next,$t.next=zt}_e.baseQueue=ot=$t,c.pending=null}if(ot!==null){$t=ot.next,_e=_e.baseState;var ct=zt=null,Et=null,s=$t;do{var st=s.lane;if((Hh&st)===st)Et!==null&&(Et=Et.next={lane:0,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null}),_e=s.hasEagerState?s.eagerState:i(_e,s.action);else{var Tt={lane:st,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null};Et===null?(ct=Et=Tt,zt=_e):Et=Et.next=Tt,M.lanes|=st,rh|=st}s=s.next}while(s!==null&&s!==$t);Et===null?zt=_e:Et.next=ct,He(_e,a.memoizedState)||(dh=!0),a.memoizedState=_e,a.baseState=zt,a.baseQueue=Et,c.lastRenderedState=_e}if(i=c.interleaved,i!==null){ot=i;do $t=ot.lane,M.lanes|=$t,rh|=$t,ot=ot.next;while(ot!==i)}else ot===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Xh(i){var a=Uh(),c=a.queue;if(c===null)throw Error(p(311));c.lastRenderedReducer=i;var _e=c.dispatch,ot=c.pending,$t=a.memoizedState;if(ot!==null){c.pending=null;var zt=ot=ot.next;do $t=i($t,zt.action),zt=zt.next;while(zt!==ot);He($t,a.memoizedState)||(dh=!0),a.memoizedState=$t,a.baseQueue===null&&(a.baseState=$t),c.lastRenderedState=$t}return[$t,_e]}function Yh(){}function Zh(i,a){var c=M,_e=Uh(),ot=a(),$t=!He(_e.memoizedState,ot);if($t&&(_e.memoizedState=ot,dh=!0),_e=_e.queue,$h(ai.bind(null,c,_e,i),[i]),_e.getSnapshot!==a||$t||O!==null&&O.memoizedState.tag&1){if(c.flags|=2048,bi(9,ci.bind(null,c,_e,ot,a),void 0,null),Q===null)throw Error(p(349));Hh&30||di(c,a,ot)}return ot}function di(i,a,c){i.flags|=16384,i={getSnapshot:a,value:c},a=M.updateQueue,a===null?(a={lastEffect:null,stores:null},M.updateQueue=a,a.stores=[i]):(c=a.stores,c===null?a.stores=[i]:c.push(i))}function ci(i,a,c,_e){a.value=c,a.getSnapshot=_e,ei(a)&&fi(i)}function ai(i,a,c){return c(function(){ei(a)&&fi(i)})}function ei(i){var a=i.getSnapshot;i=i.value;try{var c=a();return!He(i,c)}catch{return!0}}function fi(i){var a=ih(i,1);a!==null&&gi(a,i,1,-1)}function hi(i){var a=Th();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:i},a.queue=i,i=i.dispatch=ii.bind(null,M,i),[a.memoizedState,i]}function bi(i,a,c,_e){return i={tag:i,create:a,destroy:c,deps:_e,next:null},a=M.updateQueue,a===null?(a={lastEffect:null,stores:null},M.updateQueue=a,a.lastEffect=i.next=i):(c=a.lastEffect,c===null?a.lastEffect=i.next=i:(_e=c.next,c.next=i,i.next=_e,a.lastEffect=i)),i}function ji(){return Uh().memoizedState}function ki(i,a,c,_e){var ot=Th();M.flags|=i,ot.memoizedState=bi(1|a,c,void 0,_e===void 0?null:_e)}function li(i,a,c,_e){var ot=Uh();_e=_e===void 0?null:_e;var $t=void 0;if(N!==null){var zt=N.memoizedState;if($t=zt.destroy,_e!==null&&Mh(_e,zt.deps)){ot.memoizedState=bi(a,c,$t,_e);return}}M.flags|=i,ot.memoizedState=bi(1|a,c,$t,_e)}function mi(i,a){return ki(8390656,8,i,a)}function $h(i,a){return li(2048,8,i,a)}function ni(i,a){return li(4,2,i,a)}function oi(i,a){return li(4,4,i,a)}function pi(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function qi(i,a,c){return c=c!=null?c.concat([i]):null,li(4,4,pi.bind(null,a,i),c)}function ri(){}function si(i,a){var c=Uh();a=a===void 0?null:a;var _e=c.memoizedState;return _e!==null&&a!==null&&Mh(a,_e[1])?_e[0]:(c.memoizedState=[i,a],i)}function ti(i,a){var c=Uh();a=a===void 0?null:a;var _e=c.memoizedState;return _e!==null&&a!==null&&Mh(a,_e[1])?_e[0]:(i=i(),c.memoizedState=[i,a],i)}function ui(i,a,c){return Hh&21?(He(c,a)||(c=yc(),M.lanes|=c,rh|=c,i.baseState=!0),a):(i.baseState&&(i.baseState=!1,dh=!0),i.memoizedState=c)}function vi(i,a){var c=C;C=c!==0&&4>c?c:4,i(!0);var _e=Gh.transition;Gh.transition={};try{i(!1),a()}finally{C=c,Gh.transition=_e}}function wi(){return Uh().memoizedState}function xi(i,a,c){var _e=yi(i);if(c={lane:_e,action:c,hasEagerState:!1,eagerState:null,next:null},zi(i))Ai(a,c);else if(c=hh(i,a,c,_e),c!==null){var ot=R();gi(c,i,_e,ot),Bi(c,a,_e)}}function ii(i,a,c){var _e=yi(i),ot={lane:_e,action:c,hasEagerState:!1,eagerState:null,next:null};if(zi(i))Ai(a,ot);else{var $t=i.alternate;if(i.lanes===0&&($t===null||$t.lanes===0)&&($t=a.lastRenderedReducer,$t!==null))try{var zt=a.lastRenderedState,ct=$t(zt,c);if(ot.hasEagerState=!0,ot.eagerState=ct,He(ct,zt)){var Et=a.interleaved;Et===null?(ot.next=ot,gh(a)):(ot.next=Et.next,Et.next=ot),a.interleaved=ot;return}}catch{}finally{}c=hh(i,a,ot,_e),c!==null&&(ot=R(),gi(c,i,_e,ot),Bi(c,a,_e))}}function zi(i){var a=i.alternate;return i===M||a!==null&&a===M}function Ai(i,a){Jh=Ih=!0;var c=i.pending;c===null?a.next=a:(a.next=c.next,c.next=a),i.pending=a}function Bi(i,a,c){if(c&4194240){var _e=a.lanes;_e&=i.pendingLanes,c|=_e,a.lanes=c,Cc(i,c)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(i,a){return Th().memoizedState=[i,a===void 0?null:a],i},useContext:eh,useEffect:mi,useImperativeHandle:function(i,a,c){return c=c!=null?c.concat([i]):null,ki(4194308,4,pi.bind(null,a,i),c)},useLayoutEffect:function(i,a){return ki(4194308,4,i,a)},useInsertionEffect:function(i,a){return ki(4,2,i,a)},useMemo:function(i,a){var c=Th();return a=a===void 0?null:a,i=i(),c.memoizedState=[i,a],i},useReducer:function(i,a,c){var _e=Th();return a=c!==void 0?c(a):a,_e.memoizedState=_e.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},_e.queue=i,i=i.dispatch=xi.bind(null,M,i),[_e.memoizedState,i]},useRef:function(i){var a=Th();return i={current:i},a.memoizedState=i},useState:hi,useDebugValue:ri,useDeferredValue:function(i){return Th().memoizedState=i},useTransition:function(){var i=hi(!1),a=i[0];return i=vi.bind(null,i[1]),Th().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,c){var _e=M,ot=Th();if(I){if(c===void 0)throw Error(p(407));c=c()}else{if(c=a(),Q===null)throw Error(p(349));Hh&30||di(_e,a,c)}ot.memoizedState=c;var $t={value:c,getSnapshot:a};return ot.queue=$t,mi(ai.bind(null,_e,$t,i),[i]),_e.flags|=2048,bi(9,ci.bind(null,_e,$t,c,a),void 0,null),c},useId:function(){var i=Th(),a=Q.identifierPrefix;if(I){var c=sg,_e=rg;c=(_e&~(1<<32-oc(_e)-1)).toString(32)+c,a=":"+a+"R"+c,c=Kh++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=Lh++,a=":"+a+"r"+c.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(i){var a=Uh();return ui(a,N.memoizedState,i)},useTransition:function(){var i=Wh(Vh)[0],a=Uh().memoizedState;return[i,a]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(i){var a=Uh();return N===null?a.memoizedState=i:ui(a,N.memoizedState,i)},useTransition:function(){var i=Xh(Vh)[0],a=Uh().memoizedState;return[i,a]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(i,a){if(i&&i.defaultProps){a=A({},a),i=i.defaultProps;for(var c in i)a[c]===void 0&&(a[c]=i[c]);return a}return a}function Di(i,a,c,_e){a=i.memoizedState,c=c(_e,a),c=c==null?a:A({},a,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Ei={isMounted:function(i){return(i=i._reactInternals)?Vb(i)===i:!1},enqueueSetState:function(i,a,c){i=i._reactInternals;var _e=R(),ot=yi(i),$t=mh(_e,ot);$t.payload=a,c!=null&&($t.callback=c),a=nh(i,$t,ot),a!==null&&(gi(a,i,ot,_e),oh(a,i,ot))},enqueueReplaceState:function(i,a,c){i=i._reactInternals;var _e=R(),ot=yi(i),$t=mh(_e,ot);$t.tag=1,$t.payload=a,c!=null&&($t.callback=c),a=nh(i,$t,ot),a!==null&&(gi(a,i,ot,_e),oh(a,i,ot))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var c=R(),_e=yi(i),ot=mh(c,_e);ot.tag=2,a!=null&&(ot.callback=a),a=nh(i,ot,_e),a!==null&&(gi(a,i,_e,c),oh(a,i,_e))}};function Fi(i,a,c,_e,ot,$t,zt){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(_e,$t,zt):a.prototype&&a.prototype.isPureReactComponent?!Ie(c,_e)||!Ie(ot,$t):!0}function Gi(i,a,c){var _e=!1,ot=Vf,$t=a.contextType;return typeof $t=="object"&&$t!==null?$t=eh($t):(ot=Zf(a)?Xf:H.current,_e=a.contextTypes,$t=(_e=_e!=null)?Yf(i,ot):Vf),a=new a(c,$t),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ei,i.stateNode=a,a._reactInternals=i,_e&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=ot,i.__reactInternalMemoizedMaskedChildContext=$t),a}function Hi(i,a,c,_e){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,_e),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,_e),a.state!==i&&Ei.enqueueReplaceState(a,a.state,null)}function Ii(i,a,c,_e){var ot=i.stateNode;ot.props=c,ot.state=i.memoizedState,ot.refs={},kh(i);var $t=a.contextType;typeof $t=="object"&&$t!==null?ot.context=eh($t):($t=Zf(a)?Xf:H.current,ot.context=Yf(i,$t)),ot.state=i.memoizedState,$t=a.getDerivedStateFromProps,typeof $t=="function"&&(Di(i,a,$t,c),ot.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof ot.getSnapshotBeforeUpdate=="function"||typeof ot.UNSAFE_componentWillMount!="function"&&typeof ot.componentWillMount!="function"||(a=ot.state,typeof ot.componentWillMount=="function"&&ot.componentWillMount(),typeof ot.UNSAFE_componentWillMount=="function"&&ot.UNSAFE_componentWillMount(),a!==ot.state&&Ei.enqueueReplaceState(ot,ot.state,null),qh(i,c,ot,_e),ot.state=i.memoizedState),typeof ot.componentDidMount=="function"&&(i.flags|=4194308)}function Ji(i,a){try{var c="",_e=a;do c+=Pa(_e),_e=_e.return;while(_e);var ot=c}catch($t){ot=`
Error generating stack: `+$t.message+`
`+$t.stack}return{value:i,source:a,stack:ot,digest:null}}function Ki(i,a,c){return{value:i,source:null,stack:c??null,digest:a??null}}function Li(i,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(i,a,c){c=mh(-1,c),c.tag=3,c.payload={element:null};var _e=a.value;return c.callback=function(){Oi||(Oi=!0,Pi=_e),Li(i,a)},c}function Qi(i,a,c){c=mh(-1,c),c.tag=3;var _e=i.type.getDerivedStateFromError;if(typeof _e=="function"){var ot=a.value;c.payload=function(){return _e(ot)},c.callback=function(){Li(i,a)}}var $t=i.stateNode;return $t!==null&&typeof $t.componentDidCatch=="function"&&(c.callback=function(){Li(i,a),typeof _e!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var zt=a.stack;this.componentDidCatch(a.value,{componentStack:zt!==null?zt:""})}),c}function Si(i,a,c){var _e=i.pingCache;if(_e===null){_e=i.pingCache=new Mi;var ot=new Set;_e.set(a,ot)}else ot=_e.get(a),ot===void 0&&(ot=new Set,_e.set(a,ot));ot.has(c)||(ot.add(c),i=Ti.bind(null,i,a,c),a.then(i,i))}function Ui(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function Vi(i,a,c,_e,ot){return i.mode&1?(i.flags|=65536,i.lanes=ot,i):(i===a?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=mh(-1,1),a.tag=2,nh(c,a,1))),c.lanes|=1),i)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(i,a,c,_e){a.child=i===null?Vg(a,null,c,_e):Ug(a,i.child,c,_e)}function Yi(i,a,c,_e,ot){c=c.render;var $t=a.ref;return ch(a,ot),_e=Nh(i,a,c,_e,$t,ot),c=Sh(),i!==null&&!dh?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~ot,Zi(i,a,ot)):(I&&c&&vg(a),a.flags|=1,Xi(i,a,_e,ot),a.child)}function $i(i,a,c,_e,ot){if(i===null){var $t=c.type;return typeof $t=="function"&&!aj($t)&&$t.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=$t,bj(i,a,$t,_e,ot)):(i=Rg(c.type,null,_e,a,a.mode,ot),i.ref=a.ref,i.return=a,a.child=i)}if($t=i.child,!(i.lanes&ot)){var zt=$t.memoizedProps;if(c=c.compare,c=c!==null?c:Ie,c(zt,_e)&&i.ref===a.ref)return Zi(i,a,ot)}return a.flags|=1,i=Pg($t,_e),i.ref=a.ref,i.return=a,a.child=i}function bj(i,a,c,_e,ot){if(i!==null){var $t=i.memoizedProps;if(Ie($t,_e)&&i.ref===a.ref)if(dh=!1,a.pendingProps=_e=$t,(i.lanes&ot)!==0)i.flags&131072&&(dh=!0);else return a.lanes=i.lanes,Zi(i,a,ot)}return cj(i,a,c,_e,ot)}function dj(i,a,c){var _e=a.pendingProps,ot=_e.children,$t=i!==null?i.memoizedState:null;if(_e.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=c;else{if(!(c&1073741824))return i=$t!==null?$t.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,G(ej,fj),fj|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e=$t!==null?$t.baseLanes:c,G(ej,fj),fj|=_e}else $t!==null?(_e=$t.baseLanes|c,a.memoizedState=null):_e=c,G(ej,fj),fj|=_e;return Xi(i,a,ot,c),a.child}function gj(i,a){var c=a.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function cj(i,a,c,_e,ot){var $t=Zf(c)?Xf:H.current;return $t=Yf(a,$t),ch(a,ot),c=Nh(i,a,c,_e,$t,ot),_e=Sh(),i!==null&&!dh?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~ot,Zi(i,a,ot)):(I&&_e&&vg(a),a.flags|=1,Xi(i,a,c,ot),a.child)}function hj(i,a,c,_e,ot){if(Zf(c)){var $t=!0;cg(a)}else $t=!1;if(ch(a,ot),a.stateNode===null)ij(i,a),Gi(a,c,_e),Ii(a,c,_e,ot),_e=!0;else if(i===null){var zt=a.stateNode,ct=a.memoizedProps;zt.props=ct;var Et=zt.context,s=c.contextType;typeof s=="object"&&s!==null?s=eh(s):(s=Zf(c)?Xf:H.current,s=Yf(a,s));var st=c.getDerivedStateFromProps,Tt=typeof st=="function"||typeof zt.getSnapshotBeforeUpdate=="function";Tt||typeof zt.UNSAFE_componentWillReceiveProps!="function"&&typeof zt.componentWillReceiveProps!="function"||(ct!==_e||Et!==s)&&Hi(a,zt,_e,s),jh=!1;var wt=a.memoizedState;zt.state=wt,qh(a,_e,zt,ot),Et=a.memoizedState,ct!==_e||wt!==Et||Wf.current||jh?(typeof st=="function"&&(Di(a,c,st,_e),Et=a.memoizedState),(ct=jh||Fi(a,c,ct,_e,wt,Et,s))?(Tt||typeof zt.UNSAFE_componentWillMount!="function"&&typeof zt.componentWillMount!="function"||(typeof zt.componentWillMount=="function"&&zt.componentWillMount(),typeof zt.UNSAFE_componentWillMount=="function"&&zt.UNSAFE_componentWillMount()),typeof zt.componentDidMount=="function"&&(a.flags|=4194308)):(typeof zt.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=_e,a.memoizedState=Et),zt.props=_e,zt.state=Et,zt.context=s,_e=ct):(typeof zt.componentDidMount=="function"&&(a.flags|=4194308),_e=!1)}else{zt=a.stateNode,lh(i,a),ct=a.memoizedProps,s=a.type===a.elementType?ct:Ci(a.type,ct),zt.props=s,Tt=a.pendingProps,wt=zt.context,Et=c.contextType,typeof Et=="object"&&Et!==null?Et=eh(Et):(Et=Zf(c)?Xf:H.current,Et=Yf(a,Et));var e=c.getDerivedStateFromProps;(st=typeof e=="function"||typeof zt.getSnapshotBeforeUpdate=="function")||typeof zt.UNSAFE_componentWillReceiveProps!="function"&&typeof zt.componentWillReceiveProps!="function"||(ct!==Tt||wt!==Et)&&Hi(a,zt,_e,Et),jh=!1,wt=a.memoizedState,zt.state=wt,qh(a,_e,zt,ot);var gt=a.memoizedState;ct!==Tt||wt!==gt||Wf.current||jh?(typeof e=="function"&&(Di(a,c,e,_e),gt=a.memoizedState),(s=jh||Fi(a,c,s,_e,wt,gt,Et)||!1)?(st||typeof zt.UNSAFE_componentWillUpdate!="function"&&typeof zt.componentWillUpdate!="function"||(typeof zt.componentWillUpdate=="function"&&zt.componentWillUpdate(_e,gt,Et),typeof zt.UNSAFE_componentWillUpdate=="function"&&zt.UNSAFE_componentWillUpdate(_e,gt,Et)),typeof zt.componentDidUpdate=="function"&&(a.flags|=4),typeof zt.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof zt.componentDidUpdate!="function"||ct===i.memoizedProps&&wt===i.memoizedState||(a.flags|=4),typeof zt.getSnapshotBeforeUpdate!="function"||ct===i.memoizedProps&&wt===i.memoizedState||(a.flags|=1024),a.memoizedProps=_e,a.memoizedState=gt),zt.props=_e,zt.state=gt,zt.context=Et,_e=s):(typeof zt.componentDidUpdate!="function"||ct===i.memoizedProps&&wt===i.memoizedState||(a.flags|=4),typeof zt.getSnapshotBeforeUpdate!="function"||ct===i.memoizedProps&&wt===i.memoizedState||(a.flags|=1024),_e=!1)}return jj(i,a,c,_e,$t,ot)}function jj(i,a,c,_e,ot,$t){gj(i,a);var zt=(a.flags&128)!==0;if(!_e&&!zt)return ot&&dg(a,c,!1),Zi(i,a,$t);_e=a.stateNode,Wi.current=a;var ct=zt&&typeof c.getDerivedStateFromError!="function"?null:_e.render();return a.flags|=1,i!==null&&zt?(a.child=Ug(a,i.child,null,$t),a.child=Ug(a,null,ct,$t)):Xi(i,a,ct,$t),a.memoizedState=_e.state,ot&&dg(a,c,!0),a.child}function kj(i){var a=i.stateNode;a.pendingContext?ag(i,a.pendingContext,a.pendingContext!==a.context):a.context&&ag(i,a.context,!1),yh(i,a.containerInfo)}function lj(i,a,c,_e,ot){return Ig(),Jg(ot),a.flags|=256,Xi(i,a,c,_e),a.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(i){return{baseLanes:i,cachePool:null,transitions:null}}function oj(i,a,c){var _e=a.pendingProps,ot=L.current,$t=!1,zt=(a.flags&128)!==0,ct;if((ct=zt)||(ct=i!==null&&i.memoizedState===null?!1:(ot&2)!==0),ct?($t=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(ot|=1),G(L,ot&1),i===null)return Eg(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(a.mode&1?i.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(zt=_e.children,i=_e.fallback,$t?(_e=a.mode,$t=a.child,zt={mode:"hidden",children:zt},!(_e&1)&&$t!==null?($t.childLanes=0,$t.pendingProps=zt):$t=pj(zt,_e,0,null),i=Tg(i,_e,c,null),$t.return=a,i.return=a,$t.sibling=i,a.child=$t,a.child.memoizedState=nj(c),a.memoizedState=mj,i):qj(a,zt));if(ot=i.memoizedState,ot!==null&&(ct=ot.dehydrated,ct!==null))return rj(i,a,zt,_e,ct,ot,c);if($t){$t=_e.fallback,zt=a.mode,ot=i.child,ct=ot.sibling;var Et={mode:"hidden",children:_e.children};return!(zt&1)&&a.child!==ot?(_e=a.child,_e.childLanes=0,_e.pendingProps=Et,a.deletions=null):(_e=Pg(ot,Et),_e.subtreeFlags=ot.subtreeFlags&14680064),ct!==null?$t=Pg(ct,$t):($t=Tg($t,zt,c,null),$t.flags|=2),$t.return=a,_e.return=a,_e.sibling=$t,a.child=_e,_e=$t,$t=a.child,zt=i.child.memoizedState,zt=zt===null?nj(c):{baseLanes:zt.baseLanes|c,cachePool:null,transitions:zt.transitions},$t.memoizedState=zt,$t.childLanes=i.childLanes&~c,a.memoizedState=mj,_e}return $t=i.child,i=$t.sibling,_e=Pg($t,{mode:"visible",children:_e.children}),!(a.mode&1)&&(_e.lanes=c),_e.return=a,_e.sibling=null,i!==null&&(c=a.deletions,c===null?(a.deletions=[i],a.flags|=16):c.push(i)),a.child=_e,a.memoizedState=null,_e}function qj(i,a){return a=pj({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function sj(i,a,c,_e){return _e!==null&&Jg(_e),Ug(a,i.child,null,c),i=qj(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function rj(i,a,c,_e,ot,$t,zt){if(c)return a.flags&256?(a.flags&=-257,_e=Ki(Error(p(422))),sj(i,a,zt,_e)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):($t=_e.fallback,ot=a.mode,_e=pj({mode:"visible",children:_e.children},ot,0,null),$t=Tg($t,ot,zt,null),$t.flags|=2,_e.return=a,$t.return=a,_e.sibling=$t,a.child=_e,a.mode&1&&Ug(a,i.child,null,zt),a.child.memoizedState=nj(zt),a.memoizedState=mj,$t);if(!(a.mode&1))return sj(i,a,zt,null);if(ot.data==="$!"){if(_e=ot.nextSibling&&ot.nextSibling.dataset,_e)var ct=_e.dgst;return _e=ct,$t=Error(p(419)),_e=Ki($t,_e,void 0),sj(i,a,zt,_e)}if(ct=(zt&i.childLanes)!==0,dh||ct){if(_e=Q,_e!==null){switch(zt&-zt){case 4:ot=2;break;case 16:ot=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ot=32;break;case 536870912:ot=268435456;break;default:ot=0}ot=ot&(_e.suspendedLanes|zt)?0:ot,ot!==0&&ot!==$t.retryLane&&($t.retryLane=ot,ih(i,ot),gi(_e,i,ot,-1))}return tj(),_e=Ki(Error(p(421))),sj(i,a,zt,_e)}return ot.data==="$?"?(a.flags|=128,a.child=i.child,a=uj.bind(null,i),ot._reactRetry=a,null):(i=$t.treeContext,yg=Lf(ot.nextSibling),xg=a,I=!0,zg=null,i!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=i.id,sg=i.overflow,qg=a),a=qj(a,_e.children),a.flags|=4096,a)}function vj(i,a,c){i.lanes|=a;var _e=i.alternate;_e!==null&&(_e.lanes|=a),bh(i.return,a,c)}function wj(i,a,c,_e,ot){var $t=i.memoizedState;$t===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:_e,tail:c,tailMode:ot}:($t.isBackwards=a,$t.rendering=null,$t.renderingStartTime=0,$t.last=_e,$t.tail=c,$t.tailMode=ot)}function xj(i,a,c){var _e=a.pendingProps,ot=_e.revealOrder,$t=_e.tail;if(Xi(i,a,_e.children,c),_e=L.current,_e&2)_e=_e&1|2,a.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&vj(i,c,a);else if(i.tag===19)vj(i,c,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}_e&=1}if(G(L,_e),!(a.mode&1))a.memoizedState=null;else switch(ot){case"forwards":for(c=a.child,ot=null;c!==null;)i=c.alternate,i!==null&&Ch(i)===null&&(ot=c),c=c.sibling;c=ot,c===null?(ot=a.child,a.child=null):(ot=c.sibling,c.sibling=null),wj(a,!1,ot,c,$t);break;case"backwards":for(c=null,ot=a.child,a.child=null;ot!==null;){if(i=ot.alternate,i!==null&&Ch(i)===null){a.child=ot;break}i=ot.sibling,ot.sibling=c,c=ot,ot=i}wj(a,!0,c,null,$t);break;case"together":wj(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ij(i,a){!(a.mode&1)&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function Zi(i,a,c){if(i!==null&&(a.dependencies=i.dependencies),rh|=a.lanes,!(c&a.childLanes))return null;if(i!==null&&a.child!==i.child)throw Error(p(153));if(a.child!==null){for(i=a.child,c=Pg(i,i.pendingProps),a.child=c,c.return=a;i.sibling!==null;)i=i.sibling,c=c.sibling=Pg(i,i.pendingProps),c.return=a;c.sibling=null}return a.child}function yj(i,a,c){switch(a.tag){case 3:kj(a),Ig();break;case 5:Ah(a);break;case 1:Zf(a.type)&&cg(a);break;case 4:yh(a,a.stateNode.containerInfo);break;case 10:var _e=a.type._context,ot=a.memoizedProps.value;G(Wg,_e._currentValue),_e._currentValue=ot;break;case 13:if(_e=a.memoizedState,_e!==null)return _e.dehydrated!==null?(G(L,L.current&1),a.flags|=128,null):c&a.child.childLanes?oj(i,a,c):(G(L,L.current&1),i=Zi(i,a,c),i!==null?i.sibling:null);G(L,L.current&1);break;case 19:if(_e=(c&a.childLanes)!==0,i.flags&128){if(_e)return xj(i,a,c);a.flags|=128}if(ot=a.memoizedState,ot!==null&&(ot.rendering=null,ot.tail=null,ot.lastEffect=null),G(L,L.current),_e)break;return null;case 22:case 23:return a.lanes=0,dj(i,a,c)}return Zi(i,a,c)}var zj,Aj,Bj,Cj;zj=function(i,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}};Aj=function(){};Bj=function(i,a,c,_e){var ot=i.memoizedProps;if(ot!==_e){i=a.stateNode,xh(uh.current);var $t=null;switch(c){case"input":ot=Ya(i,ot),_e=Ya(i,_e),$t=[];break;case"select":ot=A({},ot,{value:void 0}),_e=A({},_e,{value:void 0}),$t=[];break;case"textarea":ot=gb(i,ot),_e=gb(i,_e),$t=[];break;default:typeof ot.onClick!="function"&&typeof _e.onClick=="function"&&(i.onclick=Bf)}ub(c,_e);var zt;c=null;for(s in ot)if(!_e.hasOwnProperty(s)&&ot.hasOwnProperty(s)&&ot[s]!=null)if(s==="style"){var ct=ot[s];for(zt in ct)ct.hasOwnProperty(zt)&&(c||(c={}),c[zt]="")}else s!=="dangerouslySetInnerHTML"&&s!=="children"&&s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ea.hasOwnProperty(s)?$t||($t=[]):($t=$t||[]).push(s,null));for(s in _e){var Et=_e[s];if(ct=ot!=null?ot[s]:void 0,_e.hasOwnProperty(s)&&Et!==ct&&(Et!=null||ct!=null))if(s==="style")if(ct){for(zt in ct)!ct.hasOwnProperty(zt)||Et&&Et.hasOwnProperty(zt)||(c||(c={}),c[zt]="");for(zt in Et)Et.hasOwnProperty(zt)&&ct[zt]!==Et[zt]&&(c||(c={}),c[zt]=Et[zt])}else c||($t||($t=[]),$t.push(s,c)),c=Et;else s==="dangerouslySetInnerHTML"?(Et=Et?Et.__html:void 0,ct=ct?ct.__html:void 0,Et!=null&&ct!==Et&&($t=$t||[]).push(s,Et)):s==="children"?typeof Et!="string"&&typeof Et!="number"||($t=$t||[]).push(s,""+Et):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&(ea.hasOwnProperty(s)?(Et!=null&&s==="onScroll"&&D("scroll",i),$t||ct===Et||($t=[])):($t=$t||[]).push(s,Et))}c&&($t=$t||[]).push("style",c);var s=$t;(a.updateQueue=s)&&(a.flags|=4)}};Cj=function(i,a,c,_e){c!==_e&&(a.flags|=4)};function Dj(i,a){if(!I)switch(i.tailMode){case"hidden":a=i.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var _e=null;c!==null;)c.alternate!==null&&(_e=c),c=c.sibling;_e===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:_e.sibling=null}}function S(i){var a=i.alternate!==null&&i.alternate.child===i.child,c=0,_e=0;if(a)for(var ot=i.child;ot!==null;)c|=ot.lanes|ot.childLanes,_e|=ot.subtreeFlags&14680064,_e|=ot.flags&14680064,ot.return=i,ot=ot.sibling;else for(ot=i.child;ot!==null;)c|=ot.lanes|ot.childLanes,_e|=ot.subtreeFlags,_e|=ot.flags,ot.return=i,ot=ot.sibling;return i.subtreeFlags|=_e,i.childLanes=c,a}function Ej(i,a,c){var _e=a.pendingProps;switch(wg(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(a),null;case 1:return Zf(a.type)&&$f(),S(a),null;case 3:return _e=a.stateNode,zh(),E(Wf),E(H),Eh(),_e.pendingContext&&(_e.context=_e.pendingContext,_e.pendingContext=null),(i===null||i.child===null)&&(Gg(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(i,a),S(a),null;case 5:Bh(a);var ot=xh(wh.current);if(c=a.type,i!==null&&a.stateNode!=null)Bj(i,a,c,_e,ot),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!_e){if(a.stateNode===null)throw Error(p(166));return S(a),null}if(i=xh(uh.current),Gg(a)){_e=a.stateNode,c=a.type;var $t=a.memoizedProps;switch(_e[Of]=a,_e[Pf]=$t,i=(a.mode&1)!==0,c){case"dialog":D("cancel",_e),D("close",_e);break;case"iframe":case"object":case"embed":D("load",_e);break;case"video":case"audio":for(ot=0;ot<lf.length;ot++)D(lf[ot],_e);break;case"source":D("error",_e);break;case"img":case"image":case"link":D("error",_e),D("load",_e);break;case"details":D("toggle",_e);break;case"input":Za(_e,$t),D("invalid",_e);break;case"select":_e._wrapperState={wasMultiple:!!$t.multiple},D("invalid",_e);break;case"textarea":hb(_e,$t),D("invalid",_e)}ub(c,$t),ot=null;for(var zt in $t)if($t.hasOwnProperty(zt)){var ct=$t[zt];zt==="children"?typeof ct=="string"?_e.textContent!==ct&&($t.suppressHydrationWarning!==!0&&Af(_e.textContent,ct,i),ot=["children",ct]):typeof ct=="number"&&_e.textContent!==""+ct&&($t.suppressHydrationWarning!==!0&&Af(_e.textContent,ct,i),ot=["children",""+ct]):ea.hasOwnProperty(zt)&&ct!=null&&zt==="onScroll"&&D("scroll",_e)}switch(c){case"input":Va(_e),db(_e,$t,!0);break;case"textarea":Va(_e),jb(_e);break;case"select":case"option":break;default:typeof $t.onClick=="function"&&(_e.onclick=Bf)}_e=ot,a.updateQueue=_e,_e!==null&&(a.flags|=4)}else{zt=ot.nodeType===9?ot:ot.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kb(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=zt.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof _e.is=="string"?i=zt.createElement(c,{is:_e.is}):(i=zt.createElement(c),c==="select"&&(zt=i,_e.multiple?zt.multiple=!0:_e.size&&(zt.size=_e.size))):i=zt.createElementNS(i,c),i[Of]=a,i[Pf]=_e,zj(i,a,!1,!1),a.stateNode=i;e:{switch(zt=vb(c,_e),c){case"dialog":D("cancel",i),D("close",i),ot=_e;break;case"iframe":case"object":case"embed":D("load",i),ot=_e;break;case"video":case"audio":for(ot=0;ot<lf.length;ot++)D(lf[ot],i);ot=_e;break;case"source":D("error",i),ot=_e;break;case"img":case"image":case"link":D("error",i),D("load",i),ot=_e;break;case"details":D("toggle",i),ot=_e;break;case"input":Za(i,_e),ot=Ya(i,_e),D("invalid",i);break;case"option":ot=_e;break;case"select":i._wrapperState={wasMultiple:!!_e.multiple},ot=A({},_e,{value:void 0}),D("invalid",i);break;case"textarea":hb(i,_e),ot=gb(i,_e),D("invalid",i);break;default:ot=_e}ub(c,ot),ct=ot;for($t in ct)if(ct.hasOwnProperty($t)){var Et=ct[$t];$t==="style"?sb(i,Et):$t==="dangerouslySetInnerHTML"?(Et=Et?Et.__html:void 0,Et!=null&&nb(i,Et)):$t==="children"?typeof Et=="string"?(c!=="textarea"||Et!=="")&&ob(i,Et):typeof Et=="number"&&ob(i,""+Et):$t!=="suppressContentEditableWarning"&&$t!=="suppressHydrationWarning"&&$t!=="autoFocus"&&(ea.hasOwnProperty($t)?Et!=null&&$t==="onScroll"&&D("scroll",i):Et!=null&&ta(i,$t,Et,zt))}switch(c){case"input":Va(i),db(i,_e,!1);break;case"textarea":Va(i),jb(i);break;case"option":_e.value!=null&&i.setAttribute("value",""+Sa(_e.value));break;case"select":i.multiple=!!_e.multiple,$t=_e.value,$t!=null?fb(i,!!_e.multiple,$t,!1):_e.defaultValue!=null&&fb(i,!!_e.multiple,_e.defaultValue,!0);break;default:typeof ot.onClick=="function"&&(i.onclick=Bf)}switch(c){case"button":case"input":case"select":case"textarea":_e=!!_e.autoFocus;break e;case"img":_e=!0;break e;default:_e=!1}}_e&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return S(a),null;case 6:if(i&&a.stateNode!=null)Cj(i,a,i.memoizedProps,_e);else{if(typeof _e!="string"&&a.stateNode===null)throw Error(p(166));if(c=xh(wh.current),xh(uh.current),Gg(a)){if(_e=a.stateNode,c=a.memoizedProps,_e[Of]=a,($t=_e.nodeValue!==c)&&(i=xg,i!==null))switch(i.tag){case 3:Af(_e.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Af(_e.nodeValue,c,(i.mode&1)!==0)}$t&&(a.flags|=4)}else _e=(c.nodeType===9?c:c.ownerDocument).createTextNode(_e),_e[Of]=a,a.stateNode=_e}return S(a),null;case 13:if(E(L),_e=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(I&&yg!==null&&a.mode&1&&!(a.flags&128))Hg(),Ig(),a.flags|=98560,$t=!1;else if($t=Gg(a),_e!==null&&_e.dehydrated!==null){if(i===null){if(!$t)throw Error(p(318));if($t=a.memoizedState,$t=$t!==null?$t.dehydrated:null,!$t)throw Error(p(317));$t[Of]=a}else Ig(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;S(a),$t=!1}else zg!==null&&(Fj(zg),zg=null),$t=!0;if(!$t)return a.flags&65536?a:null}return a.flags&128?(a.lanes=c,a):(_e=_e!==null,_e!==(i!==null&&i.memoizedState!==null)&&_e&&(a.child.flags|=8192,a.mode&1&&(i===null||L.current&1?T===0&&(T=3):tj())),a.updateQueue!==null&&(a.flags|=4),S(a),null);case 4:return zh(),Aj(i,a),i===null&&sf(a.stateNode.containerInfo),S(a),null;case 10:return ah(a.type._context),S(a),null;case 17:return Zf(a.type)&&$f(),S(a),null;case 19:if(E(L),$t=a.memoizedState,$t===null)return S(a),null;if(_e=(a.flags&128)!==0,zt=$t.rendering,zt===null)if(_e)Dj($t,!1);else{if(T!==0||i!==null&&i.flags&128)for(i=a.child;i!==null;){if(zt=Ch(i),zt!==null){for(a.flags|=128,Dj($t,!1),_e=zt.updateQueue,_e!==null&&(a.updateQueue=_e,a.flags|=4),a.subtreeFlags=0,_e=c,c=a.child;c!==null;)$t=c,i=_e,$t.flags&=14680066,zt=$t.alternate,zt===null?($t.childLanes=0,$t.lanes=i,$t.child=null,$t.subtreeFlags=0,$t.memoizedProps=null,$t.memoizedState=null,$t.updateQueue=null,$t.dependencies=null,$t.stateNode=null):($t.childLanes=zt.childLanes,$t.lanes=zt.lanes,$t.child=zt.child,$t.subtreeFlags=0,$t.deletions=null,$t.memoizedProps=zt.memoizedProps,$t.memoizedState=zt.memoizedState,$t.updateQueue=zt.updateQueue,$t.type=zt.type,i=zt.dependencies,$t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return G(L,L.current&1|2),a.child}i=i.sibling}$t.tail!==null&&B()>Gj&&(a.flags|=128,_e=!0,Dj($t,!1),a.lanes=4194304)}else{if(!_e)if(i=Ch(zt),i!==null){if(a.flags|=128,_e=!0,c=i.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),Dj($t,!0),$t.tail===null&&$t.tailMode==="hidden"&&!zt.alternate&&!I)return S(a),null}else 2*B()-$t.renderingStartTime>Gj&&c!==1073741824&&(a.flags|=128,_e=!0,Dj($t,!1),a.lanes=4194304);$t.isBackwards?(zt.sibling=a.child,a.child=zt):(c=$t.last,c!==null?c.sibling=zt:a.child=zt,$t.last=zt)}return $t.tail!==null?(a=$t.tail,$t.rendering=a,$t.tail=a.sibling,$t.renderingStartTime=B(),a.sibling=null,c=L.current,G(L,_e?c&1|2:c&1),a):(S(a),null);case 22:case 23:return Hj(),_e=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==_e&&(a.flags|=8192),_e&&a.mode&1?fj&1073741824&&(S(a),a.subtreeFlags&6&&(a.flags|=8192)):S(a),null;case 24:return null;case 25:return null}throw Error(p(156,a.tag))}function Ij(i,a){switch(wg(a),a.tag){case 1:return Zf(a.type)&&$f(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return zh(),E(Wf),E(H),Eh(),i=a.flags,i&65536&&!(i&128)?(a.flags=i&-65537|128,a):null;case 5:return Bh(a),null;case 13:if(E(L),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(p(340));Ig()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(a.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(i,a){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(_e){W(i,a,_e)}else c.current=null}function Mj(i,a,c){try{c()}catch(_e){W(i,a,_e)}}var Nj=!1;function Oj(i,a){if(Cf=dd,i=Me(),Ne(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var _e=c.getSelection&&c.getSelection();if(_e&&_e.rangeCount!==0){c=_e.anchorNode;var ot=_e.anchorOffset,$t=_e.focusNode;_e=_e.focusOffset;try{c.nodeType,$t.nodeType}catch{c=null;break e}var zt=0,ct=-1,Et=-1,s=0,st=0,Tt=i,wt=null;t:for(;;){for(var e;Tt!==c||ot!==0&&Tt.nodeType!==3||(ct=zt+ot),Tt!==$t||_e!==0&&Tt.nodeType!==3||(Et=zt+_e),Tt.nodeType===3&&(zt+=Tt.nodeValue.length),(e=Tt.firstChild)!==null;)wt=Tt,Tt=e;for(;;){if(Tt===i)break t;if(wt===c&&++s===ot&&(ct=zt),wt===$t&&++st===_e&&(Et=zt),(e=Tt.nextSibling)!==null)break;Tt=wt,wt=Tt.parentNode}Tt=e}c=ct===-1||Et===-1?null:{start:ct,end:Et}}else c=null}c=c||{start:0,end:0}}else c=null;for(Df={focusedElem:i,selectionRange:c},dd=!1,V=a;V!==null;)if(a=V,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,V=i;else for(;V!==null;){a=V;try{var gt=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(gt!==null){var _=gt.memoizedProps,$=gt.memoizedState,d=a.stateNode,j=d.getSnapshotBeforeUpdate(a.elementType===a.type?_:Ci(a.type,_),$);d.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var g=a.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(o){W(a,a.return,o)}if(i=a.sibling,i!==null){i.return=a.return,V=i;break}V=a.return}return gt=Nj,Nj=!1,gt}function Pj(i,a,c){var _e=a.updateQueue;if(_e=_e!==null?_e.lastEffect:null,_e!==null){var ot=_e=_e.next;do{if((ot.tag&i)===i){var $t=ot.destroy;ot.destroy=void 0,$t!==void 0&&Mj(a,c,$t)}ot=ot.next}while(ot!==_e)}}function Qj(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&i)===i){var _e=c.create;c.destroy=_e()}c=c.next}while(c!==a)}}function Rj(i){var a=i.ref;if(a!==null){var c=i.stateNode;switch(i.tag){case 5:i=c;break;default:i=c}typeof a=="function"?a(i):a.current=i}}function Sj(i){var a=i.alternate;a!==null&&(i.alternate=null,Sj(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[Of],delete a[Pf],delete a[of],delete a[Qf],delete a[Rf])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Tj(i){return i.tag===5||i.tag===3||i.tag===4}function Uj(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Tj(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vj(i,a,c){var _e=i.tag;if(_e===5||_e===6)i=i.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(i,a):c.insertBefore(i,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(i,c)):(a=c,a.appendChild(i)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Bf));else if(_e!==4&&(i=i.child,i!==null))for(Vj(i,a,c),i=i.sibling;i!==null;)Vj(i,a,c),i=i.sibling}function Wj(i,a,c){var _e=i.tag;if(_e===5||_e===6)i=i.stateNode,a?c.insertBefore(i,a):c.appendChild(i);else if(_e!==4&&(i=i.child,i!==null))for(Wj(i,a,c),i=i.sibling;i!==null;)Wj(i,a,c),i=i.sibling}var X=null,Xj=!1;function Yj(i,a,c){for(c=c.child;c!==null;)Zj(i,a,c),c=c.sibling}function Zj(i,a,c){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,c)}catch{}switch(c.tag){case 5:U||Lj(c,a);case 6:var _e=X,ot=Xj;X=null,Yj(i,a,c),X=_e,Xj=ot,X!==null&&(Xj?(i=X,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):X.removeChild(c.stateNode));break;case 18:X!==null&&(Xj?(i=X,c=c.stateNode,i.nodeType===8?Kf(i.parentNode,c):i.nodeType===1&&Kf(i,c),bd(i)):Kf(X,c.stateNode));break;case 4:_e=X,ot=Xj,X=c.stateNode.containerInfo,Xj=!0,Yj(i,a,c),X=_e,Xj=ot;break;case 0:case 11:case 14:case 15:if(!U&&(_e=c.updateQueue,_e!==null&&(_e=_e.lastEffect,_e!==null))){ot=_e=_e.next;do{var $t=ot,zt=$t.destroy;$t=$t.tag,zt!==void 0&&($t&2||$t&4)&&Mj(c,a,zt),ot=ot.next}while(ot!==_e)}Yj(i,a,c);break;case 1:if(!U&&(Lj(c,a),_e=c.stateNode,typeof _e.componentWillUnmount=="function"))try{_e.props=c.memoizedProps,_e.state=c.memoizedState,_e.componentWillUnmount()}catch(ct){W(c,a,ct)}Yj(i,a,c);break;case 21:Yj(i,a,c);break;case 22:c.mode&1?(U=(_e=U)||c.memoizedState!==null,Yj(i,a,c),U=_e):Yj(i,a,c);break;default:Yj(i,a,c)}}function ak(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new Kj),a.forEach(function(_e){var ot=bk.bind(null,i,_e);c.has(_e)||(c.add(_e),_e.then(ot,ot))})}}function ck(i,a){var c=a.deletions;if(c!==null)for(var _e=0;_e<c.length;_e++){var ot=c[_e];try{var $t=i,zt=a,ct=zt;e:for(;ct!==null;){switch(ct.tag){case 5:X=ct.stateNode,Xj=!1;break e;case 3:X=ct.stateNode.containerInfo,Xj=!0;break e;case 4:X=ct.stateNode.containerInfo,Xj=!0;break e}ct=ct.return}if(X===null)throw Error(p(160));Zj($t,zt,ot),X=null,Xj=!1;var Et=ot.alternate;Et!==null&&(Et.return=null),ot.return=null}catch(s){W(ot,a,s)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)dk(a,i),a=a.sibling}function dk(i,a){var c=i.alternate,_e=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ck(a,i),ek(i),_e&4){try{Pj(3,i,i.return),Qj(3,i)}catch(_){W(i,i.return,_)}try{Pj(5,i,i.return)}catch(_){W(i,i.return,_)}}break;case 1:ck(a,i),ek(i),_e&512&&c!==null&&Lj(c,c.return);break;case 5:if(ck(a,i),ek(i),_e&512&&c!==null&&Lj(c,c.return),i.flags&32){var ot=i.stateNode;try{ob(ot,"")}catch(_){W(i,i.return,_)}}if(_e&4&&(ot=i.stateNode,ot!=null)){var $t=i.memoizedProps,zt=c!==null?c.memoizedProps:$t,ct=i.type,Et=i.updateQueue;if(i.updateQueue=null,Et!==null)try{ct==="input"&&$t.type==="radio"&&$t.name!=null&&ab(ot,$t),vb(ct,zt);var s=vb(ct,$t);for(zt=0;zt<Et.length;zt+=2){var st=Et[zt],Tt=Et[zt+1];st==="style"?sb(ot,Tt):st==="dangerouslySetInnerHTML"?nb(ot,Tt):st==="children"?ob(ot,Tt):ta(ot,st,Tt,s)}switch(ct){case"input":bb(ot,$t);break;case"textarea":ib(ot,$t);break;case"select":var wt=ot._wrapperState.wasMultiple;ot._wrapperState.wasMultiple=!!$t.multiple;var e=$t.value;e!=null?fb(ot,!!$t.multiple,e,!1):wt!==!!$t.multiple&&($t.defaultValue!=null?fb(ot,!!$t.multiple,$t.defaultValue,!0):fb(ot,!!$t.multiple,$t.multiple?[]:"",!1))}ot[Pf]=$t}catch(_){W(i,i.return,_)}}break;case 6:if(ck(a,i),ek(i),_e&4){if(i.stateNode===null)throw Error(p(162));ot=i.stateNode,$t=i.memoizedProps;try{ot.nodeValue=$t}catch(_){W(i,i.return,_)}}break;case 3:if(ck(a,i),ek(i),_e&4&&c!==null&&c.memoizedState.isDehydrated)try{bd(a.containerInfo)}catch(_){W(i,i.return,_)}break;case 4:ck(a,i),ek(i);break;case 13:ck(a,i),ek(i),ot=i.child,ot.flags&8192&&($t=ot.memoizedState!==null,ot.stateNode.isHidden=$t,!$t||ot.alternate!==null&&ot.alternate.memoizedState!==null||(fk=B())),_e&4&&ak(i);break;case 22:if(st=c!==null&&c.memoizedState!==null,i.mode&1?(U=(s=U)||st,ck(a,i),U=s):ck(a,i),ek(i),_e&8192){if(s=i.memoizedState!==null,(i.stateNode.isHidden=s)&&!st&&i.mode&1)for(V=i,st=i.child;st!==null;){for(Tt=V=st;V!==null;){switch(wt=V,e=wt.child,wt.tag){case 0:case 11:case 14:case 15:Pj(4,wt,wt.return);break;case 1:Lj(wt,wt.return);var gt=wt.stateNode;if(typeof gt.componentWillUnmount=="function"){_e=wt,c=wt.return;try{a=_e,gt.props=a.memoizedProps,gt.state=a.memoizedState,gt.componentWillUnmount()}catch(_){W(_e,c,_)}}break;case 5:Lj(wt,wt.return);break;case 22:if(wt.memoizedState!==null){gk(Tt);continue}}e!==null?(e.return=wt,V=e):gk(Tt)}st=st.sibling}e:for(st=null,Tt=i;;){if(Tt.tag===5){if(st===null){st=Tt;try{ot=Tt.stateNode,s?($t=ot.style,typeof $t.setProperty=="function"?$t.setProperty("display","none","important"):$t.display="none"):(ct=Tt.stateNode,Et=Tt.memoizedProps.style,zt=Et!=null&&Et.hasOwnProperty("display")?Et.display:null,ct.style.display=rb("display",zt))}catch(_){W(i,i.return,_)}}}else if(Tt.tag===6){if(st===null)try{Tt.stateNode.nodeValue=s?"":Tt.memoizedProps}catch(_){W(i,i.return,_)}}else if((Tt.tag!==22&&Tt.tag!==23||Tt.memoizedState===null||Tt===i)&&Tt.child!==null){Tt.child.return=Tt,Tt=Tt.child;continue}if(Tt===i)break e;for(;Tt.sibling===null;){if(Tt.return===null||Tt.return===i)break e;st===Tt&&(st=null),Tt=Tt.return}st===Tt&&(st=null),Tt.sibling.return=Tt.return,Tt=Tt.sibling}}break;case 19:ck(a,i),ek(i),_e&4&&ak(i);break;case 21:break;default:ck(a,i),ek(i)}}function ek(i){var a=i.flags;if(a&2){try{e:{for(var c=i.return;c!==null;){if(Tj(c)){var _e=c;break e}c=c.return}throw Error(p(160))}switch(_e.tag){case 5:var ot=_e.stateNode;_e.flags&32&&(ob(ot,""),_e.flags&=-33);var $t=Uj(i);Wj(i,$t,ot);break;case 3:case 4:var zt=_e.stateNode.containerInfo,ct=Uj(i);Vj(i,ct,zt);break;default:throw Error(p(161))}}catch(Et){W(i,i.return,Et)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function hk(i,a,c){V=i,ik(i)}function ik(i,a,c){for(var _e=(i.mode&1)!==0;V!==null;){var ot=V,$t=ot.child;if(ot.tag===22&&_e){var zt=ot.memoizedState!==null||Jj;if(!zt){var ct=ot.alternate,Et=ct!==null&&ct.memoizedState!==null||U;ct=Jj;var s=U;if(Jj=zt,(U=Et)&&!s)for(V=ot;V!==null;)zt=V,Et=zt.child,zt.tag===22&&zt.memoizedState!==null?jk(ot):Et!==null?(Et.return=zt,V=Et):jk(ot);for(;$t!==null;)V=$t,ik($t),$t=$t.sibling;V=ot,Jj=ct,U=s}kk(i)}else ot.subtreeFlags&8772&&$t!==null?($t.return=ot,V=$t):kk(i)}}function kk(i){for(;V!==null;){var a=V;if(a.flags&8772){var c=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:U||Qj(5,a);break;case 1:var _e=a.stateNode;if(a.flags&4&&!U)if(c===null)_e.componentDidMount();else{var ot=a.elementType===a.type?c.memoizedProps:Ci(a.type,c.memoizedProps);_e.componentDidUpdate(ot,c.memoizedState,_e.__reactInternalSnapshotBeforeUpdate)}var $t=a.updateQueue;$t!==null&&sh(a,$t,_e);break;case 3:var zt=a.updateQueue;if(zt!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}sh(a,zt,c)}break;case 5:var ct=a.stateNode;if(c===null&&a.flags&4){c=ct;var Et=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":Et.autoFocus&&c.focus();break;case"img":Et.src&&(c.src=Et.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var s=a.alternate;if(s!==null){var st=s.memoizedState;if(st!==null){var Tt=st.dehydrated;Tt!==null&&bd(Tt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||a.flags&512&&Rj(a)}catch(wt){W(a,a.return,wt)}}if(a===i){V=null;break}if(c=a.sibling,c!==null){c.return=a.return,V=c;break}V=a.return}}function gk(i){for(;V!==null;){var a=V;if(a===i){V=null;break}var c=a.sibling;if(c!==null){c.return=a.return,V=c;break}V=a.return}}function jk(i){for(;V!==null;){var a=V;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Qj(4,a)}catch(Et){W(a,c,Et)}break;case 1:var _e=a.stateNode;if(typeof _e.componentDidMount=="function"){var ot=a.return;try{_e.componentDidMount()}catch(Et){W(a,ot,Et)}}var $t=a.return;try{Rj(a)}catch(Et){W(a,$t,Et)}break;case 5:var zt=a.return;try{Rj(a)}catch(Et){W(a,zt,Et)}}}catch(Et){W(a,a.return,Et)}if(a===i){V=null;break}var ct=a.sibling;if(ct!==null){ct.return=a.return,V=ct;break}V=a.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(i){return i.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(i=C,i!==0||(i=window.event,i=i===void 0?16:jd(i.type)),i):1}function gi(i,a,c,_e){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(i,c,_e),(!(K&2)||i!==Q)&&(i===Q&&(!(K&2)&&(qk|=c),T===4&&Ck(i,Z)),Dk(i,_e),c===1&&K===0&&!(a.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(i,a){var c=i.callbackNode;wc(i,a);var _e=uc(i,i===Q?Z:0);if(_e===0)c!==null&&bc(c),i.callbackNode=null,i.callbackPriority=0;else if(a=_e&-_e,i.callbackPriority!==a){if(c!=null&&bc(c),a===1)i.tag===0?ig(Ek.bind(null,i)):hg(Ek.bind(null,i)),Jf(function(){!(K&6)&&jg()}),c=null;else{switch(Dc(_e)){case 1:c=fc;break;case 4:c=gc;break;case 16:c=hc;break;case 536870912:c=jc;break;default:c=hc}c=Fk(c,Gk.bind(null,i))}i.callbackPriority=a,i.callbackNode=c}}function Gk(i,a){if(Ak=-1,Bk=0,K&6)throw Error(p(327));var c=i.callbackNode;if(Hk()&&i.callbackNode!==c)return null;var _e=uc(i,i===Q?Z:0);if(_e===0)return null;if(_e&30||_e&i.expiredLanes||a)a=Ik(i,_e);else{a=_e;var ot=K;K|=2;var $t=Jk();(Q!==i||Z!==a)&&(uk=null,Gj=B()+500,Kk(i,a));do try{Lk();break}catch(ct){Mk(i,ct)}while(!0);$g(),mk.current=$t,K=ot,Y!==null?a=0:(Q=null,Z=0,a=T)}if(a!==0){if(a===2&&(ot=xc(i),ot!==0&&(_e=ot,a=Nk(i,ot))),a===1)throw c=pk,Kk(i,0),Ck(i,_e),Dk(i,B()),c;if(a===6)Ck(i,_e);else{if(ot=i.current.alternate,!(_e&30)&&!Ok(ot)&&(a=Ik(i,_e),a===2&&($t=xc(i),$t!==0&&(_e=$t,a=Nk(i,$t))),a===1))throw c=pk,Kk(i,0),Ck(i,_e),Dk(i,B()),c;switch(i.finishedWork=ot,i.finishedLanes=_e,a){case 0:case 1:throw Error(p(345));case 2:Pk(i,tk,uk);break;case 3:if(Ck(i,_e),(_e&130023424)===_e&&(a=fk+500-B(),10<a)){if(uc(i,0)!==0)break;if(ot=i.suspendedLanes,(ot&_e)!==_e){R(),i.pingedLanes|=i.suspendedLanes&ot;break}i.timeoutHandle=Ff(Pk.bind(null,i,tk,uk),a);break}Pk(i,tk,uk);break;case 4:if(Ck(i,_e),(_e&4194240)===_e)break;for(a=i.eventTimes,ot=-1;0<_e;){var zt=31-oc(_e);$t=1<<zt,zt=a[zt],zt>ot&&(ot=zt),_e&=~$t}if(_e=ot,_e=B()-_e,_e=(120>_e?120:480>_e?480:1080>_e?1080:1920>_e?1920:3e3>_e?3e3:4320>_e?4320:1960*lk(_e/1960))-_e,10<_e){i.timeoutHandle=Ff(Pk.bind(null,i,tk,uk),_e);break}Pk(i,tk,uk);break;case 5:Pk(i,tk,uk);break;default:throw Error(p(329))}}}return Dk(i,B()),i.callbackNode===c?Gk.bind(null,i):null}function Nk(i,a){var c=sk;return i.current.memoizedState.isDehydrated&&(Kk(i,a).flags|=256),i=Ik(i,a),i!==2&&(a=tk,tk=c,a!==null&&Fj(a)),i}function Fj(i){tk===null?tk=i:tk.push.apply(tk,i)}function Ok(i){for(var a=i;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var _e=0;_e<c.length;_e++){var ot=c[_e],$t=ot.getSnapshot;ot=ot.value;try{if(!He($t(),ot))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ck(i,a){for(a&=~rk,a&=~qk,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var c=31-oc(a),_e=1<<c;i[c]=-1,a&=~_e}}function Ek(i){if(K&6)throw Error(p(327));Hk();var a=uc(i,0);if(!(a&1))return Dk(i,B()),null;var c=Ik(i,a);if(i.tag!==0&&c===2){var _e=xc(i);_e!==0&&(a=_e,c=Nk(i,_e))}if(c===1)throw c=pk,Kk(i,0),Ck(i,a),Dk(i,B()),c;if(c===6)throw Error(p(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,Pk(i,tk,uk),Dk(i,B()),null}function Qk(i,a){var c=K;K|=1;try{return i(a)}finally{K=c,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(i){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var a=K;K|=1;var c=ok.transition,_e=C;try{if(ok.transition=null,C=1,i)return i()}finally{C=_e,ok.transition=c,K=a,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(i,a){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,Gf(c)),Y!==null)for(c=Y.return;c!==null;){var _e=c;switch(wg(_e),_e.tag){case 1:_e=_e.type.childContextTypes,_e!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(_e);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(_e.type._context);break;case 22:case 23:Hj()}c=c.return}if(Q=i,Y=i=Pg(i.current,null),Z=fj=a,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(a=0;a<fh.length;a++)if(c=fh[a],_e=c.interleaved,_e!==null){c.interleaved=null;var ot=_e.next,$t=c.pending;if($t!==null){var zt=$t.next;$t.next=ot,_e.next=zt}c.pending=_e}fh=null}return i}function Mk(i,a){do{var c=Y;try{if($g(),Fh.current=Rh,Ih){for(var _e=M.memoizedState;_e!==null;){var ot=_e.queue;ot!==null&&(ot.pending=null),_e=_e.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,c===null||c.return===null){T=1,pk=a,Y=null;break}e:{var $t=i,zt=c.return,ct=c,Et=a;if(a=Z,ct.flags|=32768,Et!==null&&typeof Et=="object"&&typeof Et.then=="function"){var s=Et,st=ct,Tt=st.tag;if(!(st.mode&1)&&(Tt===0||Tt===11||Tt===15)){var wt=st.alternate;wt?(st.updateQueue=wt.updateQueue,st.memoizedState=wt.memoizedState,st.lanes=wt.lanes):(st.updateQueue=null,st.memoizedState=null)}var e=Ui(zt);if(e!==null){e.flags&=-257,Vi(e,zt,ct,$t,a),e.mode&1&&Si($t,s,a),a=e,Et=s;var gt=a.updateQueue;if(gt===null){var _=new Set;_.add(Et),a.updateQueue=_}else gt.add(Et);break e}else{if(!(a&1)){Si($t,s,a),tj();break e}Et=Error(p(426))}}else if(I&&ct.mode&1){var $=Ui(zt);if($!==null){!($.flags&65536)&&($.flags|=256),Vi($,zt,ct,$t,a),Jg(Ji(Et,ct));break e}}$t=Et=Ji(Et,ct),T!==4&&(T=2),sk===null?sk=[$t]:sk.push($t),$t=zt;do{switch($t.tag){case 3:$t.flags|=65536,a&=-a,$t.lanes|=a;var d=Ni($t,Et,a);ph($t,d);break e;case 1:ct=Et;var j=$t.type,g=$t.stateNode;if(!($t.flags&128)&&(typeof j.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ri===null||!Ri.has(g)))){$t.flags|=65536,a&=-a,$t.lanes|=a;var o=Qi($t,ct,a);ph($t,o);break e}}$t=$t.return}while($t!==null)}Sk(c)}catch(ut){a=ut,Y===c&&c!==null&&(Y=c=c.return);continue}break}while(!0)}function Jk(){var i=mk.current;return mk.current=Rh,i===null?Rh:i}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(i,a){var c=K;K|=2;var _e=Jk();(Q!==i||Z!==a)&&(uk=null,Kk(i,a));do try{Tk();break}catch(ot){Mk(i,ot)}while(!0);if($g(),K=c,mk.current=_e,Y!==null)throw Error(p(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(i){var a=Vk(i.alternate,i,fj);i.memoizedProps=i.pendingProps,a===null?Sk(i):Y=a,nk.current=null}function Sk(i){var a=i;do{var c=a.alternate;if(i=a.return,a.flags&32768){if(c=Ij(c,a),c!==null){c.flags&=32767,Y=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{T=6,Y=null;return}}else if(c=Ej(c,a,fj),c!==null){Y=c;return}if(a=a.sibling,a!==null){Y=a;return}Y=a=i}while(a!==null);T===0&&(T=5)}function Pk(i,a,c){var _e=C,ot=ok.transition;try{ok.transition=null,C=1,Wk(i,a,c,_e)}finally{ok.transition=ot,C=_e}return null}function Wk(i,a,c,_e){do Hk();while(wk!==null);if(K&6)throw Error(p(327));c=i.finishedWork;var ot=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(p(177));i.callbackNode=null,i.callbackPriority=0;var $t=c.lanes|c.childLanes;if(Bc(i,$t),i===Q&&(Y=Q=null,Z=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),$t=(c.flags&15990)!==0,c.subtreeFlags&15990||$t){$t=ok.transition,ok.transition=null;var zt=C;C=1;var ct=K;K|=4,nk.current=null,Oj(i,c),dk(c,i),Oe(Df),dd=!!Cf,Df=Cf=null,i.current=c,hk(c),dc(),K=ct,C=zt,ok.transition=$t}else i.current=c;if(vk&&(vk=!1,wk=i,xk=ot),$t=i.pendingLanes,$t===0&&(Ri=null),mc(c.stateNode),Dk(i,B()),a!==null)for(_e=i.onRecoverableError,c=0;c<a.length;c++)ot=a[c],_e(ot.value,{componentStack:ot.stack,digest:ot.digest});if(Oi)throw Oi=!1,i=Pi,Pi=null,i;return xk&1&&i.tag!==0&&Hk(),$t=i.pendingLanes,$t&1?i===zk?yk++:(yk=0,zk=i):yk=0,jg(),null}function Hk(){if(wk!==null){var i=Dc(xk),a=ok.transition,c=C;try{if(ok.transition=null,C=16>i?16:i,wk===null)var _e=!1;else{if(i=wk,wk=null,xk=0,K&6)throw Error(p(331));var ot=K;for(K|=4,V=i.current;V!==null;){var $t=V,zt=$t.child;if(V.flags&16){var ct=$t.deletions;if(ct!==null){for(var Et=0;Et<ct.length;Et++){var s=ct[Et];for(V=s;V!==null;){var st=V;switch(st.tag){case 0:case 11:case 15:Pj(8,st,$t)}var Tt=st.child;if(Tt!==null)Tt.return=st,V=Tt;else for(;V!==null;){st=V;var wt=st.sibling,e=st.return;if(Sj(st),st===s){V=null;break}if(wt!==null){wt.return=e,V=wt;break}V=e}}}var gt=$t.alternate;if(gt!==null){var _=gt.child;if(_!==null){gt.child=null;do{var $=_.sibling;_.sibling=null,_=$}while(_!==null)}}V=$t}}if($t.subtreeFlags&2064&&zt!==null)zt.return=$t,V=zt;else e:for(;V!==null;){if($t=V,$t.flags&2048)switch($t.tag){case 0:case 11:case 15:Pj(9,$t,$t.return)}var d=$t.sibling;if(d!==null){d.return=$t.return,V=d;break e}V=$t.return}}var j=i.current;for(V=j;V!==null;){zt=V;var g=zt.child;if(zt.subtreeFlags&2064&&g!==null)g.return=zt,V=g;else e:for(zt=j;V!==null;){if(ct=V,ct.flags&2048)try{switch(ct.tag){case 0:case 11:case 15:Qj(9,ct)}}catch(ut){W(ct,ct.return,ut)}if(ct===zt){V=null;break e}var o=ct.sibling;if(o!==null){o.return=ct.return,V=o;break e}V=ct.return}}if(K=ot,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,i)}catch{}_e=!0}return _e}finally{C=c,ok.transition=a}}return!1}function Xk(i,a,c){a=Ji(c,a),a=Ni(i,a,1),i=nh(i,a,1),a=R(),i!==null&&(Ac(i,1,a),Dk(i,a))}function W(i,a,c){if(i.tag===3)Xk(i,i,c);else for(;a!==null;){if(a.tag===3){Xk(a,i,c);break}else if(a.tag===1){var _e=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof _e.componentDidCatch=="function"&&(Ri===null||!Ri.has(_e))){i=Ji(c,i),i=Qi(a,i,1),a=nh(a,i,1),i=R(),a!==null&&(Ac(a,1,i),Dk(a,i));break}}a=a.return}}function Ti(i,a,c){var _e=i.pingCache;_e!==null&&_e.delete(a),a=R(),i.pingedLanes|=i.suspendedLanes&c,Q===i&&(Z&c)===c&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(i,0):rk|=c),Dk(i,a)}function Yk(i,a){a===0&&(i.mode&1?(a=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):a=1);var c=R();i=ih(i,a),i!==null&&(Ac(i,a,c),Dk(i,c))}function uj(i){var a=i.memoizedState,c=0;a!==null&&(c=a.retryLane),Yk(i,c)}function bk(i,a){var c=0;switch(i.tag){case 13:var _e=i.stateNode,ot=i.memoizedState;ot!==null&&(c=ot.retryLane);break;case 19:_e=i.stateNode;break;default:throw Error(p(314))}_e!==null&&_e.delete(a),Yk(i,c)}var Vk;Vk=function(i,a,c){if(i!==null)if(i.memoizedProps!==a.pendingProps||Wf.current)dh=!0;else{if(!(i.lanes&c)&&!(a.flags&128))return dh=!1,yj(i,a,c);dh=!!(i.flags&131072)}else dh=!1,I&&a.flags&1048576&&ug(a,ng,a.index);switch(a.lanes=0,a.tag){case 2:var _e=a.type;ij(i,a),i=a.pendingProps;var ot=Yf(a,H.current);ch(a,c),ot=Nh(null,a,_e,i,ot,c);var $t=Sh();return a.flags|=1,typeof ot=="object"&&ot!==null&&typeof ot.render=="function"&&ot.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Zf(_e)?($t=!0,cg(a)):$t=!1,a.memoizedState=ot.state!==null&&ot.state!==void 0?ot.state:null,kh(a),ot.updater=Ei,a.stateNode=ot,ot._reactInternals=a,Ii(a,_e,i,c),a=jj(null,a,_e,!0,$t,c)):(a.tag=0,I&&$t&&vg(a),Xi(null,a,ot,c),a=a.child),a;case 16:_e=a.elementType;e:{switch(ij(i,a),i=a.pendingProps,ot=_e._init,_e=ot(_e._payload),a.type=_e,ot=a.tag=Zk(_e),i=Ci(_e,i),ot){case 0:a=cj(null,a,_e,i,c);break e;case 1:a=hj(null,a,_e,i,c);break e;case 11:a=Yi(null,a,_e,i,c);break e;case 14:a=$i(null,a,_e,Ci(_e.type,i),c);break e}throw Error(p(306,_e,""))}return a;case 0:return _e=a.type,ot=a.pendingProps,ot=a.elementType===_e?ot:Ci(_e,ot),cj(i,a,_e,ot,c);case 1:return _e=a.type,ot=a.pendingProps,ot=a.elementType===_e?ot:Ci(_e,ot),hj(i,a,_e,ot,c);case 3:e:{if(kj(a),i===null)throw Error(p(387));_e=a.pendingProps,$t=a.memoizedState,ot=$t.element,lh(i,a),qh(a,_e,null,c);var zt=a.memoizedState;if(_e=zt.element,$t.isDehydrated)if($t={element:_e,isDehydrated:!1,cache:zt.cache,pendingSuspenseBoundaries:zt.pendingSuspenseBoundaries,transitions:zt.transitions},a.updateQueue.baseState=$t,a.memoizedState=$t,a.flags&256){ot=Ji(Error(p(423)),a),a=lj(i,a,_e,c,ot);break e}else if(_e!==ot){ot=Ji(Error(p(424)),a),a=lj(i,a,_e,c,ot);break e}else for(yg=Lf(a.stateNode.containerInfo.firstChild),xg=a,I=!0,zg=null,c=Vg(a,null,_e,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ig(),_e===ot){a=Zi(i,a,c);break e}Xi(i,a,_e,c)}a=a.child}return a;case 5:return Ah(a),i===null&&Eg(a),_e=a.type,ot=a.pendingProps,$t=i!==null?i.memoizedProps:null,zt=ot.children,Ef(_e,ot)?zt=null:$t!==null&&Ef(_e,$t)&&(a.flags|=32),gj(i,a),Xi(i,a,zt,c),a.child;case 6:return i===null&&Eg(a),null;case 13:return oj(i,a,c);case 4:return yh(a,a.stateNode.containerInfo),_e=a.pendingProps,i===null?a.child=Ug(a,null,_e,c):Xi(i,a,_e,c),a.child;case 11:return _e=a.type,ot=a.pendingProps,ot=a.elementType===_e?ot:Ci(_e,ot),Yi(i,a,_e,ot,c);case 7:return Xi(i,a,a.pendingProps,c),a.child;case 8:return Xi(i,a,a.pendingProps.children,c),a.child;case 12:return Xi(i,a,a.pendingProps.children,c),a.child;case 10:e:{if(_e=a.type._context,ot=a.pendingProps,$t=a.memoizedProps,zt=ot.value,G(Wg,_e._currentValue),_e._currentValue=zt,$t!==null)if(He($t.value,zt)){if($t.children===ot.children&&!Wf.current){a=Zi(i,a,c);break e}}else for($t=a.child,$t!==null&&($t.return=a);$t!==null;){var ct=$t.dependencies;if(ct!==null){zt=$t.child;for(var Et=ct.firstContext;Et!==null;){if(Et.context===_e){if($t.tag===1){Et=mh(-1,c&-c),Et.tag=2;var s=$t.updateQueue;if(s!==null){s=s.shared;var st=s.pending;st===null?Et.next=Et:(Et.next=st.next,st.next=Et),s.pending=Et}}$t.lanes|=c,Et=$t.alternate,Et!==null&&(Et.lanes|=c),bh($t.return,c,a),ct.lanes|=c;break}Et=Et.next}}else if($t.tag===10)zt=$t.type===a.type?null:$t.child;else if($t.tag===18){if(zt=$t.return,zt===null)throw Error(p(341));zt.lanes|=c,ct=zt.alternate,ct!==null&&(ct.lanes|=c),bh(zt,c,a),zt=$t.sibling}else zt=$t.child;if(zt!==null)zt.return=$t;else for(zt=$t;zt!==null;){if(zt===a){zt=null;break}if($t=zt.sibling,$t!==null){$t.return=zt.return,zt=$t;break}zt=zt.return}$t=zt}Xi(i,a,ot.children,c),a=a.child}return a;case 9:return ot=a.type,_e=a.pendingProps.children,ch(a,c),ot=eh(ot),_e=_e(ot),a.flags|=1,Xi(i,a,_e,c),a.child;case 14:return _e=a.type,ot=Ci(_e,a.pendingProps),ot=Ci(_e.type,ot),$i(i,a,_e,ot,c);case 15:return bj(i,a,a.type,a.pendingProps,c);case 17:return _e=a.type,ot=a.pendingProps,ot=a.elementType===_e?ot:Ci(_e,ot),ij(i,a),a.tag=1,Zf(_e)?(i=!0,cg(a)):i=!1,ch(a,c),Gi(a,_e,ot),Ii(a,_e,ot,c),jj(null,a,_e,!0,i,c);case 19:return xj(i,a,c);case 22:return dj(i,a,c)}throw Error(p(156,a.tag))};function Fk(i,a){return ac(i,a)}function $k(i,a,c,_e){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_e,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(i,a,c,_e){return new $k(i,a,c,_e)}function aj(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zk(i){if(typeof i=="function")return aj(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Da)return 11;if(i===Ga)return 14}return 2}function Pg(i,a){var c=i.alternate;return c===null?(c=Bg(i.tag,a,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=a,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&14680064,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,a=i.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function Rg(i,a,c,_e,ot,$t){var zt=2;if(_e=i,typeof i=="function")aj(i)&&(zt=1);else if(typeof i=="string")zt=5;else e:switch(i){case ya:return Tg(c.children,ot,$t,a);case za:zt=8,ot|=8;break;case Aa:return i=Bg(12,c,a,ot|2),i.elementType=Aa,i.lanes=$t,i;case Ea:return i=Bg(13,c,a,ot),i.elementType=Ea,i.lanes=$t,i;case Fa:return i=Bg(19,c,a,ot),i.elementType=Fa,i.lanes=$t,i;case Ia:return pj(c,ot,$t,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Ba:zt=10;break e;case Ca:zt=9;break e;case Da:zt=11;break e;case Ga:zt=14;break e;case Ha:zt=16,_e=null;break e}throw Error(p(130,i==null?i:typeof i,""))}return a=Bg(zt,c,a,ot),a.elementType=i,a.type=_e,a.lanes=$t,a}function Tg(i,a,c,_e){return i=Bg(7,i,_e,a),i.lanes=c,i}function pj(i,a,c,_e){return i=Bg(22,i,_e,a),i.elementType=Ia,i.lanes=c,i.stateNode={isHidden:!1},i}function Qg(i,a,c){return i=Bg(6,i,null,a),i.lanes=c,i}function Sg(i,a,c){return a=Bg(4,i.children!==null?i.children:[],i.key,a),a.lanes=c,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function al(i,a,c,_e,ot){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=_e,this.onRecoverableError=ot,this.mutableSourceEagerHydrationData=null}function bl(i,a,c,_e,ot,$t,zt,ct,Et){return i=new al(i,a,c,ct,Et),a===1?(a=1,$t===!0&&(a|=8)):a=0,$t=Bg(3,null,null,a),i.current=$t,$t.stateNode=i,$t.memoizedState={element:_e,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh($t),i}function cl(i,a,c){var _e=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:_e==null?null:""+_e,children:i,containerInfo:a,implementation:c}}function dl(i){if(!i)return Vf;i=i._reactInternals;e:{if(Vb(i)!==i||i.tag!==1)throw Error(p(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Zf(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(p(171))}if(i.tag===1){var c=i.type;if(Zf(c))return bg(i,c,a)}return a}function el(i,a,c,_e,ot,$t,zt,ct,Et){return i=bl(c,_e,!0,i,ot,$t,zt,ct,Et),i.context=dl(null),c=i.current,_e=R(),ot=yi(c),$t=mh(_e,ot),$t.callback=a??null,nh(c,$t,ot),i.current.lanes=ot,Ac(i,ot,_e),Dk(i,_e),i}function fl(i,a,c,_e){var ot=a.current,$t=R(),zt=yi(ot);return c=dl(c),a.context===null?a.context=c:a.pendingContext=c,a=mh($t,zt),a.payload={element:i},_e=_e===void 0?null:_e,_e!==null&&(a.callback=_e),i=nh(ot,a,zt),i!==null&&(gi(i,ot,zt,$t),oh(i,ot,zt)),zt}function gl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function hl(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<a?c:a}}function il(i,a){hl(i,a),(i=i.alternate)&&hl(i,a)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(i){console.error(i)};function ll(i){this._internalRoot=i}ml.prototype.render=ll.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(p(409));fl(i,a,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Rk(function(){fl(null,i,null,null)}),a[uf]=null}};function ml(i){this._internalRoot=i}ml.prototype.unstable_scheduleHydration=function(i){if(i){var a=Hc();i={blockedOn:null,target:i,priority:a};for(var c=0;c<Qc.length&&a!==0&&a<Qc[c].priority;c++);Qc.splice(c,0,i),c===0&&Vc(i)}};function nl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function ol(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(i,a,c,_e,ot){if(ot){if(typeof _e=="function"){var $t=_e;_e=function(){var s=gl(zt);$t.call(s)}}var zt=el(a,_e,i,0,null,!1,!1,"",pl);return i._reactRootContainer=zt,i[uf]=zt.current,sf(i.nodeType===8?i.parentNode:i),Rk(),zt}for(;ot=i.lastChild;)i.removeChild(ot);if(typeof _e=="function"){var ct=_e;_e=function(){var s=gl(Et);ct.call(s)}}var Et=bl(i,0,!1,null,null,!1,!1,"",pl);return i._reactRootContainer=Et,i[uf]=Et.current,sf(i.nodeType===8?i.parentNode:i),Rk(function(){fl(a,Et,c,_e)}),Et}function rl(i,a,c,_e,ot){var $t=c._reactRootContainer;if($t){var zt=$t;if(typeof ot=="function"){var ct=ot;ot=function(){var Et=gl(zt);ct.call(Et)}}fl(a,zt,i,ot)}else zt=ql(c,a,i,ot,_e);return gl(zt)}Ec=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var c=tc(a.pendingLanes);c!==0&&(Cc(a,c|1),Dk(a,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var _e=ih(i,1);if(_e!==null){var ot=R();gi(_e,i,1,ot)}}),il(i,1)}};Fc=function(i){if(i.tag===13){var a=ih(i,134217728);if(a!==null){var c=R();gi(a,i,134217728,c)}il(i,134217728)}};Gc=function(i){if(i.tag===13){var a=yi(i),c=ih(i,a);if(c!==null){var _e=R();gi(c,i,a,_e)}il(i,a)}};Hc=function(){return C};Ic=function(i,a){var c=C;try{return C=i,a()}finally{C=c}};yb=function(i,a,c){switch(a){case"input":if(bb(i,c),a=c.name,c.type==="radio"&&a!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var _e=c[a];if(_e!==i&&_e.form===i.form){var ot=Db(_e);if(!ot)throw Error(p(90));Wa(_e),bb(_e,ot)}}}break;case"textarea":ib(i,c);break;case"select":a=c.value,a!=null&&fb(i,!!c.multiple,a,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Zb(i),i===null?null:i.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(i,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(a))throw Error(p(200));return cl(i,a,null,c)};reactDom_production_min.createRoot=function(i,a){if(!nl(i))throw Error(p(299));var c=!1,_e="",ot=kl;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(_e=a.identifierPrefix),a.onRecoverableError!==void 0&&(ot=a.onRecoverableError)),a=bl(i,1,!1,null,null,c,!1,_e,ot),i[uf]=a.current,sf(i.nodeType===8?i.parentNode:i),new ll(a)};reactDom_production_min.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(p(188)):(i=Object.keys(i).join(","),Error(p(268,i)));return i=Zb(a),i=i===null?null:i.stateNode,i};reactDom_production_min.flushSync=function(i){return Rk(i)};reactDom_production_min.hydrate=function(i,a,c){if(!ol(a))throw Error(p(200));return rl(null,i,a,!0,c)};reactDom_production_min.hydrateRoot=function(i,a,c){if(!nl(i))throw Error(p(405));var _e=c!=null&&c.hydratedSources||null,ot=!1,$t="",zt=kl;if(c!=null&&(c.unstable_strictMode===!0&&(ot=!0),c.identifierPrefix!==void 0&&($t=c.identifierPrefix),c.onRecoverableError!==void 0&&(zt=c.onRecoverableError)),a=el(a,null,i,1,c??null,ot,!1,$t,zt),i[uf]=a.current,sf(i),_e)for(i=0;i<_e.length;i++)c=_e[i],ot=c._getVersion,ot=ot(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,ot]:a.mutableSourceEagerHydrationData.push(c,ot);return new ml(a)};reactDom_production_min.render=function(i,a,c){if(!ol(a))throw Error(p(200));return rl(null,i,a,!1,c)};reactDom_production_min.unmountComponentAtNode=function(i){if(!ol(i))throw Error(p(40));return i._reactRootContainer?(Rk(function(){rl(null,null,i,!1,function(){i._reactRootContainer=null,i[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(i,a,c,_e){if(!ol(c))throw Error(p(200));if(i==null||i._reactInternals===void 0)throw Error(p(38));return rl(i,a,c,!1,_e)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(i){console.error(i)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;function commonjsRequire(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports$1){(function(a,c){module.exports=c()})(globalThis,()=>(()=>{var __webpack_modules__=[,(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.VerbosityLevel=a.Util=a.UnknownErrorException=a.UnexpectedResponseException=a.UNSUPPORTED_FEATURES=a.TextRenderingMode=a.StreamType=a.RenderingIntentFlag=a.PermissionFlag=a.PasswordResponses=a.PasswordException=a.PageActionEventType=a.OPS=a.MissingPDFException=a.LINE_FACTOR=a.LINE_DESCENT_FACTOR=a.InvalidPDFException=a.ImageKind=a.IDENTITY_MATRIX=a.FormatError=a.FontType=a.FeatureTest=a.FONT_IDENTITY_MATRIX=a.DocumentActionEventType=a.CMapCompressionType=a.BaseException=a.AnnotationType=a.AnnotationStateModelType=a.AnnotationReviewState=a.AnnotationReplyType=a.AnnotationMode=a.AnnotationMarkedState=a.AnnotationFlag=a.AnnotationFieldFlag=a.AnnotationEditorType=a.AnnotationEditorPrefix=a.AnnotationEditorParamsType=a.AnnotationBorderStyleType=a.AnnotationActionEventType=a.AbortException=void 0,a.arrayByteLength=Ot,a.arraysToBytes=Xt,a.assert=vt,a.bytesToString=Dt,a.createPromiseCapability=Cn,a.createValidAbsoluteUrl=At,a.escapeString=an,a.getModificationDate=An,a.getVerbosityLevel=at,a.info=bt,a.isArrayBuffer=On,a.isArrayEqual=En,a.isAscii=fn,a.objectFromMap=qt,a.objectSize=Gt,a.setVerbosityLevel=it,a.shadow=Nt,a.string32=Ut,a.stringToBytes=jt,a.stringToPDFString=rn,a.stringToUTF16BEString=un,a.stringToUTF8String=pn,a.unreachable=ht,a.utf8StringToString=yn,a.warn=St,c(2);const _e=[1,0,0,1,0,0];a.IDENTITY_MATRIX=_e;const ot=[.001,0,0,.001,0,0];a.FONT_IDENTITY_MATRIX=ot;const $t=1.35;a.LINE_FACTOR=$t;const zt=.35;a.LINE_DESCENT_FACTOR=zt;const ct={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};a.RenderingIntentFlag=ct;const Et={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};a.AnnotationMode=Et;const s="pdfjs_internal_editor_";a.AnnotationEditorPrefix=s;const st={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};a.AnnotationEditorType=st;const Tt={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};a.AnnotationEditorParamsType=Tt;const wt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};a.PermissionFlag=wt;const e={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};a.TextRenderingMode=e;const gt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};a.ImageKind=gt;const _={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};a.AnnotationType=_;const $={MARKED:"Marked",REVIEW:"Review"};a.AnnotationStateModelType=$;const d={MARKED:"Marked",UNMARKED:"Unmarked"};a.AnnotationMarkedState=d;const j={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};a.AnnotationReviewState=j;const g={GROUP:"Group",REPLY:"R"};a.AnnotationReplyType=g;const o={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};a.AnnotationFlag=o;const ut={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};a.AnnotationFieldFlag=ut;const dt={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};a.AnnotationBorderStyleType=dt;const b={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};a.AnnotationActionEventType=b;const h={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};a.DocumentActionEventType=h;const et={O:"PageOpen",C:"PageClose"};a.PageActionEventType=et;const nt={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};a.StreamType=nt;const pt={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};a.FontType=pt;const Bt={ERRORS:0,WARNINGS:1,INFOS:5};a.VerbosityLevel=Bt;const Pt={NONE:0,BINARY:1,STREAM:2};a.CMapCompressionType=Pt;const Rt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};a.OPS=Rt;const Ft={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};a.UNSUPPORTED_FEATURES=Ft;const lt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};a.PasswordResponses=lt;let ft=Bt.WARNINGS;function it(gn){Number.isInteger(gn)&&(ft=gn)}function at(){return ft}function bt(gn){ft>=Bt.INFOS&&console.log(`Info: ${gn}`)}function St(gn){ft>=Bt.WARNINGS&&console.log(`Warning: ${gn}`)}function ht(gn){throw new Error(gn)}function vt(gn,hn){gn||ht(hn)}function yt(gn){if(!gn)return!1;switch(gn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function At(gn,hn=null,on=null){if(!gn)return null;try{if(on&&typeof gn=="string"){if(on.addDefaultProtocol&&gn.startsWith("www.")){const Xn=gn.match(/\./g);Xn&&Xn.length>=2&&(gn=`http://${gn}`)}if(on.tryConvertEncoding)try{gn=pn(gn)}catch{}}const Dn=hn?new URL(gn,hn):new URL(gn);if(yt(Dn))return Dn}catch{}return null}function Nt(gn,hn,on){return Object.defineProperty(gn,hn,{value:on,enumerable:!0,configurable:!0,writable:!1}),on}const Ht=function(){function hn(on,Dn){this.constructor===hn&&ht("Cannot initialize BaseException."),this.message=on,this.name=Dn}return hn.prototype=new Error,hn.constructor=hn,hn}();a.BaseException=Ht;class xt extends Ht{constructor(hn,on){super(hn,"PasswordException"),this.code=on}}a.PasswordException=xt;class rt extends Ht{constructor(hn,on){super(hn,"UnknownErrorException"),this.details=on}}a.UnknownErrorException=rt;class mt extends Ht{constructor(hn){super(hn,"InvalidPDFException")}}a.InvalidPDFException=mt;class Mt extends Ht{constructor(hn){super(hn,"MissingPDFException")}}a.MissingPDFException=Mt;class _t extends Ht{constructor(hn,on){super(hn,"UnexpectedResponseException"),this.status=on}}a.UnexpectedResponseException=_t;class Lt extends Ht{constructor(hn){super(hn,"FormatError")}}a.FormatError=Lt;class It extends Ht{constructor(hn){super(hn,"AbortException")}}a.AbortException=It;function Dt(gn){(typeof gn!="object"||gn===null||gn.length===void 0)&&ht("Invalid argument for bytesToString");const hn=gn.length,on=8192;if(hn<on)return String.fromCharCode.apply(null,gn);const Dn=[];for(let Xn=0;Xn<hn;Xn+=on){const er=Math.min(Xn+on,hn),Sn=gn.subarray(Xn,er);Dn.push(String.fromCharCode.apply(null,Sn))}return Dn.join("")}function jt(gn){typeof gn!="string"&&ht("Invalid argument for stringToBytes");const hn=gn.length,on=new Uint8Array(hn);for(let Dn=0;Dn<hn;++Dn)on[Dn]=gn.charCodeAt(Dn)&255;return on}function Ot(gn){if(gn.length!==void 0)return gn.length;if(gn.byteLength!==void 0)return gn.byteLength;ht("Invalid argument for arrayByteLength")}function Xt(gn){const hn=gn.length;if(hn===1&&gn[0]instanceof Uint8Array)return gn[0];let on=0;for(let er=0;er<hn;er++)on+=Ot(gn[er]);let Dn=0;const Xn=new Uint8Array(on);for(let er=0;er<hn;er++){let Sn=gn[er];Sn instanceof Uint8Array||(typeof Sn=="string"?Sn=jt(Sn):Sn=new Uint8Array(Sn));const xn=Sn.byteLength;Xn.set(Sn,Dn),Dn+=xn}return Xn}function Ut(gn){return String.fromCharCode(gn>>24&255,gn>>16&255,gn>>8&255,gn&255)}function Gt(gn){return Object.keys(gn).length}function qt(gn){const hn=Object.create(null);for(const[on,Dn]of gn)hn[on]=Dn;return hn}function Kt(){const gn=new Uint8Array(4);return gn[0]=1,new Uint32Array(gn.buffer,0,1)[0]===1}function Vt(){try{return new Function(""),!0}catch{return!1}}class Yt{static get isLittleEndian(){return Nt(this,"isLittleEndian",Kt())}static get isEvalSupported(){return Nt(this,"isEvalSupported",Vt())}static get isOffscreenCanvasSupported(){return Nt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}a.FeatureTest=Yt;const Zt=[...Array(256).keys()].map(gn=>gn.toString(16).padStart(2,"0"));class Qt{static makeHexColor(hn,on,Dn){return`#${Zt[hn]}${Zt[on]}${Zt[Dn]}`}static scaleMinMax(hn,on){let Dn;hn[0]?(hn[0]<0&&(Dn=on[0],on[0]=on[1],on[1]=Dn),on[0]*=hn[0],on[1]*=hn[0],hn[3]<0&&(Dn=on[2],on[2]=on[3],on[3]=Dn),on[2]*=hn[3],on[3]*=hn[3]):(Dn=on[0],on[0]=on[2],on[2]=Dn,Dn=on[1],on[1]=on[3],on[3]=Dn,hn[1]<0&&(Dn=on[2],on[2]=on[3],on[3]=Dn),on[2]*=hn[1],on[3]*=hn[1],hn[2]<0&&(Dn=on[0],on[0]=on[1],on[1]=Dn),on[0]*=hn[2],on[1]*=hn[2]),on[0]+=hn[4],on[1]+=hn[4],on[2]+=hn[5],on[3]+=hn[5]}static transform(hn,on){return[hn[0]*on[0]+hn[2]*on[1],hn[1]*on[0]+hn[3]*on[1],hn[0]*on[2]+hn[2]*on[3],hn[1]*on[2]+hn[3]*on[3],hn[0]*on[4]+hn[2]*on[5]+hn[4],hn[1]*on[4]+hn[3]*on[5]+hn[5]]}static applyTransform(hn,on){const Dn=hn[0]*on[0]+hn[1]*on[2]+on[4],Xn=hn[0]*on[1]+hn[1]*on[3]+on[5];return[Dn,Xn]}static applyInverseTransform(hn,on){const Dn=on[0]*on[3]-on[1]*on[2],Xn=(hn[0]*on[3]-hn[1]*on[2]+on[2]*on[5]-on[4]*on[3])/Dn,er=(-hn[0]*on[1]+hn[1]*on[0]+on[4]*on[1]-on[5]*on[0])/Dn;return[Xn,er]}static getAxialAlignedBoundingBox(hn,on){const Dn=Qt.applyTransform(hn,on),Xn=Qt.applyTransform(hn.slice(2,4),on),er=Qt.applyTransform([hn[0],hn[3]],on),Sn=Qt.applyTransform([hn[2],hn[1]],on);return[Math.min(Dn[0],Xn[0],er[0],Sn[0]),Math.min(Dn[1],Xn[1],er[1],Sn[1]),Math.max(Dn[0],Xn[0],er[0],Sn[0]),Math.max(Dn[1],Xn[1],er[1],Sn[1])]}static inverseTransform(hn){const on=hn[0]*hn[3]-hn[1]*hn[2];return[hn[3]/on,-hn[1]/on,-hn[2]/on,hn[0]/on,(hn[2]*hn[5]-hn[4]*hn[3])/on,(hn[4]*hn[1]-hn[5]*hn[0])/on]}static apply3dTransform(hn,on){return[hn[0]*on[0]+hn[1]*on[1]+hn[2]*on[2],hn[3]*on[0]+hn[4]*on[1]+hn[5]*on[2],hn[6]*on[0]+hn[7]*on[1]+hn[8]*on[2]]}static singularValueDecompose2dScale(hn){const on=[hn[0],hn[2],hn[1],hn[3]],Dn=hn[0]*on[0]+hn[1]*on[2],Xn=hn[0]*on[1]+hn[1]*on[3],er=hn[2]*on[0]+hn[3]*on[2],Sn=hn[2]*on[1]+hn[3]*on[3],xn=(Dn+Sn)/2,cn=Math.sqrt((Dn+Sn)**2-4*(Dn*Sn-er*Xn))/2,qn=xn+cn||1,Vn=xn-cn||1;return[Math.sqrt(qn),Math.sqrt(Vn)]}static normalizeRect(hn){const on=hn.slice(0);return hn[0]>hn[2]&&(on[0]=hn[2],on[2]=hn[0]),hn[1]>hn[3]&&(on[1]=hn[3],on[3]=hn[1]),on}static intersect(hn,on){const Dn=Math.max(Math.min(hn[0],hn[2]),Math.min(on[0],on[2])),Xn=Math.min(Math.max(hn[0],hn[2]),Math.max(on[0],on[2]));if(Dn>Xn)return null;const er=Math.max(Math.min(hn[1],hn[3]),Math.min(on[1],on[3])),Sn=Math.min(Math.max(hn[1],hn[3]),Math.max(on[1],on[3]));return er>Sn?null:[Dn,er,Xn,Sn]}static bezierBoundingBox(hn,on,Dn,Xn,er,Sn,xn,cn){const qn=[],Vn=[[],[]];let Gn,lr,$n,tr,pr,jn,ur,rr;for(let cr=0;cr<2;++cr){if(cr===0?(lr=6*hn-12*Dn+6*er,Gn=-3*hn+9*Dn-9*er+3*xn,$n=3*Dn-3*hn):(lr=6*on-12*Xn+6*Sn,Gn=-3*on+9*Xn-9*Sn+3*cn,$n=3*Xn-3*on),Math.abs(Gn)<1e-12){if(Math.abs(lr)<1e-12)continue;tr=-$n/lr,0<tr&&tr<1&&qn.push(tr);continue}ur=lr*lr-4*$n*Gn,rr=Math.sqrt(ur),!(ur<0)&&(pr=(-lr+rr)/(2*Gn),0<pr&&pr<1&&qn.push(pr),jn=(-lr-rr)/(2*Gn),0<jn&&jn<1&&qn.push(jn))}let Tr=qn.length,br;const yr=Tr;for(;Tr--;)tr=qn[Tr],br=1-tr,Vn[0][Tr]=br*br*br*hn+3*br*br*tr*Dn+3*br*tr*tr*er+tr*tr*tr*xn,Vn[1][Tr]=br*br*br*on+3*br*br*tr*Xn+3*br*tr*tr*Sn+tr*tr*tr*cn;return Vn[0][yr]=hn,Vn[1][yr]=on,Vn[0][yr+1]=xn,Vn[1][yr+1]=cn,Vn[0].length=Vn[1].length=yr+2,[Math.min(...Vn[0]),Math.min(...Vn[1]),Math.max(...Vn[0]),Math.max(...Vn[1])]}}a.Util=Qt;const en=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function rn(gn){if(gn[0]>=""){let on;if(gn[0]===""&&gn[1]===""?on="utf-16be":gn[0]===""&&gn[1]===""?on="utf-16le":gn[0]===""&&gn[1]===""&&gn[2]===""&&(on="utf-8"),on)try{const Dn=new TextDecoder(on,{fatal:!0}),Xn=jt(gn);return Dn.decode(Xn)}catch(Dn){St(`stringToPDFString: "${Dn}".`)}}const hn=[];for(let on=0,Dn=gn.length;on<Dn;on++){const Xn=en[gn.charCodeAt(on)];hn.push(Xn?String.fromCharCode(Xn):gn.charAt(on))}return hn.join("")}function an(gn){return gn.replace(/([()\\\n\r])/g,hn=>hn===`
`?"\\n":hn==="\r"?"\\r":`\\${hn}`)}function fn(gn){return/^[\x00-\x7F]*$/.test(gn)}function un(gn){const hn=[""];for(let on=0,Dn=gn.length;on<Dn;on++){const Xn=gn.charCodeAt(on);hn.push(String.fromCharCode(Xn>>8&255),String.fromCharCode(Xn&255))}return hn.join("")}function pn(gn){return decodeURIComponent(escape(gn))}function yn(gn){return unescape(encodeURIComponent(gn))}function On(gn){return typeof gn=="object"&&gn!==null&&gn.byteLength!==void 0}function En(gn,hn){if(gn.length!==hn.length)return!1;for(let on=0,Dn=gn.length;on<Dn;on++)if(gn[on]!==hn[on])return!1;return!0}function An(gn=new Date){return[gn.getUTCFullYear().toString(),(gn.getUTCMonth()+1).toString().padStart(2,"0"),gn.getUTCDate().toString().padStart(2,"0"),gn.getUTCHours().toString().padStart(2,"0"),gn.getUTCMinutes().toString().padStart(2,"0"),gn.getUTCSeconds().toString().padStart(2,"0")].join("")}function Cn(){const gn=Object.create(null);let hn=!1;return Object.defineProperty(gn,"settled",{get(){return hn}}),gn.promise=new Promise(function(on,Dn){gn.resolve=function(Xn){hn=!0,on(Xn)},gn.reject=function(Xn){hn=!0,Dn(Xn)}}),gn}},(i,a,c)=>{c(3)},(i,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isNodeJS=void 0;const c=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");a.isNodeJS=c},(__unused_webpack_module,exports$1,__w_pdfjs_require__)=>{var i,c,_e,ot,$t,zt,ct,Et,s,_d,Tt,wt;Object.defineProperty(exports$1,"__esModule",{value:!0}),exports$1.build=exports$1.RenderTask=exports$1.PDFWorkerUtil=exports$1.PDFWorker=exports$1.PDFPageProxy=exports$1.PDFDocumentProxy=exports$1.PDFDocumentLoadingTask=exports$1.PDFDataRangeTransport=exports$1.LoopbackPort=exports$1.DefaultStandardFontDataFactory=exports$1.DefaultCanvasFactory=exports$1.DefaultCMapReaderFactory=void 0,exports$1.getDocument=getDocument,exports$1.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports$1.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(8),_font_loader=__w_pdfjs_require__(11),_canvas=__w_pdfjs_require__(12),_worker_options=__w_pdfjs_require__(15),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(16),_metadata=__w_pdfjs_require__(17),_optional_content_config=__w_pdfjs_require__(18),_transport_stream=__w_pdfjs_require__(19),_xfa_text=__w_pdfjs_require__(20);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports$1.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports$1.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports$1.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:gt,NodeCMapReaderFactory:_,NodeStandardFontDataFactory:$}=__w_pdfjs_require__(21);exports$1.DefaultCanvasFactory=DefaultCanvasFactory=gt,exports$1.DefaultCMapReaderFactory=DefaultCMapReaderFactory=_,exports$1.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=$}let createPDFNetworkStream;function setPDFNetworkStreamFactory(gt){createPDFNetworkStream=gt}function getDocument(gt){const _=new PDFDocumentLoadingTask;let $;if(typeof gt=="string"||gt instanceof URL)$={url:gt};else if((0,_util.isArrayBuffer)(gt))$={data:gt};else if(gt instanceof PDFDataRangeTransport)$={range:gt};else{if(typeof gt!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!gt.url&&!gt.data&&!gt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");$=gt}const d=Object.create(null);let j=null,g=null;for(const ut in $){const dt=$[ut];switch(ut){case"url":if(typeof window<"u")try{d[ut]=new URL(dt,window.location).href;continue}catch(b){(0,_util.warn)(`Cannot create valid URL: "${b}".`)}else if(typeof dt=="string"||dt instanceof URL){d[ut]=dt.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":j=dt;continue;case"worker":g=dt;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&dt instanceof Buffer)d[ut]=new Uint8Array(dt);else{if(dt instanceof Uint8Array)break;if(typeof dt=="string")d[ut]=(0,_util.stringToBytes)(dt);else if(typeof dt=="object"&&dt!==null&&!isNaN(dt.length))d[ut]=new Uint8Array(dt);else if((0,_util.isArrayBuffer)(dt))d[ut]=new Uint8Array(dt);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}d[ut]=dt}if(d.CMapReaderFactory=d.CMapReaderFactory||DefaultCMapReaderFactory,d.StandardFontDataFactory=d.StandardFontDataFactory||DefaultStandardFontDataFactory,d.ignoreErrors=d.stopAtErrors!==!0,d.fontExtraProperties=d.fontExtraProperties===!0,d.pdfBug=d.pdfBug===!0,d.enableXfa=d.enableXfa===!0,(!Number.isInteger(d.rangeChunkSize)||d.rangeChunkSize<1)&&(d.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof d.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(d.docBaseUrl))&&(d.docBaseUrl=null),(!Number.isInteger(d.maxImageSize)||d.maxImageSize<-1)&&(d.maxImageSize=-1),typeof d.cMapUrl!="string"&&(d.cMapUrl=null),typeof d.standardFontDataUrl!="string"&&(d.standardFontDataUrl=null),typeof d.useWorkerFetch!="boolean"&&(d.useWorkerFetch=d.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&d.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof d.isEvalSupported!="boolean"&&(d.isEvalSupported=!0),typeof d.disableFontFace!="boolean"&&(d.disableFontFace=_is_node.isNodeJS),typeof d.useSystemFonts!="boolean"&&(d.useSystemFonts=!_is_node.isNodeJS&&!d.disableFontFace),(typeof d.ownerDocument!="object"||d.ownerDocument===null)&&(d.ownerDocument=globalThis.document),typeof d.disableRange!="boolean"&&(d.disableRange=!1),typeof d.disableStream!="boolean"&&(d.disableStream=!1),typeof d.disableAutoFetch!="boolean"&&(d.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(d.verbosity),!g){const ut={verbosity:d.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};g=ut.port?PDFWorker.fromPort(ut):new PDFWorker(ut),_._worker=g}const o=_.docId;return g.promise.then(function(){if(_.destroyed)throw new Error("Loading aborted");const ut=_fetchDocument(g,d,j,o),dt=new Promise(function(b){let h;j?h=new _transport_stream.PDFDataTransportStream({length:d.length,initialData:d.initialData,progressiveDone:d.progressiveDone,contentDispositionFilename:d.contentDispositionFilename,disableRange:d.disableRange,disableStream:d.disableStream},j):d.data||(h=createPDFNetworkStream({url:d.url,length:d.length,httpHeaders:d.httpHeaders,withCredentials:d.withCredentials,rangeChunkSize:d.rangeChunkSize,disableRange:d.disableRange,disableStream:d.disableStream})),b(h)});return Promise.all([ut,dt]).then(function([b,h]){if(_.destroyed)throw new Error("Loading aborted");const et=new _message_handler.MessageHandler(o,b,g.port),nt=new WorkerTransport(et,_,h,d);_._transport=nt,et.send("Ready",null)})}).catch(_._capability.reject),_}async function _fetchDocument(gt,_,$,d){if(gt.destroyed)throw new Error("Worker was destroyed");$&&(_.length=$.length,_.initialData=$.initialData,_.progressiveDone=$.progressiveDone,_.contentDispositionFilename=$.contentDispositionFilename);const j=await gt.messageHandler.sendWithPromise("GetDocRequest",{docId:d,apiVersion:"2.16.105",source:{data:_.data,url:_.url,password:_.password,disableAutoFetch:_.disableAutoFetch,rangeChunkSize:_.rangeChunkSize,length:_.length},maxImageSize:_.maxImageSize,disableFontFace:_.disableFontFace,docBaseUrl:_.docBaseUrl,ignoreErrors:_.ignoreErrors,isEvalSupported:_.isEvalSupported,fontExtraProperties:_.fontExtraProperties,enableXfa:_.enableXfa,useSystemFonts:_.useSystemFonts,cMapUrl:_.useWorkerFetch?_.cMapUrl:null,standardFontDataUrl:_.useWorkerFetch?_.standardFontDataUrl:null});if(_.data&&(_.data=null),gt.destroyed)throw new Error("Worker was destroyed");return j}const a=class a{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${Jl(a,i)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var _;this.destroyed=!0,await((_=this._transport)==null?void 0:_.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};i=new WeakMap,Rn(a,i,0);let PDFDocumentLoadingTask=a;exports$1.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(_,$,d=!1,j=null){this.length=_,this.initialData=$,this.progressiveDone=d,this.contentDispositionFilename=j,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(_){this._rangeListeners.push(_)}addProgressListener(_){this._progressListeners.push(_)}addProgressiveReadListener(_){this._progressiveReadListeners.push(_)}addProgressiveDoneListener(_){this._progressiveDoneListeners.push(_)}onDataRange(_,$){for(const d of this._rangeListeners)d(_,$)}onDataProgress(_,$){this._readyCapability.promise.then(()=>{for(const d of this._progressListeners)d(_,$)})}onDataProgressiveRead(_){this._readyCapability.promise.then(()=>{for(const $ of this._progressiveReadListeners)$(_)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const _ of this._progressiveDoneListeners)_()})}transportReady(){this._readyCapability.resolve()}requestDataRange(_,$){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports$1.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(_,$){this._pdfInfo=_,this._transport=$,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(_){return this._transport.getPage(_)}getPageIndex(_){return this._transport.getPageIndex(_)}getDestinations(){return this._transport.getDestinations()}getDestination(_){return this._transport.getDestination(_)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(_=!1){return this._transport.startCleanup(_||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports$1.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(_,$,d,j,g=!1){this._pageIndex=_,this._pageInfo=$,this._ownerDocument=j,this._transport=d,this._stats=g?new _display_utils.StatTimer:null,this._pdfBug=g,this.commonObjs=d.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:_,rotation:$=this.rotate,offsetX:d=0,offsetY:j=0,dontFlip:g=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:_,rotation:$,offsetX:d,offsetY:j,dontFlip:g})}getAnnotations({intent:_="display"}={}){const $=this._transport.getRenderingIntent(_);let d=this._annotationPromises.get($.cacheKey);return d||(d=this._transport.getAnnotations(this._pageIndex,$.renderingIntent),this._annotationPromises.set($.cacheKey,d),d=d.then(j=>{for(const g of j)g.titleObj!==void 0&&Object.defineProperty(g,"title",{get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),g.titleObj.str}}),g.contentsObj!==void 0&&Object.defineProperty(g,"contents",{get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),g.contentsObj.str}});return j})),d}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}async getXfa(){var _;return((_=this._transport._htmlForXfa)==null?void 0:_.children[this._pageIndex])||null}render({canvasContext:_,viewport:$,intent:d="display",annotationMode:j=_util.AnnotationMode.ENABLE,transform:g=null,imageLayer:o=null,canvasFactory:ut=null,background:dt=null,optionalContentConfigPromise:b=null,annotationCanvasMap:h=null,pageColors:et=null,printAnnotationStorage:nt=null}){var it,at;((it=arguments[0])==null?void 0:it.renderInteractiveForms)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&j===_util.AnnotationMode.ENABLE&&(j=_util.AnnotationMode.ENABLE_FORMS)),((at=arguments[0])==null?void 0:at.includeAnnotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&j===_util.AnnotationMode.ENABLE&&(j=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const pt=this._transport.getRenderingIntent(d,j,nt);this.pendingCleanup=!1,b||(b=this._transport.getOptionalContentConfig());let Bt=this._intentStates.get(pt.cacheKey);Bt||(Bt=Object.create(null),this._intentStates.set(pt.cacheKey,Bt)),Bt.streamReaderCancelTimeout&&(clearTimeout(Bt.streamReaderCancelTimeout),Bt.streamReaderCancelTimeout=null);const Pt=ut||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),Rt=!!(pt.renderingIntent&_util.RenderingIntentFlag.PRINT);Bt.displayReadyCapability||(Bt.displayReadyCapability=(0,_util.createPromiseCapability)(),Bt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(pt));const Ft=bt=>{Bt.renderTasks.delete(lt),(this.cleanupAfterRender||Rt)&&(this.pendingCleanup=!0),this._tryCleanup(),bt?(lt.capability.reject(bt),this._abortOperatorList({intentState:Bt,reason:bt instanceof Error?bt:new Error(bt)})):lt.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},lt=new InternalRenderTask({callback:Ft,params:{canvasContext:_,viewport:$,transform:g,imageLayer:o,background:dt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:Bt.operatorList,pageIndex:this._pageIndex,canvasFactory:Pt,useRequestAnimationFrame:!Rt,pdfBug:this._pdfBug,pageColors:et});(Bt.renderTasks||(Bt.renderTasks=new Set)).add(lt);const ft=lt.task;return Promise.all([Bt.displayReadyCapability.promise,b]).then(([bt,St])=>{if(this.pendingCleanup){Ft();return}this._stats&&this._stats.time("Rendering"),lt.initializeGraphics({transparency:bt,optionalContentConfig:St}),lt.operatorListChanged()}).catch(Ft),ft}getOperatorList({intent:_="display",annotationMode:$=_util.AnnotationMode.ENABLE,printAnnotationStorage:d=null}={}){function j(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(ut))}const g=this._transport.getRenderingIntent(_,$,d,!0);let o=this._intentStates.get(g.cacheKey);o||(o=Object.create(null),this._intentStates.set(g.cacheKey,o));let ut;return o.opListReadCapability||(ut=Object.create(null),ut.operatorListChanged=j,o.opListReadCapability=(0,_util.createPromiseCapability)(),(o.renderTasks||(o.renderTasks=new Set)).add(ut),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(g)),o.opListReadCapability.promise}streamTextContent({disableCombineTextItems:_=!1,includeMarkedContent:$=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:_!==!0,includeMarkedContent:$===!0},{highWaterMark:100,size(j){return j.items.length}})}getTextContent(_={}){if(this._transport._htmlForXfa)return this.getXfa().then(d=>_xfa_text.XfaText.textContent(d));const $=this.streamTextContent(_);return new Promise(function(d,j){function g(){o.read().then(function({value:dt,done:b}){if(b){d(ut);return}Object.assign(ut.styles,dt.styles),ut.items.push(...dt.items),g()},j)}const o=$.getReader(),ut={items:[],styles:Object.create(null)};g()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const _=[];for(const $ of this._intentStates.values())if(this._abortOperatorList({intentState:$,reason:new Error("Page was destroyed."),force:!0}),!$.opListReadCapability)for(const d of $.renderTasks)_.push(d.completed),d.cancel();this.objs.clear();for(const $ of this._bitmaps)$.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(_)}cleanup(_=!1){return this.pendingCleanup=!0,this._tryCleanup(_)}_tryCleanup(_=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:$,operatorList:d}of this._intentStates.values())if($.size>0||!d.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,_&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const $ of this._bitmaps)$.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(_,$){const d=this._intentStates.get($);d&&(this._stats&&this._stats.timeEnd("Page Request"),d.displayReadyCapability&&d.displayReadyCapability.resolve(_))}_renderPageChunk(_,$){for(let d=0,j=_.length;d<j;d++)$.operatorList.fnArray.push(_.fnArray[d]),$.operatorList.argsArray.push(_.argsArray[d]);$.operatorList.lastChunk=_.lastChunk,$.operatorList.separateAnnots=_.separateAnnots;for(const d of $.renderTasks)d.operatorListChanged();_.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:_,cacheKey:$,annotationStorageMap:d}){const g=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:_,cacheKey:$,annotationStorage:d}).getReader(),o=this._intentStates.get($);o.streamReader=g;const ut=()=>{g.read().then(({value:dt,done:b})=>{if(b){o.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(dt,o),ut())},dt=>{if(o.streamReader=null,!this._transport.destroyed){if(o.operatorList){o.operatorList.lastChunk=!0;for(const b of o.renderTasks)b.operatorListChanged();this._tryCleanup()}if(o.displayReadyCapability)o.displayReadyCapability.reject(dt);else if(o.opListReadCapability)o.opListReadCapability.reject(dt);else throw dt}})};ut()}_abortOperatorList({intentState:_,reason:$,force:d=!1}){if(_.streamReader){if(!d){if(_.renderTasks.size>0)return;if($ instanceof _display_utils.RenderingCancelledException){_.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:_,reason:$,force:!0}),_.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(_.streamReader.cancel(new _util.AbortException($.message)).catch(()=>{}),_.streamReader=null,!this._transport.destroyed){for(const[j,g]of this._intentStates)if(g===_){this._intentStates.delete(j);break}this.cleanup()}}}get stats(){return this._stats}}exports$1.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(_,$){const d={data:structuredClone(_,$)};this._deferred.then(()=>{for(const j of this._listeners)j.call(this,d)})}addEventListener(_,$){this._listeners.push($)}removeEventListener(_,$){const d=this._listeners.indexOf($);this._listeners.splice(d,1)}terminate(){this._listeners.length=0}}exports$1.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports$1.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const gt=(c=document==null?void 0:document.currentScript)==null?void 0:c.src;gt&&(PDFWorkerUtil.fallbackWorkerSrc=gt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(gt,_){let $;try{if($=new URL(gt),!$.origin||$.origin==="null")return!1}catch{return!1}const d=new URL(_,$);return $.origin===d.origin},PDFWorkerUtil.createCDNWrapper=function(gt){const _=`importScripts("${gt}");`;return URL.createObjectURL(new Blob([_]))}}const _PDFWorker=class _PDFWorker{constructor({name:gt=null,port:_=null,verbosity:$=(0,_util.getVerbosityLevel)()}={}){if(_&&nn(_PDFWorker,_e).has(_))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=gt,this.destroyed=!1,this.verbosity=$,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,_){nn(_PDFWorker,_e).set(_,this),this._initializeFromPort(_);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(gt){this._port=gt,this._messageHandler=new _message_handler.MessageHandler("main","worker",gt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:gt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,gt)||(gt=PDFWorkerUtil.createCDNWrapper(new URL(gt,window.location).href));const _=new Worker(gt),$=new _message_handler.MessageHandler("main","worker",_),d=()=>{_.removeEventListener("error",j),$.destroy(),_.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},j=()=>{this._webWorker||d()};_.addEventListener("error",j),$.on("test",o=>{if(_.removeEventListener("error",j),this.destroyed){d();return}o?(this._messageHandler=$,this._port=_,this._webWorker=_,this._readyCapability.resolve(),$.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),$.destroy(),_.terminate())}),$.on("ready",o=>{if(_.removeEventListener("error",j),this.destroyed){d();return}try{g()}catch{this._setupFakeWorker()}});const g=()=>{const o=new Uint8Array;$.send("test",o,[o.buffer])};g();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(gt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const _=new LoopbackPort;this._port=_;const $=`fake${PDFWorkerUtil.fakeWorkerId++}`,d=new _message_handler.MessageHandler($+"_worker",$,_);gt.setup(d,_);const j=new _message_handler.MessageHandler($,$+"_worker",_);this._messageHandler=j,this._readyCapability.resolve(),j.send("configure",{verbosity:this.verbosity})}).catch(gt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${gt.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),nn(_PDFWorker,_e).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(gt){if(!(gt!=null&&gt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return nn(this,_e).has(gt.port)?nn(this,_e).get(gt.port):new _PDFWorker(gt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var gt;try{return((gt=globalThis.pdfjsWorker)==null?void 0:gt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};_e=new WeakMap,Rn(_PDFWorker,_e,new WeakMap);let PDFWorker=_PDFWorker;exports$1.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(_,$,d,j){Rn(this,ot,null);Rn(this,$t,new Map);Rn(this,zt,new Map);Rn(this,ct,null);this.messageHandler=_,this.loadingTask=$,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:$.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:j.ownerDocument,styleElement:j.styleElement}),this._params=j,j.useWorkerFetch||(this.CMapReaderFactory=new j.CMapReaderFactory({baseUrl:j.cMapUrl,isCompressed:j.cMapPacked}),this.StandardFontDataFactory=new j.StandardFontDataFactory({baseUrl:j.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=d,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return nn(this,ot)}getRenderingIntent(_,$=_util.AnnotationMode.ENABLE,d=null,j=!1){let g=_util.RenderingIntentFlag.DISPLAY,o=null;switch(_){case"any":g=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":g=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${_}`)}switch($){case _util.AnnotationMode.DISABLE:g+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:g+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:g+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,o=(g&_util.RenderingIntentFlag.PRINT&&d instanceof _annotation_storage.PrintAnnotationStorage?d:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${$}`)}return j&&(g+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:g,cacheKey:`${g}_${_annotation_storage.AnnotationStorage.getHash(o)}`,annotationStorageMap:o}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const _=[];for(const d of nn(this,$t).values())_.push(d._destroy());nn(this,$t).clear(),nn(this,zt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const $=this.messageHandler.sendWithPromise("Terminate",null);return _.push($),Promise.all(_).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Ln(this,ct,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:_,loadingTask:$}=this;_.on("GetReader",(d,j)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=g=>{this._lastProgress={loaded:g.loaded,total:g.total}},j.onPull=()=>{this._fullReader.read().then(function({value:g,done:o}){if(o){j.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(g),"GetReader - expected an ArrayBuffer."),j.enqueue(new Uint8Array(g),1,[g])}).catch(g=>{j.error(g)})},j.onCancel=g=>{this._fullReader.cancel(g),j.ready.catch(o=>{if(!this.destroyed)throw o})}}),_.on("ReaderHeadersReady",d=>{const j=(0,_util.createPromiseCapability)(),g=this._fullReader;return g.headersReady.then(()=>{var o;(!g.isStreamingSupported||!g.isRangeSupported)&&(this._lastProgress&&((o=$.onProgress)==null||o.call($,this._lastProgress)),g.onProgress=ut=>{var dt;(dt=$.onProgress)==null||dt.call($,{loaded:ut.loaded,total:ut.total})}),j.resolve({isStreamingSupported:g.isStreamingSupported,isRangeSupported:g.isRangeSupported,contentLength:g.contentLength})},j.reject),j.promise}),_.on("GetRangeReader",(d,j)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const g=this._networkStream.getRangeReader(d.begin,d.end);if(!g){j.close();return}j.onPull=()=>{g.read().then(function({value:o,done:ut}){if(ut){j.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(o),"GetRangeReader - expected an ArrayBuffer."),j.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{j.error(o)})},j.onCancel=o=>{g.cancel(o),j.ready.catch(ut=>{if(!this.destroyed)throw ut})}}),_.on("GetDoc",({pdfInfo:d})=>{this._numPages=d.numPages,this._htmlForXfa=d.htmlForXfa,delete d.htmlForXfa,$._capability.resolve(new PDFDocumentProxy(d,this))}),_.on("DocException",function(d){let j;switch(d.name){case"PasswordException":j=new _util.PasswordException(d.message,d.code);break;case"InvalidPDFException":j=new _util.InvalidPDFException(d.message);break;case"MissingPDFException":j=new _util.MissingPDFException(d.message);break;case"UnexpectedResponseException":j=new _util.UnexpectedResponseException(d.message,d.status);break;case"UnknownErrorException":j=new _util.UnknownErrorException(d.message,d.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}$._capability.reject(j)}),_.on("PasswordRequest",d=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),$.onPassword){const j=g=>{g instanceof Error?this._passwordCapability.reject(g):this._passwordCapability.resolve({password:g})};try{$.onPassword(j,d.code)}catch(g){this._passwordCapability.reject(g)}}else this._passwordCapability.reject(new _util.PasswordException(d.message,d.code));return this._passwordCapability.promise}),_.on("DataLoaded",d=>{var j;(j=$.onProgress)==null||j.call($,{loaded:d.length,total:d.length}),this.downloadInfoCapability.resolve(d)}),_.on("StartRenderPage",d=>{if(this.destroyed)return;nn(this,$t).get(d.pageIndex)._startRenderPage(d.transparency,d.cacheKey)}),_.on("commonobj",([d,j,g])=>{var o;if(!this.destroyed&&!this.commonObjs.has(d))switch(j){case"Font":const ut=this._params;if("error"in g){const h=g.error;(0,_util.warn)(`Error during font loading: ${h}`),this.commonObjs.resolve(d,h);break}let dt=null;ut.pdfBug&&((o=globalThis.FontInspector)!=null&&o.enabled)&&(dt={registerFont(h,et){globalThis.FontInspector.fontAdded(h,et)}});const b=new _font_loader.FontFaceObject(g,{isEvalSupported:ut.isEvalSupported,disableFontFace:ut.disableFontFace,ignoreErrors:ut.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:dt});this.fontLoader.bind(b).catch(h=>_.sendWithPromise("FontFallback",{id:d})).finally(()=>{!ut.fontExtraProperties&&b.data&&(b.data=null),this.commonObjs.resolve(d,b)});break;case"FontPath":case"Image":this.commonObjs.resolve(d,g);break;default:throw new Error(`Got unknown common object type ${j}`)}}),_.on("obj",([d,j,g,o])=>{var dt;if(this.destroyed)return;const ut=nn(this,$t).get(j);if(!ut.objs.has(d))switch(g){case"Image":ut.objs.resolve(d,o);const b=8e6;if(o){let h;if(o.bitmap){const{bitmap:et,width:nt,height:pt}=o;h=nt*pt*4,ut._bitmaps.add(et)}else h=((dt=o.data)==null?void 0:dt.length)||0;h>b&&(ut.cleanupAfterRender=!0)}break;case"Pattern":ut.objs.resolve(d,o);break;default:throw new Error(`Got unknown object type ${g}`)}}),_.on("DocProgress",d=>{var j;this.destroyed||(j=$.onProgress)==null||j.call($,{loaded:d.loaded,total:d.total})}),_.on("DocStats",d=>{this.destroyed||Ln(this,ot,Object.freeze({streamTypes:Object.freeze(d.streamTypes),fontTypes:Object.freeze(d.fontTypes)}))}),_.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),_.on("FetchBuiltInCMap",d=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(d):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),_.on("FetchStandardFontData",d=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(d):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:_}){var $,d;this.destroyed||(d=($=this.loadingTask).onUnsupportedFeature)==null||d.call($,_)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(_){if(!Number.isInteger(_)||_<=0||_>this._numPages)return Promise.reject(new Error("Invalid page request."));const $=_-1,d=nn(this,zt).get($);if(d)return d;const j=this.messageHandler.sendWithPromise("GetPage",{pageIndex:$}).then(g=>{if(this.destroyed)throw new Error("Transport destroyed");const o=new PDFPageProxy($,g,this,this._params.ownerDocument,this._params.pdfBug);return nn(this,$t).set($,o),o});return nn(this,zt).set($,j),j}getPageIndex(_){return typeof _!="object"||_===null||!Number.isInteger(_.num)||_.num<0||!Number.isInteger(_.gen)||_.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:_.num,gen:_.gen})}getAnnotations(_,$){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:_,intent:$})}saveDocument(){var _;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:((_=this._fullReader)==null?void 0:_.filename)??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(_){return typeof _!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:_})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(_){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:_})}getStructTree(_){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:_})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(_=>new _optional_content_config.OptionalContentConfig(_))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return nn(this,ct)||Ln(this,ct,this.messageHandler.sendWithPromise("GetMetadata",null).then(_=>{var $,d;return{info:_[0],metadata:_[1]?new _metadata.Metadata(_[1]):null,contentDispositionFilename:(($=this._fullReader)==null?void 0:$.filename)??null,contentLength:((d=this._fullReader)==null?void 0:d.contentLength)??null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(_=!1){if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const $ of nn(this,$t).values())if(!$.cleanup())throw new Error(`startCleanup: Page ${$.pageNumber} is currently rendering.`);this.commonObjs.clear(),_||this.fontLoader.clear(),Ln(this,ct,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const _=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:_.disableAutoFetch,enableXfa:_.enableXfa})}}ot=new WeakMap,$t=new WeakMap,zt=new WeakMap,ct=new WeakMap;class PDFObjects{constructor(){Rn(this,s);Rn(this,Et,Object.create(null))}get(_,$=null){if($){const j=wn(this,s,_d).call(this,_);return j.capability.promise.then(()=>$(j.data)),null}const d=nn(this,Et)[_];if(!(d!=null&&d.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${_}.`);return d.data}has(_){const $=nn(this,Et)[_];return($==null?void 0:$.capability.settled)||!1}resolve(_,$=null){const d=wn(this,s,_d).call(this,_);d.data=$,d.capability.resolve()}clear(){Ln(this,Et,Object.create(null))}}Et=new WeakMap,s=new WeakSet,_d=function(_){const $=nn(this,Et)[_];return $||(nn(this,Et)[_]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(_){Rn(this,Tt,null);Ln(this,Tt,_),this.onContinue=null}get promise(){return nn(this,Tt).capability.promise}cancel(){nn(this,Tt).cancel()}get separateAnnots(){const{separateAnnots:_}=nn(this,Tt).operatorList;if(!_)return!1;const{annotationCanvasMap:$}=nn(this,Tt);return _.form||_.canvas&&($==null?void 0:$.size)>0}}Tt=new WeakMap,exports$1.RenderTask=RenderTask;const e=class e{constructor({callback:_,params:$,objs:d,commonObjs:j,annotationCanvasMap:g,operatorList:o,pageIndex:ut,canvasFactory:dt,useRequestAnimationFrame:b=!1,pdfBug:h=!1,pageColors:et=null}){this.callback=_,this.params=$,this.objs=d,this.commonObjs=j,this.annotationCanvasMap=g,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=ut,this.canvasFactory=dt,this._pdfBug=h,this.pageColors=et,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=b===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=$.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:_=!1,optionalContentConfig:$}){var dt;if(this.cancelled)return;if(this._canvas){if(nn(e,wt).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");nn(e,wt).add(this._canvas)}this._pdfBug&&((dt=globalThis.StepperManager)!=null&&dt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:d,viewport:j,transform:g,imageLayer:o,background:ut}=this.params;this.gfx=new _canvas.CanvasGraphics(d,this.commonObjs,this.objs,this.canvasFactory,o,$,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:g,viewport:j,transparency:_,background:ut}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(_=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&nn(e,wt).delete(this._canvas),this.callback(_||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&nn(e,wt).delete(this._canvas),this.callback())))}};wt=new WeakMap,Rn(e,wt,new WeakSet);let InternalRenderTask=e;const version="2.16.105";exports$1.version=version;const build="172ccdbe5";exports$1.build=build},(i,a,c)=>{var Et,Om,st;Object.defineProperty(a,"__esModule",{value:!0}),a.PrintAnnotationStorage=a.AnnotationStorage=void 0;var _e=c(1),ot=c(6),$t=c(10);class zt{constructor(){Rn(this,Et);this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(wt,e){const gt=this._storage.get(wt);return gt===void 0?e:Object.assign(e,gt)}getRawValue(wt){return this._storage.get(wt)}remove(wt){if(this._storage.delete(wt),this._storage.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of this._storage.values())if(e instanceof ot.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(wt,e){const gt=this._storage.get(wt);let _=!1;if(gt!==void 0)for(const[$,d]of Object.entries(e))gt[$]!==d&&(_=!0,gt[$]=d);else _=!0,this._storage.set(wt,e);_&&wn(this,Et,Om).call(this),e instanceof ot.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(wt){return this._storage.has(wt)}getAll(){return this._storage.size>0?(0,_e.objectFromMap)(this._storage):null}get size(){return this._storage.size}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new ct(this)}get serializable(){if(this._storage.size===0)return null;const wt=new Map;for(const[e,gt]of this._storage){const _=gt instanceof ot.AnnotationEditor?gt.serialize():gt;_&&wt.set(e,_)}return wt}static getHash(wt){if(!wt)return"";const e=new $t.MurmurHash3_64;for(const[gt,_]of wt)e.update(`${gt}:${JSON.stringify(_)}`);return e.hexdigest()}}Et=new WeakSet,Om=function(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())},a.AnnotationStorage=zt;class ct extends zt{constructor(e){super();Rn(this,st,null);Ln(this,st,structuredClone(e.serializable))}get print(){(0,_e.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return nn(this,st)}}st=new WeakMap,a.PrintAnnotationStorage=ct},(i,a,c)=>{var zt,ct,Et,s,st,Tt;Object.defineProperty(a,"__esModule",{value:!0}),a.AnnotationEditor=void 0;var _e=c(7),ot=c(1);const wt=class wt{constructor(gt){Rn(this,zt,this.focusin.bind(this));Rn(this,ct,this.focusout.bind(this));Rn(this,Et,!1);Rn(this,s,!1);Rn(this,st,!1);Rn(this,Tt,wt._zIndex++);this.constructor===wt&&(0,ot.unreachable)("Cannot initialize AnnotationEditor."),this.parent=gt.parent,this.id=gt.id,this.width=this.height=null,this.pageIndex=gt.parent.pageIndex,this.name=gt.name,this.div=null;const[_,$]=this.parent.viewportBaseDimensions;this.x=gt.x/_,this.y=gt.y/$,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,ot.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=nn(this,Tt)}focusin(gt){nn(this,Et)?Ln(this,Et,!1):this.parent.setSelected(this)}focusout(gt){if(!this.isAttachedToDOM)return;const _=gt.relatedTarget;_!=null&&_.closest(`#${this.id}`)||(gt.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(gt){const _=this.parent.div.getBoundingClientRect();this.startX=gt.clientX-_.x,this.startY=gt.clientY-_.y,gt.dataTransfer.setData("text/plain",this.id),gt.dataTransfer.effectAllowed="move"}setAt(gt,_,$,d){const[j,g]=this.parent.viewportBaseDimensions;[$,d]=this.screenToPageTranslation($,d),this.x=(gt+$)/j,this.y=(_+d)/g,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(gt,_){const[$,d]=this.parent.viewportBaseDimensions;[gt,_]=this.screenToPageTranslation(gt,_),this.x+=gt/$,this.y+=_/d,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(gt,_){const{rotation:$}=this.parent.viewport;switch($){case 90:return[_,-gt];case 180:return[-gt,-_];case 270:return[-_,gt];default:return[gt,_]}}setDims(gt,_){const[$,d]=this.parent.viewportBaseDimensions;this.div.style.width=`${100*gt/$}%`,this.div.style.height=`${100*_/d}%`}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",nn(this,zt)),this.div.addEventListener("focusout",nn(this,ct));const[gt,_]=this.getInitialTranslation();return this.translate(gt,_),(0,_e.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(gt){const _=_e.KeyboardManager.platform.isMac;if(gt.button!==0||gt.ctrlKey&&_){gt.preventDefault();return}gt.ctrlKey&&!_||gt.shiftKey||gt.metaKey&&_?this.parent.toggleSelected(this):this.parent.setSelected(this),Ln(this,Et,!0)}getRect(gt,_){const[$,d]=this.parent.viewportBaseDimensions,[j,g]=this.parent.pageDimensions,o=j*gt/$,ut=g*_/d,dt=this.x*j,b=this.y*g,h=this.width*j,et=this.height*g;switch(this.rotation){case 0:return[dt+o,g-b-ut-et,dt+o+h,g-b-ut];case 90:return[dt+ut,g-b+o,dt+ut+et,g-b+o+h];case 180:return[dt-o-h,g-b+ut,dt-o,g-b+ut+et];case 270:return[dt-ut-et,g-b-o-h,dt-ut,g-b-o];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(gt,_){const[$,d,j,g]=gt,o=j-$,ut=g-d;switch(this.rotation){case 0:return[$,_-g,o,ut];case 90:return[$,_-d,ut,o];case 180:return[j,_-d,o,ut];case 270:return[j,_-g,ut,o];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Ln(this,st,!0)}disableEditMode(){Ln(this,st,!1)}isInEditMode(){return nn(this,st)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var gt;(gt=this.div)==null||gt.addEventListener("focusin",nn(this,zt))}serialize(){(0,ot.unreachable)("An editor must be serializable")}static deserialize(gt,_){const $=new this.prototype.constructor({parent:_,id:_.getNextId()});$.rotation=gt.rotation;const[d,j]=_.pageDimensions,[g,o,ut,dt]=$.getRectInCurrentCoords(gt.rect,j);return $.x=g/d,$.y=o/j,$.width=ut/d,$.height=dt/j,$}remove(){this.div.removeEventListener("focusin",nn(this,zt)),this.div.removeEventListener("focusout",nn(this,ct)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var gt;(gt=this.div)==null||gt.classList.add("selectedEditor")}unselect(){var gt;(gt=this.div)==null||gt.classList.remove("selectedEditor")}updateParams(gt,_){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return nn(this,s)}set isEditing(gt){Ln(this,s,gt),gt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};zt=new WeakMap,ct=new WeakMap,Et=new WeakMap,s=new WeakMap,st=new WeakMap,Tt=new WeakMap,Hr(wt,"_colorManager",new _e.ColorManager),Hr(wt,"_zIndex",1);let $t=wt;a.AnnotationEditor=$t},(i,a,c)=>{var e,gt,_,$,d,j,Mm,ut,b,h,et,nt,pt,Bt,Pt,Rt,Ft,lt,ft,it,at,bt,St,ht,vt,yt,Im,_f,Ps,Zl,Dm,Rm,e1,Ql,$0;Object.defineProperty(a,"__esModule",{value:!0}),a.KeyboardManager=a.CommandManager=a.ColorManager=a.AnnotationEditorUIManager=void 0,a.bindEvents=$t,a.opacityToHex=zt;var _e=c(1),ot=c(8);function $t(Dt,jt,Ot){for(const Xt of Ot)jt.addEventListener(Xt,Dt[Xt].bind(Dt))}function zt(Dt){return Math.round(Math.min(255,Math.max(1,255*Dt))).toString(16).padStart(2,"0")}class ct{constructor(){Rn(this,e,0)}getId(){return`${_e.AnnotationEditorPrefix}${Jl(this,e)._++}`}}e=new WeakMap;class Et{constructor(jt=128){Rn(this,gt,[]);Rn(this,_,!1);Rn(this,$);Rn(this,d,-1);Ln(this,$,jt)}add({cmd:jt,undo:Ot,mustExec:Xt,type:Ut=NaN,overwriteIfSameType:Gt=!1,keepUndo:qt=!1}){if(Xt&&jt(),nn(this,_))return;const Kt={cmd:jt,undo:Ot,type:Ut};if(nn(this,d)===-1){nn(this,gt).length>0&&(nn(this,gt).length=0),Ln(this,d,0),nn(this,gt).push(Kt);return}if(Gt&&nn(this,gt)[nn(this,d)].type===Ut){qt&&(Kt.undo=nn(this,gt)[nn(this,d)].undo),nn(this,gt)[nn(this,d)]=Kt;return}const Vt=nn(this,d)+1;Vt===nn(this,$)?nn(this,gt).splice(0,1):(Ln(this,d,Vt),Vt<nn(this,gt).length&&nn(this,gt).splice(Vt)),nn(this,gt).push(Kt)}undo(){nn(this,d)!==-1&&(Ln(this,_,!0),nn(this,gt)[nn(this,d)].undo(),Ln(this,_,!1),Ln(this,d,nn(this,d)-1))}redo(){nn(this,d)<nn(this,gt).length-1&&(Ln(this,d,nn(this,d)+1),Ln(this,_,!0),nn(this,gt)[nn(this,d)].cmd(),Ln(this,_,!1))}hasSomethingToUndo(){return nn(this,d)!==-1}hasSomethingToRedo(){return nn(this,d)<nn(this,gt).length-1}destroy(){Ln(this,gt,null)}}gt=new WeakMap,_=new WeakMap,$=new WeakMap,d=new WeakMap,a.CommandManager=Et;const o=class o{constructor(jt){Rn(this,j);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const Ot=o.platform.isMac;for(const[Xt,Ut]of jt)for(const Gt of Xt){const qt=Gt.startsWith("mac+");Ot&&qt?(this.callbacks.set(Gt.slice(4),Ut),this.allKeys.add(Gt.split("+").at(-1))):!Ot&&!qt&&(this.callbacks.set(Gt,Ut),this.allKeys.add(Gt.split("+").at(-1)))}}static get platform(){const jt=typeof navigator<"u"?navigator.platform:"";return(0,_e.shadow)(this,"platform",{isWin:jt.includes("Win"),isMac:jt.includes("Mac")})}exec(jt,Ot){if(!this.allKeys.has(Ot.key))return;const Xt=this.callbacks.get(wn(this,j,Mm).call(this,Ot));Xt&&(Xt.bind(jt)(),Ot.stopPropagation(),Ot.preventDefault())}};j=new WeakSet,Mm=function(jt){jt.altKey&&this.buffer.push("alt"),jt.ctrlKey&&this.buffer.push("ctrl"),jt.metaKey&&this.buffer.push("meta"),jt.shiftKey&&this.buffer.push("shift"),this.buffer.push(jt.key);const Ot=this.buffer.join("+");return this.buffer.length=0,Ot};let s=o;a.KeyboardManager=s;class st{constructor(){Rn(this,ut,null)}copy(jt){jt&&(Array.isArray(jt)?Ln(this,ut,jt.map(Ot=>Ot.serialize())):Ln(this,ut,[jt.serialize()]),Ln(this,ut,nn(this,ut).filter(Ot=>!!Ot)),nn(this,ut).length===0&&Ln(this,ut,null))}paste(){return nn(this,ut)}isEmpty(){return nn(this,ut)===null}destroy(){Ln(this,ut,null)}}ut=new WeakMap;const dt=class dt{get _colors(){const jt=new Map([["CanvasText",null],["Canvas",null]]);return(0,ot.getColorValues)(jt),(0,_e.shadow)(this,"_colors",jt)}convert(jt){const Ot=(0,ot.getRGB)(jt);if(!window.matchMedia("(forced-colors: active)").matches)return Ot;for(const[Xt,Ut]of this._colors)if(Ut.every((Gt,qt)=>Gt===Ot[qt]))return dt._colorsMapping.get(Xt);return Ot}getHexCode(jt){const Ot=this._colors.get(jt);return Ot?_e.Util.makeHexColor(...Ot):jt}};Hr(dt,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Tt=dt;a.ColorManager=Tt;const It=class It{constructor(jt,Ot){Rn(this,yt);Rn(this,b,null);Rn(this,h,new Map);Rn(this,et,new Map);Rn(this,nt,new st);Rn(this,pt,new Et);Rn(this,Bt,0);Rn(this,Pt,null);Rn(this,Rt,null);Rn(this,Ft,new ct);Rn(this,lt,!1);Rn(this,ft,_e.AnnotationEditorType.NONE);Rn(this,it,new Set);Rn(this,at,this.keydown.bind(this));Rn(this,bt,this.onEditingAction.bind(this));Rn(this,St,this.onPageChanging.bind(this));Rn(this,ht,{isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Rn(this,vt,null);Ln(this,vt,jt),Ln(this,Rt,Ot),nn(this,Rt)._on("editingaction",nn(this,bt)),nn(this,Rt)._on("pagechanging",nn(this,St))}destroy(){wn(this,yt,_f).call(this),nn(this,Rt)._off("editingaction",nn(this,bt)),nn(this,Rt)._off("pagechanging",nn(this,St));for(const jt of nn(this,et).values())jt.destroy();nn(this,et).clear(),nn(this,h).clear(),Ln(this,b,null),nn(this,it).clear(),nn(this,nt).destroy(),nn(this,pt).destroy()}onPageChanging({pageNumber:jt}){Ln(this,Bt,jt-1)}focusMainContainer(){nn(this,vt).focus()}keydown(jt){var Ot;(Ot=this.getActive())!=null&&Ot.shouldGetKeyboardEvents()||It._keyboardManager.exec(this,jt)}onEditingAction(jt){["undo","redo","cut","copy","paste","delete","selectAll"].includes(jt.name)&&this[jt.name]()}setEditingState(jt){jt?(wn(this,yt,Im).call(this),wn(this,yt,Ps).call(this,{isEditing:nn(this,ft)!==_e.AnnotationEditorType.NONE,isEmpty:wn(this,yt,Ql).call(this),hasSomethingToUndo:nn(this,pt).hasSomethingToUndo(),hasSomethingToRedo:nn(this,pt).hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:nn(this,nt).isEmpty()})):(wn(this,yt,_f).call(this),wn(this,yt,Ps).call(this,{isEditing:!1}))}registerEditorTypes(jt){Ln(this,Pt,jt);for(const Ot of nn(this,Pt))wn(this,yt,Zl).call(this,Ot.defaultPropertiesToUpdate)}getId(){return nn(this,Ft).getId()}addLayer(jt){nn(this,et).set(jt.pageIndex,jt),nn(this,lt)?jt.enable():jt.disable()}removeLayer(jt){nn(this,et).delete(jt.pageIndex)}updateMode(jt){if(Ln(this,ft,jt),jt===_e.AnnotationEditorType.NONE)this.setEditingState(!1),wn(this,yt,Rm).call(this);else{this.setEditingState(!0),wn(this,yt,Dm).call(this);for(const Ot of nn(this,et).values())Ot.updateMode(jt)}}updateToolbar(jt){jt!==nn(this,ft)&&nn(this,Rt).dispatch("switchannotationeditormode",{source:this,mode:jt})}updateParams(jt,Ot){for(const Xt of nn(this,it))Xt.updateParams(jt,Ot);for(const Xt of nn(this,Pt))Xt.updateDefaultParams(jt,Ot)}getEditors(jt){const Ot=[];for(const Xt of nn(this,h).values())Xt.pageIndex===jt&&Ot.push(Xt);return Ot}getEditor(jt){return nn(this,h).get(jt)}addEditor(jt){nn(this,h).set(jt.id,jt)}removeEditor(jt){nn(this,h).delete(jt.id),this.unselect(jt)}setActiveEditor(jt){nn(this,b)!==jt&&(Ln(this,b,jt),jt&&wn(this,yt,Zl).call(this,jt.propertiesToUpdate))}toggleSelected(jt){if(nn(this,it).has(jt)){nn(this,it).delete(jt),jt.unselect(),wn(this,yt,Ps).call(this,{hasSelectedEditor:this.hasSelection});return}nn(this,it).add(jt),jt.select(),wn(this,yt,Zl).call(this,jt.propertiesToUpdate),wn(this,yt,Ps).call(this,{hasSelectedEditor:!0})}setSelected(jt){for(const Ot of nn(this,it))Ot!==jt&&Ot.unselect();nn(this,it).clear(),nn(this,it).add(jt),jt.select(),wn(this,yt,Zl).call(this,jt.propertiesToUpdate),wn(this,yt,Ps).call(this,{hasSelectedEditor:!0})}isSelected(jt){return nn(this,it).has(jt)}unselect(jt){jt.unselect(),nn(this,it).delete(jt),wn(this,yt,Ps).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return nn(this,it).size!==0}undo(){nn(this,pt).undo(),wn(this,yt,Ps).call(this,{hasSomethingToUndo:nn(this,pt).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:wn(this,yt,Ql).call(this)})}redo(){nn(this,pt).redo(),wn(this,yt,Ps).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:nn(this,pt).hasSomethingToRedo(),isEmpty:wn(this,yt,Ql).call(this)})}addCommands(jt){nn(this,pt).add(jt),wn(this,yt,Ps).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:wn(this,yt,Ql).call(this)})}delete(){if(nn(this,b)&&nn(this,b).commitOrRemove(),!this.hasSelection)return;const jt=[...nn(this,it)],Ot=()=>{for(const Ut of jt)Ut.remove()},Xt=()=>{for(const Ut of jt)wn(this,yt,e1).call(this,Ut)};this.addCommands({cmd:Ot,undo:Xt,mustExec:!0})}copy(){if(nn(this,b)&&nn(this,b).commitOrRemove(),this.hasSelection){const jt=[];for(const Ot of nn(this,it))Ot.isEmpty()||jt.push(Ot);if(jt.length===0)return;nn(this,nt).copy(jt),wn(this,yt,Ps).call(this,{hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(nn(this,nt).isEmpty())return;this.unselectAll();const jt=nn(this,et).get(nn(this,Bt)),Ot=nn(this,nt).paste().map(Gt=>jt.deserialize(Gt)),Xt=()=>{for(const Gt of Ot)wn(this,yt,e1).call(this,Gt);wn(this,yt,$0).call(this,Ot)},Ut=()=>{for(const Gt of Ot)Gt.remove()};this.addCommands({cmd:Xt,undo:Ut,mustExec:!0})}selectAll(){for(const jt of nn(this,it))jt.commit();wn(this,yt,$0).call(this,nn(this,h).values())}unselectAll(){if(nn(this,b)){nn(this,b).commitOrRemove();return}if(wn(this,yt,$0).size!==0){for(const jt of nn(this,it))jt.unselect();nn(this,it).clear(),wn(this,yt,Ps).call(this,{hasSelectedEditor:!1})}}isActive(jt){return nn(this,b)===jt}getActive(){return nn(this,b)}getMode(){return nn(this,ft)}};b=new WeakMap,h=new WeakMap,et=new WeakMap,nt=new WeakMap,pt=new WeakMap,Bt=new WeakMap,Pt=new WeakMap,Rt=new WeakMap,Ft=new WeakMap,lt=new WeakMap,ft=new WeakMap,it=new WeakMap,at=new WeakMap,bt=new WeakMap,St=new WeakMap,ht=new WeakMap,vt=new WeakMap,yt=new WeakSet,Im=function(){nn(this,vt).addEventListener("keydown",nn(this,at))},_f=function(){nn(this,vt).removeEventListener("keydown",nn(this,at))},Ps=function(jt){Object.entries(jt).some(([Xt,Ut])=>nn(this,ht)[Xt]!==Ut)&&nn(this,Rt).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(nn(this,ht),jt)})},Zl=function(jt){nn(this,Rt).dispatch("annotationeditorparamschanged",{source:this,details:jt})},Dm=function(){if(!nn(this,lt)){Ln(this,lt,!0);for(const jt of nn(this,et).values())jt.enable()}},Rm=function(){if(this.unselectAll(),nn(this,lt)){Ln(this,lt,!1);for(const jt of nn(this,et).values())jt.disable()}},e1=function(jt){const Ot=nn(this,et).get(jt.pageIndex);Ot?Ot.addOrRebuild(jt):this.addEditor(jt)},Ql=function(){if(nn(this,h).size===0)return!0;if(nn(this,h).size===1)for(const jt of nn(this,h).values())return jt.isEmpty();return!1},$0=function(jt){nn(this,it).clear();for(const Ot of jt)Ot.isEmpty()||(nn(this,it).add(Ot),Ot.select());wn(this,yt,Ps).call(this,{hasSelectedEditor:!0})},Hr(It,"_keyboardManager",new s([[["ctrl+a","mac+meta+a"],It.prototype.selectAll],[["ctrl+c","mac+meta+c"],It.prototype.copy],[["ctrl+v","mac+meta+v"],It.prototype.paste],[["ctrl+x","mac+meta+x"],It.prototype.cut],[["ctrl+z","mac+meta+z"],It.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],It.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],It.prototype.delete],[["Escape","mac+Escape"],It.prototype.unselectAll]]));let wt=It;a.AnnotationEditorUIManager=wt},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.StatTimer=a.RenderingCancelledException=a.PixelsPerInch=a.PageViewport=a.PDFDateString=a.DOMStandardFontDataFactory=a.DOMSVGFactory=a.DOMCanvasFactory=a.DOMCMapReaderFactory=a.AnnotationPrefix=void 0,a.deprecated=dt,a.getColorValues=pt,a.getCurrentTransform=Bt,a.getCurrentTransformInverse=Pt,a.getFilenameFromUrl=d,a.getPdfFilenameFromUrl=j,a.getRGB=nt,a.getXfaPageViewport=et,a.isDataScheme=_,a.isPdfFile=$,a.isValidFetchUrl=o,a.loadScript=ut;var _e=c(9),ot=c(1);const $t="http://www.w3.org/2000/svg",zt="pdfjs_internal_id_";a.AnnotationPrefix=zt;const Rt=class Rt{};Hr(Rt,"CSS",96),Hr(Rt,"PDF",72),Hr(Rt,"PDF_TO_CSS_UNITS",Rt.CSS/Rt.PDF);let ct=Rt;a.PixelsPerInch=ct;class Et extends _e.BaseCanvasFactory{constructor({ownerDocument:lt=globalThis.document}={}){super(),this._document=lt}_createCanvas(lt,ft){const it=this._document.createElement("canvas");return it.width=lt,it.height=ft,it}}a.DOMCanvasFactory=Et;async function s(Ft,lt=!1){if(o(Ft,document.baseURI)){const ft=await fetch(Ft);if(!ft.ok)throw new Error(ft.statusText);return lt?new Uint8Array(await ft.arrayBuffer()):(0,ot.stringToBytes)(await ft.text())}return new Promise((ft,it)=>{const at=new XMLHttpRequest;at.open("GET",Ft,!0),lt&&(at.responseType="arraybuffer"),at.onreadystatechange=()=>{if(at.readyState===XMLHttpRequest.DONE){if(at.status===200||at.status===0){let bt;if(lt&&at.response?bt=new Uint8Array(at.response):!lt&&at.responseText&&(bt=(0,ot.stringToBytes)(at.responseText)),bt){ft(bt);return}}it(new Error(at.statusText))}},at.send(null)})}class st extends _e.BaseCMapReaderFactory{_fetchData(lt,ft){return s(lt,this.isCompressed).then(it=>({cMapData:it,compressionType:ft}))}}a.DOMCMapReaderFactory=st;class Tt extends _e.BaseStandardFontDataFactory{_fetchData(lt){return s(lt,!0)}}a.DOMStandardFontDataFactory=Tt;class wt extends _e.BaseSVGFactory{_createSVG(lt){return document.createElementNS($t,lt)}}a.DOMSVGFactory=wt;class e{constructor({viewBox:lt,scale:ft,rotation:it,offsetX:at=0,offsetY:bt=0,dontFlip:St=!1}){this.viewBox=lt,this.scale=ft,this.rotation=it,this.offsetX=at,this.offsetY=bt;const ht=(lt[2]+lt[0])/2,vt=(lt[3]+lt[1])/2;let yt,At,Nt,Ht;switch(it%=360,it<0&&(it+=360),it){case 180:yt=-1,At=0,Nt=0,Ht=1;break;case 90:yt=0,At=1,Nt=1,Ht=0;break;case 270:yt=0,At=-1,Nt=-1,Ht=0;break;case 0:yt=1,At=0,Nt=0,Ht=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}St&&(Nt=-Nt,Ht=-Ht);let xt,rt,mt,Mt;yt===0?(xt=Math.abs(vt-lt[1])*ft+at,rt=Math.abs(ht-lt[0])*ft+bt,mt=Math.abs(lt[3]-lt[1])*ft,Mt=Math.abs(lt[2]-lt[0])*ft):(xt=Math.abs(ht-lt[0])*ft+at,rt=Math.abs(vt-lt[1])*ft+bt,mt=Math.abs(lt[2]-lt[0])*ft,Mt=Math.abs(lt[3]-lt[1])*ft),this.transform=[yt*ft,At*ft,Nt*ft,Ht*ft,xt-yt*ft*ht-Nt*ft*vt,rt-At*ft*ht-Ht*ft*vt],this.width=mt,this.height=Mt}clone({scale:lt=this.scale,rotation:ft=this.rotation,offsetX:it=this.offsetX,offsetY:at=this.offsetY,dontFlip:bt=!1}={}){return new e({viewBox:this.viewBox.slice(),scale:lt,rotation:ft,offsetX:it,offsetY:at,dontFlip:bt})}convertToViewportPoint(lt,ft){return ot.Util.applyTransform([lt,ft],this.transform)}convertToViewportRectangle(lt){const ft=ot.Util.applyTransform([lt[0],lt[1]],this.transform),it=ot.Util.applyTransform([lt[2],lt[3]],this.transform);return[ft[0],ft[1],it[0],it[1]]}convertToPdfPoint(lt,ft){return ot.Util.applyInverseTransform([lt,ft],this.transform)}}a.PageViewport=e;class gt extends ot.BaseException{constructor(lt,ft){super(lt,"RenderingCancelledException"),this.type=ft}}a.RenderingCancelledException=gt;function _(Ft){const lt=Ft.length;let ft=0;for(;ft<lt&&Ft[ft].trim()==="";)ft++;return Ft.substring(ft,ft+5).toLowerCase()==="data:"}function $(Ft){return typeof Ft=="string"&&/\.pdf$/i.test(Ft)}function d(Ft){const lt=Ft.indexOf("#"),ft=Ft.indexOf("?"),it=Math.min(lt>0?lt:Ft.length,ft>0?ft:Ft.length);return Ft.substring(Ft.lastIndexOf("/",it)+1,it)}function j(Ft,lt="document.pdf"){if(typeof Ft!="string")return lt;if(_(Ft))return(0,ot.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),lt;const ft=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,it=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,at=ft.exec(Ft);let bt=it.exec(at[1])||it.exec(at[2])||it.exec(at[3]);if(bt&&(bt=bt[0],bt.includes("%")))try{bt=it.exec(decodeURIComponent(bt))[0]}catch{}return bt||lt}class g{constructor(){this.started=Object.create(null),this.times=[]}time(lt){lt in this.started&&(0,ot.warn)(`Timer is already running for ${lt}`),this.started[lt]=Date.now()}timeEnd(lt){lt in this.started||(0,ot.warn)(`Timer has not been started for ${lt}`),this.times.push({name:lt,start:this.started[lt],end:Date.now()}),delete this.started[lt]}toString(){const lt=[];let ft=0;for(const it of this.times){const at=it.name;at.length>ft&&(ft=at.length)}for(const it of this.times){const at=it.end-it.start;lt.push(`${it.name.padEnd(ft)} ${at}ms
`)}return lt.join("")}}a.StatTimer=g;function o(Ft,lt){try{const{protocol:ft}=lt?new URL(Ft,lt):new URL(Ft);return ft==="http:"||ft==="https:"}catch{return!1}}function ut(Ft,lt=!1){return new Promise((ft,it)=>{const at=document.createElement("script");at.src=Ft,at.onload=function(bt){lt&&at.remove(),ft(bt)},at.onerror=function(){it(new Error(`Cannot load script at: ${at.src}`))},(document.head||document.documentElement).append(at)})}function dt(Ft){console.log("Deprecated API usage: "+Ft)}let b;class h{static toDateObject(lt){if(!lt||typeof lt!="string")return null;b||(b=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const ft=b.exec(lt);if(!ft)return null;const it=parseInt(ft[1],10);let at=parseInt(ft[2],10);at=at>=1&&at<=12?at-1:0;let bt=parseInt(ft[3],10);bt=bt>=1&&bt<=31?bt:1;let St=parseInt(ft[4],10);St=St>=0&&St<=23?St:0;let ht=parseInt(ft[5],10);ht=ht>=0&&ht<=59?ht:0;let vt=parseInt(ft[6],10);vt=vt>=0&&vt<=59?vt:0;const yt=ft[7]||"Z";let At=parseInt(ft[8],10);At=At>=0&&At<=23?At:0;let Nt=parseInt(ft[9],10)||0;return Nt=Nt>=0&&Nt<=59?Nt:0,yt==="-"?(St+=At,ht+=Nt):yt==="+"&&(St-=At,ht-=Nt),new Date(Date.UTC(it,at,bt,St,ht,vt))}}a.PDFDateString=h;function et(Ft,{scale:lt=1,rotation:ft=0}){const{width:it,height:at}=Ft.attributes.style,bt=[0,0,parseInt(it),parseInt(at)];return new e({viewBox:bt,scale:lt,rotation:ft})}function nt(Ft){if(Ft.startsWith("#")){const lt=parseInt(Ft.slice(1),16);return[(lt&16711680)>>16,(lt&65280)>>8,lt&255]}return Ft.startsWith("rgb(")?Ft.slice(4,-1).split(",").map(lt=>parseInt(lt)):Ft.startsWith("rgba(")?Ft.slice(5,-1).split(",").map(lt=>parseInt(lt)).slice(0,3):((0,ot.warn)(`Not a valid color format: "${Ft}"`),[0,0,0])}function pt(Ft){const lt=document.createElement("span");lt.style.visibility="hidden",document.body.append(lt);for(const ft of Ft.keys()){lt.style.color=ft;const it=window.getComputedStyle(lt).color;Ft.set(ft,nt(it))}lt.remove()}function Bt(Ft){const{a:lt,b:ft,c:it,d:at,e:bt,f:St}=Ft.getTransform();return[lt,ft,it,at,bt,St]}function Pt(Ft){const{a:lt,b:ft,c:it,d:at,e:bt,f:St}=Ft.getTransform().invertSelf();return[lt,ft,it,at,bt,St]}},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BaseStandardFontDataFactory=a.BaseSVGFactory=a.BaseCanvasFactory=a.BaseCMapReaderFactory=void 0;var _e=c(1);class ot{constructor(){this.constructor===ot&&(0,_e.unreachable)("Cannot initialize BaseCanvasFactory.")}create(s,st){if(s<=0||st<=0)throw new Error("Invalid canvas size");const Tt=this._createCanvas(s,st);return{canvas:Tt,context:Tt.getContext("2d")}}reset(s,st,Tt){if(!s.canvas)throw new Error("Canvas is not specified");if(st<=0||Tt<=0)throw new Error("Invalid canvas size");s.canvas.width=st,s.canvas.height=Tt}destroy(s){if(!s.canvas)throw new Error("Canvas is not specified");s.canvas.width=0,s.canvas.height=0,s.canvas=null,s.context=null}_createCanvas(s,st){(0,_e.unreachable)("Abstract method `_createCanvas` called.")}}a.BaseCanvasFactory=ot;class $t{constructor({baseUrl:s=null,isCompressed:st=!1}){this.constructor===$t&&(0,_e.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=s,this.isCompressed=st}async fetch({name:s}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!s)throw new Error("CMap name must be specified.");const st=this.baseUrl+s+(this.isCompressed?".bcmap":""),Tt=this.isCompressed?_e.CMapCompressionType.BINARY:_e.CMapCompressionType.NONE;return this._fetchData(st,Tt).catch(wt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${st}`)})}_fetchData(s,st){(0,_e.unreachable)("Abstract method `_fetchData` called.")}}a.BaseCMapReaderFactory=$t;class zt{constructor({baseUrl:s=null}){this.constructor===zt&&(0,_e.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=s}async fetch({filename:s}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!s)throw new Error("Font filename must be specified.");const st=`${this.baseUrl}${s}`;return this._fetchData(st).catch(Tt=>{throw new Error(`Unable to load font data at: ${st}`)})}_fetchData(s){(0,_e.unreachable)("Abstract method `_fetchData` called.")}}a.BaseStandardFontDataFactory=zt;class ct{constructor(){this.constructor===ct&&(0,_e.unreachable)("Cannot initialize BaseSVGFactory.")}create(s,st,Tt=!1){if(s<=0||st<=0)throw new Error("Invalid SVG dimensions");const wt=this._createSVG("svg:svg");return wt.setAttribute("version","1.1"),Tt||(wt.setAttribute("width",`${s}px`),wt.setAttribute("height",`${st}px`)),wt.setAttribute("preserveAspectRatio","none"),wt.setAttribute("viewBox",`0 0 ${s} ${st}`),wt}createElement(s){if(typeof s!="string")throw new Error("Invalid SVG element type");return this._createSVG(s)}_createSVG(s){(0,_e.unreachable)("Abstract method `_createSVG` called.")}}a.BaseSVGFactory=ct},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MurmurHash3_64=void 0;var _e=c(1);const ot=3285377520,$t=4294901760,zt=65535;class ct{constructor(s){this.h1=s?s&4294967295:ot,this.h2=s?s&4294967295:ot}update(s){let st,Tt;if(typeof s=="string"){st=new Uint8Array(s.length*2),Tt=0;for(let b=0,h=s.length;b<h;b++){const et=s.charCodeAt(b);et<=255?st[Tt++]=et:(st[Tt++]=et>>>8,st[Tt++]=et&255)}}else if((0,_e.isArrayBuffer)(s))st=s.slice(),Tt=st.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const wt=Tt>>2,e=Tt-wt*4,gt=new Uint32Array(st.buffer,0,wt);let _=0,$=0,d=this.h1,j=this.h2;const g=3432918353,o=461845907,ut=g&zt,dt=o&zt;for(let b=0;b<wt;b++)b&1?(_=gt[b],_=_*g&$t|_*ut&zt,_=_<<15|_>>>17,_=_*o&$t|_*dt&zt,d^=_,d=d<<13|d>>>19,d=d*5+3864292196):($=gt[b],$=$*g&$t|$*ut&zt,$=$<<15|$>>>17,$=$*o&$t|$*dt&zt,j^=$,j=j<<13|j>>>19,j=j*5+3864292196);switch(_=0,e){case 3:_^=st[wt*4+2]<<16;case 2:_^=st[wt*4+1]<<8;case 1:_^=st[wt*4],_=_*g&$t|_*ut&zt,_=_<<15|_>>>17,_=_*o&$t|_*dt&zt,wt&1?d^=_:j^=_}this.h1=d,this.h2=j}hexdigest(){let s=this.h1,st=this.h2;s^=st>>>1,s=s*3981806797&$t|s*36045&zt,st=st*4283543511&$t|((st<<16|s>>>16)*2950163797&$t)>>>16,s^=st>>>1,s=s*444984403&$t|s*60499&zt,st=st*3301882366&$t|((st<<16|s>>>16)*3120437893&$t)>>>16,s^=st>>>1;const Tt=(s>>>0).toString(16),wt=(st>>>0).toString(16);return Tt.padStart(8,"0")+wt.padStart(8,"0")}}a.MurmurHash3_64=ct},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.FontLoader=a.FontFaceObject=void 0;var _e=c(1);class ot{constructor({docId:Et,onUnsupportedFeature:s,ownerDocument:st=globalThis.document,styleElement:Tt=null}){this.constructor===ot&&(0,_e.unreachable)("Cannot initialize BaseFontLoader."),this.docId=Et,this._onUnsupportedFeature=s,this._document=st,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(Et){this.nativeFontFaces.push(Et),this._document.fonts.add(Et)}insertRule(Et){let s=this.styleElement;s||(s=this.styleElement=this._document.createElement("style"),s.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(s));const st=s.sheet;st.insertRule(Et,st.cssRules.length)}clear(){for(const Et of this.nativeFontFaces)this._document.fonts.delete(Et);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(Et){if(Et.attached||Et.missingFile)return;if(Et.attached=!0,this.isFontLoadingAPISupported){const st=Et.createNativeFontFace();if(st){this.addNativeFontFace(st);try{await st.loaded}catch(Tt){throw this._onUnsupportedFeature({featureId:_e.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,_e.warn)(`Failed to load font '${st.family}': '${Tt}'.`),Et.disableFontFace=!0,Tt}}return}const s=Et.createFontFaceRule();if(s){if(this.insertRule(s),this.isSyncFontLoadingSupported)return;await new Promise(st=>{const Tt=this._queueLoadingCallback(st);this._prepareFontLoadEvent([s],[Et],Tt)})}}_queueLoadingCallback(Et){(0,_e.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var s;const Et=!!((s=this._document)!=null&&s.fonts);return(0,_e.shadow)(this,"isFontLoadingAPISupported",Et)}get isSyncFontLoadingSupported(){(0,_e.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,_e.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(Et,s,st){(0,_e.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let $t;a.FontLoader=$t,a.FontLoader=$t=class extends ot{constructor(Et){super(Et),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let Et=!1;if(typeof navigator>"u")Et=!0;else{const s=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(s==null?void 0:s[1])>=14&&(Et=!0)}return(0,_e.shadow)(this,"isSyncFontLoadingSupported",Et)}_queueLoadingCallback(Et){function s(){for((0,_e.assert)(!Tt.done,"completeRequest() cannot be called twice."),Tt.done=!0;st.requests.length>0&&st.requests[0].done;){const wt=st.requests.shift();setTimeout(wt.callback,0)}}const st=this.loadingContext,Tt={id:`pdfjs-font-loading-${st.nextRequestId++}`,done:!1,complete:s,callback:Et};return st.requests.push(Tt),Tt}get _loadTestFont(){const Et=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,_e.shadow)(this,"_loadTestFont",Et())}_prepareFontLoadEvent(Et,s,st){function Tt(Pt,Rt){return Pt.charCodeAt(Rt)<<24|Pt.charCodeAt(Rt+1)<<16|Pt.charCodeAt(Rt+2)<<8|Pt.charCodeAt(Rt+3)&255}function wt(Pt,Rt,Ft,lt){const ft=Pt.substring(0,Rt),it=Pt.substring(Rt+Ft);return ft+lt+it}let e,gt;const _=this._document.createElement("canvas");_.width=1,_.height=1;const $=_.getContext("2d");let d=0;function j(Pt,Rt){if(d++,d>30){(0,_e.warn)("Load test font never loaded."),Rt();return}if($.font="30px "+Pt,$.fillText(".",0,20),$.getImageData(0,0,1,1).data[3]>0){Rt();return}setTimeout(j.bind(null,Pt,Rt))}const g=`lt${Date.now()}${this.loadTestFontId++}`;let o=this._loadTestFont;o=wt(o,976,g.length,g);const dt=16,b=1482184792;let h=Tt(o,dt);for(e=0,gt=g.length-3;e<gt;e+=4)h=h-b+Tt(g,e)|0;e<g.length&&(h=h-b+Tt(g+"XXX",e)|0),o=wt(o,dt,4,(0,_e.string32)(h));const et=`url(data:font/opentype;base64,${btoa(o)});`,nt=`@font-face {font-family:"${g}";src:${et}}`;this.insertRule(nt);const pt=[];for(const Pt of s)pt.push(Pt.loadedName);pt.push(g);const Bt=this._document.createElement("div");Bt.style.visibility="hidden",Bt.style.width=Bt.style.height="10px",Bt.style.position="absolute",Bt.style.top=Bt.style.left="0px";for(const Pt of pt){const Rt=this._document.createElement("span");Rt.textContent="Hi",Rt.style.fontFamily=Pt,Bt.append(Rt)}this._document.body.append(Bt),j(g,()=>{Bt.remove(),st.complete()})}};class zt{constructor(Et,{isEvalSupported:s=!0,disableFontFace:st=!1,ignoreErrors:Tt=!1,onUnsupportedFeature:wt,fontRegistry:e=null}){this.compiledGlyphs=Object.create(null);for(const gt in Et)this[gt]=Et[gt];this.isEvalSupported=s!==!1,this.disableFontFace=st===!0,this.ignoreErrors=Tt===!0,this._onUnsupportedFeature=wt,this.fontRegistry=e}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let Et;if(!this.cssFontInfo)Et=new FontFace(this.loadedName,this.data,{});else{const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),Et=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}return this.fontRegistry&&this.fontRegistry.registerFont(this),Et}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const Et=(0,_e.bytesToString)(this.data),s=`url(data:${this.mimetype};base64,${btoa(Et)});`;let st;if(!this.cssFontInfo)st=`@font-face {font-family:"${this.loadedName}";src:${s}}`;else{let Tt=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(Tt+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),st=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${Tt}src:${s}}`}return this.fontRegistry&&this.fontRegistry.registerFont(this,s),st}getPathGenerator(Et,s){if(this.compiledGlyphs[s]!==void 0)return this.compiledGlyphs[s];let st;try{st=Et.get(this.loadedName+"_path_"+s)}catch(Tt){if(!this.ignoreErrors)throw Tt;return this._onUnsupportedFeature({featureId:_e.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,_e.warn)(`getPathGenerator - ignoring character: "${Tt}".`),this.compiledGlyphs[s]=function(wt,e){}}if(this.isEvalSupported&&_e.FeatureTest.isEvalSupported){const Tt=[];for(const wt of st){const e=wt.args!==void 0?wt.args.join(","):"";Tt.push("c.",wt.cmd,"(",e,`);
`)}return this.compiledGlyphs[s]=new Function("c","size",Tt.join(""))}return this.compiledGlyphs[s]=function(Tt,wt){for(const e of st)e.cmd==="scale"&&(e.args=[wt,-wt]),Tt[e.cmd].apply(Tt,e.args)}}}a.FontFaceObject=zt},(i,a,c)=>{var at,t1;Object.defineProperty(a,"__esModule",{value:!0}),a.CanvasGraphics=void 0;var _e=c(8),ot=c(1),$t=c(13),zt=c(14),ct=c(3);const Et=16,s=100,st=4096,Tt=15,wt=10,e=ct.isNodeJS&&typeof Path2D>"u"?-1:1e3,gt=16;function _(ht,vt){if(ht._removeMirroring)throw new Error("Context is already forwarding operations.");ht.__originalSave=ht.save,ht.__originalRestore=ht.restore,ht.__originalRotate=ht.rotate,ht.__originalScale=ht.scale,ht.__originalTranslate=ht.translate,ht.__originalTransform=ht.transform,ht.__originalSetTransform=ht.setTransform,ht.__originalResetTransform=ht.resetTransform,ht.__originalClip=ht.clip,ht.__originalMoveTo=ht.moveTo,ht.__originalLineTo=ht.lineTo,ht.__originalBezierCurveTo=ht.bezierCurveTo,ht.__originalRect=ht.rect,ht.__originalClosePath=ht.closePath,ht.__originalBeginPath=ht.beginPath,ht._removeMirroring=()=>{ht.save=ht.__originalSave,ht.restore=ht.__originalRestore,ht.rotate=ht.__originalRotate,ht.scale=ht.__originalScale,ht.translate=ht.__originalTranslate,ht.transform=ht.__originalTransform,ht.setTransform=ht.__originalSetTransform,ht.resetTransform=ht.__originalResetTransform,ht.clip=ht.__originalClip,ht.moveTo=ht.__originalMoveTo,ht.lineTo=ht.__originalLineTo,ht.bezierCurveTo=ht.__originalBezierCurveTo,ht.rect=ht.__originalRect,ht.closePath=ht.__originalClosePath,ht.beginPath=ht.__originalBeginPath,delete ht._removeMirroring},ht.save=function(){vt.save(),this.__originalSave()},ht.restore=function(){vt.restore(),this.__originalRestore()},ht.translate=function(At,Nt){vt.translate(At,Nt),this.__originalTranslate(At,Nt)},ht.scale=function(At,Nt){vt.scale(At,Nt),this.__originalScale(At,Nt)},ht.transform=function(At,Nt,Ht,xt,rt,mt){vt.transform(At,Nt,Ht,xt,rt,mt),this.__originalTransform(At,Nt,Ht,xt,rt,mt)},ht.setTransform=function(At,Nt,Ht,xt,rt,mt){vt.setTransform(At,Nt,Ht,xt,rt,mt),this.__originalSetTransform(At,Nt,Ht,xt,rt,mt)},ht.resetTransform=function(){vt.resetTransform(),this.__originalResetTransform()},ht.rotate=function(At){vt.rotate(At),this.__originalRotate(At)},ht.clip=function(At){vt.clip(At),this.__originalClip(At)},ht.moveTo=function(yt,At){vt.moveTo(yt,At),this.__originalMoveTo(yt,At)},ht.lineTo=function(yt,At){vt.lineTo(yt,At),this.__originalLineTo(yt,At)},ht.bezierCurveTo=function(yt,At,Nt,Ht,xt,rt){vt.bezierCurveTo(yt,At,Nt,Ht,xt,rt),this.__originalBezierCurveTo(yt,At,Nt,Ht,xt,rt)},ht.rect=function(yt,At,Nt,Ht){vt.rect(yt,At,Nt,Ht),this.__originalRect(yt,At,Nt,Ht)},ht.closePath=function(){vt.closePath(),this.__originalClosePath()},ht.beginPath=function(){vt.beginPath(),this.__originalBeginPath()}}class ${constructor(vt){this.canvasFactory=vt,this.cache=Object.create(null)}getCanvas(vt,yt,At){let Nt;return this.cache[vt]!==void 0?(Nt=this.cache[vt],this.canvasFactory.reset(Nt,yt,At)):(Nt=this.canvasFactory.create(yt,At),this.cache[vt]=Nt),Nt}delete(vt){delete this.cache[vt]}clear(){for(const vt in this.cache){const yt=this.cache[vt];this.canvasFactory.destroy(yt),delete this.cache[vt]}}}function d(ht,vt,yt,At,Nt,Ht,xt,rt,mt,Mt){const[_t,Lt,It,Dt,jt,Ot]=(0,_e.getCurrentTransform)(ht);if(Lt===0&&It===0){const Gt=xt*_t+jt,qt=Math.round(Gt),Kt=rt*Dt+Ot,Vt=Math.round(Kt),Yt=(xt+mt)*_t+jt,Zt=Math.abs(Math.round(Yt)-qt)||1,Qt=(rt+Mt)*Dt+Ot,en=Math.abs(Math.round(Qt)-Vt)||1;return ht.setTransform(Math.sign(_t),0,0,Math.sign(Dt),qt,Vt),ht.drawImage(vt,yt,At,Nt,Ht,0,0,Zt,en),ht.setTransform(_t,Lt,It,Dt,jt,Ot),[Zt,en]}if(_t===0&&Dt===0){const Gt=rt*It+jt,qt=Math.round(Gt),Kt=xt*Lt+Ot,Vt=Math.round(Kt),Yt=(rt+Mt)*It+jt,Zt=Math.abs(Math.round(Yt)-qt)||1,Qt=(xt+mt)*Lt+Ot,en=Math.abs(Math.round(Qt)-Vt)||1;return ht.setTransform(0,Math.sign(Lt),Math.sign(It),0,qt,Vt),ht.drawImage(vt,yt,At,Nt,Ht,0,0,en,Zt),ht.setTransform(_t,Lt,It,Dt,jt,Ot),[en,Zt]}ht.drawImage(vt,yt,At,Nt,Ht,xt,rt,mt,Mt);const Xt=Math.hypot(_t,Lt),Ut=Math.hypot(It,Dt);return[Xt*mt,Ut*Mt]}function j(ht){const{width:vt,height:yt}=ht;if(vt>e||yt>e)return null;const At=1e3,Nt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Ht=vt+1;let xt=new Uint8Array(Ht*(yt+1)),rt,mt,Mt;const _t=vt+7&-8;let Lt=new Uint8Array(_t*yt),It=0;for(const Ut of ht.data){let Gt=128;for(;Gt>0;)Lt[It++]=Ut&Gt?0:255,Gt>>=1}let Dt=0;for(It=0,Lt[It]!==0&&(xt[0]=1,++Dt),mt=1;mt<vt;mt++)Lt[It]!==Lt[It+1]&&(xt[mt]=Lt[It]?2:1,++Dt),It++;for(Lt[It]!==0&&(xt[mt]=2,++Dt),rt=1;rt<yt;rt++){It=rt*_t,Mt=rt*Ht,Lt[It-_t]!==Lt[It]&&(xt[Mt]=Lt[It]?1:8,++Dt);let Ut=(Lt[It]?4:0)+(Lt[It-_t]?8:0);for(mt=1;mt<vt;mt++)Ut=(Ut>>2)+(Lt[It+1]?4:0)+(Lt[It-_t+1]?8:0),Nt[Ut]&&(xt[Mt+mt]=Nt[Ut],++Dt),It++;if(Lt[It-_t]!==Lt[It]&&(xt[Mt+mt]=Lt[It]?2:4,++Dt),Dt>At)return null}for(It=_t*(yt-1),Mt=rt*Ht,Lt[It]!==0&&(xt[Mt]=8,++Dt),mt=1;mt<vt;mt++)Lt[It]!==Lt[It+1]&&(xt[Mt+mt]=Lt[It]?4:8,++Dt),It++;if(Lt[It]!==0&&(xt[Mt+mt]=4,++Dt),Dt>At)return null;const jt=new Int32Array([0,Ht,-1,0,-Ht,0,0,0,1]),Ot=new Path2D;for(rt=0;Dt&&rt<=yt;rt++){let Ut=rt*Ht;const Gt=Ut+vt;for(;Ut<Gt&&!xt[Ut];)Ut++;if(Ut===Gt)continue;Ot.moveTo(Ut%Ht,rt);const qt=Ut;let Kt=xt[Ut];do{const Vt=jt[Kt];do Ut+=Vt;while(!xt[Ut]);const Yt=xt[Ut];Yt!==5&&Yt!==10?(Kt=Yt,xt[Ut]=0):(Kt=Yt&51*Kt>>4,xt[Ut]&=Kt>>2|Kt<<2),Ot.lineTo(Ut%Ht,Ut/Ht|0),xt[Ut]||--Dt}while(qt!==Ut);--rt}return Lt=null,xt=null,function(Ut){Ut.save(),Ut.scale(1/vt,-1/yt),Ut.translate(0,-yt),Ut.fill(Ot),Ut.beginPath(),Ut.restore()}}class g{constructor(vt,yt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=ot.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=ot.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=ot.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,vt,yt])}clone(){const vt=Object.create(this);return vt.clipBox=this.clipBox.slice(),vt}setCurrentPoint(vt,yt){this.x=vt,this.y=yt}updatePathMinMax(vt,yt,At){[yt,At]=ot.Util.applyTransform([yt,At],vt),this.minX=Math.min(this.minX,yt),this.minY=Math.min(this.minY,At),this.maxX=Math.max(this.maxX,yt),this.maxY=Math.max(this.maxY,At)}updateRectMinMax(vt,yt){const At=ot.Util.applyTransform(yt,vt),Nt=ot.Util.applyTransform(yt.slice(2),vt);this.minX=Math.min(this.minX,At[0],Nt[0]),this.minY=Math.min(this.minY,At[1],Nt[1]),this.maxX=Math.max(this.maxX,At[0],Nt[0]),this.maxY=Math.max(this.maxY,At[1],Nt[1])}updateScalingPathMinMax(vt,yt){ot.Util.scaleMinMax(vt,yt),this.minX=Math.min(this.minX,yt[0]),this.maxX=Math.max(this.maxX,yt[1]),this.minY=Math.min(this.minY,yt[2]),this.maxY=Math.max(this.maxY,yt[3])}updateCurvePathMinMax(vt,yt,At,Nt,Ht,xt,rt,mt,Mt,_t){const Lt=ot.Util.bezierBoundingBox(yt,At,Nt,Ht,xt,rt,mt,Mt);if(_t){_t[0]=Math.min(_t[0],Lt[0],Lt[2]),_t[1]=Math.max(_t[1],Lt[0],Lt[2]),_t[2]=Math.min(_t[2],Lt[1],Lt[3]),_t[3]=Math.max(_t[3],Lt[1],Lt[3]);return}this.updateRectMinMax(vt,Lt)}getPathBoundingBox(vt=$t.PathType.FILL,yt=null){const At=[this.minX,this.minY,this.maxX,this.maxY];if(vt===$t.PathType.STROKE){yt||(0,ot.unreachable)("Stroke bounding box must include transform.");const Nt=ot.Util.singularValueDecompose2dScale(yt),Ht=Nt[0]*this.lineWidth/2,xt=Nt[1]*this.lineWidth/2;At[0]-=Ht,At[1]-=xt,At[2]+=Ht,At[3]+=xt}return At}updateClipFromPath(){const vt=ot.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(vt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(vt){this.clipBox=vt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(vt=$t.PathType.FILL,yt=null){return ot.Util.intersect(this.clipBox,this.getPathBoundingBox(vt,yt))}}function o(ht,vt,yt=null){if(typeof ImageData<"u"&&vt instanceof ImageData){ht.putImageData(vt,0,0);return}const At=vt.height,Nt=vt.width,Ht=At%gt,xt=(At-Ht)/gt,rt=Ht===0?xt:xt+1,mt=ht.createImageData(Nt,gt);let Mt=0,_t;const Lt=vt.data,It=mt.data;let Dt,jt,Ot,Xt,Ut,Gt,qt,Kt;if(yt)switch(yt.length){case 1:Ut=yt[0],Gt=yt[0],qt=yt[0],Kt=yt[0];break;case 4:Ut=yt[0],Gt=yt[1],qt=yt[2],Kt=yt[3];break}if(vt.kind===ot.ImageKind.GRAYSCALE_1BPP){const Vt=Lt.byteLength,Yt=new Uint32Array(It.buffer,0,It.byteLength>>2),Zt=Yt.length,Qt=Nt+7>>3;let en=4294967295,rn=ot.FeatureTest.isLittleEndian?4278190080:255;for(Kt&&Kt[0]===255&&Kt[255]===0&&([en,rn]=[rn,en]),Dt=0;Dt<rt;Dt++){for(Ot=Dt<xt?gt:Ht,_t=0,jt=0;jt<Ot;jt++){const an=Vt-Mt;let fn=0;const un=an>Qt?Nt:an*8-7,pn=un&-8;let yn=0,On=0;for(;fn<pn;fn+=8)On=Lt[Mt++],Yt[_t++]=On&128?en:rn,Yt[_t++]=On&64?en:rn,Yt[_t++]=On&32?en:rn,Yt[_t++]=On&16?en:rn,Yt[_t++]=On&8?en:rn,Yt[_t++]=On&4?en:rn,Yt[_t++]=On&2?en:rn,Yt[_t++]=On&1?en:rn;for(;fn<un;fn++)yn===0&&(On=Lt[Mt++],yn=128),Yt[_t++]=On&yn?en:rn,yn>>=1}for(;_t<Zt;)Yt[_t++]=0;ht.putImageData(mt,0,Dt*gt)}}else if(vt.kind===ot.ImageKind.RGBA_32BPP){const Vt=!!(Ut||Gt||qt);for(jt=0,Xt=Nt*gt*4,Dt=0;Dt<xt;Dt++){if(It.set(Lt.subarray(Mt,Mt+Xt)),Mt+=Xt,Vt)for(let Yt=0;Yt<Xt;Yt+=4)Ut&&(It[Yt+0]=Ut[It[Yt+0]]),Gt&&(It[Yt+1]=Gt[It[Yt+1]]),qt&&(It[Yt+2]=qt[It[Yt+2]]);ht.putImageData(mt,0,jt),jt+=gt}if(Dt<rt){if(Xt=Nt*Ht*4,It.set(Lt.subarray(Mt,Mt+Xt)),Vt)for(let Yt=0;Yt<Xt;Yt+=4)Ut&&(It[Yt+0]=Ut[It[Yt+0]]),Gt&&(It[Yt+1]=Gt[It[Yt+1]]),qt&&(It[Yt+2]=qt[It[Yt+2]]);ht.putImageData(mt,0,jt)}}else if(vt.kind===ot.ImageKind.RGB_24BPP){const Vt=!!(Ut||Gt||qt);for(Ot=gt,Xt=Nt*Ot,Dt=0;Dt<rt;Dt++){for(Dt>=xt&&(Ot=Ht,Xt=Nt*Ot),_t=0,jt=Xt;jt--;)It[_t++]=Lt[Mt++],It[_t++]=Lt[Mt++],It[_t++]=Lt[Mt++],It[_t++]=255;if(Vt)for(let Yt=0;Yt<_t;Yt+=4)Ut&&(It[Yt+0]=Ut[It[Yt+0]]),Gt&&(It[Yt+1]=Gt[It[Yt+1]]),qt&&(It[Yt+2]=qt[It[Yt+2]]);ht.putImageData(mt,0,Dt*gt)}}else throw new Error(`bad image kind: ${vt.kind}`)}function ut(ht,vt){if(vt.bitmap){ht.drawImage(vt.bitmap,0,0);return}const yt=vt.height,At=vt.width,Nt=yt%gt,Ht=(yt-Nt)/gt,xt=Nt===0?Ht:Ht+1,rt=ht.createImageData(At,gt);let mt=0;const Mt=vt.data,_t=rt.data;for(let Lt=0;Lt<xt;Lt++){const It=Lt<Ht?gt:Nt;({srcPos:mt}=(0,zt.applyMaskImageData)({src:Mt,srcPos:mt,dest:_t,width:At,height:It})),ht.putImageData(rt,0,Lt*gt)}}function dt(ht,vt){const yt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let At=0,Nt=yt.length;At<Nt;At++){const Ht=yt[At];ht[Ht]!==void 0&&(vt[Ht]=ht[Ht])}ht.setLineDash!==void 0&&(vt.setLineDash(ht.getLineDash()),vt.lineDashOffset=ht.lineDashOffset)}function b(ht,vt){ht.strokeStyle=ht.fillStyle=vt||"#000000",ht.fillRule="nonzero",ht.globalAlpha=1,ht.lineWidth=1,ht.lineCap="butt",ht.lineJoin="miter",ht.miterLimit=10,ht.globalCompositeOperation="source-over",ht.font="10px sans-serif",ht.setLineDash!==void 0&&(ht.setLineDash([]),ht.lineDashOffset=0)}function h(ht,vt,yt,At){const Nt=ht.length;for(let Ht=3;Ht<Nt;Ht+=4){const xt=ht[Ht];if(xt===0)ht[Ht-3]=vt,ht[Ht-2]=yt,ht[Ht-1]=At;else if(xt<255){const rt=255-xt;ht[Ht-3]=ht[Ht-3]*xt+vt*rt>>8,ht[Ht-2]=ht[Ht-2]*xt+yt*rt>>8,ht[Ht-1]=ht[Ht-1]*xt+At*rt>>8}}}function et(ht,vt,yt){const At=ht.length,Nt=1/255;for(let Ht=3;Ht<At;Ht+=4){const xt=yt?yt[ht[Ht]]:ht[Ht];vt[Ht]=vt[Ht]*xt*Nt|0}}function nt(ht,vt,yt){const At=ht.length;for(let Nt=3;Nt<At;Nt+=4){const Ht=ht[Nt-3]*77+ht[Nt-2]*152+ht[Nt-1]*28;vt[Nt]=yt?vt[Nt]*yt[Ht>>8]>>8:vt[Nt]*Ht>>16}}function pt(ht,vt,yt,At,Nt,Ht,xt,rt,mt,Mt,_t){const Lt=!!Ht,It=Lt?Ht[0]:0,Dt=Lt?Ht[1]:0,jt=Lt?Ht[2]:0;let Ot;Nt==="Luminosity"?Ot=nt:Ot=et;const Ut=Math.min(At,Math.ceil(1048576/yt));for(let Gt=0;Gt<At;Gt+=Ut){const qt=Math.min(Ut,At-Gt),Kt=ht.getImageData(rt-Mt,Gt+(mt-_t),yt,qt),Vt=vt.getImageData(rt,Gt+mt,yt,qt);Lt&&h(Kt.data,It,Dt,jt),Ot(Kt.data,Vt.data,xt),vt.putImageData(Vt,rt,Gt+mt)}}function Bt(ht,vt,yt,At){const Nt=At[0],Ht=At[1],xt=At[2]-Nt,rt=At[3]-Ht;xt===0||rt===0||(pt(vt.context,yt,xt,rt,vt.subtype,vt.backdrop,vt.transferMap,Nt,Ht,vt.offsetX,vt.offsetY),ht.save(),ht.globalAlpha=1,ht.globalCompositeOperation="source-over",ht.setTransform(1,0,0,1,0,0),ht.drawImage(yt.canvas,0,0),ht.restore())}function Pt(ht,vt){const yt=ot.Util.singularValueDecompose2dScale(ht);yt[0]=Math.fround(yt[0]),yt[1]=Math.fround(yt[1]);const At=Math.fround((globalThis.devicePixelRatio||1)*_e.PixelsPerInch.PDF_TO_CSS_UNITS);return vt!==void 0?vt:yt[0]<=At||yt[1]<=At}const Rt=["butt","round","square"],Ft=["miter","round","bevel"],lt={},ft={},St=class St{constructor(vt,yt,At,Nt,Ht,xt,rt,mt){Rn(this,at);this.ctx=vt,this.current=new g(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=yt,this.objs=At,this.canvasFactory=Nt,this.imageLayer=Ht,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=xt,this.cachedCanvases=new $(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=rt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(mt==null?void 0:mt.background)||null,this.foregroundColor=(mt==null?void 0:mt.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(vt,yt=null){return typeof vt=="string"?vt.startsWith("g_")?this.commonObjs.get(vt):this.objs.get(vt):yt}beginDrawing({transform:vt,viewport:yt,transparency:At=!1,background:Nt=null}){const Ht=this.ctx.canvas.width,xt=this.ctx.canvas.height,rt=Nt||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const mt=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const Mt=this.backgroundColor=this.ctx.fillStyle;let _t=!0,Lt=rt;if(this.ctx.fillStyle=rt,Lt=this.ctx.fillStyle,_t=typeof Lt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Lt),mt==="#000000"&&Mt==="#ffffff"||mt===Mt||!_t)this.foregroundColor=this.backgroundColor=null;else{const[It,Dt,jt]=(0,_e.getRGB)(Lt),Ot=Ut=>(Ut/=255,Ut<=.03928?Ut/12.92:((Ut+.055)/1.055)**2.4),Xt=Math.round(.2126*Ot(It)+.7152*Ot(Dt)+.0722*Ot(jt));this.selectColor=(Ut,Gt,qt)=>{const Kt=.2126*Ot(Ut)+.7152*Ot(Gt)+.0722*Ot(qt);return Math.round(Kt)===Xt?Mt:mt}}}if(this.ctx.fillStyle=this.backgroundColor||rt,this.ctx.fillRect(0,0,Ht,xt),this.ctx.restore(),At){const mt=this.cachedCanvases.getCanvas("transparent",Ht,xt);this.compositeCtx=this.ctx,this.transparentCanvas=mt.canvas,this.ctx=mt.context,this.ctx.save(),this.ctx.transform(...(0,_e.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),b(this.ctx,this.foregroundColor),vt&&(this.ctx.transform(...vt),this.outputScaleX=vt[0],this.outputScaleY=vt[0]),this.ctx.transform(...yt.transform),this.viewportScale=yt.scale,this.baseTransform=(0,_e.getCurrentTransform)(this.ctx),this.imageLayer&&((0,_e.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(vt,yt,At,Nt){const Ht=vt.argsArray,xt=vt.fnArray;let rt=yt||0;const mt=Ht.length;if(mt===rt)return rt;const Mt=mt-rt>wt&&typeof At=="function",_t=Mt?Date.now()+Tt:0;let Lt=0;const It=this.commonObjs,Dt=this.objs;let jt;for(;;){if(Nt!==void 0&&rt===Nt.nextBreakPoint)return Nt.breakIt(rt,At),rt;if(jt=xt[rt],jt!==ot.OPS.dependency)this[jt].apply(this,Ht[rt]);else for(const Ot of Ht[rt]){const Xt=Ot.startsWith("g_")?It:Dt;if(!Xt.has(Ot))return Xt.get(Ot,At),rt}if(rt++,rt===mt)return rt;if(Mt&&++Lt>wt){if(Date.now()>_t)return At(),rt;Lt=0}}}endDrawing(){wn(this,at,t1).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const vt of this._cachedBitmapsMap.values()){for(const yt of vt.values())typeof HTMLCanvasElement<"u"&&yt instanceof HTMLCanvasElement&&(yt.width=yt.height=0);vt.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(vt,yt){const At=vt.width,Nt=vt.height;let Ht=Math.max(Math.hypot(yt[0],yt[1]),1),xt=Math.max(Math.hypot(yt[2],yt[3]),1),rt=At,mt=Nt,Mt="prescale1",_t,Lt;for(;Ht>2&&rt>1||xt>2&&mt>1;){let It=rt,Dt=mt;Ht>2&&rt>1&&(It=Math.ceil(rt/2),Ht/=rt/It),xt>2&&mt>1&&(Dt=Math.ceil(mt/2),xt/=mt/Dt),_t=this.cachedCanvases.getCanvas(Mt,It,Dt),Lt=_t.context,Lt.clearRect(0,0,It,Dt),Lt.drawImage(vt,0,0,rt,mt,0,0,It,Dt),vt=_t.canvas,rt=It,mt=Dt,Mt=Mt==="prescale1"?"prescale2":"prescale1"}return{img:vt,paintWidth:rt,paintHeight:mt}}_createMaskCanvas(vt){const yt=this.ctx,{width:At,height:Nt}=vt,Ht=this.current.fillColor,xt=this.current.patternFill,rt=(0,_e.getCurrentTransform)(yt);let mt,Mt,_t,Lt;if((vt.bitmap||vt.data)&&vt.count>1){const Zt=vt.bitmap||vt.data.buffer,Qt=rt.slice(0,4);Mt=JSON.stringify(xt?Qt:[Qt,Ht]),mt=this._cachedBitmapsMap.get(Zt),mt||(mt=new Map,this._cachedBitmapsMap.set(Zt,mt));const en=mt.get(Mt);if(en&&!xt){const rn=Math.round(Math.min(rt[0],rt[2])+rt[4]),an=Math.round(Math.min(rt[1],rt[3])+rt[5]);return{canvas:en,offsetX:rn,offsetY:an}}_t=en}_t||(Lt=this.cachedCanvases.getCanvas("maskCanvas",At,Nt),ut(Lt.context,vt));let It=ot.Util.transform(rt,[1/At,0,0,-1/Nt,0,0]);It=ot.Util.transform(It,[1,0,0,1,0,-Nt]);const Dt=ot.Util.applyTransform([0,0],It),jt=ot.Util.applyTransform([At,Nt],It),Ot=ot.Util.normalizeRect([Dt[0],Dt[1],jt[0],jt[1]]),Xt=Math.round(Ot[2]-Ot[0])||1,Ut=Math.round(Ot[3]-Ot[1])||1,Gt=this.cachedCanvases.getCanvas("fillCanvas",Xt,Ut),qt=Gt.context,Kt=Math.min(Dt[0],jt[0]),Vt=Math.min(Dt[1],jt[1]);qt.translate(-Kt,-Vt),qt.transform(...It),_t||(_t=this._scaleImage(Lt.canvas,(0,_e.getCurrentTransformInverse)(qt)),_t=_t.img,mt&&xt&&mt.set(Mt,_t)),qt.imageSmoothingEnabled=Pt((0,_e.getCurrentTransform)(qt),vt.interpolate),d(qt,_t,0,0,_t.width,_t.height,0,0,At,Nt),qt.globalCompositeOperation="source-in";const Yt=ot.Util.transform((0,_e.getCurrentTransformInverse)(qt),[1,0,0,1,-Kt,-Vt]);return qt.fillStyle=xt?Ht.getPattern(yt,this,Yt,$t.PathType.FILL):Ht,qt.fillRect(0,0,At,Nt),mt&&!xt&&(this.cachedCanvases.delete("fillCanvas"),mt.set(Mt,Gt.canvas)),{canvas:Gt.canvas,offsetX:Math.round(Kt),offsetY:Math.round(Vt)}}setLineWidth(vt){vt!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=vt,this.ctx.lineWidth=vt}setLineCap(vt){this.ctx.lineCap=Rt[vt]}setLineJoin(vt){this.ctx.lineJoin=Ft[vt]}setMiterLimit(vt){this.ctx.miterLimit=vt}setDash(vt,yt){const At=this.ctx;At.setLineDash!==void 0&&(At.setLineDash(vt),At.lineDashOffset=yt)}setRenderingIntent(vt){}setFlatness(vt){}setGState(vt){for(let yt=0,At=vt.length;yt<At;yt++){const Nt=vt[yt],Ht=Nt[0],xt=Nt[1];switch(Ht){case"LW":this.setLineWidth(xt);break;case"LC":this.setLineCap(xt);break;case"LJ":this.setLineJoin(xt);break;case"ML":this.setMiterLimit(xt);break;case"D":this.setDash(xt[0],xt[1]);break;case"RI":this.setRenderingIntent(xt);break;case"FL":this.setFlatness(xt);break;case"Font":this.setFont(xt[0],xt[1]);break;case"CA":this.current.strokeAlpha=Nt[1];break;case"ca":this.current.fillAlpha=Nt[1],this.ctx.globalAlpha=Nt[1];break;case"BM":this.ctx.globalCompositeOperation=xt;break;case"SMask":this.current.activeSMask=xt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=xt}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const vt=this.inSMaskMode;this.current.activeSMask&&!vt?this.beginSMaskMode():!this.current.activeSMask&&vt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const vt=this.ctx.canvas.width,yt=this.ctx.canvas.height,At="smaskGroupAt"+this.groupLevel,Nt=this.cachedCanvases.getCanvas(At,vt,yt);this.suspendedCtx=this.ctx,this.ctx=Nt.context;const Ht=this.ctx;Ht.setTransform(...(0,_e.getCurrentTransform)(this.suspendedCtx)),dt(this.suspendedCtx,Ht),_(Ht,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),dt(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(vt){if(!this.current.activeSMask)return;vt?(vt[0]=Math.floor(vt[0]),vt[1]=Math.floor(vt[1]),vt[2]=Math.ceil(vt[2]),vt[3]=Math.ceil(vt[3])):vt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const yt=this.current.activeSMask,At=this.suspendedCtx;Bt(At,yt,this.ctx,vt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(dt(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const vt=this.current;this.stateStack.push(vt),this.current=vt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),dt(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(vt,yt,At,Nt,Ht,xt){this.ctx.transform(vt,yt,At,Nt,Ht,xt),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(vt,yt,At){const Nt=this.ctx,Ht=this.current;let xt=Ht.x,rt=Ht.y,mt,Mt;const _t=(0,_e.getCurrentTransform)(Nt),Lt=_t[0]===0&&_t[3]===0||_t[1]===0&&_t[2]===0,It=Lt?At.slice(0):null;for(let Dt=0,jt=0,Ot=vt.length;Dt<Ot;Dt++)switch(vt[Dt]|0){case ot.OPS.rectangle:xt=yt[jt++],rt=yt[jt++];const Xt=yt[jt++],Ut=yt[jt++],Gt=xt+Xt,qt=rt+Ut;Nt.moveTo(xt,rt),Xt===0||Ut===0?Nt.lineTo(Gt,qt):(Nt.lineTo(Gt,rt),Nt.lineTo(Gt,qt),Nt.lineTo(xt,qt)),Lt||Ht.updateRectMinMax(_t,[xt,rt,Gt,qt]),Nt.closePath();break;case ot.OPS.moveTo:xt=yt[jt++],rt=yt[jt++],Nt.moveTo(xt,rt),Lt||Ht.updatePathMinMax(_t,xt,rt);break;case ot.OPS.lineTo:xt=yt[jt++],rt=yt[jt++],Nt.lineTo(xt,rt),Lt||Ht.updatePathMinMax(_t,xt,rt);break;case ot.OPS.curveTo:mt=xt,Mt=rt,xt=yt[jt+4],rt=yt[jt+5],Nt.bezierCurveTo(yt[jt],yt[jt+1],yt[jt+2],yt[jt+3],xt,rt),Ht.updateCurvePathMinMax(_t,mt,Mt,yt[jt],yt[jt+1],yt[jt+2],yt[jt+3],xt,rt,It),jt+=6;break;case ot.OPS.curveTo2:mt=xt,Mt=rt,Nt.bezierCurveTo(xt,rt,yt[jt],yt[jt+1],yt[jt+2],yt[jt+3]),Ht.updateCurvePathMinMax(_t,mt,Mt,xt,rt,yt[jt],yt[jt+1],yt[jt+2],yt[jt+3],It),xt=yt[jt+2],rt=yt[jt+3],jt+=4;break;case ot.OPS.curveTo3:mt=xt,Mt=rt,xt=yt[jt+2],rt=yt[jt+3],Nt.bezierCurveTo(yt[jt],yt[jt+1],xt,rt,xt,rt),Ht.updateCurvePathMinMax(_t,mt,Mt,yt[jt],yt[jt+1],xt,rt,xt,rt,It),jt+=4;break;case ot.OPS.closePath:Nt.closePath();break}Lt&&Ht.updateScalingPathMinMax(_t,It),Ht.setCurrentPoint(xt,rt)}closePath(){this.ctx.closePath()}stroke(vt){vt=typeof vt<"u"?vt:!0;const yt=this.ctx,At=this.current.strokeColor;yt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof At=="object"&&(At!=null&&At.getPattern)?(yt.save(),yt.strokeStyle=At.getPattern(yt,this,(0,_e.getCurrentTransformInverse)(yt),$t.PathType.STROKE),this.rescaleAndStroke(!1),yt.restore()):this.rescaleAndStroke(!0)),vt&&this.consumePath(this.current.getClippedPathBoundingBox()),yt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(vt){vt=typeof vt<"u"?vt:!0;const yt=this.ctx,At=this.current.fillColor,Nt=this.current.patternFill;let Ht=!1;Nt&&(yt.save(),yt.fillStyle=At.getPattern(yt,this,(0,_e.getCurrentTransformInverse)(yt),$t.PathType.FILL),Ht=!0);const xt=this.current.getClippedPathBoundingBox();this.contentVisible&&xt!==null&&(this.pendingEOFill?(yt.fill("evenodd"),this.pendingEOFill=!1):yt.fill()),Ht&&yt.restore(),vt&&this.consumePath(xt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=lt}eoClip(){this.pendingClip=ft}beginText(){this.current.textMatrix=ot.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const vt=this.pendingTextPaths,yt=this.ctx;if(vt===void 0){yt.beginPath();return}yt.save(),yt.beginPath();for(const At of vt)yt.setTransform(...At.transform),yt.translate(At.x,At.y),At.addToPath(yt,At.fontSize);yt.restore(),yt.clip(),yt.beginPath(),delete this.pendingTextPaths}setCharSpacing(vt){this.current.charSpacing=vt}setWordSpacing(vt){this.current.wordSpacing=vt}setHScale(vt){this.current.textHScale=vt/100}setLeading(vt){this.current.leading=-vt}setFont(vt,yt){const At=this.commonObjs.get(vt),Nt=this.current;if(!At)throw new Error(`Can't find font for ${vt}`);if(Nt.fontMatrix=At.fontMatrix||ot.FONT_IDENTITY_MATRIX,(Nt.fontMatrix[0]===0||Nt.fontMatrix[3]===0)&&(0,ot.warn)("Invalid font matrix for font "+vt),yt<0?(yt=-yt,Nt.fontDirection=-1):Nt.fontDirection=1,this.current.font=At,this.current.fontSize=yt,At.isType3Font)return;const Ht=At.loadedName||"sans-serif";let xt="normal";At.black?xt="900":At.bold&&(xt="bold");const rt=At.italic?"italic":"normal",mt=`"${Ht}", ${At.fallbackName}`;let Mt=yt;yt<Et?Mt=Et:yt>s&&(Mt=s),this.current.fontSizeScale=yt/Mt,this.ctx.font=`${rt} ${xt} ${Mt}px ${mt}`}setTextRenderingMode(vt){this.current.textRenderingMode=vt}setTextRise(vt){this.current.textRise=vt}moveText(vt,yt){this.current.x=this.current.lineX+=vt,this.current.y=this.current.lineY+=yt}setLeadingMoveText(vt,yt){this.setLeading(-yt),this.moveText(vt,yt)}setTextMatrix(vt,yt,At,Nt,Ht,xt){this.current.textMatrix=[vt,yt,At,Nt,Ht,xt],this.current.textMatrixScale=Math.hypot(vt,yt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(vt,yt,At,Nt){const Ht=this.ctx,xt=this.current,rt=xt.font,mt=xt.textRenderingMode,Mt=xt.fontSize/xt.fontSizeScale,_t=mt&ot.TextRenderingMode.FILL_STROKE_MASK,Lt=!!(mt&ot.TextRenderingMode.ADD_TO_PATH_FLAG),It=xt.patternFill&&!rt.missingFile;let Dt;(rt.disableFontFace||Lt||It)&&(Dt=rt.getPathGenerator(this.commonObjs,vt)),rt.disableFontFace||It?(Ht.save(),Ht.translate(yt,At),Ht.beginPath(),Dt(Ht,Mt),Nt&&Ht.setTransform(...Nt),(_t===ot.TextRenderingMode.FILL||_t===ot.TextRenderingMode.FILL_STROKE)&&Ht.fill(),(_t===ot.TextRenderingMode.STROKE||_t===ot.TextRenderingMode.FILL_STROKE)&&Ht.stroke(),Ht.restore()):((_t===ot.TextRenderingMode.FILL||_t===ot.TextRenderingMode.FILL_STROKE)&&Ht.fillText(vt,yt,At),(_t===ot.TextRenderingMode.STROKE||_t===ot.TextRenderingMode.FILL_STROKE)&&Ht.strokeText(vt,yt,At)),Lt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,_e.getCurrentTransform)(Ht),x:yt,y:At,fontSize:Mt,addToPath:Dt})}get isFontSubpixelAAEnabled(){const{context:vt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);vt.scale(1.5,1),vt.fillText("I",0,10);const yt=vt.getImageData(0,0,10,10).data;let At=!1;for(let Nt=3;Nt<yt.length;Nt+=4)if(yt[Nt]>0&&yt[Nt]<255){At=!0;break}return(0,ot.shadow)(this,"isFontSubpixelAAEnabled",At)}showText(vt){const yt=this.current,At=yt.font;if(At.isType3Font)return this.showType3Text(vt);const Nt=yt.fontSize;if(Nt===0)return;const Ht=this.ctx,xt=yt.fontSizeScale,rt=yt.charSpacing,mt=yt.wordSpacing,Mt=yt.fontDirection,_t=yt.textHScale*Mt,Lt=vt.length,It=At.vertical,Dt=It?1:-1,jt=At.defaultVMetrics,Ot=Nt*yt.fontMatrix[0],Xt=yt.textRenderingMode===ot.TextRenderingMode.FILL&&!At.disableFontFace&&!yt.patternFill;Ht.save(),Ht.transform(...yt.textMatrix),Ht.translate(yt.x,yt.y+yt.textRise),Mt>0?Ht.scale(_t,-1):Ht.scale(_t,1);let Ut;if(yt.patternFill){Ht.save();const Yt=yt.fillColor.getPattern(Ht,this,(0,_e.getCurrentTransformInverse)(Ht),$t.PathType.FILL);Ut=(0,_e.getCurrentTransform)(Ht),Ht.restore(),Ht.fillStyle=Yt}let Gt=yt.lineWidth;const qt=yt.textMatrixScale;if(qt===0||Gt===0){const Yt=yt.textRenderingMode&ot.TextRenderingMode.FILL_STROKE_MASK;(Yt===ot.TextRenderingMode.STROKE||Yt===ot.TextRenderingMode.FILL_STROKE)&&(Gt=this.getSinglePixelWidth())}else Gt/=qt;xt!==1&&(Ht.scale(xt,xt),Gt/=xt),Ht.lineWidth=Gt;let Kt=0,Vt;for(Vt=0;Vt<Lt;++Vt){const Yt=vt[Vt];if(typeof Yt=="number"){Kt+=Dt*Yt*Nt/1e3;continue}let Zt=!1;const Qt=(Yt.isSpace?mt:0)+rt,en=Yt.fontChar,rn=Yt.accent;let an,fn,un=Yt.width;if(It){const yn=Yt.vmetric||jt,On=-(Yt.vmetric?yn[1]:un*.5)*Ot,En=yn[2]*Ot;un=yn?-yn[0]:un,an=On/xt,fn=(Kt+En)/xt}else an=Kt/xt,fn=0;if(At.remeasure&&un>0){const yn=Ht.measureText(en).width*1e3/Nt*xt;if(un<yn&&this.isFontSubpixelAAEnabled){const On=un/yn;Zt=!0,Ht.save(),Ht.scale(On,1),an/=On}else un!==yn&&(an+=(un-yn)/2e3*Nt/xt)}if(this.contentVisible&&(Yt.isInFont||At.missingFile)){if(Xt&&!rn)Ht.fillText(en,an,fn);else if(this.paintChar(en,an,fn,Ut),rn){const yn=an+Nt*rn.offset.x/xt,On=fn-Nt*rn.offset.y/xt;this.paintChar(rn.fontChar,yn,On,Ut)}}let pn;It?pn=un*Ot-Qt*Mt:pn=un*Ot+Qt*Mt,Kt+=pn,Zt&&Ht.restore()}It?yt.y-=Kt:yt.x+=Kt*_t,Ht.restore(),this.compose()}showType3Text(vt){const yt=this.ctx,At=this.current,Nt=At.font,Ht=At.fontSize,xt=At.fontDirection,rt=Nt.vertical?1:-1,mt=At.charSpacing,Mt=At.wordSpacing,_t=At.textHScale*xt,Lt=At.fontMatrix||ot.FONT_IDENTITY_MATRIX,It=vt.length,Dt=At.textRenderingMode===ot.TextRenderingMode.INVISIBLE;let jt,Ot,Xt,Ut;if(!(Dt||Ht===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,yt.save(),yt.transform(...At.textMatrix),yt.translate(At.x,At.y),yt.scale(_t,xt),jt=0;jt<It;++jt){if(Ot=vt[jt],typeof Ot=="number"){Ut=rt*Ot*Ht/1e3,this.ctx.translate(Ut,0),At.x+=Ut*_t;continue}const Gt=(Ot.isSpace?Mt:0)+mt,qt=Nt.charProcOperatorList[Ot.operatorListId];if(!qt){(0,ot.warn)(`Type3 character "${Ot.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Ot,this.save(),yt.scale(Ht,Ht),yt.transform(...Lt),this.executeOperatorList(qt),this.restore()),Xt=ot.Util.applyTransform([Ot.width,0],Lt)[0]*Ht+Gt,yt.translate(Xt,0),At.x+=Xt*_t}yt.restore(),this.processingType3=null}}setCharWidth(vt,yt){}setCharWidthAndBounds(vt,yt,At,Nt,Ht,xt){this.ctx.rect(At,Nt,Ht-At,xt-Nt),this.ctx.clip(),this.endPath()}getColorN_Pattern(vt){let yt;if(vt[0]==="TilingPattern"){const At=vt[1],Nt=this.baseTransform||(0,_e.getCurrentTransform)(this.ctx),Ht={createCanvasGraphics:xt=>new St(xt,this.commonObjs,this.objs,this.canvasFactory)};yt=new $t.TilingPattern(vt,At,this.ctx,Ht,Nt)}else yt=this._getPattern(vt[1],vt[2]);return yt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(vt,yt,At){var Ht;const Nt=((Ht=this.selectColor)==null?void 0:Ht.call(this,vt,yt,At))||ot.Util.makeHexColor(vt,yt,At);this.ctx.strokeStyle=Nt,this.current.strokeColor=Nt}setFillRGBColor(vt,yt,At){var Ht;const Nt=((Ht=this.selectColor)==null?void 0:Ht.call(this,vt,yt,At))||ot.Util.makeHexColor(vt,yt,At);this.ctx.fillStyle=Nt,this.current.fillColor=Nt,this.current.patternFill=!1}_getPattern(vt,yt=null){let At;return this.cachedPatterns.has(vt)?At=this.cachedPatterns.get(vt):(At=(0,$t.getShadingPattern)(this.objs.get(vt)),this.cachedPatterns.set(vt,At)),yt&&(At.matrix=yt),At}shadingFill(vt){if(!this.contentVisible)return;const yt=this.ctx;this.save();const At=this._getPattern(vt);yt.fillStyle=At.getPattern(yt,this,(0,_e.getCurrentTransformInverse)(yt),$t.PathType.SHADING);const Nt=(0,_e.getCurrentTransformInverse)(yt);if(Nt){const Ht=yt.canvas,xt=Ht.width,rt=Ht.height,mt=ot.Util.applyTransform([0,0],Nt),Mt=ot.Util.applyTransform([0,rt],Nt),_t=ot.Util.applyTransform([xt,0],Nt),Lt=ot.Util.applyTransform([xt,rt],Nt),It=Math.min(mt[0],Mt[0],_t[0],Lt[0]),Dt=Math.min(mt[1],Mt[1],_t[1],Lt[1]),jt=Math.max(mt[0],Mt[0],_t[0],Lt[0]),Ot=Math.max(mt[1],Mt[1],_t[1],Lt[1]);this.ctx.fillRect(It,Dt,jt-It,Ot-Dt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,ot.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,ot.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(vt,yt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(vt)&&vt.length===6&&this.transform(...vt),this.baseTransform=(0,_e.getCurrentTransform)(this.ctx),yt)){const At=yt[2]-yt[0],Nt=yt[3]-yt[1];this.ctx.rect(yt[0],yt[1],At,Nt),this.current.updateRectMinMax((0,_e.getCurrentTransform)(this.ctx),yt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(vt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const yt=this.ctx;vt.isolated||(0,ot.info)("TODO: Support non-isolated groups."),vt.knockout&&(0,ot.warn)("Knockout groups not supported.");const At=(0,_e.getCurrentTransform)(yt);if(vt.matrix&&yt.transform(...vt.matrix),!vt.bbox)throw new Error("Bounding box is required.");let Nt=ot.Util.getAxialAlignedBoundingBox(vt.bbox,(0,_e.getCurrentTransform)(yt));const Ht=[0,0,yt.canvas.width,yt.canvas.height];Nt=ot.Util.intersect(Nt,Ht)||[0,0,0,0];const xt=Math.floor(Nt[0]),rt=Math.floor(Nt[1]);let mt=Math.max(Math.ceil(Nt[2])-xt,1),Mt=Math.max(Math.ceil(Nt[3])-rt,1),_t=1,Lt=1;mt>st&&(_t=mt/st,mt=st),Mt>st&&(Lt=Mt/st,Mt=st),this.current.startNewPathAndClipBox([0,0,mt,Mt]);let It="groupAt"+this.groupLevel;vt.smask&&(It+="_smask_"+this.smaskCounter++%2);const Dt=this.cachedCanvases.getCanvas(It,mt,Mt),jt=Dt.context;jt.scale(1/_t,1/Lt),jt.translate(-xt,-rt),jt.transform(...At),vt.smask?this.smaskStack.push({canvas:Dt.canvas,context:jt,offsetX:xt,offsetY:rt,scaleX:_t,scaleY:Lt,subtype:vt.smask.subtype,backdrop:vt.smask.backdrop,transferMap:vt.smask.transferMap||null,startTransformInverse:null}):(yt.setTransform(1,0,0,1,0,0),yt.translate(xt,rt),yt.scale(_t,Lt),yt.save()),dt(yt,jt),this.ctx=jt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(yt),this.groupLevel++}endGroup(vt){if(!this.contentVisible)return;this.groupLevel--;const yt=this.ctx,At=this.groupStack.pop();if(this.ctx=At,this.ctx.imageSmoothingEnabled=!1,vt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Nt=(0,_e.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Nt);const Ht=ot.Util.getAxialAlignedBoundingBox([0,0,yt.canvas.width,yt.canvas.height],Nt);this.ctx.drawImage(yt.canvas,0,0),this.ctx.restore(),this.compose(Ht)}}beginAnnotation(vt,yt,At,Nt,Ht){if(wn(this,at,t1).call(this),b(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(yt)&&yt.length===4){const xt=yt[2]-yt[0],rt=yt[3]-yt[1];if(Ht&&this.annotationCanvasMap){At=At.slice(),At[4]-=yt[0],At[5]-=yt[1],yt=yt.slice(),yt[0]=yt[1]=0,yt[2]=xt,yt[3]=rt;const[mt,Mt]=ot.Util.singularValueDecompose2dScale((0,_e.getCurrentTransform)(this.ctx)),{viewportScale:_t}=this,Lt=Math.ceil(xt*this.outputScaleX*_t),It=Math.ceil(rt*this.outputScaleY*_t);this.annotationCanvas=this.canvasFactory.create(Lt,It);const{canvas:Dt,context:jt}=this.annotationCanvas;this.annotationCanvasMap.set(vt,Dt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=jt,this.ctx.setTransform(mt,0,0,-Mt,0,rt*Mt),b(this.ctx,this.foregroundColor)}else b(this.ctx,this.foregroundColor),this.ctx.rect(yt[0],yt[1],xt,rt),this.ctx.clip(),this.endPath()}this.current=new g(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...At),this.transform(...Nt)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(vt){if(!this.contentVisible)return;const yt=vt.count;vt=this.getObject(vt.data,vt),vt.count=yt;const At=this.ctx,Nt=this.processingType3;if(Nt&&(Nt.compiled===void 0&&(Nt.compiled=j(vt)),Nt.compiled)){Nt.compiled(At);return}const Ht=this._createMaskCanvas(vt),xt=Ht.canvas;At.save(),At.setTransform(1,0,0,1,0,0),At.drawImage(xt,Ht.offsetX,Ht.offsetY),At.restore(),this.compose()}paintImageMaskXObjectRepeat(vt,yt,At=0,Nt=0,Ht,xt){if(!this.contentVisible)return;vt=this.getObject(vt.data,vt);const rt=this.ctx;rt.save();const mt=(0,_e.getCurrentTransform)(rt);rt.transform(yt,At,Nt,Ht,0,0);const Mt=this._createMaskCanvas(vt);rt.setTransform(1,0,0,1,0,0);for(let _t=0,Lt=xt.length;_t<Lt;_t+=2){const It=ot.Util.transform(mt,[yt,At,Nt,Ht,xt[_t],xt[_t+1]]),[Dt,jt]=ot.Util.applyTransform([0,0],It);rt.drawImage(Mt.canvas,Dt,jt)}rt.restore(),this.compose()}paintImageMaskXObjectGroup(vt){if(!this.contentVisible)return;const yt=this.ctx,At=this.current.fillColor,Nt=this.current.patternFill;for(const Ht of vt){const{data:xt,width:rt,height:mt,transform:Mt}=Ht,_t=this.cachedCanvases.getCanvas("maskCanvas",rt,mt),Lt=_t.context;Lt.save();const It=this.getObject(xt,Ht);ut(Lt,It),Lt.globalCompositeOperation="source-in",Lt.fillStyle=Nt?At.getPattern(Lt,this,(0,_e.getCurrentTransformInverse)(yt),$t.PathType.FILL):At,Lt.fillRect(0,0,rt,mt),Lt.restore(),yt.save(),yt.transform(...Mt),yt.scale(1,-1),d(yt,_t.canvas,0,0,rt,mt,0,-1,1,1),yt.restore()}this.compose()}paintImageXObject(vt){if(!this.contentVisible)return;const yt=this.getObject(vt);if(!yt){(0,ot.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(yt)}paintImageXObjectRepeat(vt,yt,At,Nt){if(!this.contentVisible)return;const Ht=this.getObject(vt);if(!Ht){(0,ot.warn)("Dependent image isn't ready yet");return}const xt=Ht.width,rt=Ht.height,mt=[];for(let Mt=0,_t=Nt.length;Mt<_t;Mt+=2)mt.push({transform:[yt,0,0,At,Nt[Mt],Nt[Mt+1]],x:0,y:0,w:xt,h:rt});this.paintInlineImageXObjectGroup(Ht,mt)}paintInlineImageXObject(vt){if(!this.contentVisible)return;const yt=vt.width,At=vt.height,Nt=this.ctx;this.save(),Nt.scale(1/yt,-1/At);let Ht;if(typeof HTMLElement=="function"&&vt instanceof HTMLElement||!vt.data)Ht=vt;else{const Mt=this.cachedCanvases.getCanvas("inlineImage",yt,At),_t=Mt.context;o(_t,vt,this.current.transferMaps),Ht=Mt.canvas}const xt=this._scaleImage(Ht,(0,_e.getCurrentTransformInverse)(Nt));Nt.imageSmoothingEnabled=Pt((0,_e.getCurrentTransform)(Nt),vt.interpolate);const[rt,mt]=d(Nt,xt.img,0,0,xt.paintWidth,xt.paintHeight,0,-At,yt,At);if(this.imageLayer){const[Mt,_t]=ot.Util.applyTransform([0,-At],(0,_e.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:vt,left:Mt,top:_t,width:rt,height:mt})}this.compose(),this.restore()}paintInlineImageXObjectGroup(vt,yt){if(!this.contentVisible)return;const At=this.ctx,Nt=vt.width,Ht=vt.height,xt=this.cachedCanvases.getCanvas("inlineImage",Nt,Ht),rt=xt.context;o(rt,vt,this.current.transferMaps);for(const mt of yt){if(At.save(),At.transform(...mt.transform),At.scale(1,-1),d(At,xt.canvas,mt.x,mt.y,mt.w,mt.h,0,-1,1,1),this.imageLayer){const[Mt,_t]=ot.Util.applyTransform([mt.x,mt.y],(0,_e.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:vt,left:Mt,top:_t,width:Nt,height:Ht})}At.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(vt){}markPointProps(vt,yt){}beginMarkedContent(vt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(vt,yt){vt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(yt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(vt){const yt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(vt);const At=this.ctx;this.pendingClip&&(yt||(this.pendingClip===ft?At.clip("evenodd"):At.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),At.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const vt=(0,_e.getCurrentTransform)(this.ctx);if(vt[1]===0&&vt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(vt[0]),Math.abs(vt[3]));else{const yt=Math.abs(vt[0]*vt[3]-vt[2]*vt[1]),At=Math.hypot(vt[0],vt[2]),Nt=Math.hypot(vt[1],vt[3]);this._cachedGetSinglePixelWidth=Math.max(At,Nt)/yt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:vt}=this.current,yt=(0,_e.getCurrentTransform)(this.ctx);let At,Nt;if(yt[1]===0&&yt[2]===0){const Ht=Math.abs(yt[0]),xt=Math.abs(yt[3]);if(vt===0)At=1/Ht,Nt=1/xt;else{const rt=Ht*vt,mt=xt*vt;At=rt<1?1/rt:1,Nt=mt<1?1/mt:1}}else{const Ht=Math.abs(yt[0]*yt[3]-yt[2]*yt[1]),xt=Math.hypot(yt[0],yt[1]),rt=Math.hypot(yt[2],yt[3]);if(vt===0)At=rt/Ht,Nt=xt/Ht;else{const mt=vt*Ht;At=rt>mt?rt/mt:1,Nt=xt>mt?xt/mt:1}}this._cachedScaleForStroking=[At,Nt]}return this._cachedScaleForStroking}rescaleAndStroke(vt){const{ctx:yt}=this,{lineWidth:At}=this.current,[Nt,Ht]=this.getScaleForStroking();if(yt.lineWidth=At||1,Nt===1&&Ht===1){yt.stroke();return}let xt,rt,mt;vt&&(xt=(0,_e.getCurrentTransform)(yt),rt=yt.getLineDash().slice(),mt=yt.lineDashOffset),yt.scale(Nt,Ht);const Mt=Math.max(Nt,Ht);yt.setLineDash(yt.getLineDash().map(_t=>_t/Mt)),yt.lineDashOffset/=Mt,yt.stroke(),vt&&(yt.setTransform(...xt),yt.setLineDash(rt),yt.lineDashOffset=mt)}isContentVisible(){for(let vt=this.markedContentStack.length-1;vt>=0;vt--)if(!this.markedContentStack[vt].visible)return!1;return!0}};at=new WeakSet,t1=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)};let it=St;a.CanvasGraphics=it;for(const ht in ot.OPS)it.prototype[ht]!==void 0&&(it.prototype[ot.OPS[ht]]=it.prototype[ht])},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TilingPattern=a.PathType=void 0,a.getShadingPattern=gt;var _e=c(1),ot=c(8),$t=c(3);const zt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};a.PathType=zt;function ct(d,j){if(!j||$t.isNodeJS)return;const g=j[2]-j[0],o=j[3]-j[1],ut=new Path2D;ut.rect(j[0],j[1],g,o),d.clip(ut)}class Et{constructor(){this.constructor===Et&&(0,_e.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,_e.unreachable)("Abstract method `getPattern` called.")}}class s extends Et{constructor(j){super(),this._type=j[1],this._bbox=j[2],this._colorStops=j[3],this._p0=j[4],this._p1=j[5],this._r0=j[6],this._r1=j[7],this.matrix=null}_createGradient(j){let g;this._type==="axial"?g=j.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(g=j.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const o of this._colorStops)g.addColorStop(o[0],o[1]);return g}getPattern(j,g,o,ut){let dt;if(ut===zt.STROKE||ut===zt.FILL){const b=g.current.getClippedPathBoundingBox(ut,(0,ot.getCurrentTransform)(j))||[0,0,0,0],h=Math.ceil(b[2]-b[0])||1,et=Math.ceil(b[3]-b[1])||1,nt=g.cachedCanvases.getCanvas("pattern",h,et,!0),pt=nt.context;pt.clearRect(0,0,pt.canvas.width,pt.canvas.height),pt.beginPath(),pt.rect(0,0,pt.canvas.width,pt.canvas.height),pt.translate(-b[0],-b[1]),o=_e.Util.transform(o,[1,0,0,1,b[0],b[1]]),pt.transform(...g.baseTransform),this.matrix&&pt.transform(...this.matrix),ct(pt,this._bbox),pt.fillStyle=this._createGradient(pt),pt.fill(),dt=j.createPattern(nt.canvas,"no-repeat");const Bt=new DOMMatrix(o);try{dt.setTransform(Bt)}catch(Pt){(0,_e.warn)(`RadialAxialShadingPattern.getPattern: "${Pt==null?void 0:Pt.message}".`)}}else ct(j,this._bbox),dt=this._createGradient(j);return dt}}function st(d,j,g,o,ut,dt,b,h){const et=j.coords,nt=j.colors,pt=d.data,Bt=d.width*4;let Pt;et[g+1]>et[o+1]&&(Pt=g,g=o,o=Pt,Pt=dt,dt=b,b=Pt),et[o+1]>et[ut+1]&&(Pt=o,o=ut,ut=Pt,Pt=b,b=h,h=Pt),et[g+1]>et[o+1]&&(Pt=g,g=o,o=Pt,Pt=dt,dt=b,b=Pt);const Rt=(et[g]+j.offsetX)*j.scaleX,Ft=(et[g+1]+j.offsetY)*j.scaleY,lt=(et[o]+j.offsetX)*j.scaleX,ft=(et[o+1]+j.offsetY)*j.scaleY,it=(et[ut]+j.offsetX)*j.scaleX,at=(et[ut+1]+j.offsetY)*j.scaleY;if(Ft>=at)return;const bt=nt[dt],St=nt[dt+1],ht=nt[dt+2],vt=nt[b],yt=nt[b+1],At=nt[b+2],Nt=nt[h],Ht=nt[h+1],xt=nt[h+2],rt=Math.round(Ft),mt=Math.round(at);let Mt,_t,Lt,It,Dt,jt,Ot,Xt;for(let Ut=rt;Ut<=mt;Ut++){if(Ut<ft){let Yt;Ut<Ft?Yt=0:Yt=(Ft-Ut)/(Ft-ft),Mt=Rt-(Rt-lt)*Yt,_t=bt-(bt-vt)*Yt,Lt=St-(St-yt)*Yt,It=ht-(ht-At)*Yt}else{let Yt;Ut>at?Yt=1:ft===at?Yt=0:Yt=(ft-Ut)/(ft-at),Mt=lt-(lt-it)*Yt,_t=vt-(vt-Nt)*Yt,Lt=yt-(yt-Ht)*Yt,It=At-(At-xt)*Yt}let Gt;Ut<Ft?Gt=0:Ut>at?Gt=1:Gt=(Ft-Ut)/(Ft-at),Dt=Rt-(Rt-it)*Gt,jt=bt-(bt-Nt)*Gt,Ot=St-(St-Ht)*Gt,Xt=ht-(ht-xt)*Gt;const qt=Math.round(Math.min(Mt,Dt)),Kt=Math.round(Math.max(Mt,Dt));let Vt=Bt*Ut+qt*4;for(let Yt=qt;Yt<=Kt;Yt++)Gt=(Mt-Yt)/(Mt-Dt),Gt<0?Gt=0:Gt>1&&(Gt=1),pt[Vt++]=_t-(_t-jt)*Gt|0,pt[Vt++]=Lt-(Lt-Ot)*Gt|0,pt[Vt++]=It-(It-Xt)*Gt|0,pt[Vt++]=255}}function Tt(d,j,g){const o=j.coords,ut=j.colors;let dt,b;switch(j.type){case"lattice":const h=j.verticesPerRow,et=Math.floor(o.length/h)-1,nt=h-1;for(dt=0;dt<et;dt++){let pt=dt*h;for(let Bt=0;Bt<nt;Bt++,pt++)st(d,g,o[pt],o[pt+1],o[pt+h],ut[pt],ut[pt+1],ut[pt+h]),st(d,g,o[pt+h+1],o[pt+1],o[pt+h],ut[pt+h+1],ut[pt+1],ut[pt+h])}break;case"triangles":for(dt=0,b=o.length;dt<b;dt+=3)st(d,g,o[dt],o[dt+1],o[dt+2],ut[dt],ut[dt+1],ut[dt+2]);break;default:throw new Error("illegal figure")}}class wt extends Et{constructor(j){super(),this._coords=j[2],this._colors=j[3],this._figures=j[4],this._bounds=j[5],this._bbox=j[7],this._background=j[8],this.matrix=null}_createMeshCanvas(j,g,o){const h=Math.floor(this._bounds[0]),et=Math.floor(this._bounds[1]),nt=Math.ceil(this._bounds[2])-h,pt=Math.ceil(this._bounds[3])-et,Bt=Math.min(Math.ceil(Math.abs(nt*j[0]*1.1)),3e3),Pt=Math.min(Math.ceil(Math.abs(pt*j[1]*1.1)),3e3),Rt=nt/Bt,Ft=pt/Pt,lt={coords:this._coords,colors:this._colors,offsetX:-h,offsetY:-et,scaleX:1/Rt,scaleY:1/Ft},ft=Bt+2*2,it=Pt+2*2,at=o.getCanvas("mesh",ft,it,!1),bt=at.context,St=bt.createImageData(Bt,Pt);if(g){const vt=St.data;for(let yt=0,At=vt.length;yt<At;yt+=4)vt[yt]=g[0],vt[yt+1]=g[1],vt[yt+2]=g[2],vt[yt+3]=255}for(const vt of this._figures)Tt(St,vt,lt);return bt.putImageData(St,2,2),{canvas:at.canvas,offsetX:h-2*Rt,offsetY:et-2*Ft,scaleX:Rt,scaleY:Ft}}getPattern(j,g,o,ut){ct(j,this._bbox);let dt;if(ut===zt.SHADING)dt=_e.Util.singularValueDecompose2dScale((0,ot.getCurrentTransform)(j));else if(dt=_e.Util.singularValueDecompose2dScale(g.baseTransform),this.matrix){const h=_e.Util.singularValueDecompose2dScale(this.matrix);dt=[dt[0]*h[0],dt[1]*h[1]]}const b=this._createMeshCanvas(dt,ut===zt.SHADING?null:this._background,g.cachedCanvases);return ut!==zt.SHADING&&(j.setTransform(...g.baseTransform),this.matrix&&j.transform(...this.matrix)),j.translate(b.offsetX,b.offsetY),j.scale(b.scaleX,b.scaleY),j.createPattern(b.canvas,"no-repeat")}}class e extends Et{getPattern(){return"hotpink"}}function gt(d){switch(d[0]){case"RadialAxial":return new s(d);case"Mesh":return new wt(d);case"Dummy":return new e}throw new Error(`Unknown IR type: ${d[0]}`)}const _={COLORED:1,UNCOLORED:2};class ${static get MAX_PATTERN_SIZE(){return(0,_e.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(j,g,o,ut,dt){this.operatorList=j[2],this.matrix=j[3]||[1,0,0,1,0,0],this.bbox=j[4],this.xstep=j[5],this.ystep=j[6],this.paintType=j[7],this.tilingType=j[8],this.color=g,this.ctx=o,this.canvasGraphicsFactory=ut,this.baseTransform=dt}createPatternCanvas(j){const g=this.operatorList,o=this.bbox,ut=this.xstep,dt=this.ystep,b=this.paintType,h=this.tilingType,et=this.color,nt=this.canvasGraphicsFactory;(0,_e.info)("TilingType: "+h);const pt=o[0],Bt=o[1],Pt=o[2],Rt=o[3],Ft=_e.Util.singularValueDecompose2dScale(this.matrix),lt=_e.Util.singularValueDecompose2dScale(this.baseTransform),ft=[Ft[0]*lt[0],Ft[1]*lt[1]],it=this.getSizeAndScale(ut,this.ctx.canvas.width,ft[0]),at=this.getSizeAndScale(dt,this.ctx.canvas.height,ft[1]),bt=j.cachedCanvases.getCanvas("pattern",it.size,at.size,!0),St=bt.context,ht=nt.createCanvasGraphics(St);ht.groupLevel=j.groupLevel,this.setFillAndStrokeStyleToContext(ht,b,et);let vt=pt,yt=Bt,At=Pt,Nt=Rt;return pt<0&&(vt=0,At+=Math.abs(pt)),Bt<0&&(yt=0,Nt+=Math.abs(Bt)),St.translate(-(it.scale*vt),-(at.scale*yt)),ht.transform(it.scale,0,0,at.scale,0,0),St.save(),this.clipBbox(ht,vt,yt,At,Nt),ht.baseTransform=(0,ot.getCurrentTransform)(ht.ctx),ht.executeOperatorList(g),ht.endDrawing(),{canvas:bt.canvas,scaleX:it.scale,scaleY:at.scale,offsetX:vt,offsetY:yt}}getSizeAndScale(j,g,o){j=Math.abs(j);const ut=Math.max($.MAX_PATTERN_SIZE,g);let dt=Math.ceil(j*o);return dt>=ut?dt=ut:o=dt/j,{scale:o,size:dt}}clipBbox(j,g,o,ut,dt){const b=ut-g,h=dt-o;j.ctx.rect(g,o,b,h),j.current.updateRectMinMax((0,ot.getCurrentTransform)(j.ctx),[g,o,ut,dt]),j.clip(),j.endPath()}setFillAndStrokeStyleToContext(j,g,o){const ut=j.ctx,dt=j.current;switch(g){case _.COLORED:const b=this.ctx;ut.fillStyle=b.fillStyle,ut.strokeStyle=b.strokeStyle,dt.fillColor=b.fillStyle,dt.strokeColor=b.strokeStyle;break;case _.UNCOLORED:const h=_e.Util.makeHexColor(o[0],o[1],o[2]);ut.fillStyle=h,ut.strokeStyle=h,dt.fillColor=h,dt.strokeColor=h;break;default:throw new _e.FormatError(`Unsupported paint type: ${g}`)}}getPattern(j,g,o,ut){let dt=o;ut!==zt.SHADING&&(dt=_e.Util.transform(dt,g.baseTransform),this.matrix&&(dt=_e.Util.transform(dt,this.matrix)));const b=this.createPatternCanvas(g);let h=new DOMMatrix(dt);h=h.translate(b.offsetX,b.offsetY),h=h.scale(1/b.scaleX,1/b.scaleY);const et=j.createPattern(b.canvas,"repeat");try{et.setTransform(h)}catch(nt){(0,_e.warn)(`TilingPattern.getPattern: "${nt==null?void 0:nt.message}".`)}return et}}a.TilingPattern=$},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.applyMaskImageData=ot;var _e=c(1);function ot({src:$t,srcPos:zt=0,dest:ct,destPos:Et=0,width:s,height:st,inverseDecode:Tt=!1}){const wt=_e.FeatureTest.isLittleEndian?4278190080:255,[e,gt]=Tt?[0,wt]:[wt,0],_=s>>3,$=s&7,d=$t.length;ct=new Uint32Array(ct.buffer);for(let j=0;j<st;j++){for(const o=zt+_;zt<o;zt++){const ut=zt<d?$t[zt]:255;ct[Et++]=ut&128?gt:e,ct[Et++]=ut&64?gt:e,ct[Et++]=ut&32?gt:e,ct[Et++]=ut&16?gt:e,ct[Et++]=ut&8?gt:e,ct[Et++]=ut&4?gt:e,ct[Et++]=ut&2?gt:e,ct[Et++]=ut&1?gt:e}if($===0)continue;const g=zt<d?$t[zt++]:255;for(let o=0;o<$;o++)ct[Et++]=g&1<<7-o?gt:e}return{srcPos:zt,destPos:Et}}},(i,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.GlobalWorkerOptions=void 0;const c=Object.create(null);a.GlobalWorkerOptions=c,c.workerPort=c.workerPort===void 0?null:c.workerPort,c.workerSrc=c.workerSrc===void 0?"":c.workerSrc},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MessageHandler=void 0;var _e=c(1);const ot={DATA:1,ERROR:2},$t={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function zt(Et){switch(Et instanceof Error||typeof Et=="object"&&Et!==null||(0,_e.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),Et.name){case"AbortException":return new _e.AbortException(Et.message);case"MissingPDFException":return new _e.MissingPDFException(Et.message);case"PasswordException":return new _e.PasswordException(Et.message,Et.code);case"UnexpectedResponseException":return new _e.UnexpectedResponseException(Et.message,Et.status);case"UnknownErrorException":return new _e.UnknownErrorException(Et.message,Et.details);default:return new _e.UnknownErrorException(Et.message,Et.toString())}}class ct{constructor(s,st,Tt){this.sourceName=s,this.targetName=st,this.comObj=Tt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=wt=>{const e=wt.data;if(e.targetName!==this.sourceName)return;if(e.stream){this._processStreamMessage(e);return}if(e.callback){const _=e.callbackId,$=this.callbackCapabilities[_];if(!$)throw new Error(`Cannot resolve callback ${_}`);if(delete this.callbackCapabilities[_],e.callback===ot.DATA)$.resolve(e.data);else if(e.callback===ot.ERROR)$.reject(zt(e.reason));else throw new Error("Unexpected callback case");return}const gt=this.actionHandler[e.action];if(!gt)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const _=this.sourceName,$=e.sourceName;new Promise(function(d){d(gt(e.data))}).then(function(d){Tt.postMessage({sourceName:_,targetName:$,callback:ot.DATA,callbackId:e.callbackId,data:d})},function(d){Tt.postMessage({sourceName:_,targetName:$,callback:ot.ERROR,callbackId:e.callbackId,reason:zt(d)})});return}if(e.streamId){this._createStreamSink(e);return}gt(e.data)},Tt.addEventListener("message",this._onComObjOnMessage)}on(s,st){const Tt=this.actionHandler;if(Tt[s])throw new Error(`There is already an actionName called "${s}"`);Tt[s]=st}send(s,st,Tt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:s,data:st},Tt)}sendWithPromise(s,st,Tt){const wt=this.callbackId++,e=(0,_e.createPromiseCapability)();this.callbackCapabilities[wt]=e;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:s,callbackId:wt,data:st},Tt)}catch(gt){e.reject(gt)}return e.promise}sendWithStream(s,st,Tt,wt){const e=this.streamId++,gt=this.sourceName,_=this.targetName,$=this.comObj;return new ReadableStream({start:d=>{const j=(0,_e.createPromiseCapability)();return this.streamControllers[e]={controller:d,startCall:j,pullCall:null,cancelCall:null,isClosed:!1},$.postMessage({sourceName:gt,targetName:_,action:s,streamId:e,data:st,desiredSize:d.desiredSize},wt),j.promise},pull:d=>{const j=(0,_e.createPromiseCapability)();return this.streamControllers[e].pullCall=j,$.postMessage({sourceName:gt,targetName:_,stream:$t.PULL,streamId:e,desiredSize:d.desiredSize}),j.promise},cancel:d=>{(0,_e.assert)(d instanceof Error,"cancel must have a valid reason");const j=(0,_e.createPromiseCapability)();return this.streamControllers[e].cancelCall=j,this.streamControllers[e].isClosed=!0,$.postMessage({sourceName:gt,targetName:_,stream:$t.CANCEL,streamId:e,reason:zt(d)}),j.promise}},Tt)}_createStreamSink(s){const st=s.streamId,Tt=this.sourceName,wt=s.sourceName,e=this.comObj,gt=this,_=this.actionHandler[s.action],$={enqueue(d,j=1,g){if(this.isCancelled)return;const o=this.desiredSize;this.desiredSize-=j,o>0&&this.desiredSize<=0&&(this.sinkCapability=(0,_e.createPromiseCapability)(),this.ready=this.sinkCapability.promise),e.postMessage({sourceName:Tt,targetName:wt,stream:$t.ENQUEUE,streamId:st,chunk:d},g)},close(){this.isCancelled||(this.isCancelled=!0,e.postMessage({sourceName:Tt,targetName:wt,stream:$t.CLOSE,streamId:st}),delete gt.streamSinks[st])},error(d){(0,_e.assert)(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,e.postMessage({sourceName:Tt,targetName:wt,stream:$t.ERROR,streamId:st,reason:zt(d)}))},sinkCapability:(0,_e.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:s.desiredSize,ready:null};$.sinkCapability.resolve(),$.ready=$.sinkCapability.promise,this.streamSinks[st]=$,new Promise(function(d){d(_(s.data,$))}).then(function(){e.postMessage({sourceName:Tt,targetName:wt,stream:$t.START_COMPLETE,streamId:st,success:!0})},function(d){e.postMessage({sourceName:Tt,targetName:wt,stream:$t.START_COMPLETE,streamId:st,reason:zt(d)})})}_processStreamMessage(s){const st=s.streamId,Tt=this.sourceName,wt=s.sourceName,e=this.comObj,gt=this.streamControllers[st],_=this.streamSinks[st];switch(s.stream){case $t.START_COMPLETE:s.success?gt.startCall.resolve():gt.startCall.reject(zt(s.reason));break;case $t.PULL_COMPLETE:s.success?gt.pullCall.resolve():gt.pullCall.reject(zt(s.reason));break;case $t.PULL:if(!_){e.postMessage({sourceName:Tt,targetName:wt,stream:$t.PULL_COMPLETE,streamId:st,success:!0});break}_.desiredSize<=0&&s.desiredSize>0&&_.sinkCapability.resolve(),_.desiredSize=s.desiredSize,new Promise(function($){$(_.onPull&&_.onPull())}).then(function(){e.postMessage({sourceName:Tt,targetName:wt,stream:$t.PULL_COMPLETE,streamId:st,success:!0})},function($){e.postMessage({sourceName:Tt,targetName:wt,stream:$t.PULL_COMPLETE,streamId:st,reason:zt($)})});break;case $t.ENQUEUE:if((0,_e.assert)(gt,"enqueue should have stream controller"),gt.isClosed)break;gt.controller.enqueue(s.chunk);break;case $t.CLOSE:if((0,_e.assert)(gt,"close should have stream controller"),gt.isClosed)break;gt.isClosed=!0,gt.controller.close(),this._deleteStreamController(gt,st);break;case $t.ERROR:(0,_e.assert)(gt,"error should have stream controller"),gt.controller.error(zt(s.reason)),this._deleteStreamController(gt,st);break;case $t.CANCEL_COMPLETE:s.success?gt.cancelCall.resolve():gt.cancelCall.reject(zt(s.reason)),this._deleteStreamController(gt,st);break;case $t.CANCEL:if(!_)break;new Promise(function($){$(_.onCancel&&_.onCancel(zt(s.reason)))}).then(function(){e.postMessage({sourceName:Tt,targetName:wt,stream:$t.CANCEL_COMPLETE,streamId:st,success:!0})},function($){e.postMessage({sourceName:Tt,targetName:wt,stream:$t.CANCEL_COMPLETE,streamId:st,reason:zt($)})}),_.sinkCapability.reject(zt(s.reason)),_.isCancelled=!0,delete this.streamSinks[st];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(s,st){await Promise.allSettled([s.startCall&&s.startCall.promise,s.pullCall&&s.pullCall.promise,s.cancelCall&&s.cancelCall.promise]),delete this.streamControllers[st]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}a.MessageHandler=ct},(i,a,c)=>{var $t,zt;Object.defineProperty(a,"__esModule",{value:!0}),a.Metadata=void 0;var _e=c(1);class ot{constructor({parsedData:Et,rawData:s}){Rn(this,$t);Rn(this,zt);Ln(this,$t,Et),Ln(this,zt,s)}getRaw(){return nn(this,zt)}get(Et){return nn(this,$t).get(Et)??null}getAll(){return(0,_e.objectFromMap)(nn(this,$t))}has(Et){return nn(this,$t).has(Et)}}$t=new WeakMap,zt=new WeakMap,a.Metadata=ot},(i,a,c)=>{var ct,Et,s,st,Tt,wt,n1;Object.defineProperty(a,"__esModule",{value:!0}),a.OptionalContentConfig=void 0;var _e=c(1);const ot=Symbol("INTERNAL");class $t{constructor(_,$){Rn(this,ct,!0);this.name=_,this.intent=$}get visible(){return nn(this,ct)}_setVisible(_,$){_!==ot&&(0,_e.unreachable)("Internal method `_setVisible` called."),Ln(this,ct,$)}}ct=new WeakMap;class zt{constructor(_){Rn(this,wt);Rn(this,Et,!0);Rn(this,s,new Map);Rn(this,st,null);Rn(this,Tt,null);if(this.name=null,this.creator=null,_!==null){this.name=_.name,this.creator=_.creator,Ln(this,Tt,_.order);for(const $ of _.groups)nn(this,s).set($.id,new $t($.name,$.intent));if(_.baseState==="OFF")for(const $ of nn(this,s).values())$._setVisible(ot,!1);for(const $ of _.on)nn(this,s).get($)._setVisible(ot,!0);for(const $ of _.off)nn(this,s).get($)._setVisible(ot,!1);Ln(this,st,new Map);for(const[$,d]of nn(this,s))nn(this,st).set($,d.visible)}}isVisible(_){if(nn(this,s).size===0)return!0;if(!_)return(0,_e.warn)("Optional content group not defined."),!0;if(_.type==="OCG")return nn(this,s).has(_.id)?nn(this,s).get(_.id).visible:((0,_e.warn)(`Optional content group not found: ${_.id}`),!0);if(_.type==="OCMD"){if(_.expression)return wn(this,wt,n1).call(this,_.expression);if(!_.policy||_.policy==="AnyOn"){for(const $ of _.ids){if(!nn(this,s).has($))return(0,_e.warn)(`Optional content group not found: ${$}`),!0;if(nn(this,s).get($).visible)return!0}return!1}else if(_.policy==="AllOn"){for(const $ of _.ids){if(!nn(this,s).has($))return(0,_e.warn)(`Optional content group not found: ${$}`),!0;if(!nn(this,s).get($).visible)return!1}return!0}else if(_.policy==="AnyOff"){for(const $ of _.ids){if(!nn(this,s).has($))return(0,_e.warn)(`Optional content group not found: ${$}`),!0;if(!nn(this,s).get($).visible)return!0}return!1}else if(_.policy==="AllOff"){for(const $ of _.ids){if(!nn(this,s).has($))return(0,_e.warn)(`Optional content group not found: ${$}`),!0;if(nn(this,s).get($).visible)return!1}return!0}return(0,_e.warn)(`Unknown optional content policy ${_.policy}.`),!0}return(0,_e.warn)(`Unknown group type ${_.type}.`),!0}setVisibility(_,$=!0){if(!nn(this,s).has(_)){(0,_e.warn)(`Optional content group not found: ${_}`);return}nn(this,s).get(_)._setVisible(ot,!!$),Ln(this,Et,null)}get hasInitialVisibility(){if(nn(this,Et)!==null)return nn(this,Et);for(const[_,$]of nn(this,s)){const d=nn(this,st).get(_);if($.visible!==d)return Ln(this,Et,!1)}return Ln(this,Et,!0)}getOrder(){return nn(this,s).size?nn(this,Tt)?nn(this,Tt).slice():[...nn(this,s).keys()]:null}getGroups(){return nn(this,s).size>0?(0,_e.objectFromMap)(nn(this,s)):null}getGroup(_){return nn(this,s).get(_)||null}}Et=new WeakMap,s=new WeakMap,st=new WeakMap,Tt=new WeakMap,wt=new WeakSet,n1=function(_){const $=_.length;if($<2)return!0;const d=_[0];for(let j=1;j<$;j++){const g=_[j];let o;if(Array.isArray(g))o=wn(this,wt,n1).call(this,g);else if(nn(this,s).has(g))o=nn(this,s).get(g).visible;else return(0,_e.warn)(`Optional content group not found: ${g}`),!0;switch(d){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return d==="And"},a.OptionalContentConfig=zt},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFDataTransportStream=void 0;var _e=c(1),ot=c(8);class $t{constructor(s,st){(0,_e.assert)(st,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=s.progressiveDone||!1,this._contentDispositionFilename=s.contentDispositionFilename||null;const Tt=s.initialData;if((Tt==null?void 0:Tt.length)>0){const wt=new Uint8Array(Tt).buffer;this._queuedChunks.push(wt)}this._pdfDataRangeTransport=st,this._isStreamingSupported=!s.disableStream,this._isRangeSupported=!s.disableRange,this._contentLength=s.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((wt,e)=>{this._onReceiveData({begin:wt,chunk:e})}),this._pdfDataRangeTransport.addProgressListener((wt,e)=>{this._onProgress({loaded:wt,total:e})}),this._pdfDataRangeTransport.addProgressiveReadListener(wt=>{this._onReceiveData({chunk:wt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(s){const st=new Uint8Array(s.chunk).buffer;if(s.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(st):this._queuedChunks.push(st);else{const Tt=this._rangeReaders.some(function(wt){return wt._begin!==s.begin?!1:(wt._enqueue(st),!0)});(0,_e.assert)(Tt,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var s;return((s=this._fullRequestReader)==null?void 0:s._loaded)??0}_onProgress(s){if(s.total===void 0){const st=this._rangeReaders[0];st!=null&&st.onProgress&&st.onProgress({loaded:s.loaded})}else{const st=this._fullRequestReader;st!=null&&st.onProgress&&st.onProgress({loaded:s.loaded,total:s.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(s){const st=this._rangeReaders.indexOf(s);st>=0&&this._rangeReaders.splice(st,1)}getFullReader(){(0,_e.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const s=this._queuedChunks;return this._queuedChunks=null,new zt(this,s,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(s,st){if(st<=this._progressiveDataLength)return null;const Tt=new ct(this,s,st);return this._pdfDataRangeTransport.requestDataRange(s,st),this._rangeReaders.push(Tt),Tt}cancelAllRequests(s){this._fullRequestReader&&this._fullRequestReader.cancel(s);for(const st of this._rangeReaders.slice(0))st.cancel(s);this._pdfDataRangeTransport.abort()}}a.PDFDataTransportStream=$t;class zt{constructor(s,st,Tt=!1,wt=null){this._stream=s,this._done=Tt||!1,this._filename=(0,ot.isPdfFile)(wt)?wt:null,this._queuedChunks=st||[],this._loaded=0;for(const e of this._queuedChunks)this._loaded+=e.byteLength;this._requests=[],this._headersReady=Promise.resolve(),s._fullRequestReader=this,this.onProgress=null}_enqueue(s){this._done||(this._requests.length>0?this._requests.shift().resolve({value:s,done:!1}):this._queuedChunks.push(s),this._loaded+=s.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const s=(0,_e.createPromiseCapability)();return this._requests.push(s),s.promise}cancel(s){this._done=!0;for(const st of this._requests)st.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ct{constructor(s,st,Tt){this._stream=s,this._begin=st,this._end=Tt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(s){if(!this._done){if(this._requests.length===0)this._queuedChunk=s;else{this._requests.shift().resolve({value:s,done:!1});for(const Tt of this._requests)Tt.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const st=this._queuedChunk;return this._queuedChunk=null,{value:st,done:!1}}if(this._done)return{value:void 0,done:!0};const s=(0,_e.createPromiseCapability)();return this._requests.push(s),s.promise}cancel(s){this._done=!0;for(const st of this._requests)st.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(i,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.XfaText=void 0;class c{static textContent(ot){const $t=[],zt={items:$t,styles:Object.create(null)};function ct(Et){var Tt;if(!Et)return;let s=null;const st=Et.name;if(st==="#text")s=Et.value;else if(c.shouldBuildText(st))(Tt=Et==null?void 0:Et.attributes)!=null&&Tt.textContent?s=Et.attributes.textContent:Et.value&&(s=Et.value);else return;if(s!==null&&$t.push({str:s}),!!Et.children)for(const wt of Et.children)ct(wt)}return ct(ot),zt}static shouldBuildText(ot){return!(ot==="textarea"||ot==="input"||ot==="option"||ot==="select")}}a.XfaText=c},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.NodeStandardFontDataFactory=a.NodeCanvasFactory=a.NodeCMapReaderFactory=void 0;var _e=c(9);const ot=function(Et){return new Promise((s,st)=>{require$$5.readFile(Et,(wt,e)=>{if(wt||!e){st(new Error(wt));return}s(new Uint8Array(e))})})};class $t extends _e.BaseCanvasFactory{_createCanvas(s,st){return require$$5.createCanvas(s,st)}}a.NodeCanvasFactory=$t;class zt extends _e.BaseCMapReaderFactory{_fetchData(s,st){return ot(s).then(Tt=>({cMapData:Tt,compressionType:st}))}}a.NodeCMapReaderFactory=zt;class ct extends _e.BaseStandardFontDataFactory{_fetchData(s){return ot(s)}}a.NodeStandardFontDataFactory=ct},(i,a,c)=>{var Et,s,st,Tt,wt,e,gt,_,$,r1,Lm,i1,Nm;Object.defineProperty(a,"__esModule",{value:!0}),a.AnnotationEditorLayer=void 0;var _e=c(7),ot=c(1),$t=c(23),zt=c(24);const ut=class ut{constructor(b){Rn(this,$);Rn(this,Et);Rn(this,s,!1);Rn(this,st,this.pointerup.bind(this));Rn(this,Tt,this.pointerdown.bind(this));Rn(this,wt,new Map);Rn(this,e,!1);Rn(this,gt,!1);Rn(this,_);ut._initialized||(ut._initialized=!0,$t.FreeTextEditor.initialize(b.l10n),zt.InkEditor.initialize(b.l10n),b.uiManager.registerEditorTypes([$t.FreeTextEditor,zt.InkEditor])),Ln(this,_,b.uiManager),this.annotationStorage=b.annotationStorage,this.pageIndex=b.pageIndex,this.div=b.div,Ln(this,Et,b.accessibilityManager),nn(this,_).addLayer(this)}updateToolbar(b){nn(this,_).updateToolbar(b)}updateMode(b=nn(this,_).getMode()){wn(this,$,Nm).call(this),b===ot.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),nn(this,_).unselectAll()}addInkEditorIfNeeded(b){if(!b&&nn(this,_).getMode()!==ot.AnnotationEditorType.INK)return;if(!b){for(const et of nn(this,wt).values())if(et.isEmpty()){et.setInBackground();return}}wn(this,$,i1).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(b){nn(this,_).setEditingState(b)}addCommands(b){nn(this,_).addCommands(b)}enable(){this.div.style.pointerEvents="auto";for(const b of nn(this,wt).values())b.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const b of nn(this,wt).values())b.disableEditing()}setActiveEditor(b){nn(this,_).getActive()!==b&&nn(this,_).setActiveEditor(b)}enableClick(){this.div.addEventListener("pointerdown",nn(this,Tt)),this.div.addEventListener("pointerup",nn(this,st))}disableClick(){this.div.removeEventListener("pointerdown",nn(this,Tt)),this.div.removeEventListener("pointerup",nn(this,st))}attach(b){nn(this,wt).set(b.id,b)}detach(b){var h;nn(this,wt).delete(b.id),(h=nn(this,Et))==null||h.removePointerInTextLayer(b.contentDiv)}remove(b){nn(this,_).removeEditor(b),this.detach(b),this.annotationStorage.remove(b.id),b.div.style.display="none",setTimeout(()=>{b.div.style.display="",b.div.remove(),b.isAttachedToDOM=!1,document.activeElement===document.body&&nn(this,_).focusMainContainer()},0),nn(this,gt)||this.addInkEditorIfNeeded(!1)}add(b){if(wn(this,$,r1).call(this,b),nn(this,_).addEditor(b),this.attach(b),!b.isAttachedToDOM){const h=b.render();this.div.append(h),b.isAttachedToDOM=!0}this.moveEditorInDOM(b),b.onceAdded(),this.addToAnnotationStorage(b)}moveEditorInDOM(b){var h;(h=nn(this,Et))==null||h.moveElementInDOM(this.div,b.div,b.contentDiv,!0)}addToAnnotationStorage(b){!b.isEmpty()&&!this.annotationStorage.has(b.id)&&this.annotationStorage.setValue(b.id,b)}addOrRebuild(b){b.needsToBeRebuilt()?b.rebuild():this.add(b)}addANewEditor(b){const h=()=>{this.addOrRebuild(b)},et=()=>{b.remove()};this.addCommands({cmd:h,undo:et,mustExec:!0})}addUndoableEditor(b){const h=()=>{this.addOrRebuild(b)},et=()=>{b.remove()};this.addCommands({cmd:h,undo:et,mustExec:!1})}getNextId(){return nn(this,_).getId()}deserialize(b){switch(b.annotationType){case ot.AnnotationEditorType.FREETEXT:return $t.FreeTextEditor.deserialize(b,this);case ot.AnnotationEditorType.INK:return zt.InkEditor.deserialize(b,this)}return null}setSelected(b){nn(this,_).setSelected(b)}toggleSelected(b){nn(this,_).toggleSelected(b)}isSelected(b){return nn(this,_).isSelected(b)}unselect(b){nn(this,_).unselect(b)}pointerup(b){const h=_e.KeyboardManager.platform.isMac;if(!(b.button!==0||b.ctrlKey&&h)&&b.target===this.div&&nn(this,e)){if(Ln(this,e,!1),!nn(this,s)){Ln(this,s,!0);return}wn(this,$,i1).call(this,b)}}pointerdown(b){const h=_e.KeyboardManager.platform.isMac;if(b.button!==0||b.ctrlKey&&h||b.target!==this.div)return;Ln(this,e,!0);const et=nn(this,_).getActive();Ln(this,s,!et||et.isEmpty())}drop(b){const h=b.dataTransfer.getData("text/plain"),et=nn(this,_).getEditor(h);if(!et)return;b.preventDefault(),b.dataTransfer.dropEffect="move",wn(this,$,r1).call(this,et);const nt=this.div.getBoundingClientRect(),pt=b.clientX-nt.x,Bt=b.clientY-nt.y;et.translate(pt-et.startX,Bt-et.startY),this.moveEditorInDOM(et),et.div.focus()}dragover(b){b.preventDefault()}destroy(){var b,h;((b=nn(this,_).getActive())==null?void 0:b.parent)===this&&nn(this,_).setActiveEditor(null);for(const et of nn(this,wt).values())(h=nn(this,Et))==null||h.removePointerInTextLayer(et.contentDiv),et.isAttachedToDOM=!1,et.div.remove(),et.parent=null;this.div=null,nn(this,wt).clear(),nn(this,_).removeLayer(this)}render(b){this.viewport=b.viewport,(0,_e.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const h of nn(this,_).getEditors(this.pageIndex))this.add(h);this.updateMode()}update(b){this.viewport=b.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[b,h,et,nt]=this.viewport.viewBox,pt=et-b,Bt=nt-h;return[pt,Bt]}get viewportBaseDimensions(){const{width:b,height:h,rotation:et}=this.viewport;return et%180===0?[b,h]:[h,b]}setDimensions(){const{width:b,height:h,rotation:et}=this.viewport,nt=et%180!==0,pt=Math.floor(b)+"px",Bt=Math.floor(h)+"px";this.div.style.width=nt?Bt:pt,this.div.style.height=nt?pt:Bt,this.div.setAttribute("data-main-rotation",et)}};Et=new WeakMap,s=new WeakMap,st=new WeakMap,Tt=new WeakMap,wt=new WeakMap,e=new WeakMap,gt=new WeakMap,_=new WeakMap,$=new WeakSet,r1=function(b){var h;b.parent!==this&&(this.attach(b),b.pageIndex=this.pageIndex,(h=b.parent)==null||h.detach(b),b.parent=this,b.div&&b.isAttachedToDOM&&(b.div.remove(),this.div.append(b.div)))},Lm=function(b){switch(nn(this,_).getMode()){case ot.AnnotationEditorType.FREETEXT:return new $t.FreeTextEditor(b);case ot.AnnotationEditorType.INK:return new zt.InkEditor(b)}return null},i1=function(b){const h=this.getNextId(),et=wn(this,$,Lm).call(this,{parent:this,id:h,x:b.offsetX,y:b.offsetY});return et&&this.add(et),et},Nm=function(){Ln(this,gt,!0);for(const b of nn(this,wt).values())b.isEmpty()&&b.remove();Ln(this,gt,!1)},Hr(ut,"_initialized",!1);let ct=ut;a.AnnotationEditorLayer=ct},(i,a,c)=>{var ct,Et,s,st,Tt,wt,e,gt,Bm,jm,$m,a1;Object.defineProperty(a,"__esModule",{value:!0}),a.FreeTextEditor=void 0;var _e=c(1),ot=c(7),$t=c(6);const g=class g extends $t.AnnotationEditor{constructor(dt){super({...dt,name:"freeTextEditor"});Rn(this,gt);Rn(this,ct,this.editorDivBlur.bind(this));Rn(this,Et,this.editorDivFocus.bind(this));Rn(this,s,this.editorDivKeydown.bind(this));Rn(this,st);Rn(this,Tt,"");Rn(this,wt,!1);Rn(this,e);Ln(this,st,dt.color||g._defaultColor||$t.AnnotationEditor._defaultLineColor),Ln(this,e,dt.fontSize||g._defaultFontSize)}static initialize(dt){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(h=>[h,dt.get(h)]));const b=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(b.getPropertyValue("--freetext-padding"))}static updateDefaultParams(dt,b){switch(dt){case _e.AnnotationEditorParamsType.FREETEXT_SIZE:g._defaultFontSize=b;break;case _e.AnnotationEditorParamsType.FREETEXT_COLOR:g._defaultColor=b;break}}updateParams(dt,b){switch(dt){case _e.AnnotationEditorParamsType.FREETEXT_SIZE:wn(this,gt,Bm).call(this,b);break;case _e.AnnotationEditorParamsType.FREETEXT_COLOR:wn(this,gt,jm).call(this,b);break}}static get defaultPropertiesToUpdate(){return[[_e.AnnotationEditorParamsType.FREETEXT_SIZE,g._defaultFontSize],[_e.AnnotationEditorParamsType.FREETEXT_COLOR,g._defaultColor||$t.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[_e.AnnotationEditorParamsType.FREETEXT_SIZE,nn(this,e)],[_e.AnnotationEditorParamsType.FREETEXT_COLOR,nn(this,st)]]}getInitialTranslation(){return[-g._internalPadding*this.parent.scaleFactor,-(g._internalPadding+nn(this,e))*this.parent.scaleFactor]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(_e.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",nn(this,s)),this.editorDiv.addEventListener("focus",nn(this,Et)),this.editorDiv.addEventListener("blur",nn(this,ct)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",nn(this,s)),this.editorDiv.removeEventListener("focus",nn(this,Et)),this.editorDiv.removeEventListener("blur",nn(this,ct)),this.div.focus(),this.isEditing=!1)}focusin(dt){super.focusin(dt),dt.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}commit(){super.commit(),nn(this,wt)||(Ln(this,wt,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),Ln(this,Tt,wn(this,gt,$m).call(this).trimEnd()),wn(this,gt,a1).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(dt){this.enableEditMode(),this.editorDiv.focus()}keydown(dt){dt.target===this.div&&dt.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(dt){g._keyboardManager.exec(this,dt)}editorDivFocus(dt){this.isEditing=!0}editorDivBlur(dt){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let dt,b;this.width&&(dt=this.x,b=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),g._l10nPromise.get("editor_free_text_aria_label").then(et=>{var nt;return(nt=this.editorDiv)==null?void 0:nt.setAttribute("aria-label",et)}),g._l10nPromise.get("free_text_default_content").then(et=>{var nt;return(nt=this.editorDiv)==null?void 0:nt.setAttribute("default-content",et)}),this.editorDiv.contentEditable=!0;const{style:h}=this.editorDiv;if(h.fontSize=`calc(${nn(this,e)}px * var(--scale-factor))`,h.color=nn(this,st),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,ot.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[et,nt]=this.parent.viewportBaseDimensions;this.setAt(dt*et,b*nt,this.width*et,this.height*nt);for(const pt of nn(this,Tt).split(`
`)){const Bt=document.createElement("div");Bt.append(pt?document.createTextNode(pt):document.createElement("br")),this.editorDiv.append(Bt)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(dt,b){const h=super.deserialize(dt,b);return Ln(h,e,dt.fontSize),Ln(h,st,_e.Util.makeHexColor(...dt.color)),Ln(h,Tt,dt.value),h}serialize(){if(this.isEmpty())return null;const dt=g._internalPadding*this.parent.scaleFactor,b=this.getRect(dt,dt),h=$t.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:_e.AnnotationEditorType.FREETEXT,color:h,fontSize:nn(this,e),value:nn(this,Tt),pageIndex:this.parent.pageIndex,rect:b,rotation:this.rotation}}};ct=new WeakMap,Et=new WeakMap,s=new WeakMap,st=new WeakMap,Tt=new WeakMap,wt=new WeakMap,e=new WeakMap,gt=new WeakSet,Bm=function(dt){const b=et=>{this.editorDiv.style.fontSize=`calc(${et}px * var(--scale-factor))`,this.translate(0,-(et-nn(this,e))*this.parent.scaleFactor),Ln(this,e,et),wn(this,gt,a1).call(this)},h=nn(this,e);this.parent.addCommands({cmd:()=>{b(dt)},undo:()=>{b(h)},mustExec:!0,type:_e.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},jm=function(dt){const b=nn(this,st);this.parent.addCommands({cmd:()=>{Ln(this,st,dt),this.editorDiv.style.color=dt},undo:()=>{Ln(this,st,b),this.editorDiv.style.color=b},mustExec:!0,type:_e.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},$m=function(){const dt=this.editorDiv.getElementsByTagName("div");if(dt.length===0)return this.editorDiv.innerText;const b=[];for(let h=0,et=dt.length;h<et;h++){const pt=dt[h].firstChild;(pt==null?void 0:pt.nodeName)==="#text"?b.push(pt.data):b.push("")}return b.join(`
`)},a1=function(){const[dt,b]=this.parent.viewportBaseDimensions,h=this.div.getBoundingClientRect();this.width=h.width/dt,this.height=h.height/b},Hr(g,"_freeTextDefaultContent",""),Hr(g,"_l10nPromise"),Hr(g,"_internalPadding",0),Hr(g,"_defaultColor",null),Hr(g,"_defaultFontSize",10),Hr(g,"_keyboardManager",new ot.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],g.prototype.commitOrRemove]])),Hr(g,"_type","freetext");let zt=g;a.FreeTextEditor=zt},(i,a,c)=>{var s,st,Tt,wt,e,gt,_,$,d,j,g,o,ut,dt,b,Um,Hm,Xm,zm,s1,Gm,Wm,qm,Vs,o1,U0,H0,yl,l1,X0,vt,c1,Vm,Km,Ym,u1,z0,Al,h1;Object.defineProperty(a,"__esModule",{value:!0}),a.InkEditor=void 0,Object.defineProperty(a,"fitCurve",{enumerable:!0,get:function(){return $t.fitCurve}});var _e=c(1),ot=c(6),$t=c(25),zt=c(7);const ct=16,_t=class _t extends ot.AnnotationEditor{constructor(Dt){super({...Dt,name:"inkEditor"});Rn(this,b);Rn(this,s,0);Rn(this,st,0);Rn(this,Tt,0);Rn(this,wt,this.canvasPointermove.bind(this));Rn(this,e,this.canvasPointerleave.bind(this));Rn(this,gt,this.canvasPointerup.bind(this));Rn(this,_,this.canvasPointerdown.bind(this));Rn(this,$,!1);Rn(this,d,!1);Rn(this,j,null);Rn(this,g,null);Rn(this,o,0);Rn(this,ut,0);Rn(this,dt,null);this.color=Dt.color||null,this.thickness=Dt.thickness||null,this.opacity=Dt.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(Dt){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(jt=>[jt,Dt.get(jt)]))}static updateDefaultParams(Dt,jt){switch(Dt){case _e.AnnotationEditorParamsType.INK_THICKNESS:_t._defaultThickness=jt;break;case _e.AnnotationEditorParamsType.INK_COLOR:_t._defaultColor=jt;break;case _e.AnnotationEditorParamsType.INK_OPACITY:_t._defaultOpacity=jt/100;break}}updateParams(Dt,jt){switch(Dt){case _e.AnnotationEditorParamsType.INK_THICKNESS:wn(this,b,Um).call(this,jt);break;case _e.AnnotationEditorParamsType.INK_COLOR:wn(this,b,Hm).call(this,jt);break;case _e.AnnotationEditorParamsType.INK_OPACITY:wn(this,b,Xm).call(this,jt);break}}static get defaultPropertiesToUpdate(){return[[_e.AnnotationEditorParamsType.INK_THICKNESS,_t._defaultThickness],[_e.AnnotationEditorParamsType.INK_COLOR,_t._defaultColor||ot.AnnotationEditor._defaultLineColor],[_e.AnnotationEditorParamsType.INK_OPACITY,Math.round(_t._defaultOpacity*100)]]}get propertiesToUpdate(){return[[_e.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||_t._defaultThickness],[_e.AnnotationEditorParamsType.INK_COLOR,this.color||_t._defaultColor||ot.AnnotationEditor._defaultLineColor],[_e.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??_t._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(wn(this,b,U0).call(this),wn(this,b,H0).call(this)),this.isAttachedToDOM||(this.parent.add(this),wn(this,b,yl).call(this)),wn(this,b,Al).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,nn(this,g).disconnect(),Ln(this,g,null),super.remove())}enableEditMode(){nn(this,$)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",nn(this,_)),this.canvas.addEventListener("pointerup",nn(this,gt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",nn(this,_)),this.canvas.removeEventListener("pointerup",nn(this,gt)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){nn(this,$)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Ln(this,$,!0),this.div.classList.add("disabled"),wn(this,b,Al).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(Dt){super.focusin(Dt),this.enableEditMode()}canvasPointerdown(Dt){Dt.button!==0||!this.isInEditMode()||nn(this,$)||(this.setInForeground(),Dt.type!=="mouse"&&this.div.focus(),Dt.stopPropagation(),this.canvas.addEventListener("pointerleave",nn(this,e)),this.canvas.addEventListener("pointermove",nn(this,wt)),wn(this,b,Gm).call(this,Dt.offsetX,Dt.offsetY))}canvasPointermove(Dt){Dt.stopPropagation(),wn(this,b,Wm).call(this,Dt.offsetX,Dt.offsetY)}canvasPointerup(Dt){Dt.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(Dt.stopPropagation(),wn(this,b,o1).call(this,Dt),this.setInBackground())}canvasPointerleave(Dt){wn(this,b,o1).call(this,Dt),this.setInBackground()}render(){if(this.div)return this.div;let Dt,jt;this.width&&(Dt=this.x,jt=this.y),super.render(),_t._l10nPromise.get("editor_ink_aria_label").then(qt=>{var Kt;return(Kt=this.div)==null?void 0:Kt.setAttribute("aria-label",qt)});const[Ot,Xt,Ut,Gt]=wn(this,b,zm).call(this);if(this.setAt(Ot,Xt,0,0),this.setDims(Ut,Gt),wn(this,b,U0).call(this),this.width){const[qt,Kt]=this.parent.viewportBaseDimensions;this.setAt(Dt*qt,jt*Kt,this.width*qt,this.height*Kt),Ln(this,d,!0),wn(this,b,yl).call(this),this.setDims(this.width*qt,this.height*Kt),wn(this,b,Vs).call(this),wn(this,b,h1).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return wn(this,b,H0).call(this),this.div}setDimensions(Dt,jt){const Ot=Math.round(Dt),Xt=Math.round(jt);if(nn(this,o)===Ot&&nn(this,ut)===Xt)return;Ln(this,o,Ot),Ln(this,ut,Xt),this.canvas.style.visibility="hidden",nn(this,s)&&Math.abs(nn(this,s)-Dt/jt)>.01&&(jt=Math.ceil(Dt/nn(this,s)),this.setDims(Dt,jt));const[Ut,Gt]=this.parent.viewportBaseDimensions;this.width=Dt/Ut,this.height=jt/Gt,nn(this,$)&&wn(this,b,l1).call(this,Dt,jt),wn(this,b,yl).call(this),wn(this,b,Vs).call(this),this.canvas.style.visibility="visible"}static deserialize(Dt,jt){var Zt,Qt;const Ot=super.deserialize(Dt,jt);Ot.thickness=Dt.thickness,Ot.color=_e.Util.makeHexColor(...Dt.color),Ot.opacity=Dt.opacity;const[Xt,Ut]=jt.pageDimensions,Gt=Ot.width*Xt,qt=Ot.height*Ut,Kt=jt.scaleFactor,Vt=Dt.thickness/2;Ln(Ot,s,Gt/qt),Ln(Ot,$,!0),Ln(Ot,o,Math.round(Gt)),Ln(Ot,ut,Math.round(qt));for(const{bezier:en}of Dt.paths){const rn=[];Ot.paths.push(rn);let an=Kt*(en[0]-Vt),fn=Kt*(qt-en[1]-Vt);for(let pn=2,yn=en.length;pn<yn;pn+=6){const On=Kt*(en[pn]-Vt),En=Kt*(qt-en[pn+1]-Vt),An=Kt*(en[pn+2]-Vt),Cn=Kt*(qt-en[pn+3]-Vt),gn=Kt*(en[pn+4]-Vt),hn=Kt*(qt-en[pn+5]-Vt);rn.push([[an,fn],[On,En],[An,Cn],[gn,hn]]),an=gn,fn=hn}const un=wn(this,vt,c1).call(this,rn);Ot.bezierPath2D.push(un)}const Yt=wn(Zt=Ot,b,u1).call(Zt);return Ln(Ot,Tt,Math.max(ct,Yt[2]-Yt[0])),Ln(Ot,st,Math.max(ct,Yt[3]-Yt[1])),wn(Qt=Ot,b,l1).call(Qt,Gt,qt),Ot}serialize(){if(this.isEmpty())return null;const Dt=this.getRect(0,0),jt=this.rotation%180===0?Dt[3]-Dt[1]:Dt[2]-Dt[0],Ot=ot.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:_e.AnnotationEditorType.INK,color:Ot,thickness:this.thickness,opacity:this.opacity,paths:wn(this,b,Vm).call(this,this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,jt),pageIndex:this.parent.pageIndex,rect:Dt,rotation:this.rotation}}};s=new WeakMap,st=new WeakMap,Tt=new WeakMap,wt=new WeakMap,e=new WeakMap,gt=new WeakMap,_=new WeakMap,$=new WeakMap,d=new WeakMap,j=new WeakMap,g=new WeakMap,o=new WeakMap,ut=new WeakMap,dt=new WeakMap,b=new WeakSet,Um=function(Dt){const jt=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=Dt,wn(this,b,Al).call(this)},undo:()=>{this.thickness=jt,wn(this,b,Al).call(this)},mustExec:!0,type:_e.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Hm=function(Dt){const jt=this.color;this.parent.addCommands({cmd:()=>{this.color=Dt,wn(this,b,Vs).call(this)},undo:()=>{this.color=jt,wn(this,b,Vs).call(this)},mustExec:!0,type:_e.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Xm=function(Dt){Dt/=100;const jt=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=Dt,wn(this,b,Vs).call(this)},undo:()=>{this.opacity=jt,wn(this,b,Vs).call(this)},mustExec:!0,type:_e.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},zm=function(){const{width:Dt,height:jt,rotation:Ot}=this.parent.viewport;switch(Ot){case 90:return[0,Dt,Dt,jt];case 180:return[Dt,jt,Dt,jt];case 270:return[jt,0,Dt,jt];default:return[0,0,Dt,jt]}},s1=function(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,zt.opacityToHex)(this.opacity)}`},Gm=function(Dt,jt){this.isEditing=!0,nn(this,d)||(Ln(this,d,!0),wn(this,b,yl).call(this),this.thickness||(this.thickness=_t._defaultThickness),this.color||(this.color=_t._defaultColor||ot.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=_t._defaultOpacity)),this.currentPath.push([Dt,jt]),Ln(this,j,null),wn(this,b,s1).call(this),this.ctx.beginPath(),this.ctx.moveTo(Dt,jt),Ln(this,dt,()=>{nn(this,dt)&&(nn(this,j)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):wn(this,b,Vs).call(this),this.ctx.lineTo(...nn(this,j)),Ln(this,j,null),this.ctx.stroke()),window.requestAnimationFrame(nn(this,dt)))}),window.requestAnimationFrame(nn(this,dt))},Wm=function(Dt,jt){const[Ot,Xt]=this.currentPath.at(-1);Dt===Ot&&jt===Xt||(this.currentPath.push([Dt,jt]),Ln(this,j,[Dt,jt]))},qm=function(Dt,jt){var Vt;this.ctx.closePath(),Ln(this,dt,null),Dt=Math.min(Math.max(Dt,0),this.canvas.width),jt=Math.min(Math.max(jt,0),this.canvas.height);const[Ot,Xt]=this.currentPath.at(-1);(Dt!==Ot||jt!==Xt)&&this.currentPath.push([Dt,jt]);let Ut;if(this.currentPath.length!==1)Ut=(0,$t.fitCurve)(this.currentPath,30,null);else{const Yt=[Dt,jt];Ut=[[Yt,Yt.slice(),Yt.slice(),Yt]]}const Gt=wn(Vt=_t,vt,c1).call(Vt,Ut);this.currentPath.length=0;const qt=()=>{this.paths.push(Ut),this.bezierPath2D.push(Gt),this.rebuild()},Kt=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(wn(this,b,U0).call(this),wn(this,b,H0).call(this)),wn(this,b,Al).call(this))};this.parent.addCommands({cmd:qt,undo:Kt,mustExec:!0})},Vs=function(){if(this.isEmpty()){wn(this,b,X0).call(this);return}wn(this,b,s1).call(this);const{canvas:Dt,ctx:jt}=this;jt.setTransform(1,0,0,1,0,0),jt.clearRect(0,0,Dt.width,Dt.height),wn(this,b,X0).call(this);for(const Ot of this.bezierPath2D)jt.stroke(Ot)},o1=function(Dt){wn(this,b,qm).call(this,Dt.offsetX,Dt.offsetY),this.canvas.removeEventListener("pointerleave",nn(this,e)),this.canvas.removeEventListener("pointermove",nn(this,wt)),this.parent.addToAnnotationStorage(this)},U0=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",_t._l10nPromise.get("editor_ink_canvas_aria_label").then(Dt=>{var jt;return(jt=this.canvas)==null?void 0:jt.setAttribute("aria-label",Dt)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},H0=function(){Ln(this,g,new ResizeObserver(Dt=>{const jt=Dt[0].contentRect;jt.width&&jt.height&&this.setDimensions(jt.width,jt.height)})),nn(this,g).observe(this.div)},yl=function(){if(!nn(this,d))return;const[Dt,jt]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*Dt),this.canvas.height=Math.ceil(this.height*jt),wn(this,b,X0).call(this)},l1=function(Dt,jt){const Ot=wn(this,b,z0).call(this),Xt=(Dt-Ot)/nn(this,Tt),Ut=(jt-Ot)/nn(this,st);this.scaleFactor=Math.min(Xt,Ut)},X0=function(){const Dt=wn(this,b,z0).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Dt,this.translationY*this.scaleFactor+Dt)},vt=new WeakSet,c1=function(Dt){const jt=new Path2D;for(let Ot=0,Xt=Dt.length;Ot<Xt;Ot++){const[Ut,Gt,qt,Kt]=Dt[Ot];Ot===0&&jt.moveTo(...Ut),jt.bezierCurveTo(Gt[0],Gt[1],qt[0],qt[1],Kt[0],Kt[1])}return jt},Vm=function(Dt,jt,Ot,Xt){const Gt=[],qt=this.thickness/2;let Kt,Vt;for(const Yt of this.paths){Kt=[],Vt=[];for(let Zt=0,Qt=Yt.length;Zt<Qt;Zt++){const[en,rn,an,fn]=Yt[Zt],un=Dt*(en[0]+jt)+qt,pn=Xt-Dt*(en[1]+Ot)-qt,yn=Dt*(rn[0]+jt)+qt,On=Xt-Dt*(rn[1]+Ot)-qt,En=Dt*(an[0]+jt)+qt,An=Xt-Dt*(an[1]+Ot)-qt,Cn=Dt*(fn[0]+jt)+qt,gn=Xt-Dt*(fn[1]+Ot)-qt;Zt===0&&(Kt.push(un,pn),Vt.push(un,pn)),Kt.push(yn,On,En,An,Cn,gn),wn(this,b,Km).call(this,un,pn,yn,On,En,An,Cn,gn,4,Vt)}Gt.push({bezier:Kt,points:Vt})}return Gt},Km=function(Dt,jt,Ot,Xt,Ut,Gt,qt,Kt,Vt,Yt){if(wn(this,b,Ym).call(this,Dt,jt,Ot,Xt,Ut,Gt,qt,Kt)){Yt.push(qt,Kt);return}for(let Zt=1;Zt<Vt-1;Zt++){const Qt=Zt/Vt,en=1-Qt;let rn=Qt*Dt+en*Ot,an=Qt*jt+en*Xt,fn=Qt*Ot+en*Ut,un=Qt*Xt+en*Gt;const pn=Qt*Ut+en*qt,yn=Qt*Gt+en*Kt;rn=Qt*rn+en*fn,an=Qt*an+en*un,fn=Qt*fn+en*pn,un=Qt*un+en*yn,rn=Qt*rn+en*fn,an=Qt*an+en*un,Yt.push(rn,an)}Yt.push(qt,Kt)},Ym=function(Dt,jt,Ot,Xt,Ut,Gt,qt,Kt){const Yt=(3*Ot-2*Dt-qt)**2,Zt=(3*Xt-2*jt-Kt)**2,Qt=(3*Ut-Dt-2*qt)**2,en=(3*Gt-jt-2*Kt)**2;return Math.max(Yt,Qt)+Math.max(Zt,en)<=10},u1=function(){let Dt=1/0,jt=-1/0,Ot=1/0,Xt=-1/0;for(const Ut of this.paths)for(const[Gt,qt,Kt,Vt]of Ut){const Yt=_e.Util.bezierBoundingBox(...Gt,...qt,...Kt,...Vt);Dt=Math.min(Dt,Yt[0]),Ot=Math.min(Ot,Yt[1]),jt=Math.max(jt,Yt[2]),Xt=Math.max(Xt,Yt[3])}return[Dt,Ot,jt,Xt]},z0=function(){return nn(this,$)?Math.ceil(this.thickness*this.parent.scaleFactor):0},Al=function(Dt=!1){if(this.isEmpty())return;if(!nn(this,$)){wn(this,b,Vs).call(this);return}const jt=wn(this,b,u1).call(this),Ot=wn(this,b,z0).call(this);Ln(this,Tt,Math.max(ct,jt[2]-jt[0])),Ln(this,st,Math.max(ct,jt[3]-jt[1]));const Xt=Math.ceil(Ot+nn(this,Tt)*this.scaleFactor),Ut=Math.ceil(Ot+nn(this,st)*this.scaleFactor),[Gt,qt]=this.parent.viewportBaseDimensions;this.width=Xt/Gt,this.height=Ut/qt,Ln(this,s,Xt/Ut),wn(this,b,h1).call(this);const Kt=this.translationX,Vt=this.translationY;this.translationX=-jt[0],this.translationY=-jt[1],wn(this,b,yl).call(this),wn(this,b,Vs).call(this),Ln(this,o,Xt),Ln(this,ut,Ut),this.setDims(Xt,Ut);const Yt=Dt?Ot/this.scaleFactor/2:0;this.translate(Kt-this.translationX-Yt,Vt-this.translationY-Yt)},h1=function(){const{style:Dt}=this.div;nn(this,s)>=1?(Dt.minHeight=`${ct}px`,Dt.minWidth=`${Math.round(nn(this,s)*ct)}px`):(Dt.minWidth=`${ct}px`,Dt.minHeight=`${Math.round(ct/nn(this,s))}px`)},Rn(_t,vt),Hr(_t,"_defaultColor",null),Hr(_t,"_defaultOpacity",1),Hr(_t,"_defaultThickness",1),Hr(_t,"_l10nPromise"),Hr(_t,"_type","ink");let Et=_t;a.InkEditor=Et},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.fitCurve=void 0;const _e=c(26);a.fitCurve=_e},i=>{function a(gt,_,$){if(!Array.isArray(gt))throw new TypeError("First argument should be an array");if(gt.forEach(o=>{if(!Array.isArray(o)||o.some(ut=>typeof ut!="number")||o.length!==gt[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),gt=gt.filter((o,ut)=>ut===0||!o.every((dt,b)=>dt===gt[ut-1][b])),gt.length<2)return[];const d=gt.length,j=Tt(gt[1],gt[0]),g=Tt(gt[d-2],gt[d-1]);return c(gt,j,g,_,$)}function c(gt,_,$,d,j){var o,ut,dt,b,h,et,nt,pt,Bt,Pt,Rt,Ft,lt;if(gt.length===2)return Ft=wt.vectorLen(wt.subtract(gt[0],gt[1]))/3,o=[gt[0],wt.addArrays(gt[0],wt.mulItems(_,Ft)),wt.addArrays(gt[1],wt.mulItems($,Ft)),gt[1]],[o];if(ut=ct(gt),[o,b,et]=_e(gt,ut,ut,_,$,j),b===0||b<d)return[o];if(b<d*d)for(dt=ut,h=b,nt=et,lt=0;lt<20;lt++){if(dt=$t(o,gt,dt),[o,b,et]=_e(gt,ut,dt,_,$,j),b<d)return[o];if(et===nt){let ft=b/h;if(ft>.9999&&ft<1.0001)break}h=b,nt=et}return Rt=[],pt=wt.subtract(gt[et-1],gt[et+1]),pt.every(ft=>ft===0)&&(pt=wt.subtract(gt[et-1],gt[et]),[pt[0],pt[1]]=[-pt[1],pt[0]]),Bt=wt.normalize(pt),Pt=wt.mulItems(Bt,-1),Rt=Rt.concat(c(gt.slice(0,et+1),_,Bt,d,j)),Rt=Rt.concat(c(gt.slice(et),Pt,$,d,j)),Rt}function _e(gt,_,$,d,j,g){var o,ut,dt;return o=ot(gt,$,d,j),[ut,dt]=Et(gt,o,_),g&&g({bez:o,points:gt,params:_,maxErr:ut,maxPoint:dt}),[o,ut,dt]}function ot(gt,_,$,d){var j,g,o,ut,dt,b,h,et,nt,pt,Bt,Pt,Rt,Ft,lt,ft,it,at=gt[0],bt=gt[gt.length-1];for(j=[at,null,null,bt],g=wt.zeros_Xx2x2(_.length),Rt=0,Ft=_.length;Rt<Ft;Rt++)ft=_[Rt],it=1-ft,o=g[Rt],o[0]=wt.mulItems($,3*ft*(it*it)),o[1]=wt.mulItems(d,3*it*(ft*ft));for(ut=[[0,0],[0,0]],dt=[0,0],Rt=0,Ft=gt.length;Rt<Ft;Rt++)ft=_[Rt],o=g[Rt],ut[0][0]+=wt.dot(o[0],o[0]),ut[0][1]+=wt.dot(o[0],o[1]),ut[1][0]+=wt.dot(o[0],o[1]),ut[1][1]+=wt.dot(o[1],o[1]),lt=wt.subtract(gt[Rt],e.q([at,at,bt,bt],ft)),dt[0]+=wt.dot(o[0],lt),dt[1]+=wt.dot(o[1],lt);return b=ut[0][0]*ut[1][1]-ut[1][0]*ut[0][1],h=ut[0][0]*dt[1]-ut[1][0]*dt[0],et=dt[0]*ut[1][1]-dt[1]*ut[0][1],nt=b===0?0:et/b,pt=b===0?0:h/b,Pt=wt.vectorLen(wt.subtract(at,bt)),Bt=1e-6*Pt,nt<Bt||pt<Bt?(j[1]=wt.addArrays(at,wt.mulItems($,Pt/3)),j[2]=wt.addArrays(bt,wt.mulItems(d,Pt/3))):(j[1]=wt.addArrays(at,wt.mulItems($,nt)),j[2]=wt.addArrays(bt,wt.mulItems(d,pt))),j}function $t(gt,_,$){return $.map((d,j)=>zt(gt,_[j],d))}function zt(gt,_,$){var d=wt.subtract(e.q(gt,$),_),j=e.qprime(gt,$),g=wt.mulMatrix(d,j),o=wt.sum(wt.squareItems(j))+2*wt.mulMatrix(d,e.qprimeprime(gt,$));return o===0?$:$-g/o}function ct(gt){var _=[],$,d,j;return gt.forEach((g,o)=>{$=o?d+wt.vectorLen(wt.subtract(g,j)):0,_.push($),d=$,j=g}),_=_.map(g=>g/d),_}function Et(gt,_,$){var d,j,g,o,ut,dt,b,h;j=0,g=Math.floor(gt.length/2);const et=s(_,10);for(ut=0,dt=gt.length;ut<dt;ut++)b=gt[ut],h=st(_,$[ut],et,10),o=wt.subtract(e.q(_,h),b),d=o[0]*o[0]+o[1]*o[1],d>j&&(j=d,g=ut);return[j,g]}var s=function(gt,_){for(var $,d=[0],j=gt[0],g=0,o=1;o<=_;o++)$=e.q(gt,o/_),g+=wt.vectorLen(wt.subtract($,j)),d.push(g),j=$;return d=d.map(ut=>ut/g),d};function st(gt,_,$,d){if(_<0)return 0;if(_>1)return 1;for(var j,g,o,ut,dt,b=1;b<=d;b++)if(_<=$[b]){ut=(b-1)/d,o=b/d,g=$[b-1],j=$[b],dt=(_-g)/(j-g)*(o-ut)+ut;break}return dt}function Tt(gt,_){return wt.normalize(wt.subtract(gt,_))}class wt{static zeros_Xx2x2(_){for(var $=[];_--;)$.push([0,0]);return $}static mulItems(_,$){return _.map(d=>d*$)}static mulMatrix(_,$){return _.reduce((d,j,g)=>d+j*$[g],0)}static subtract(_,$){return _.map((d,j)=>d-$[j])}static addArrays(_,$){return _.map((d,j)=>d+$[j])}static addItems(_,$){return _.map(d=>d+$)}static sum(_){return _.reduce(($,d)=>$+d)}static dot(_,$){return wt.mulMatrix(_,$)}static vectorLen(_){return Math.hypot(..._)}static divItems(_,$){return _.map(d=>d/$)}static squareItems(_){return _.map($=>$*$)}static normalize(_){return this.divItems(_,this.vectorLen(_))}}class e{static q(_,$){var d=1-$,j=wt.mulItems(_[0],d*d*d),g=wt.mulItems(_[1],3*d*d*$),o=wt.mulItems(_[2],3*d*$*$),ut=wt.mulItems(_[3],$*$*$);return wt.addArrays(wt.addArrays(j,g),wt.addArrays(o,ut))}static qprime(_,$){var d=1-$,j=wt.mulItems(wt.subtract(_[1],_[0]),3*d*d),g=wt.mulItems(wt.subtract(_[2],_[1]),6*d*$),o=wt.mulItems(wt.subtract(_[3],_[2]),3*$*$);return wt.addArrays(wt.addArrays(j,g),o)}static qprimeprime(_,$){return wt.addArrays(wt.mulItems(wt.addArrays(wt.subtract(_[2],wt.mulItems(_[1],2)),_[0]),6*(1-$)),wt.mulItems(wt.addArrays(wt.subtract(_[3],wt.mulItems(_[2],2)),_[1]),6*$))}}i.exports=a,i.exports.fitCubic=c,i.exports.createTangent=Tt},(i,a,c)=>{var vt,d1,f1,p1;Object.defineProperty(a,"__esModule",{value:!0}),a.AnnotationLayer=void 0;var _e=c(1),ot=c(8),$t=c(5),zt=c(28),ct=c(29);const Et=1e3,s=9,st=new WeakSet;function Tt(xt){return{width:xt[2]-xt[0],height:xt[3]-xt[1]}}class wt{static create(rt){switch(rt.data.annotationType){case _e.AnnotationType.LINK:return new gt(rt);case _e.AnnotationType.TEXT:return new _(rt);case _e.AnnotationType.WIDGET:switch(rt.data.fieldType){case"Tx":return new d(rt);case"Btn":return rt.data.radioButton?new g(rt):rt.data.checkBox?new j(rt):new o(rt);case"Ch":return new ut(rt)}return new $(rt);case _e.AnnotationType.POPUP:return new dt(rt);case _e.AnnotationType.FREETEXT:return new h(rt);case _e.AnnotationType.LINE:return new et(rt);case _e.AnnotationType.SQUARE:return new nt(rt);case _e.AnnotationType.CIRCLE:return new pt(rt);case _e.AnnotationType.POLYLINE:return new Bt(rt);case _e.AnnotationType.CARET:return new Rt(rt);case _e.AnnotationType.INK:return new Ft(rt);case _e.AnnotationType.POLYGON:return new Pt(rt);case _e.AnnotationType.HIGHLIGHT:return new lt(rt);case _e.AnnotationType.UNDERLINE:return new ft(rt);case _e.AnnotationType.SQUIGGLY:return new it(rt);case _e.AnnotationType.STRIKEOUT:return new at(rt);case _e.AnnotationType.STAMP:return new bt(rt);case _e.AnnotationType.FILEATTACHMENT:return new St(rt);default:return new e(rt)}}}class e{constructor(rt,{isRenderable:mt=!1,ignoreBorder:Mt=!1,createQuadrilaterals:_t=!1}={}){this.isRenderable=mt,this.data=rt.data,this.layer=rt.layer,this.page=rt.page,this.viewport=rt.viewport,this.linkService=rt.linkService,this.downloadManager=rt.downloadManager,this.imageResourcesPath=rt.imageResourcesPath,this.renderForms=rt.renderForms,this.svgFactory=rt.svgFactory,this.annotationStorage=rt.annotationStorage,this.enableScripting=rt.enableScripting,this.hasJSActions=rt.hasJSActions,this._fieldObjects=rt.fieldObjects,this._mouseState=rt.mouseState,mt&&(this.container=this._createContainer(Mt)),_t&&(this.quadrilaterals=this._createQuadrilaterals(Mt))}_createContainer(rt=!1){const mt=this.data,Mt=this.page,_t=this.viewport,Lt=document.createElement("section"),{width:It,height:Dt}=Tt(mt.rect),[jt,Ot,Xt,Ut]=_t.viewBox,Gt=Xt-jt,qt=Ut-Ot;Lt.setAttribute("data-annotation-id",mt.id);const Kt=_e.Util.normalizeRect([mt.rect[0],Mt.view[3]-mt.rect[1]+Mt.view[1],mt.rect[2],Mt.view[3]-mt.rect[3]+Mt.view[1]]);if(!rt&&mt.borderStyle.width>0){Lt.style.borderWidth=`${mt.borderStyle.width}px`;const Yt=mt.borderStyle.horizontalCornerRadius,Zt=mt.borderStyle.verticalCornerRadius;if(Yt>0||Zt>0){const en=`calc(${Yt}px * var(--scale-factor)) / calc(${Zt}px * var(--scale-factor))`;Lt.style.borderRadius=en}else if(this instanceof g){const en=`calc(${It}px * var(--scale-factor)) / calc(${Dt}px * var(--scale-factor))`;Lt.style.borderRadius=en}switch(mt.borderStyle.style){case _e.AnnotationBorderStyleType.SOLID:Lt.style.borderStyle="solid";break;case _e.AnnotationBorderStyleType.DASHED:Lt.style.borderStyle="dashed";break;case _e.AnnotationBorderStyleType.BEVELED:(0,_e.warn)("Unimplemented border style: beveled");break;case _e.AnnotationBorderStyleType.INSET:(0,_e.warn)("Unimplemented border style: inset");break;case _e.AnnotationBorderStyleType.UNDERLINE:Lt.style.borderBottomStyle="solid";break}const Qt=mt.borderColor||null;Qt?Lt.style.borderColor=_e.Util.makeHexColor(Qt[0]|0,Qt[1]|0,Qt[2]|0):Lt.style.borderWidth=0}Lt.style.left=`${100*(Kt[0]-jt)/Gt}%`,Lt.style.top=`${100*(Kt[1]-Ot)/qt}%`;const{rotation:Vt}=mt;return mt.hasOwnCanvas||Vt===0?(Lt.style.width=`${100*It/Gt}%`,Lt.style.height=`${100*Dt/qt}%`):this.setRotation(Vt,Lt),Lt}setRotation(rt,mt=this.container){const[Mt,_t,Lt,It]=this.viewport.viewBox,Dt=Lt-Mt,jt=It-_t,{width:Ot,height:Xt}=Tt(this.data.rect);let Ut,Gt;rt%180===0?(Ut=100*Ot/Dt,Gt=100*Xt/jt):(Ut=100*Xt/Dt,Gt=100*Ot/jt),mt.style.width=`${Ut}%`,mt.style.height=`${Gt}%`,mt.setAttribute("data-main-rotation",(360-rt)%360)}get _commonActions(){const rt=(mt,Mt,_t)=>{const Lt=_t.detail[mt];_t.target.style[Mt]=zt.ColorConverters[`${Lt[0]}_HTML`](Lt.slice(1))};return(0,_e.shadow)(this,"_commonActions",{display:mt=>{const Mt=mt.detail.display%2===1;this.container.style.visibility=Mt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:Mt,print:mt.detail.display===0||mt.detail.display===3})},print:mt=>{this.annotationStorage.setValue(this.data.id,{print:mt.detail.print})},hidden:mt=>{this.container.style.visibility=mt.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:mt.detail.hidden})},focus:mt=>{setTimeout(()=>mt.target.focus({preventScroll:!1}),0)},userName:mt=>{mt.target.title=mt.detail.userName},readonly:mt=>{mt.detail.readonly?mt.target.setAttribute("readonly",""):mt.target.removeAttribute("readonly")},required:mt=>{this._setRequired(mt.target,mt.detail.required)},bgColor:mt=>{rt("bgColor","backgroundColor",mt)},fillColor:mt=>{rt("fillColor","backgroundColor",mt)},fgColor:mt=>{rt("fgColor","color",mt)},textColor:mt=>{rt("textColor","color",mt)},borderColor:mt=>{rt("borderColor","borderColor",mt)},strokeColor:mt=>{rt("strokeColor","borderColor",mt)},rotation:mt=>{const Mt=mt.detail.rotation;this.setRotation(Mt),this.annotationStorage.setValue(this.data.id,{rotation:Mt})}})}_dispatchEventFromSandbox(rt,mt){const Mt=this._commonActions;for(const _t of Object.keys(mt.detail)){const Lt=rt[_t]||Mt[_t];Lt&&Lt(mt)}}_setDefaultPropertiesFromJS(rt){if(!this.enableScripting)return;const mt=this.annotationStorage.getRawValue(this.data.id);if(!mt)return;const Mt=this._commonActions;for(const[_t,Lt]of Object.entries(mt)){const It=Mt[_t];if(It){const Dt={detail:{[_t]:Lt},target:rt};It(Dt),delete mt[_t]}}}_createQuadrilaterals(rt=!1){if(!this.data.quadPoints)return null;const mt=[],Mt=this.data.rect;for(const _t of this.data.quadPoints)this.data.rect=[_t[2].x,_t[2].y,_t[1].x,_t[1].y],mt.push(this._createContainer(rt));return this.data.rect=Mt,mt}_createPopup(rt,mt){let Mt=this.container;this.quadrilaterals&&(rt=rt||this.quadrilaterals,Mt=this.quadrilaterals[0]),rt||(rt=document.createElement("div"),rt.className="popupTriggerArea",Mt.append(rt));const Lt=new b({container:Mt,trigger:rt,color:mt.color,titleObj:mt.titleObj,modificationDate:mt.modificationDate,contentsObj:mt.contentsObj,richText:mt.richText,hideWrapper:!0}).render();Lt.style.left="100%",Mt.append(Lt)}_renderQuadrilaterals(rt){for(const mt of this.quadrilaterals)mt.className=rt;return this.quadrilaterals}render(){(0,_e.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(rt,mt=null){const Mt=[];if(this._fieldObjects){const _t=this._fieldObjects[rt];if(_t)for(const{page:Lt,id:It,exportValues:Dt}of _t){if(Lt===-1||It===mt)continue;const jt=typeof Dt=="string"?Dt:null,Ot=document.querySelector(`[data-element-id="${It}"]`);if(Ot&&!st.has(Ot)){(0,_e.warn)(`_getElementsByName - element not allowed: ${It}`);continue}Mt.push({id:It,exportValue:jt,domElement:Ot})}return Mt}for(const _t of document.getElementsByName(rt)){const{id:Lt,exportValue:It}=_t;Lt!==mt&&st.has(_t)&&Mt.push({id:Lt,exportValue:It,domElement:_t})}return Mt}static get platform(){const rt=typeof navigator<"u"?navigator.platform:"";return(0,_e.shadow)(this,"platform",{isWin:rt.includes("Win"),isMac:rt.includes("Mac")})}}class gt extends e{constructor(rt,mt=null){super(rt,{isRenderable:!0,ignoreBorder:!!(mt!=null&&mt.ignoreBorder),createQuadrilaterals:!0}),this.isTooltipOnly=rt.data.isTooltipOnly}render(){const{data:rt,linkService:mt}=this,Mt=document.createElement("a");Mt.setAttribute("data-element-id",rt.id);let _t=!1;return rt.url?(mt.addLinkAttributes(Mt,rt.url,rt.newWindow),_t=!0):rt.action?(this._bindNamedAction(Mt,rt.action),_t=!0):rt.dest?(this._bindLink(Mt,rt.dest),_t=!0):(rt.actions&&(rt.actions.Action||rt.actions["Mouse Up"]||rt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Mt,rt),_t=!0),rt.resetForm?(this._bindResetFormAction(Mt,rt.resetForm),_t=!0):this.isTooltipOnly&&!_t&&(this._bindLink(Mt,""),_t=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((Lt,It)=>{const Dt=It===0?Mt:Mt.cloneNode();return Lt.append(Dt),Lt}):(this.container.className="linkAnnotation",_t&&this.container.append(Mt),this.container)}_bindLink(rt,mt){rt.href=this.linkService.getDestinationHash(mt),rt.onclick=()=>(mt&&this.linkService.goToDestination(mt),!1),(mt||mt==="")&&(rt.className="internalLink")}_bindNamedAction(rt,mt){rt.href=this.linkService.getAnchorUrl(""),rt.onclick=()=>(this.linkService.executeNamedAction(mt),!1),rt.className="internalLink"}_bindJSAction(rt,mt){rt.href=this.linkService.getAnchorUrl("");const Mt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const _t of Object.keys(mt.actions)){const Lt=Mt.get(_t);Lt&&(rt[Lt]=()=>{var It;return(It=this.linkService.eventBus)==null||It.dispatch("dispatcheventinsandbox",{source:this,detail:{id:mt.id,name:_t}}),!1})}rt.onclick||(rt.onclick=()=>!1),rt.className="internalLink"}_bindResetFormAction(rt,mt){const Mt=rt.onclick;if(Mt||(rt.href=this.linkService.getAnchorUrl("")),rt.className="internalLink",!this._fieldObjects){(0,_e.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Mt||(rt.onclick=()=>!1);return}rt.onclick=()=>{var Xt;Mt&&Mt();const{fields:_t,refs:Lt,include:It}=mt,Dt=[];if(_t.length!==0||Lt.length!==0){const Ut=new Set(Lt);for(const Gt of _t){const qt=this._fieldObjects[Gt]||[];for(const{id:Kt}of qt)Ut.add(Kt)}for(const Gt of Object.values(this._fieldObjects))for(const qt of Gt)Ut.has(qt.id)===It&&Dt.push(qt)}else for(const Ut of Object.values(this._fieldObjects))Dt.push(...Ut);const jt=this.annotationStorage,Ot=[];for(const Ut of Dt){const{id:Gt}=Ut;switch(Ot.push(Gt),Ut.type){case"text":{const Kt=Ut.defaultValue||"";jt.setValue(Gt,{value:Kt});break}case"checkbox":case"radiobutton":{const Kt=Ut.defaultValue===Ut.exportValues;jt.setValue(Gt,{value:Kt});break}case"combobox":case"listbox":{const Kt=Ut.defaultValue||"";jt.setValue(Gt,{value:Kt});break}default:continue}const qt=document.querySelector(`[data-element-id="${Gt}"]`);if(qt){if(!st.has(qt)){(0,_e.warn)(`_bindResetFormAction - element not allowed: ${Gt}`);continue}}else continue;qt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Xt=this.linkService.eventBus)==null||Xt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ot,name:"ResetForm"}})),!1}}}class _ extends e{constructor(rt){var Mt,_t,Lt;const mt=!!(rt.data.hasPopup||(Mt=rt.data.titleObj)!=null&&Mt.str||(_t=rt.data.contentsObj)!=null&&_t.str||(Lt=rt.data.richText)!=null&&Lt.str);super(rt,{isRenderable:mt})}render(){this.container.className="textAnnotation";const rt=document.createElement("img");return rt.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",rt.alt="[{{type}} Annotation]",rt.dataset.l10nId="text_annotation_type",rt.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(rt,this.data),this.container.append(rt),this.container}}class $ extends e{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(rt){const{isWin:mt,isMac:Mt}=e.platform;return mt&&rt.ctrlKey||Mt&&rt.metaKey}_setEventListener(rt,mt,Mt,_t){mt.includes("mouse")?rt.addEventListener(mt,Lt=>{var It;(It=this.linkService.eventBus)==null||It.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Mt,value:_t(Lt),shift:Lt.shiftKey,modifier:this._getKeyModifier(Lt)}})}):rt.addEventListener(mt,Lt=>{var It;(It=this.linkService.eventBus)==null||It.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Mt,value:_t(Lt)}})})}_setEventListeners(rt,mt,Mt){var _t;for(const[Lt,It]of mt)(It==="Action"||(_t=this.data.actions)!=null&&_t[It])&&this._setEventListener(rt,Lt,It,Mt)}_setBackgroundColor(rt){const mt=this.data.backgroundColor||null;rt.style.backgroundColor=mt===null?"transparent":_e.Util.makeHexColor(mt[0],mt[1],mt[2])}_setTextStyle(rt){const mt=["left","center","right"],{fontColor:Mt}=this.data.defaultAppearanceData,_t=this.data.defaultAppearanceData.fontSize||s,Lt=rt.style;let It;if(this.data.multiLine){const Dt=Math.abs(this.data.rect[3]-this.data.rect[1]),jt=Math.round(Dt/(_e.LINE_FACTOR*_t))||1,Ot=Dt/jt;It=Math.min(_t,Math.round(Ot/_e.LINE_FACTOR))}else{const Dt=Math.abs(this.data.rect[3]-this.data.rect[1]);It=Math.min(_t,Math.round(Dt/_e.LINE_FACTOR))}Lt.fontSize=`calc(${It}px * var(--scale-factor))`,Lt.color=_e.Util.makeHexColor(Mt[0],Mt[1],Mt[2]),this.data.textAlignment!==null&&(Lt.textAlign=mt[this.data.textAlignment])}_setRequired(rt,mt){mt?rt.setAttribute("required",!0):rt.removeAttribute("required"),rt.setAttribute("aria-required",mt)}}class d extends ${constructor(rt){const mt=rt.renderForms||!rt.data.hasAppearance&&!!rt.data.fieldValue;super(rt,{isRenderable:mt})}setPropertyOnSiblings(rt,mt,Mt,_t){const Lt=this.annotationStorage;for(const It of this._getElementsByName(rt.name,rt.id))It.domElement&&(It.domElement[mt]=Mt),Lt.setValue(It.id,{[_t]:Mt})}render(){var _t;const rt=this.annotationStorage,mt=this.data.id;this.container.className="textWidgetAnnotation";let Mt=null;if(this.renderForms){const Lt=rt.getValue(mt,{value:this.data.fieldValue});let It=Lt.formattedValue||Lt.value||"";const Dt=rt.getValue(mt,{charLimit:this.data.maxLen}).charLimit;Dt&&It.length>Dt&&(It=It.slice(0,Dt));const jt={userValue:It,formattedValue:null,valueOnFocus:""};this.data.multiLine?(Mt=document.createElement("textarea"),Mt.textContent=It,this.data.doNotScroll&&(Mt.style.overflowY="hidden")):(Mt=document.createElement("input"),Mt.type="text",Mt.setAttribute("value",It),this.data.doNotScroll&&(Mt.style.overflowX="hidden")),st.add(Mt),Mt.setAttribute("data-element-id",mt),Mt.disabled=this.data.readOnly,Mt.name=this.data.fieldName,Mt.tabIndex=Et,this._setRequired(Mt,this.data.required),Dt&&(Mt.maxLength=Dt),Mt.addEventListener("input",Xt=>{rt.setValue(mt,{value:Xt.target.value}),this.setPropertyOnSiblings(Mt,"value",Xt.target.value,"value")}),Mt.addEventListener("resetform",Xt=>{const Ut=this.data.defaultFieldValue??"";Mt.value=jt.userValue=Ut,jt.formattedValue=null});let Ot=Xt=>{const{formattedValue:Ut}=jt;Ut!=null&&(Xt.target.value=Ut),Xt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Mt.addEventListener("focus",Ut=>{jt.userValue&&(Ut.target.value=jt.userValue),jt.valueOnFocus=Ut.target.value}),Mt.addEventListener("updatefromsandbox",Ut=>{const Gt={value(qt){jt.userValue=qt.detail.value??"",rt.setValue(mt,{value:jt.userValue.toString()}),qt.target.value=jt.userValue},formattedValue(qt){const{formattedValue:Kt}=qt.detail;jt.formattedValue=Kt,Kt!=null&&qt.target!==document.activeElement&&(qt.target.value=Kt),rt.setValue(mt,{formattedValue:Kt})},selRange(qt){qt.target.setSelectionRange(...qt.detail.selRange)},charLimit:qt=>{var Zt;const{charLimit:Kt}=qt.detail,{target:Vt}=qt;if(Kt===0){Vt.removeAttribute("maxLength");return}Vt.setAttribute("maxLength",Kt);let Yt=jt.userValue;!Yt||Yt.length<=Kt||(Yt=Yt.slice(0,Kt),Vt.value=jt.userValue=Yt,rt.setValue(mt,{value:Yt}),(Zt=this.linkService.eventBus)==null||Zt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:mt,name:"Keystroke",value:Yt,willCommit:!0,commitKey:1,selStart:Vt.selectionStart,selEnd:Vt.selectionEnd}}))}};this._dispatchEventFromSandbox(Gt,Ut)}),Mt.addEventListener("keydown",Ut=>{var Kt;let Gt=-1;if(Ut.key==="Escape"?Gt=0:Ut.key==="Enter"?Gt=2:Ut.key==="Tab"&&(Gt=3),Gt===-1)return;const{value:qt}=Ut.target;jt.valueOnFocus!==qt&&(jt.userValue=qt,(Kt=this.linkService.eventBus)==null||Kt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:mt,name:"Keystroke",value:qt,willCommit:!0,commitKey:Gt,selStart:Ut.target.selectionStart,selEnd:Ut.target.selectionEnd}}))});const Xt=Ot;Ot=null,Mt.addEventListener("blur",Ut=>{var qt;const{value:Gt}=Ut.target;jt.userValue=Gt,this._mouseState.isDown&&jt.valueOnFocus!==Gt&&((qt=this.linkService.eventBus)==null||qt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:mt,name:"Keystroke",value:Gt,willCommit:!0,commitKey:1,selStart:Ut.target.selectionStart,selEnd:Ut.target.selectionEnd}})),Xt(Ut)}),(_t=this.data.actions)!=null&&_t.Keystroke&&Mt.addEventListener("beforeinput",Ut=>{var en;const{data:Gt,target:qt}=Ut,{value:Kt,selectionStart:Vt,selectionEnd:Yt}=qt;let Zt=Vt,Qt=Yt;switch(Ut.inputType){case"deleteWordBackward":{const rn=Kt.substring(0,Vt).match(/\w*[^\w]*$/);rn&&(Zt-=rn[0].length);break}case"deleteWordForward":{const rn=Kt.substring(Vt).match(/^[^\w]*\w*/);rn&&(Qt+=rn[0].length);break}case"deleteContentBackward":Vt===Yt&&(Zt-=1);break;case"deleteContentForward":Vt===Yt&&(Qt+=1);break}Ut.preventDefault(),(en=this.linkService.eventBus)==null||en.dispatch("dispatcheventinsandbox",{source:this,detail:{id:mt,name:"Keystroke",value:Kt,change:Gt||"",willCommit:!1,selStart:Zt,selEnd:Qt}})}),this._setEventListeners(Mt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ut=>Ut.target.value)}if(Ot&&Mt.addEventListener("blur",Ot),this.data.comb){const Ut=(this.data.rect[2]-this.data.rect[0])/Dt;Mt.classList.add("comb"),Mt.style.letterSpacing=`calc(${Ut}px * var(--scale-factor) - 1ch)`}}else Mt=document.createElement("div"),Mt.textContent=this.data.fieldValue,Mt.style.verticalAlign="middle",Mt.style.display="table-cell";return this._setTextStyle(Mt),this._setBackgroundColor(Mt),this._setDefaultPropertiesFromJS(Mt),this.container.append(Mt),this.container}}class j extends ${constructor(rt){super(rt,{isRenderable:rt.renderForms})}render(){const rt=this.annotationStorage,mt=this.data,Mt=mt.id;let _t=rt.getValue(Mt,{value:mt.exportValue===mt.fieldValue}).value;typeof _t=="string"&&(_t=_t!=="Off",rt.setValue(Mt,{value:_t})),this.container.className="buttonWidgetAnnotation checkBox";const Lt=document.createElement("input");return st.add(Lt),Lt.setAttribute("data-element-id",Mt),Lt.disabled=mt.readOnly,this._setRequired(Lt,this.data.required),Lt.type="checkbox",Lt.name=mt.fieldName,_t&&Lt.setAttribute("checked",!0),Lt.setAttribute("exportValue",mt.exportValue),Lt.tabIndex=Et,Lt.addEventListener("change",It=>{const{name:Dt,checked:jt}=It.target;for(const Ot of this._getElementsByName(Dt,Mt)){const Xt=jt&&Ot.exportValue===mt.exportValue;Ot.domElement&&(Ot.domElement.checked=Xt),rt.setValue(Ot.id,{value:Xt})}rt.setValue(Mt,{value:jt})}),Lt.addEventListener("resetform",It=>{const Dt=mt.defaultFieldValue||"Off";It.target.checked=Dt===mt.exportValue}),this.enableScripting&&this.hasJSActions&&(Lt.addEventListener("updatefromsandbox",It=>{const Dt={value(jt){jt.target.checked=jt.detail.value!=="Off",rt.setValue(Mt,{value:jt.target.checked})}};this._dispatchEventFromSandbox(Dt,It)}),this._setEventListeners(Lt,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],It=>It.target.checked)),this._setBackgroundColor(Lt),this._setDefaultPropertiesFromJS(Lt),this.container.append(Lt),this.container}}class g extends ${constructor(rt){super(rt,{isRenderable:rt.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const rt=this.annotationStorage,mt=this.data,Mt=mt.id;let _t=rt.getValue(Mt,{value:mt.fieldValue===mt.buttonValue}).value;typeof _t=="string"&&(_t=_t!==mt.buttonValue,rt.setValue(Mt,{value:_t}));const Lt=document.createElement("input");if(st.add(Lt),Lt.setAttribute("data-element-id",Mt),Lt.disabled=mt.readOnly,this._setRequired(Lt,this.data.required),Lt.type="radio",Lt.name=mt.fieldName,_t&&Lt.setAttribute("checked",!0),Lt.tabIndex=Et,Lt.addEventListener("change",It=>{const{name:Dt,checked:jt}=It.target;for(const Ot of this._getElementsByName(Dt,Mt))rt.setValue(Ot.id,{value:!1});rt.setValue(Mt,{value:jt})}),Lt.addEventListener("resetform",It=>{const Dt=mt.defaultFieldValue;It.target.checked=Dt!=null&&Dt===mt.buttonValue}),this.enableScripting&&this.hasJSActions){const It=mt.buttonValue;Lt.addEventListener("updatefromsandbox",Dt=>{const jt={value:Ot=>{const Xt=It===Ot.detail.value;for(const Ut of this._getElementsByName(Ot.target.name)){const Gt=Xt&&Ut.id===Mt;Ut.domElement&&(Ut.domElement.checked=Gt),rt.setValue(Ut.id,{value:Gt})}}};this._dispatchEventFromSandbox(jt,Dt)}),this._setEventListeners(Lt,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Dt=>Dt.target.checked)}return this._setBackgroundColor(Lt),this._setDefaultPropertiesFromJS(Lt),this.container.append(Lt),this.container}}class o extends gt{constructor(rt){super(rt,{ignoreBorder:rt.data.hasAppearance})}render(){const rt=super.render();rt.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(rt.title=this.data.alternativeText);const mt=rt.lastChild;return this.enableScripting&&this.hasJSActions&&mt&&(this._setDefaultPropertiesFromJS(mt),mt.addEventListener("updatefromsandbox",Mt=>{this._dispatchEventFromSandbox({},Mt)})),rt}}class ut extends ${constructor(rt){super(rt,{isRenderable:rt.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const rt=this.annotationStorage,mt=this.data.id,Mt=rt.getValue(mt,{value:this.data.fieldValue}),_t=document.createElement("select");st.add(_t),_t.setAttribute("data-element-id",mt),_t.disabled=this.data.readOnly,this._setRequired(_t,this.data.required),_t.name=this.data.fieldName,_t.tabIndex=Et;let Lt=this.data.combo&&this.data.options.length>0;this.data.combo||(_t.size=this.data.options.length,this.data.multiSelect&&(_t.multiple=!0)),_t.addEventListener("resetform",Ot=>{const Xt=this.data.defaultFieldValue;for(const Ut of _t.options)Ut.selected=Ut.value===Xt});for(const Ot of this.data.options){const Xt=document.createElement("option");Xt.textContent=Ot.displayValue,Xt.value=Ot.exportValue,Mt.value.includes(Ot.exportValue)&&(Xt.setAttribute("selected",!0),Lt=!1),_t.append(Xt)}let It=null;if(Lt){const Ot=document.createElement("option");Ot.value=" ",Ot.setAttribute("hidden",!0),Ot.setAttribute("selected",!0),_t.prepend(Ot),It=()=>{Ot.remove(),_t.removeEventListener("input",It),It=null},_t.addEventListener("input",It)}const Dt=(Ot,Xt)=>{const Ut=Xt?"value":"textContent",Gt=Ot.target.options;return Ot.target.multiple?Array.prototype.filter.call(Gt,qt=>qt.selected).map(qt=>qt[Ut]):Gt.selectedIndex===-1?null:Gt[Gt.selectedIndex][Ut]},jt=Ot=>{const Xt=Ot.target.options;return Array.prototype.map.call(Xt,Ut=>({displayValue:Ut.textContent,exportValue:Ut.value}))};return this.enableScripting&&this.hasJSActions?(_t.addEventListener("updatefromsandbox",Ot=>{const Xt={value(Ut){It==null||It();const Gt=Ut.detail.value,qt=new Set(Array.isArray(Gt)?Gt:[Gt]);for(const Kt of _t.options)Kt.selected=qt.has(Kt.value);rt.setValue(mt,{value:Dt(Ut,!0)})},multipleSelection(Ut){_t.multiple=!0},remove(Ut){const Gt=_t.options,qt=Ut.detail.remove;Gt[qt].selected=!1,_t.remove(qt),Gt.length>0&&Array.prototype.findIndex.call(Gt,Vt=>Vt.selected)===-1&&(Gt[0].selected=!0),rt.setValue(mt,{value:Dt(Ut,!0),items:jt(Ut)})},clear(Ut){for(;_t.length!==0;)_t.remove(0);rt.setValue(mt,{value:null,items:[]})},insert(Ut){const{index:Gt,displayValue:qt,exportValue:Kt}=Ut.detail.insert,Vt=_t.children[Gt],Yt=document.createElement("option");Yt.textContent=qt,Yt.value=Kt,Vt?Vt.before(Yt):_t.append(Yt),rt.setValue(mt,{value:Dt(Ut,!0),items:jt(Ut)})},items(Ut){const{items:Gt}=Ut.detail;for(;_t.length!==0;)_t.remove(0);for(const qt of Gt){const{displayValue:Kt,exportValue:Vt}=qt,Yt=document.createElement("option");Yt.textContent=Kt,Yt.value=Vt,_t.append(Yt)}_t.options.length>0&&(_t.options[0].selected=!0),rt.setValue(mt,{value:Dt(Ut,!0),items:jt(Ut)})},indices(Ut){const Gt=new Set(Ut.detail.indices);for(const qt of Ut.target.options)qt.selected=Gt.has(qt.index);rt.setValue(mt,{value:Dt(Ut,!0)})},editable(Ut){Ut.target.disabled=!Ut.detail.editable}};this._dispatchEventFromSandbox(Xt,Ot)}),_t.addEventListener("input",Ot=>{var Gt;const Xt=Dt(Ot,!0),Ut=Dt(Ot,!1);rt.setValue(mt,{value:Xt}),(Gt=this.linkService.eventBus)==null||Gt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:mt,name:"Keystroke",value:Ut,changeEx:Xt,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(_t,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],Ot=>Ot.target.checked)):_t.addEventListener("input",function(Ot){rt.setValue(mt,{value:Dt(Ot,!0)})}),this.data.combo&&this._setTextStyle(_t),this._setBackgroundColor(_t),this._setDefaultPropertiesFromJS(_t),this.container.append(_t),this.container}}class dt extends e{constructor(rt){var Mt,_t,Lt;const mt=!!((Mt=rt.data.titleObj)!=null&&Mt.str||(_t=rt.data.contentsObj)!=null&&_t.str||(Lt=rt.data.richText)!=null&&Lt.str);super(rt,{isRenderable:mt})}render(){const rt=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",rt.includes(this.data.parentType))return this.container;const mt=`[data-annotation-id="${this.data.parentId}"]`,Mt=this.layer.querySelectorAll(mt);if(Mt.length===0)return this.container;const _t=new b({container:this.container,trigger:Array.from(Mt),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),Lt=this.page,It=_e.Util.normalizeRect([this.data.parentRect[0],Lt.view[3]-this.data.parentRect[1]+Lt.view[1],this.data.parentRect[2],Lt.view[3]-this.data.parentRect[3]+Lt.view[1]]),Dt=It[0]+this.data.parentRect[2]-this.data.parentRect[0],jt=It[1],[Ot,Xt,Ut,Gt]=this.viewport.viewBox,qt=Ut-Ot,Kt=Gt-Xt;return this.container.style.left=`${100*(Dt-Ot)/qt}%`,this.container.style.top=`${100*(jt-Xt)/Kt}%`,this.container.append(_t.render()),this.container}}class b{constructor(rt){this.container=rt.container,this.trigger=rt.trigger,this.color=rt.color,this.titleObj=rt.titleObj,this.modificationDate=rt.modificationDate,this.contentsObj=rt.contentsObj,this.richText=rt.richText,this.hideWrapper=rt.hideWrapper||!1,this.pinned=!1}render(){var Dt,jt;const mt=document.createElement("div");mt.className="popupWrapper",this.hideElement=this.hideWrapper?mt:this.container,this.hideElement.hidden=!0;const Mt=document.createElement("div");Mt.className="popup";const _t=this.color;if(_t){const Ot=.7*(255-_t[0])+_t[0],Xt=.7*(255-_t[1])+_t[1],Ut=.7*(255-_t[2])+_t[2];Mt.style.backgroundColor=_e.Util.makeHexColor(Ot|0,Xt|0,Ut|0)}const Lt=document.createElement("h1");Lt.dir=this.titleObj.dir,Lt.textContent=this.titleObj.str,Mt.append(Lt);const It=ot.PDFDateString.toDateObject(this.modificationDate);if(It){const Ot=document.createElement("span");Ot.className="popupDate",Ot.textContent="{{date}}, {{time}}",Ot.dataset.l10nId="annotation_date_string",Ot.dataset.l10nArgs=JSON.stringify({date:It.toLocaleDateString(),time:It.toLocaleTimeString()}),Mt.append(Ot)}if((Dt=this.richText)!=null&&Dt.str&&(!((jt=this.contentsObj)!=null&&jt.str)||this.contentsObj.str===this.richText.str))ct.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:Mt}),Mt.lastChild.className="richText popupContent";else{const Ot=this._formatContents(this.contentsObj);Mt.append(Ot)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Ot of this.trigger)Ot.addEventListener("click",this._toggle.bind(this)),Ot.addEventListener("mouseover",this._show.bind(this,!1)),Ot.addEventListener("mouseout",this._hide.bind(this,!1));return Mt.addEventListener("click",this._hide.bind(this,!0)),mt.append(Mt),mt}_formatContents({str:rt,dir:mt}){const Mt=document.createElement("p");Mt.className="popupContent",Mt.dir=mt;const _t=rt.split(/(?:\r\n?|\n)/);for(let Lt=0,It=_t.length;Lt<It;++Lt){const Dt=_t[Lt];Mt.append(document.createTextNode(Dt)),Lt<It-1&&Mt.append(document.createElement("br"))}return Mt}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(rt=!1){rt&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(rt=!0){rt&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class h extends e{constructor(rt){var Mt,_t,Lt;const mt=!!(rt.data.hasPopup||(Mt=rt.data.titleObj)!=null&&Mt.str||(_t=rt.data.contentsObj)!=null&&_t.str||(Lt=rt.data.richText)!=null&&Lt.str);super(rt,{isRenderable:mt,ignoreBorder:!0}),this.textContent=rt.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const rt=document.createElement("div");rt.className="annotationTextContent",rt.setAttribute("role","comment");for(const mt of this.textContent){const Mt=document.createElement("span");Mt.textContent=mt,rt.append(Mt)}this.container.append(rt)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class et extends e{constructor(rt){var Mt,_t,Lt;const mt=!!(rt.data.hasPopup||(Mt=rt.data.titleObj)!=null&&Mt.str||(_t=rt.data.contentsObj)!=null&&_t.str||(Lt=rt.data.richText)!=null&&Lt.str);super(rt,{isRenderable:mt,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const rt=this.data,{width:mt,height:Mt}=Tt(rt.rect),_t=this.svgFactory.create(mt,Mt,!0),Lt=this.svgFactory.createElement("svg:line");return Lt.setAttribute("x1",rt.rect[2]-rt.lineCoordinates[0]),Lt.setAttribute("y1",rt.rect[3]-rt.lineCoordinates[1]),Lt.setAttribute("x2",rt.rect[2]-rt.lineCoordinates[2]),Lt.setAttribute("y2",rt.rect[3]-rt.lineCoordinates[3]),Lt.setAttribute("stroke-width",rt.borderStyle.width||1),Lt.setAttribute("stroke","transparent"),Lt.setAttribute("fill","transparent"),_t.append(Lt),this.container.append(_t),this._createPopup(Lt,rt),this.container}}class nt extends e{constructor(rt){var Mt,_t,Lt;const mt=!!(rt.data.hasPopup||(Mt=rt.data.titleObj)!=null&&Mt.str||(_t=rt.data.contentsObj)!=null&&_t.str||(Lt=rt.data.richText)!=null&&Lt.str);super(rt,{isRenderable:mt,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const rt=this.data,{width:mt,height:Mt}=Tt(rt.rect),_t=this.svgFactory.create(mt,Mt,!0),Lt=rt.borderStyle.width,It=this.svgFactory.createElement("svg:rect");return It.setAttribute("x",Lt/2),It.setAttribute("y",Lt/2),It.setAttribute("width",mt-Lt),It.setAttribute("height",Mt-Lt),It.setAttribute("stroke-width",Lt||1),It.setAttribute("stroke","transparent"),It.setAttribute("fill","transparent"),_t.append(It),this.container.append(_t),this._createPopup(It,rt),this.container}}class pt extends e{constructor(rt){var Mt,_t,Lt;const mt=!!(rt.data.hasPopup||(Mt=rt.data.titleObj)!=null&&Mt.str||(_t=rt.data.contentsObj)!=null&&_t.str||(Lt=rt.data.richText)!=null&&Lt.str);super(rt,{isRenderable:mt,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const rt=this.data,{width:mt,height:Mt}=Tt(rt.rect),_t=this.svgFactory.create(mt,Mt,!0),Lt=rt.borderStyle.width,It=this.svgFactory.createElement("svg:ellipse");return It.setAttribute("cx",mt/2),It.setAttribute("cy",Mt/2),It.setAttribute("rx",mt/2-Lt/2),It.setAttribute("ry",Mt/2-Lt/2),It.setAttribute("stroke-width",Lt||1),It.setAttribute("stroke","transparent"),It.setAttribute("fill","transparent"),_t.append(It),this.container.append(_t),this._createPopup(It,rt),this.container}}class Bt extends e{constructor(rt){var Mt,_t,Lt;const mt=!!(rt.data.hasPopup||(Mt=rt.data.titleObj)!=null&&Mt.str||(_t=rt.data.contentsObj)!=null&&_t.str||(Lt=rt.data.richText)!=null&&Lt.str);super(rt,{isRenderable:mt,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const rt=this.data,{width:mt,height:Mt}=Tt(rt.rect),_t=this.svgFactory.create(mt,Mt,!0);let Lt=[];for(const Dt of rt.vertices){const jt=Dt.x-rt.rect[0],Ot=rt.rect[3]-Dt.y;Lt.push(jt+","+Ot)}Lt=Lt.join(" ");const It=this.svgFactory.createElement(this.svgElementName);return It.setAttribute("points",Lt),It.setAttribute("stroke-width",rt.borderStyle.width||1),It.setAttribute("stroke","transparent"),It.setAttribute("fill","transparent"),_t.append(It),this.container.append(_t),this._createPopup(It,rt),this.container}}class Pt extends Bt{constructor(rt){super(rt),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Rt extends e{constructor(rt){var Mt,_t,Lt;const mt=!!(rt.data.hasPopup||(Mt=rt.data.titleObj)!=null&&Mt.str||(_t=rt.data.contentsObj)!=null&&_t.str||(Lt=rt.data.richText)!=null&&Lt.str);super(rt,{isRenderable:mt,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Ft extends e{constructor(rt){var Mt,_t,Lt;const mt=!!(rt.data.hasPopup||(Mt=rt.data.titleObj)!=null&&Mt.str||(_t=rt.data.contentsObj)!=null&&_t.str||(Lt=rt.data.richText)!=null&&Lt.str);super(rt,{isRenderable:mt,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const rt=this.data,{width:mt,height:Mt}=Tt(rt.rect),_t=this.svgFactory.create(mt,Mt,!0);for(const Lt of rt.inkLists){let It=[];for(const jt of Lt){const Ot=jt.x-rt.rect[0],Xt=rt.rect[3]-jt.y;It.push(`${Ot},${Xt}`)}It=It.join(" ");const Dt=this.svgFactory.createElement(this.svgElementName);Dt.setAttribute("points",It),Dt.setAttribute("stroke-width",rt.borderStyle.width||1),Dt.setAttribute("stroke","transparent"),Dt.setAttribute("fill","transparent"),this._createPopup(Dt,rt),_t.append(Dt)}return this.container.append(_t),this.container}}class lt extends e{constructor(rt){var Mt,_t,Lt;const mt=!!(rt.data.hasPopup||(Mt=rt.data.titleObj)!=null&&Mt.str||(_t=rt.data.contentsObj)!=null&&_t.str||(Lt=rt.data.richText)!=null&&Lt.str);super(rt,{isRenderable:mt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class ft extends e{constructor(rt){var Mt,_t,Lt;const mt=!!(rt.data.hasPopup||(Mt=rt.data.titleObj)!=null&&Mt.str||(_t=rt.data.contentsObj)!=null&&_t.str||(Lt=rt.data.richText)!=null&&Lt.str);super(rt,{isRenderable:mt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class it extends e{constructor(rt){var Mt,_t,Lt;const mt=!!(rt.data.hasPopup||(Mt=rt.data.titleObj)!=null&&Mt.str||(_t=rt.data.contentsObj)!=null&&_t.str||(Lt=rt.data.richText)!=null&&Lt.str);super(rt,{isRenderable:mt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class at extends e{constructor(rt){var Mt,_t,Lt;const mt=!!(rt.data.hasPopup||(Mt=rt.data.titleObj)!=null&&Mt.str||(_t=rt.data.contentsObj)!=null&&_t.str||(Lt=rt.data.richText)!=null&&Lt.str);super(rt,{isRenderable:mt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class bt extends e{constructor(rt){var Mt,_t,Lt;const mt=!!(rt.data.hasPopup||(Mt=rt.data.titleObj)!=null&&Mt.str||(_t=rt.data.contentsObj)!=null&&_t.str||(Lt=rt.data.richText)!=null&&Lt.str);super(rt,{isRenderable:mt,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class St extends e{constructor(rt){var _t;super(rt,{isRenderable:!0});const{filename:mt,content:Mt}=this.data.file;this.filename=(0,ot.getFilenameFromUrl)(mt),this.content=Mt,(_t=this.linkService.eventBus)==null||_t.dispatch("fileattachmentannotation",{source:this,filename:mt,content:Mt})}render(){var mt,Mt;this.container.className="fileAttachmentAnnotation";const rt=document.createElement("div");return rt.className="popupTriggerArea",rt.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((mt=this.data.titleObj)!=null&&mt.str||(Mt=this.data.contentsObj)!=null&&Mt.str||this.data.richText)&&this._createPopup(rt,this.data),this.container.append(rt),this.container}_download(){var rt;(rt=this.downloadManager)==null||rt.openOrDownloadData(this.container,this.content,this.filename)}}const Ht=class Ht{static render(rt){var Dt,jt;const{annotations:mt,div:Mt,viewport:_t,accessibilityManager:Lt}=rt;wn(this,vt,f1).call(this,Mt,_t);let It=0;for(const Ot of mt){if(Ot.annotationType!==_e.AnnotationType.POPUP){const{width:Ut,height:Gt}=Tt(Ot.rect);if(Ut<=0||Gt<=0)continue}const Xt=wt.create({data:Ot,layer:Mt,page:rt.page,viewport:_t,linkService:rt.linkService,downloadManager:rt.downloadManager,imageResourcesPath:rt.imageResourcesPath||"",renderForms:rt.renderForms!==!1,svgFactory:new ot.DOMSVGFactory,annotationStorage:rt.annotationStorage||new $t.AnnotationStorage,enableScripting:rt.enableScripting,hasJSActions:rt.hasJSActions,fieldObjects:rt.fieldObjects,mouseState:rt.mouseState||{isDown:!1}});if(Xt.isRenderable){const Ut=Xt.render();if(Ot.hidden&&(Ut.style.visibility="hidden"),Array.isArray(Ut))for(const Gt of Ut)Gt.style.zIndex=It++,wn(Dt=Ht,vt,d1).call(Dt,Gt,Ot.id,Mt,Lt);else Ut.style.zIndex=It++,Xt instanceof dt?Mt.prepend(Ut):wn(jt=Ht,vt,d1).call(jt,Ut,Ot.id,Mt,Lt)}}wn(this,vt,p1).call(this,Mt,rt.annotationCanvasMap)}static update(rt){const{annotationCanvasMap:mt,div:Mt,viewport:_t}=rt;wn(this,vt,f1).call(this,Mt,_t),wn(this,vt,p1).call(this,Mt,mt),Mt.hidden=!1}};vt=new WeakSet,d1=function(rt,mt,Mt,_t){const Lt=rt.firstChild||rt;Lt.id=`${ot.AnnotationPrefix}${mt}`,Mt.append(rt),_t==null||_t.moveElementInDOM(Mt,rt,Lt,!1)},f1=function(rt,{width:mt,height:Mt,rotation:_t}){const{style:Lt}=rt,It=_t%180!==0,Dt=Math.floor(mt)+"px",jt=Math.floor(Mt)+"px";Lt.width=It?jt:Dt,Lt.height=It?Dt:jt,rt.setAttribute("data-main-rotation",_t)},p1=function(rt,mt){if(mt){for(const[Mt,_t]of mt){const Lt=rt.querySelector(`[data-annotation-id="${Mt}"]`);if(!Lt)continue;const{firstChild:It}=Lt;It?It.nodeName==="CANVAS"?It.replaceWith(_t):It.before(_t):Lt.append(_t)}mt.clear()}},Rn(Ht,vt);let ht=Ht;a.AnnotationLayer=ht},(i,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ColorConverters=void 0;function c(ot){return Math.floor(Math.max(0,Math.min(1,ot))*255).toString(16).padStart(2,"0")}class _e{static CMYK_G([$t,zt,ct,Et]){return["G",1-Math.min(1,.3*$t+.59*ct+.11*zt+Et)]}static G_CMYK([$t]){return["CMYK",0,0,0,1-$t]}static G_RGB([$t]){return["RGB",$t,$t,$t]}static G_HTML([$t]){const zt=c($t);return`#${zt}${zt}${zt}`}static RGB_G([$t,zt,ct]){return["G",.3*$t+.59*zt+.11*ct]}static RGB_HTML([$t,zt,ct]){const Et=c($t),s=c(zt),st=c(ct);return`#${Et}${s}${st}`}static T_HTML(){return"#00000000"}static CMYK_RGB([$t,zt,ct,Et]){return["RGB",1-Math.min(1,$t+Et),1-Math.min(1,ct+Et),1-Math.min(1,zt+Et)]}static CMYK_HTML($t){const zt=this.CMYK_RGB($t).slice(1);return this.RGB_HTML(zt)}static RGB_CMYK([$t,zt,ct]){const Et=1-$t,s=1-zt,st=1-ct,Tt=Math.min(Et,s,st);return["CMYK",Et,s,st,Tt]}}a.ColorConverters=_e},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.XfaLayer=void 0;var _e=c(20);class ot{static setupStorage(zt,ct,Et,s,st){const Tt=s.getValue(ct,{value:null});switch(Et.name){case"textarea":if(Tt.value!==null&&(zt.textContent=Tt.value),st==="print")break;zt.addEventListener("input",wt=>{s.setValue(ct,{value:wt.target.value})});break;case"input":if(Et.attributes.type==="radio"||Et.attributes.type==="checkbox"){if(Tt.value===Et.attributes.xfaOn?zt.setAttribute("checked",!0):Tt.value===Et.attributes.xfaOff&&zt.removeAttribute("checked"),st==="print")break;zt.addEventListener("change",wt=>{s.setValue(ct,{value:wt.target.checked?wt.target.getAttribute("xfaOn"):wt.target.getAttribute("xfaOff")})})}else{if(Tt.value!==null&&zt.setAttribute("value",Tt.value),st==="print")break;zt.addEventListener("input",wt=>{s.setValue(ct,{value:wt.target.value})})}break;case"select":if(Tt.value!==null)for(const wt of Et.children)wt.attributes.value===Tt.value&&(wt.attributes.selected=!0);zt.addEventListener("input",wt=>{const e=wt.target.options,gt=e.selectedIndex===-1?"":e[e.selectedIndex].value;s.setValue(ct,{value:gt})});break}}static setAttributes({html:zt,element:ct,storage:Et=null,intent:s,linkService:st}){const{attributes:Tt}=ct,wt=zt instanceof HTMLAnchorElement;Tt.type==="radio"&&(Tt.name=`${Tt.name}-${s}`);for(const[e,gt]of Object.entries(Tt))if(gt!=null)switch(e){case"class":gt.length&&zt.setAttribute(e,gt.join(" "));break;case"dataId":break;case"id":zt.setAttribute("data-element-id",gt);break;case"style":Object.assign(zt.style,gt);break;case"textContent":zt.textContent=gt;break;default:(!wt||e!=="href"&&e!=="newWindow")&&zt.setAttribute(e,gt)}wt&&st.addLinkAttributes(zt,Tt.href,Tt.newWindow),Et&&Tt.dataId&&this.setupStorage(zt,Tt.dataId,ct,Et)}static render(zt){var _;const ct=zt.annotationStorage,Et=zt.linkService,s=zt.xfaHtml,st=zt.intent||"display",Tt=document.createElement(s.name);s.attributes&&this.setAttributes({html:Tt,element:s,intent:st,linkService:Et});const wt=[[s,-1,Tt]],e=zt.div;if(e.append(Tt),zt.viewport){const $=`matrix(${zt.viewport.transform.join(",")})`;e.style.transform=$}st!=="richText"&&e.setAttribute("class","xfaLayer xfaFont");const gt=[];for(;wt.length>0;){const[$,d,j]=wt.at(-1);if(d+1===$.children.length){wt.pop();continue}const g=$.children[++wt.at(-1)[1]];if(g===null)continue;const{name:o}=g;if(o==="#text"){const dt=document.createTextNode(g.value);gt.push(dt),j.append(dt);continue}let ut;if((_=g==null?void 0:g.attributes)!=null&&_.xmlns?ut=document.createElementNS(g.attributes.xmlns,o):ut=document.createElement(o),j.append(ut),g.attributes&&this.setAttributes({html:ut,element:g,storage:ct,intent:st,linkService:Et}),g.children&&g.children.length>0)wt.push([g,-1,ut]);else if(g.value){const dt=document.createTextNode(g.value);_e.XfaText.shouldBuildText(o)&&gt.push(dt),ut.append(dt)}}for(const $ of e.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))$.setAttribute("readOnly",!0);return{textDivs:gt}}static update(zt){const ct=`matrix(${zt.viewport.transform.join(",")})`;zt.div.style.transform=ct,zt.div.hidden=!1}}a.XfaLayer=ot},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TextLayerRenderTask=void 0,a.renderTextLayer=j;var _e=c(1),ot=c(8);const $t=1e5,zt=30,ct=.8,Et=new Map,s=/^\s+$/g;function st(g,o){const ut=Et.get(g);if(ut)return ut;o.save(),o.font=`${zt}px ${g}`;const dt=o.measureText("");let b=dt.fontBoundingBoxAscent,h=Math.abs(dt.fontBoundingBoxDescent);if(b){o.restore();const nt=b/(b+h);return Et.set(g,nt),nt}o.strokeStyle="red",o.clearRect(0,0,zt,zt),o.strokeText("g",0,0);let et=o.getImageData(0,0,zt,zt).data;h=0;for(let nt=et.length-1-3;nt>=0;nt-=4)if(et[nt]>0){h=Math.ceil(nt/4/zt);break}o.clearRect(0,0,zt,zt),o.strokeText("A",0,zt),et=o.getImageData(0,0,zt,zt).data,b=0;for(let nt=0,pt=et.length;nt<pt;nt+=4)if(et[nt]>0){b=zt-Math.floor(nt/4/zt);break}if(o.restore(),b){const nt=b/(b+h);return Et.set(g,nt),nt}return Et.set(g,ct),ct}function Tt(g,o,ut,dt){const b=document.createElement("span"),h=g._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:o.str!=="",hasEOL:o.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:o.str!=="",hasEOL:o.hasEOL,fontSize:0};g._textDivs.push(b);const et=_e.Util.transform(g._viewport.transform,o.transform);let nt=Math.atan2(et[1],et[0]);const pt=ut[o.fontName];pt.vertical&&(nt+=Math.PI/2);const Bt=Math.hypot(et[2],et[3]),Pt=Bt*st(pt.fontFamily,dt);let Rt,Ft;nt===0?(Rt=et[4],Ft=et[5]-Pt):(Rt=et[4]+Pt*Math.sin(nt),Ft=et[5]-Pt*Math.cos(nt)),b.style.left=`${Rt}px`,b.style.top=`${Ft}px`,b.style.fontSize=`${Bt}px`,b.style.fontFamily=pt.fontFamily,h.fontSize=Bt,b.setAttribute("role","presentation"),b.textContent=o.str,b.dir=o.dir,g._fontInspectorEnabled&&(b.dataset.fontName=o.fontName),nt!==0&&(h.angle=nt*(180/Math.PI));let lt=!1;if(o.str.length>1||g._enhanceTextSelection&&s.test(o.str))lt=!0;else if(o.str!==" "&&o.transform[0]!==o.transform[3]){const ft=Math.abs(o.transform[0]),it=Math.abs(o.transform[3]);ft!==it&&Math.max(ft,it)/Math.min(ft,it)>1.5&&(lt=!0)}if(lt&&(pt.vertical?h.canvasWidth=o.height*g._viewport.scale:h.canvasWidth=o.width*g._viewport.scale),g._textDivProperties.set(b,h),g._textContentStream&&g._layoutText(b),g._enhanceTextSelection&&h.hasText){let ft=1,it=0;nt!==0&&(ft=Math.cos(nt),it=Math.sin(nt));const at=(pt.vertical?o.height:o.width)*g._viewport.scale,bt=Bt;let St,ht;nt!==0?(St=[ft,it,-it,ft,Rt,Ft],ht=_e.Util.getAxialAlignedBoundingBox([0,0,at,bt],St)):ht=[Rt,Ft,Rt+at,Ft+bt],g._bounds.push({left:ht[0],top:ht[1],right:ht[2],bottom:ht[3],div:b,size:[at,bt],m:St})}}function wt(g){if(g._canceled)return;const o=g._textDivs,ut=g._capability,dt=o.length;if(dt>$t){g._renderingDone=!0,ut.resolve();return}if(!g._textContentStream)for(let b=0;b<dt;b++)g._layoutText(o[b]);g._renderingDone=!0,ut.resolve()}function e(g,o,ut){let dt=0;for(let b=0;b<ut;b++){const h=g[o++];h>0&&(dt=dt?Math.min(h,dt):h)}return dt}function gt(g){const o=g._bounds,ut=g._viewport,dt=_(ut.width,ut.height,o);for(let b=0;b<dt.length;b++){const h=o[b].div,et=g._textDivProperties.get(h);if(et.angle===0){et.paddingLeft=o[b].left-dt[b].left,et.paddingTop=o[b].top-dt[b].top,et.paddingRight=dt[b].right-o[b].right,et.paddingBottom=dt[b].bottom-o[b].bottom,g._textDivProperties.set(h,et);continue}const nt=dt[b],pt=o[b],Bt=pt.m,Pt=Bt[0],Rt=Bt[1],Ft=[[0,0],[0,pt.size[1]],[pt.size[0],0],pt.size],lt=new Float64Array(64);for(let it=0,at=Ft.length;it<at;it++){const bt=_e.Util.applyTransform(Ft[it],Bt);lt[it+0]=Pt&&(nt.left-bt[0])/Pt,lt[it+4]=Rt&&(nt.top-bt[1])/Rt,lt[it+8]=Pt&&(nt.right-bt[0])/Pt,lt[it+12]=Rt&&(nt.bottom-bt[1])/Rt,lt[it+16]=Rt&&(nt.left-bt[0])/-Rt,lt[it+20]=Pt&&(nt.top-bt[1])/Pt,lt[it+24]=Rt&&(nt.right-bt[0])/-Rt,lt[it+28]=Pt&&(nt.bottom-bt[1])/Pt,lt[it+32]=Pt&&(nt.left-bt[0])/-Pt,lt[it+36]=Rt&&(nt.top-bt[1])/-Rt,lt[it+40]=Pt&&(nt.right-bt[0])/-Pt,lt[it+44]=Rt&&(nt.bottom-bt[1])/-Rt,lt[it+48]=Rt&&(nt.left-bt[0])/Rt,lt[it+52]=Pt&&(nt.top-bt[1])/-Pt,lt[it+56]=Rt&&(nt.right-bt[0])/Rt,lt[it+60]=Pt&&(nt.bottom-bt[1])/-Pt}const ft=1+Math.min(Math.abs(Pt),Math.abs(Rt));et.paddingLeft=e(lt,32,16)/ft,et.paddingTop=e(lt,48,16)/ft,et.paddingRight=e(lt,0,16)/ft,et.paddingBottom=e(lt,16,16)/ft,g._textDivProperties.set(h,et)}}function _(g,o,ut){const dt=ut.map(function(h,et){return{x1:h.left,y1:h.top,x2:h.right,y2:h.bottom,index:et,x1New:void 0,x2New:void 0}});$(g,dt);const b=new Array(ut.length);for(const h of dt){const et=h.index;b[et]={left:h.x1New,top:0,right:h.x2New,bottom:0}}ut.map(function(h,et){const nt=b[et],pt=dt[et];pt.x1=h.top,pt.y1=g-nt.right,pt.x2=h.bottom,pt.y2=g-nt.left,pt.index=et,pt.x1New=void 0,pt.x2New=void 0}),$(o,dt);for(const h of dt){const et=h.index;b[et].top=h.x1New,b[et].bottom=h.x2New}return b}function $(g,o){o.sort(function(b,h){return b.x1-h.x1||b.index-h.index});const dt=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const b of o){let h=0;for(;h<dt.length&&dt[h].end<=b.y1;)h++;let et=dt.length-1;for(;et>=0&&dt[et].start>=b.y2;)et--;let nt,pt,Bt,Pt,Rt=-1/0;for(Bt=h;Bt<=et;Bt++){nt=dt[Bt],pt=nt.boundary;let ft;pt.x2>b.x1?ft=pt.index>b.index?pt.x1New:b.x1:pt.x2New===void 0?ft=(pt.x2+b.x1)/2:ft=pt.x2New,ft>Rt&&(Rt=ft)}for(b.x1New=Rt,Bt=h;Bt<=et;Bt++)nt=dt[Bt],pt=nt.boundary,pt.x2New===void 0?pt.x2>b.x1?pt.index>b.index&&(pt.x2New=pt.x2):pt.x2New=Rt:pt.x2New>Rt&&(pt.x2New=Math.max(Rt,pt.x2));const Ft=[];let lt=null;for(Bt=h;Bt<=et;Bt++){nt=dt[Bt],pt=nt.boundary;const ft=pt.x2>b.x2?pt:b;lt===ft?Ft.at(-1).end=nt.end:(Ft.push({start:nt.start,end:nt.end,boundary:ft}),lt=ft)}for(dt[h].start<b.y1&&(Ft[0].start=b.y1,Ft.unshift({start:dt[h].start,end:b.y1,boundary:dt[h].boundary})),b.y2<dt[et].end&&(Ft.at(-1).end=b.y2,Ft.push({start:b.y2,end:dt[et].end,boundary:dt[et].boundary})),Bt=h;Bt<=et;Bt++){if(nt=dt[Bt],pt=nt.boundary,pt.x2New!==void 0)continue;let ft=!1;for(Pt=h-1;!ft&&Pt>=0&&dt[Pt].start>=pt.y1;Pt--)ft=dt[Pt].boundary===pt;for(Pt=et+1;!ft&&Pt<dt.length&&dt[Pt].end<=pt.y2;Pt++)ft=dt[Pt].boundary===pt;for(Pt=0;!ft&&Pt<Ft.length;Pt++)ft=Ft[Pt].boundary===pt;ft||(pt.x2New=Rt)}Array.prototype.splice.apply(dt,[h,et-h+1,...Ft])}for(const b of dt){const h=b.boundary;h.x2New===void 0&&(h.x2New=Math.max(g,h.x2))}}class d{constructor({textContent:o,textContentStream:ut,container:dt,viewport:b,textDivs:h,textContentItemsStr:et,enhanceTextSelection:nt}){var pt;nt&&(0,ot.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=o,this._textContentStream=ut,this._container=dt,this._document=dt.ownerDocument,this._viewport=b,this._textDivs=h||[],this._textContentItemsStr=et||[],this._enhanceTextSelection=!!nt,this._fontInspectorEnabled=!!((pt=globalThis.FontInspector)!=null&&pt.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,_e.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new _e.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(o,ut){for(let dt=0,b=o.length;dt<b;dt++){if(o[dt].str===void 0){if(o[dt].type==="beginMarkedContentProps"||o[dt].type==="beginMarkedContent"){const h=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),o[dt].id!==null&&this._container.setAttribute("id",`${o[dt].id}`),h.append(this._container)}else o[dt].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(o[dt].str),Tt(this,o[dt],ut,this._layoutTextCtx)}}_layoutText(o){const ut=this._textDivProperties.get(o);let dt="";if(ut.canvasWidth!==0&&ut.hasText){const{fontFamily:b}=o.style,{fontSize:h}=ut;(h!==this._layoutTextLastFontSize||b!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${h*this._devicePixelRatio}px ${b}`,this._layoutTextLastFontSize=h,this._layoutTextLastFontFamily=b);const{width:et}=this._layoutTextCtx.measureText(o.textContent);if(et>0){const nt=this._devicePixelRatio*ut.canvasWidth/et;this._enhanceTextSelection&&(ut.scale=nt),dt=`scaleX(${nt})`}}if(ut.angle!==0&&(dt=`rotate(${ut.angle}deg) ${dt}`),dt.length>0&&(this._enhanceTextSelection&&(ut.originalTransform=dt),o.style.transform=dt),ut.hasText&&this._container.append(o),ut.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),this._container.append(b)}}_render(o=0){const ut=(0,_e.createPromiseCapability)();let dt=Object.create(null);const b=this._document.createElement("canvas");if(b.height=b.width=zt,this._layoutTextCtx=b.getContext("2d",{alpha:!1}),this._textContent){const h=this._textContent.items,et=this._textContent.styles;this._processItems(h,et),ut.resolve()}else if(this._textContentStream){const h=()=>{this._reader.read().then(({value:et,done:nt})=>{if(nt){ut.resolve();return}Object.assign(dt,et.styles),this._processItems(et.items,dt),h()},ut.reject)};this._reader=this._textContentStream.getReader(),h()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');ut.promise.then(()=>{dt=null,o?this._renderTimer=setTimeout(()=>{wt(this),this._renderTimer=null},o):wt(this)},this._capability.reject)}expandTextDivs(o=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(gt(this),this._bounds=null);const ut=[],dt=[];for(let b=0,h=this._textDivs.length;b<h;b++){const et=this._textDivs[b],nt=this._textDivProperties.get(et);nt.hasText&&(o?(ut.length=0,dt.length=0,nt.originalTransform&&ut.push(nt.originalTransform),nt.paddingTop>0?(dt.push(`${nt.paddingTop}px`),ut.push(`translateY(${-nt.paddingTop}px)`)):dt.push(0),nt.paddingRight>0?dt.push(`${nt.paddingRight/nt.scale}px`):dt.push(0),nt.paddingBottom>0?dt.push(`${nt.paddingBottom}px`):dt.push(0),nt.paddingLeft>0?(dt.push(`${nt.paddingLeft/nt.scale}px`),ut.push(`translateX(${-nt.paddingLeft/nt.scale}px)`)):dt.push(0),et.style.padding=dt.join(" "),ut.length&&(et.style.transform=ut.join(" "))):(et.style.padding=null,et.style.transform=nt.originalTransform))}}}a.TextLayerRenderTask=d;function j(g){const o=new d({textContent:g.textContent,textContentStream:g.textContentStream,container:g.container,viewport:g.viewport,textDivs:g.textDivs,textContentItemsStr:g.textContentItemsStr,enhanceTextSelection:g.enhanceTextSelection});return o._render(g.timeout),o}},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SVGGraphics=void 0;var _e=c(8),ot=c(1),$t=c(3);let zt=class{constructor(){(0,ot.unreachable)("Not implemented: SVGGraphics")}};a.SVGGraphics=zt;{let j=function(h){let et=[];const nt=[];for(const pt of h){if(pt.fn==="save"){et.push({fnId:92,fn:"group",items:[]}),nt.push(et),et=et.at(-1).items;continue}pt.fn==="restore"?et=nt.pop():et.push(pt)}return et},g=function(h){if(Number.isInteger(h))return h.toString();const et=h.toFixed(10);let nt=et.length-1;if(et[nt]!=="0")return et;do nt--;while(et[nt]==="0");return et.substring(0,et[nt]==="."?nt:nt+1)},o=function(h){if(h[4]===0&&h[5]===0){if(h[1]===0&&h[2]===0)return h[0]===1&&h[3]===1?"":`scale(${g(h[0])} ${g(h[3])})`;if(h[0]===h[3]&&h[1]===-h[2]){const et=Math.acos(h[0])*180/Math.PI;return`rotate(${g(et)})`}}else if(h[0]===1&&h[1]===0&&h[2]===0&&h[3]===1)return`translate(${g(h[4])} ${g(h[5])})`;return`matrix(${g(h[0])} ${g(h[1])} ${g(h[2])} ${g(h[3])} ${g(h[4])} ${g(h[5])})`};var ct=j,Et=g,s=o;const st={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},Tt="http://www.w3.org/XML/1998/namespace",wt="http://www.w3.org/1999/xlink",e=["butt","round","square"],gt=["miter","round","bevel"],_=function(h,et="",nt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!nt)return URL.createObjectURL(new Blob([h],{type:et}));const pt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Bt=`data:${et};base64,`;for(let Pt=0,Rt=h.length;Pt<Rt;Pt+=3){const Ft=h[Pt]&255,lt=h[Pt+1]&255,ft=h[Pt+2]&255,it=Ft>>2,at=(Ft&3)<<4|lt>>4,bt=Pt+1<Rt?(lt&15)<<2|ft>>6:64,St=Pt+2<Rt?ft&63:64;Bt+=pt[it]+pt[at]+pt[bt]+pt[St]}return Bt},$=function(){const h=new Uint8Array([137,80,78,71,13,10,26,10]),et=12,nt=new Int32Array(256);for(let ft=0;ft<256;ft++){let it=ft;for(let at=0;at<8;at++)it&1?it=3988292384^it>>1&2147483647:it=it>>1&2147483647;nt[ft]=it}function pt(ft,it,at){let bt=-1;for(let St=it;St<at;St++){const ht=(bt^ft[St])&255,vt=nt[ht];bt=bt>>>8^vt}return bt^-1}function Bt(ft,it,at,bt){let St=bt;const ht=it.length;at[St]=ht>>24&255,at[St+1]=ht>>16&255,at[St+2]=ht>>8&255,at[St+3]=ht&255,St+=4,at[St]=ft.charCodeAt(0)&255,at[St+1]=ft.charCodeAt(1)&255,at[St+2]=ft.charCodeAt(2)&255,at[St+3]=ft.charCodeAt(3)&255,St+=4,at.set(it,St),St+=it.length;const vt=pt(at,bt+4,St);at[St]=vt>>24&255,at[St+1]=vt>>16&255,at[St+2]=vt>>8&255,at[St+3]=vt&255}function Pt(ft,it,at){let bt=1,St=0;for(let ht=it;ht<at;++ht)bt=(bt+(ft[ht]&255))%65521,St=(St+bt)%65521;return St<<16|bt}function Rt(ft){if(!$t.isNodeJS)return Ft(ft);try{let it;parseInt(process.versions.node)>=8?it=ft:it=Buffer.from(ft);const at=require$$5.deflateSync(it,{level:9});return at instanceof Uint8Array?at:new Uint8Array(at)}catch(it){(0,ot.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+it)}return Ft(ft)}function Ft(ft){let it=ft.length;const at=65535,bt=Math.ceil(it/at),St=new Uint8Array(2+it+bt*5+4);let ht=0;St[ht++]=120,St[ht++]=156;let vt=0;for(;it>at;)St[ht++]=0,St[ht++]=255,St[ht++]=255,St[ht++]=0,St[ht++]=0,St.set(ft.subarray(vt,vt+at),ht),ht+=at,vt+=at,it-=at;St[ht++]=1,St[ht++]=it&255,St[ht++]=it>>8&255,St[ht++]=~it&65535&255,St[ht++]=(~it&65535)>>8&255,St.set(ft.subarray(vt),ht),ht+=ft.length-vt;const yt=Pt(ft,0,ft.length);return St[ht++]=yt>>24&255,St[ht++]=yt>>16&255,St[ht++]=yt>>8&255,St[ht++]=yt&255,St}function lt(ft,it,at,bt){const St=ft.width,ht=ft.height;let vt,yt,At;const Nt=ft.data;switch(it){case ot.ImageKind.GRAYSCALE_1BPP:yt=0,vt=1,At=St+7>>3;break;case ot.ImageKind.RGB_24BPP:yt=2,vt=8,At=St*3;break;case ot.ImageKind.RGBA_32BPP:yt=6,vt=8,At=St*4;break;default:throw new Error("invalid format")}const Ht=new Uint8Array((1+At)*ht);let xt=0,rt=0;for(let Dt=0;Dt<ht;++Dt)Ht[xt++]=0,Ht.set(Nt.subarray(rt,rt+At),xt),rt+=At,xt+=At;if(it===ot.ImageKind.GRAYSCALE_1BPP&&bt){xt=0;for(let Dt=0;Dt<ht;Dt++){xt++;for(let jt=0;jt<At;jt++)Ht[xt++]^=255}}const mt=new Uint8Array([St>>24&255,St>>16&255,St>>8&255,St&255,ht>>24&255,ht>>16&255,ht>>8&255,ht&255,vt,yt,0,0,0]),Mt=Rt(Ht),_t=h.length+et*3+mt.length+Mt.length,Lt=new Uint8Array(_t);let It=0;return Lt.set(h,It),It+=h.length,Bt("IHDR",mt,Lt,It),It+=et+mt.length,Bt("IDATA",Mt,Lt,It),It+=et+Mt.length,Bt("IEND",new Uint8Array(0),Lt,It),_(Lt,"image/png",at)}return function(it,at,bt){const St=it.kind===void 0?ot.ImageKind.GRAYSCALE_1BPP:it.kind;return lt(it,St,at,bt)}}();class d{constructor(){this.fontSizeScale=1,this.fontWeight=st.fontWeight,this.fontSize=0,this.textMatrix=ot.IDENTITY_MATRIX,this.fontMatrix=ot.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=ot.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=st.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(et,nt){this.x=et,this.y=nt}}let ut=0,dt=0,b=0;a.SVGGraphics=zt=class{constructor(h,et,nt=!1){(0,_e.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new _e.DOMSVGFactory,this.current=new d,this.transformMatrix=ot.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=h,this.objs=et,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!nt,this._operatorIdMapping=[];for(const pt in ot.OPS)this._operatorIdMapping[ot.OPS[pt]]=pt}save(){this.transformStack.push(this.transformMatrix);const h=this.current;this.extraStack.push(h),this.current=h.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(h){this.save(),this.executeOpTree(h),this.restore()}loadDependencies(h){const et=h.fnArray,nt=h.argsArray;for(let pt=0,Bt=et.length;pt<Bt;pt++)if(et[pt]===ot.OPS.dependency)for(const Pt of nt[pt]){const Rt=Pt.startsWith("g_")?this.commonObjs:this.objs,Ft=new Promise(lt=>{Rt.get(Pt,lt)});this.current.dependencies.push(Ft)}return Promise.all(this.current.dependencies)}transform(h,et,nt,pt,Bt,Pt){const Rt=[h,et,nt,pt,Bt,Pt];this.transformMatrix=ot.Util.transform(this.transformMatrix,Rt),this.tgrp=null}getSVG(h,et){this.viewport=et;const nt=this._initialize(et);return this.loadDependencies(h).then(()=>(this.transformMatrix=ot.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(h)),nt))}convertOpList(h){const et=this._operatorIdMapping,nt=h.argsArray,pt=h.fnArray,Bt=[];for(let Pt=0,Rt=pt.length;Pt<Rt;Pt++){const Ft=pt[Pt];Bt.push({fnId:Ft,fn:et[Ft],args:nt[Pt]})}return j(Bt)}executeOpTree(h){for(const et of h){const nt=et.fn,pt=et.fnId,Bt=et.args;switch(pt|0){case ot.OPS.beginText:this.beginText();break;case ot.OPS.dependency:break;case ot.OPS.setLeading:this.setLeading(Bt);break;case ot.OPS.setLeadingMoveText:this.setLeadingMoveText(Bt[0],Bt[1]);break;case ot.OPS.setFont:this.setFont(Bt);break;case ot.OPS.showText:this.showText(Bt[0]);break;case ot.OPS.showSpacedText:this.showText(Bt[0]);break;case ot.OPS.endText:this.endText();break;case ot.OPS.moveText:this.moveText(Bt[0],Bt[1]);break;case ot.OPS.setCharSpacing:this.setCharSpacing(Bt[0]);break;case ot.OPS.setWordSpacing:this.setWordSpacing(Bt[0]);break;case ot.OPS.setHScale:this.setHScale(Bt[0]);break;case ot.OPS.setTextMatrix:this.setTextMatrix(Bt[0],Bt[1],Bt[2],Bt[3],Bt[4],Bt[5]);break;case ot.OPS.setTextRise:this.setTextRise(Bt[0]);break;case ot.OPS.setTextRenderingMode:this.setTextRenderingMode(Bt[0]);break;case ot.OPS.setLineWidth:this.setLineWidth(Bt[0]);break;case ot.OPS.setLineJoin:this.setLineJoin(Bt[0]);break;case ot.OPS.setLineCap:this.setLineCap(Bt[0]);break;case ot.OPS.setMiterLimit:this.setMiterLimit(Bt[0]);break;case ot.OPS.setFillRGBColor:this.setFillRGBColor(Bt[0],Bt[1],Bt[2]);break;case ot.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Bt[0],Bt[1],Bt[2]);break;case ot.OPS.setStrokeColorN:this.setStrokeColorN(Bt);break;case ot.OPS.setFillColorN:this.setFillColorN(Bt);break;case ot.OPS.shadingFill:this.shadingFill(Bt[0]);break;case ot.OPS.setDash:this.setDash(Bt[0],Bt[1]);break;case ot.OPS.setRenderingIntent:this.setRenderingIntent(Bt[0]);break;case ot.OPS.setFlatness:this.setFlatness(Bt[0]);break;case ot.OPS.setGState:this.setGState(Bt[0]);break;case ot.OPS.fill:this.fill();break;case ot.OPS.eoFill:this.eoFill();break;case ot.OPS.stroke:this.stroke();break;case ot.OPS.fillStroke:this.fillStroke();break;case ot.OPS.eoFillStroke:this.eoFillStroke();break;case ot.OPS.clip:this.clip("nonzero");break;case ot.OPS.eoClip:this.clip("evenodd");break;case ot.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case ot.OPS.paintImageXObject:this.paintImageXObject(Bt[0]);break;case ot.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Bt[0]);break;case ot.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Bt[0]);break;case ot.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Bt[0],Bt[1]);break;case ot.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case ot.OPS.closePath:this.closePath();break;case ot.OPS.closeStroke:this.closeStroke();break;case ot.OPS.closeFillStroke:this.closeFillStroke();break;case ot.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case ot.OPS.nextLine:this.nextLine();break;case ot.OPS.transform:this.transform(Bt[0],Bt[1],Bt[2],Bt[3],Bt[4],Bt[5]);break;case ot.OPS.constructPath:this.constructPath(Bt[0],Bt[1]);break;case ot.OPS.endPath:this.endPath();break;case 92:this.group(et.items);break;default:(0,ot.warn)(`Unimplemented operator ${nt}`);break}}}setWordSpacing(h){this.current.wordSpacing=h}setCharSpacing(h){this.current.charSpacing=h}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(h,et,nt,pt,Bt,Pt){const Rt=this.current;Rt.textMatrix=Rt.lineMatrix=[h,et,nt,pt,Bt,Pt],Rt.textMatrixScale=Math.hypot(h,et),Rt.x=Rt.lineX=0,Rt.y=Rt.lineY=0,Rt.xcoords=[],Rt.ycoords=[],Rt.tspan=this.svgFactory.createElement("svg:tspan"),Rt.tspan.setAttributeNS(null,"font-family",Rt.fontFamily),Rt.tspan.setAttributeNS(null,"font-size",`${g(Rt.fontSize)}px`),Rt.tspan.setAttributeNS(null,"y",g(-Rt.y)),Rt.txtElement=this.svgFactory.createElement("svg:text"),Rt.txtElement.append(Rt.tspan)}beginText(){const h=this.current;h.x=h.lineX=0,h.y=h.lineY=0,h.textMatrix=ot.IDENTITY_MATRIX,h.lineMatrix=ot.IDENTITY_MATRIX,h.textMatrixScale=1,h.tspan=this.svgFactory.createElement("svg:tspan"),h.txtElement=this.svgFactory.createElement("svg:text"),h.txtgrp=this.svgFactory.createElement("svg:g"),h.xcoords=[],h.ycoords=[]}moveText(h,et){const nt=this.current;nt.x=nt.lineX+=h,nt.y=nt.lineY+=et,nt.xcoords=[],nt.ycoords=[],nt.tspan=this.svgFactory.createElement("svg:tspan"),nt.tspan.setAttributeNS(null,"font-family",nt.fontFamily),nt.tspan.setAttributeNS(null,"font-size",`${g(nt.fontSize)}px`),nt.tspan.setAttributeNS(null,"y",g(-nt.y))}showText(h){const et=this.current,nt=et.font,pt=et.fontSize;if(pt===0)return;const Bt=et.fontSizeScale,Pt=et.charSpacing,Rt=et.wordSpacing,Ft=et.fontDirection,lt=et.textHScale*Ft,ft=nt.vertical,it=ft?1:-1,at=nt.defaultVMetrics,bt=pt*et.fontMatrix[0];let St=0;for(const yt of h){if(yt===null){St+=Ft*Rt;continue}else if(typeof yt=="number"){St+=it*yt*pt/1e3;continue}const At=(yt.isSpace?Rt:0)+Pt,Nt=yt.fontChar;let Ht,xt,rt=yt.width;if(ft){let Mt;const _t=yt.vmetric||at;Mt=yt.vmetric?_t[1]:rt*.5,Mt=-Mt*bt;const Lt=_t[2]*bt;rt=_t?-_t[0]:rt,Ht=Mt/Bt,xt=(St+Lt)/Bt}else Ht=St/Bt,xt=0;(yt.isInFont||nt.missingFile)&&(et.xcoords.push(et.x+Ht),ft&&et.ycoords.push(-et.y+xt),et.tspan.textContent+=Nt);let mt;ft?mt=rt*bt-At*Ft:mt=rt*bt+At*Ft,St+=mt}et.tspan.setAttributeNS(null,"x",et.xcoords.map(g).join(" ")),ft?et.tspan.setAttributeNS(null,"y",et.ycoords.map(g).join(" ")):et.tspan.setAttributeNS(null,"y",g(-et.y)),ft?et.y-=St:et.x+=St*lt,et.tspan.setAttributeNS(null,"font-family",et.fontFamily),et.tspan.setAttributeNS(null,"font-size",`${g(et.fontSize)}px`),et.fontStyle!==st.fontStyle&&et.tspan.setAttributeNS(null,"font-style",et.fontStyle),et.fontWeight!==st.fontWeight&&et.tspan.setAttributeNS(null,"font-weight",et.fontWeight);const ht=et.textRenderingMode&ot.TextRenderingMode.FILL_STROKE_MASK;if(ht===ot.TextRenderingMode.FILL||ht===ot.TextRenderingMode.FILL_STROKE?(et.fillColor!==st.fillColor&&et.tspan.setAttributeNS(null,"fill",et.fillColor),et.fillAlpha<1&&et.tspan.setAttributeNS(null,"fill-opacity",et.fillAlpha)):et.textRenderingMode===ot.TextRenderingMode.ADD_TO_PATH?et.tspan.setAttributeNS(null,"fill","transparent"):et.tspan.setAttributeNS(null,"fill","none"),ht===ot.TextRenderingMode.STROKE||ht===ot.TextRenderingMode.FILL_STROKE){const yt=1/(et.textMatrixScale||1);this._setStrokeAttributes(et.tspan,yt)}let vt=et.textMatrix;et.textRise!==0&&(vt=vt.slice(),vt[5]+=et.textRise),et.txtElement.setAttributeNS(null,"transform",`${o(vt)} scale(${g(lt)}, -1)`),et.txtElement.setAttributeNS(Tt,"xml:space","preserve"),et.txtElement.append(et.tspan),et.txtgrp.append(et.txtElement),this._ensureTransformGroup().append(et.txtElement)}setLeadingMoveText(h,et){this.setLeading(-et),this.moveText(h,et)}addFontStyle(h){if(!h.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const et=_(h.data,h.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${h.loadedName}"; src: url(${et}); }
`}setFont(h){const et=this.current,nt=this.commonObjs.get(h[0]);let pt=h[1];et.font=nt,this.embedFonts&&!nt.missingFile&&!this.embeddedFonts[nt.loadedName]&&(this.addFontStyle(nt),this.embeddedFonts[nt.loadedName]=nt),et.fontMatrix=nt.fontMatrix||ot.FONT_IDENTITY_MATRIX;let Bt="normal";nt.black?Bt="900":nt.bold&&(Bt="bold");const Pt=nt.italic?"italic":"normal";pt<0?(pt=-pt,et.fontDirection=-1):et.fontDirection=1,et.fontSize=pt,et.fontFamily=nt.loadedName,et.fontWeight=Bt,et.fontStyle=Pt,et.tspan=this.svgFactory.createElement("svg:tspan"),et.tspan.setAttributeNS(null,"y",g(-et.y)),et.xcoords=[],et.ycoords=[]}endText(){var et;const h=this.current;h.textRenderingMode&ot.TextRenderingMode.ADD_TO_PATH_FLAG&&((et=h.txtElement)!=null&&et.hasChildNodes())&&(h.element=h.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(h){h>0&&(this.current.lineWidth=h)}setLineCap(h){this.current.lineCap=e[h]}setLineJoin(h){this.current.lineJoin=gt[h]}setMiterLimit(h){this.current.miterLimit=h}setStrokeAlpha(h){this.current.strokeAlpha=h}setStrokeRGBColor(h,et,nt){this.current.strokeColor=ot.Util.makeHexColor(h,et,nt)}setFillAlpha(h){this.current.fillAlpha=h}setFillRGBColor(h,et,nt){this.current.fillColor=ot.Util.makeHexColor(h,et,nt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(h){this.current.strokeColor=this._makeColorN_Pattern(h)}setFillColorN(h){this.current.fillColor=this._makeColorN_Pattern(h)}shadingFill(h){const et=this.viewport.width,nt=this.viewport.height,pt=ot.Util.inverseTransform(this.transformMatrix),Bt=ot.Util.applyTransform([0,0],pt),Pt=ot.Util.applyTransform([0,nt],pt),Rt=ot.Util.applyTransform([et,0],pt),Ft=ot.Util.applyTransform([et,nt],pt),lt=Math.min(Bt[0],Pt[0],Rt[0],Ft[0]),ft=Math.min(Bt[1],Pt[1],Rt[1],Ft[1]),it=Math.max(Bt[0],Pt[0],Rt[0],Ft[0]),at=Math.max(Bt[1],Pt[1],Rt[1],Ft[1]),bt=this.svgFactory.createElement("svg:rect");bt.setAttributeNS(null,"x",lt),bt.setAttributeNS(null,"y",ft),bt.setAttributeNS(null,"width",it-lt),bt.setAttributeNS(null,"height",at-ft),bt.setAttributeNS(null,"fill",this._makeShadingPattern(h)),this.current.fillAlpha<1&&bt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(bt)}_makeColorN_Pattern(h){return h[0]==="TilingPattern"?this._makeTilingPattern(h):this._makeShadingPattern(h)}_makeTilingPattern(h){const et=h[1],nt=h[2],pt=h[3]||ot.IDENTITY_MATRIX,[Bt,Pt,Rt,Ft]=h[4],lt=h[5],ft=h[6],it=h[7],at=`shading${b++}`,[bt,St,ht,vt]=ot.Util.normalizeRect([...ot.Util.applyTransform([Bt,Pt],pt),...ot.Util.applyTransform([Rt,Ft],pt)]),[yt,At]=ot.Util.singularValueDecompose2dScale(pt),Nt=lt*yt,Ht=ft*At,xt=this.svgFactory.createElement("svg:pattern");xt.setAttributeNS(null,"id",at),xt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),xt.setAttributeNS(null,"width",Nt),xt.setAttributeNS(null,"height",Ht),xt.setAttributeNS(null,"x",`${bt}`),xt.setAttributeNS(null,"y",`${St}`);const rt=this.svg,mt=this.transformMatrix,Mt=this.current.fillColor,_t=this.current.strokeColor,Lt=this.svgFactory.create(ht-bt,vt-St);if(this.svg=Lt,this.transformMatrix=pt,it===2){const It=ot.Util.makeHexColor(...et);this.current.fillColor=It,this.current.strokeColor=It}return this.executeOpTree(this.convertOpList(nt)),this.svg=rt,this.transformMatrix=mt,this.current.fillColor=Mt,this.current.strokeColor=_t,xt.append(Lt.childNodes[0]),this.defs.append(xt),`url(#${at})`}_makeShadingPattern(h){switch(typeof h=="string"&&(h=this.objs.get(h)),h[0]){case"RadialAxial":const et=`shading${b++}`,nt=h[3];let pt;switch(h[1]){case"axial":const Bt=h[4],Pt=h[5];pt=this.svgFactory.createElement("svg:linearGradient"),pt.setAttributeNS(null,"id",et),pt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),pt.setAttributeNS(null,"x1",Bt[0]),pt.setAttributeNS(null,"y1",Bt[1]),pt.setAttributeNS(null,"x2",Pt[0]),pt.setAttributeNS(null,"y2",Pt[1]);break;case"radial":const Rt=h[4],Ft=h[5],lt=h[6],ft=h[7];pt=this.svgFactory.createElement("svg:radialGradient"),pt.setAttributeNS(null,"id",et),pt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),pt.setAttributeNS(null,"cx",Ft[0]),pt.setAttributeNS(null,"cy",Ft[1]),pt.setAttributeNS(null,"r",ft),pt.setAttributeNS(null,"fx",Rt[0]),pt.setAttributeNS(null,"fy",Rt[1]),pt.setAttributeNS(null,"fr",lt);break;default:throw new Error(`Unknown RadialAxial type: ${h[1]}`)}for(const Bt of nt){const Pt=this.svgFactory.createElement("svg:stop");Pt.setAttributeNS(null,"offset",Bt[0]),Pt.setAttributeNS(null,"stop-color",Bt[1]),pt.append(Pt)}return this.defs.append(pt),`url(#${et})`;case"Mesh":return(0,ot.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${h[0]}`)}}setDash(h,et){this.current.dashArray=h,this.current.dashPhase=et}constructPath(h,et){const nt=this.current;let pt=nt.x,Bt=nt.y,Pt=[],Rt=0;for(const Ft of h)switch(Ft|0){case ot.OPS.rectangle:pt=et[Rt++],Bt=et[Rt++];const lt=et[Rt++],ft=et[Rt++],it=pt+lt,at=Bt+ft;Pt.push("M",g(pt),g(Bt),"L",g(it),g(Bt),"L",g(it),g(at),"L",g(pt),g(at),"Z");break;case ot.OPS.moveTo:pt=et[Rt++],Bt=et[Rt++],Pt.push("M",g(pt),g(Bt));break;case ot.OPS.lineTo:pt=et[Rt++],Bt=et[Rt++],Pt.push("L",g(pt),g(Bt));break;case ot.OPS.curveTo:pt=et[Rt+4],Bt=et[Rt+5],Pt.push("C",g(et[Rt]),g(et[Rt+1]),g(et[Rt+2]),g(et[Rt+3]),g(pt),g(Bt)),Rt+=6;break;case ot.OPS.curveTo2:Pt.push("C",g(pt),g(Bt),g(et[Rt]),g(et[Rt+1]),g(et[Rt+2]),g(et[Rt+3])),pt=et[Rt+2],Bt=et[Rt+3],Rt+=4;break;case ot.OPS.curveTo3:pt=et[Rt+2],Bt=et[Rt+3],Pt.push("C",g(et[Rt]),g(et[Rt+1]),g(pt),g(Bt),g(pt),g(Bt)),Rt+=4;break;case ot.OPS.closePath:Pt.push("Z");break}Pt=Pt.join(" "),nt.path&&h.length>0&&h[0]!==ot.OPS.rectangle&&h[0]!==ot.OPS.moveTo?Pt=nt.path.getAttributeNS(null,"d")+Pt:(nt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(nt.path)),nt.path.setAttributeNS(null,"d",Pt),nt.path.setAttributeNS(null,"fill","none"),nt.element=nt.path,nt.setCurrentPoint(pt,Bt)}endPath(){const h=this.current;if(h.path=null,!this.pendingClip)return;if(!h.element){this.pendingClip=null;return}const et=`clippath${ut++}`,nt=this.svgFactory.createElement("svg:clipPath");nt.setAttributeNS(null,"id",et),nt.setAttributeNS(null,"transform",o(this.transformMatrix));const pt=h.element.cloneNode(!0);if(this.pendingClip==="evenodd"?pt.setAttributeNS(null,"clip-rule","evenodd"):pt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,nt.append(pt),this.defs.append(nt),h.activeClipUrl){h.clipGroup=null;for(const Bt of this.extraStack)Bt.clipGroup=null;nt.setAttributeNS(null,"clip-path",h.activeClipUrl)}h.activeClipUrl=`url(#${et})`,this.tgrp=null}clip(h){this.pendingClip=h}closePath(){const h=this.current;if(h.path){const et=`${h.path.getAttributeNS(null,"d")}Z`;h.path.setAttributeNS(null,"d",et)}}setLeading(h){this.current.leading=-h}setTextRise(h){this.current.textRise=h}setTextRenderingMode(h){this.current.textRenderingMode=h}setHScale(h){this.current.textHScale=h/100}setRenderingIntent(h){}setFlatness(h){}setGState(h){for(const[et,nt]of h)switch(et){case"LW":this.setLineWidth(nt);break;case"LC":this.setLineCap(nt);break;case"LJ":this.setLineJoin(nt);break;case"ML":this.setMiterLimit(nt);break;case"D":this.setDash(nt[0],nt[1]);break;case"RI":this.setRenderingIntent(nt);break;case"FL":this.setFlatness(nt);break;case"Font":this.setFont(nt);break;case"CA":this.setStrokeAlpha(nt);break;case"ca":this.setFillAlpha(nt);break;default:(0,ot.warn)(`Unimplemented graphic state operator ${et}`);break}}fill(){const h=this.current;h.element&&(h.element.setAttributeNS(null,"fill",h.fillColor),h.element.setAttributeNS(null,"fill-opacity",h.fillAlpha),this.endPath())}stroke(){const h=this.current;h.element&&(this._setStrokeAttributes(h.element),h.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(h,et=1){const nt=this.current;let pt=nt.dashArray;et!==1&&pt.length>0&&(pt=pt.map(function(Bt){return et*Bt})),h.setAttributeNS(null,"stroke",nt.strokeColor),h.setAttributeNS(null,"stroke-opacity",nt.strokeAlpha),h.setAttributeNS(null,"stroke-miterlimit",g(nt.miterLimit)),h.setAttributeNS(null,"stroke-linecap",nt.lineCap),h.setAttributeNS(null,"stroke-linejoin",nt.lineJoin),h.setAttributeNS(null,"stroke-width",g(et*nt.lineWidth)+"px"),h.setAttributeNS(null,"stroke-dasharray",pt.map(g).join(" ")),h.setAttributeNS(null,"stroke-dashoffset",g(et*nt.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const h=this.svgFactory.createElement("svg:rect");h.setAttributeNS(null,"x","0"),h.setAttributeNS(null,"y","0"),h.setAttributeNS(null,"width","1px"),h.setAttributeNS(null,"height","1px"),h.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(h)}paintImageXObject(h){const et=h.startsWith("g_")?this.commonObjs.get(h):this.objs.get(h);if(!et){(0,ot.warn)(`Dependent image with object ID ${h} is not ready yet`);return}this.paintInlineImageXObject(et)}paintInlineImageXObject(h,et){const nt=h.width,pt=h.height,Bt=$(h,this.forceDataSchema,!!et),Pt=this.svgFactory.createElement("svg:rect");Pt.setAttributeNS(null,"x","0"),Pt.setAttributeNS(null,"y","0"),Pt.setAttributeNS(null,"width",g(nt)),Pt.setAttributeNS(null,"height",g(pt)),this.current.element=Pt,this.clip("nonzero");const Rt=this.svgFactory.createElement("svg:image");Rt.setAttributeNS(wt,"xlink:href",Bt),Rt.setAttributeNS(null,"x","0"),Rt.setAttributeNS(null,"y",g(-pt)),Rt.setAttributeNS(null,"width",g(nt)+"px"),Rt.setAttributeNS(null,"height",g(pt)+"px"),Rt.setAttributeNS(null,"transform",`scale(${g(1/nt)} ${g(-1/pt)})`),et?et.append(Rt):this._ensureTransformGroup().append(Rt)}paintImageMaskXObject(h){const et=this.current,nt=h.width,pt=h.height,Bt=et.fillColor;et.maskId=`mask${dt++}`;const Pt=this.svgFactory.createElement("svg:mask");Pt.setAttributeNS(null,"id",et.maskId);const Rt=this.svgFactory.createElement("svg:rect");Rt.setAttributeNS(null,"x","0"),Rt.setAttributeNS(null,"y","0"),Rt.setAttributeNS(null,"width",g(nt)),Rt.setAttributeNS(null,"height",g(pt)),Rt.setAttributeNS(null,"fill",Bt),Rt.setAttributeNS(null,"mask",`url(#${et.maskId})`),this.defs.append(Pt),this._ensureTransformGroup().append(Rt),this.paintInlineImageXObject(h,Pt)}paintFormXObjectBegin(h,et){if(Array.isArray(h)&&h.length===6&&this.transform(h[0],h[1],h[2],h[3],h[4],h[5]),et){const nt=et[2]-et[0],pt=et[3]-et[1],Bt=this.svgFactory.createElement("svg:rect");Bt.setAttributeNS(null,"x",et[0]),Bt.setAttributeNS(null,"y",et[1]),Bt.setAttributeNS(null,"width",g(nt)),Bt.setAttributeNS(null,"height",g(pt)),this.current.element=Bt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(h){const et=this.svgFactory.create(h.width,h.height),nt=this.svgFactory.createElement("svg:defs");et.append(nt),this.defs=nt;const pt=this.svgFactory.createElement("svg:g");return pt.setAttributeNS(null,"transform",o(h.transform)),et.append(pt),this.svg=pt,et}_ensureClipGroup(){if(!this.current.clipGroup){const h=this.svgFactory.createElement("svg:g");h.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(h),this.current.clipGroup=h}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",o(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFNodeStream=void 0;var _e=c(1),ot=c(33);const $t=require$$5,zt=require$$5,ct=require$$5,Et=require$$5,s=/^file:\/\/\/[a-zA-Z]:\//;function st(g){const o=Et.parse(g);return o.protocol==="file:"||o.host?o:/^[a-z]:[/\\]/i.test(g)?Et.parse(`file:///${g}`):(o.host||(o.protocol="file:"),o)}class Tt{constructor(o){this.source=o,this.url=st(o.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&o.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var o;return((o=this._fullRequestReader)==null?void 0:o._loaded)??0}getFullReader(){return(0,_e.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new d(this):new _(this),this._fullRequestReader}getRangeReader(o,ut){if(ut<=this._progressiveDataLength)return null;const dt=this.isFsUrl?new j(this,o,ut):new $(this,o,ut);return this._rangeRequestReaders.push(dt),dt}cancelAllRequests(o){this._fullRequestReader&&this._fullRequestReader.cancel(o);for(const ut of this._rangeRequestReaders.slice(0))ut.cancel(o)}}a.PDFNodeStream=Tt;class wt{constructor(o){this._url=o.url,this._done=!1,this._storedError=null,this.onProgress=null;const ut=o.source;this._contentLength=ut.length,this._loaded=0,this._filename=null,this._disableRange=ut.disableRange||!1,this._rangeChunkSize=ut.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!ut.disableStream,this._isRangeSupported=!ut.disableRange,this._readableStream=null,this._readCapability=(0,_e.createPromiseCapability)(),this._headersCapability=(0,_e.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const o=this._readableStream.read();return o===null?(this._readCapability=(0,_e.createPromiseCapability)(),this.read()):(this._loaded+=o.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(o).buffer,done:!1})}cancel(o){if(!this._readableStream){this._error(o);return}this._readableStream.destroy(o)}_error(o){this._storedError=o,this._readCapability.resolve()}_setReadableStream(o){this._readableStream=o,o.on("readable",()=>{this._readCapability.resolve()}),o.on("end",()=>{o.destroy(),this._done=!0,this._readCapability.resolve()}),o.on("error",ut=>{this._error(ut)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new _e.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class e{constructor(o){this._url=o.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,_e.createPromiseCapability)();const ut=o.source;this._isStreamingSupported=!ut.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const o=this._readableStream.read();return o===null?(this._readCapability=(0,_e.createPromiseCapability)(),this.read()):(this._loaded+=o.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(o).buffer,done:!1})}cancel(o){if(!this._readableStream){this._error(o);return}this._readableStream.destroy(o)}_error(o){this._storedError=o,this._readCapability.resolve()}_setReadableStream(o){this._readableStream=o,o.on("readable",()=>{this._readCapability.resolve()}),o.on("end",()=>{o.destroy(),this._done=!0,this._readCapability.resolve()}),o.on("error",ut=>{this._error(ut)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function gt(g,o){return{protocol:g.protocol,auth:g.auth,host:g.hostname,port:g.port,path:g.path,method:"GET",headers:o}}class _ extends wt{constructor(o){super(o);const ut=dt=>{if(dt.statusCode===404){const nt=new _e.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=nt,this._headersCapability.reject(nt);return}this._headersCapability.resolve(),this._setReadableStream(dt);const b=nt=>this._readableStream.headers[nt.toLowerCase()],{allowRangeRequests:h,suggestedLength:et}=(0,ot.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:o.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=h,this._contentLength=et||this._contentLength,this._filename=(0,ot.extractFilenameFromHeader)(b)};this._request=null,this._url.protocol==="http:"?this._request=zt.request(gt(this._url,o.httpHeaders),ut):this._request=ct.request(gt(this._url,o.httpHeaders),ut),this._request.on("error",dt=>{this._storedError=dt,this._headersCapability.reject(dt)}),this._request.end()}}class $ extends e{constructor(o,ut,dt){super(o),this._httpHeaders={};for(const h in o.httpHeaders){const et=o.httpHeaders[h];typeof et>"u"||(this._httpHeaders[h]=et)}this._httpHeaders.Range=`bytes=${ut}-${dt-1}`;const b=h=>{if(h.statusCode===404){const et=new _e.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=et;return}this._setReadableStream(h)};this._request=null,this._url.protocol==="http:"?this._request=zt.request(gt(this._url,this._httpHeaders),b):this._request=ct.request(gt(this._url,this._httpHeaders),b),this._request.on("error",h=>{this._storedError=h}),this._request.end()}}class d extends wt{constructor(o){super(o);let ut=decodeURIComponent(this._url.path);s.test(this._url.href)&&(ut=ut.replace(/^\//,"")),$t.lstat(ut,(dt,b)=>{if(dt){dt.code==="ENOENT"&&(dt=new _e.MissingPDFException(`Missing PDF "${ut}".`)),this._storedError=dt,this._headersCapability.reject(dt);return}this._contentLength=b.size,this._setReadableStream($t.createReadStream(ut)),this._headersCapability.resolve()})}}class j extends e{constructor(o,ut,dt){super(o);let b=decodeURIComponent(this._url.path);s.test(this._url.href)&&(b=b.replace(/^\//,"")),this._setReadableStream($t.createReadStream(b,{start:ut,end:dt-1}))}}},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createResponseStatusError=Et,a.extractFilenameFromHeader=ct,a.validateRangeRequestCapabilities=zt,a.validateResponseStatus=s;var _e=c(1),ot=c(34),$t=c(8);function zt({getResponseHeader:st,isHttp:Tt,rangeChunkSize:wt,disableRange:e}){const gt={allowRangeRequests:!1,suggestedLength:void 0},_=parseInt(st("Content-Length"),10);return!Number.isInteger(_)||(gt.suggestedLength=_,_<=2*wt)||e||!Tt||st("Accept-Ranges")!=="bytes"||(st("Content-Encoding")||"identity")!=="identity"||(gt.allowRangeRequests=!0),gt}function ct(st){const Tt=st("Content-Disposition");if(Tt){let wt=(0,ot.getFilenameFromContentDispositionHeader)(Tt);if(wt.includes("%"))try{wt=decodeURIComponent(wt)}catch{}if((0,$t.isPdfFile)(wt))return wt}return null}function Et(st,Tt){return st===404||st===0&&Tt.startsWith("file:")?new _e.MissingPDFException('Missing PDF "'+Tt+'".'):new _e.UnexpectedResponseException(`Unexpected server response (${st}) while retrieving PDF "${Tt}".`,st)}function s(st){return st===200||st===206}},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getFilenameFromContentDispositionHeader=ot;var _e=c(1);function ot($t){let zt=!0,ct=Et("filename\\*","i").exec($t);if(ct){ct=ct[1];let _=wt(ct);return _=unescape(_),_=e(_),_=gt(_),st(_)}if(ct=Tt($t),ct){const _=gt(ct);return st(_)}if(ct=Et("filename","i").exec($t),ct){ct=ct[1];let _=wt(ct);return _=gt(_),st(_)}function Et(_,$){return new RegExp("(?:^|;)\\s*"+_+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',$)}function s(_,$){if(_){if(!/^[\x00-\xFF]+$/.test($))return $;try{const d=new TextDecoder(_,{fatal:!0}),j=(0,_e.stringToBytes)($);$=d.decode(j),zt=!1}catch{}}return $}function st(_){return zt&&/[\x80-\xff]/.test(_)&&(_=s("utf-8",_),zt&&(_=s("iso-8859-1",_))),_}function Tt(_){const $=[];let d;const j=Et("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(d=j.exec(_))!==null;){let[,o,ut,dt]=d;if(o=parseInt(o,10),o in $){if(o===0)break;continue}$[o]=[ut,dt]}const g=[];for(let o=0;o<$.length&&o in $;++o){let[ut,dt]=$[o];dt=wt(dt),ut&&(dt=unescape(dt),o===0&&(dt=e(dt))),g.push(dt)}return g.join("")}function wt(_){if(_.startsWith('"')){const $=_.slice(1).split('\\"');for(let d=0;d<$.length;++d){const j=$[d].indexOf('"');j!==-1&&($[d]=$[d].slice(0,j),$.length=d+1),$[d]=$[d].replace(/\\(.)/g,"$1")}_=$.join('"')}return _}function e(_){const $=_.indexOf("'");if($===-1)return _;const d=_.slice(0,$),g=_.slice($+1).replace(/^[^']*'/,"");return s(d,g)}function gt(_){return!_.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(_)?_:_.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function($,d,j,g){if(j==="q"||j==="Q")return g=g.replace(/_/g," "),g=g.replace(/=([0-9a-fA-F]{2})/g,function(o,ut){return String.fromCharCode(parseInt(ut,16))}),s(d,g);try{g=atob(g)}catch{}return s(d,g)})}return""}},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFNetworkStream=void 0;var _e=c(1),ot=c(33);const $t=200,zt=206;function ct(wt){const e=wt.response;return typeof e!="string"?e:(0,_e.stringToBytes)(e).buffer}class Et{constructor(e,gt={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&gt.httpHeaders||Object.create(null),this.withCredentials=gt.withCredentials||!1,this.getXhr=gt.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,gt,_){const $={begin:e,end:gt};for(const d in _)$[d]=_[d];return this.request($)}requestFull(e){return this.request(e)}request(e){const gt=this.getXhr(),_=this.currXhrId++,$=this.pendingRequests[_]={xhr:gt};gt.open("GET",this.url),gt.withCredentials=this.withCredentials;for(const d in this.httpHeaders){const j=this.httpHeaders[d];typeof j>"u"||gt.setRequestHeader(d,j)}return this.isHttp&&"begin"in e&&"end"in e?(gt.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),$.expectedStatus=zt):$.expectedStatus=$t,gt.responseType="arraybuffer",e.onError&&(gt.onerror=function(d){e.onError(gt.status)}),gt.onreadystatechange=this.onStateChange.bind(this,_),gt.onprogress=this.onProgress.bind(this,_),$.onHeadersReceived=e.onHeadersReceived,$.onDone=e.onDone,$.onError=e.onError,$.onProgress=e.onProgress,gt.send(null),_}onProgress(e,gt){var $;const _=this.pendingRequests[e];_&&(($=_.onProgress)==null||$.call(_,gt))}onStateChange(e,gt){var o,ut,dt;const _=this.pendingRequests[e];if(!_)return;const $=_.xhr;if($.readyState>=2&&_.onHeadersReceived&&(_.onHeadersReceived(),delete _.onHeadersReceived),$.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],$.status===0&&this.isHttp){(o=_.onError)==null||o.call(_,$.status);return}const d=$.status||$t;if(!(d===$t&&_.expectedStatus===zt)&&d!==_.expectedStatus){(ut=_.onError)==null||ut.call(_,$.status);return}const g=ct($);if(d===zt){const b=$.getResponseHeader("Content-Range"),h=/bytes (\d+)-(\d+)\/(\d+)/.exec(b);_.onDone({begin:parseInt(h[1],10),chunk:g})}else g?_.onDone({begin:0,chunk:g}):(dt=_.onError)==null||dt.call(_,$.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const gt=this.pendingRequests[e].xhr;delete this.pendingRequests[e],gt.abort()}}class s{constructor(e){this._source=e,this._manager=new Et(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const gt=this._rangeRequestReaders.indexOf(e);gt>=0&&this._rangeRequestReaders.splice(gt,1)}getFullReader(){return(0,_e.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new st(this._manager,this._source),this._fullRequestReader}getRangeReader(e,gt){const _=new Tt(this._manager,e,gt);return _.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(_),_}cancelAllRequests(e){var gt;(gt=this._fullRequestReader)==null||gt.cancel(e);for(const _ of this._rangeRequestReaders.slice(0))_.cancel(e)}}a.PDFNetworkStream=s;class st{constructor(e,gt){this._manager=e;const _={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=gt.url,this._fullRequestId=e.requestFull(_),this._headersReceivedCapability=(0,_e.createPromiseCapability)(),this._disableRange=gt.disableRange||!1,this._contentLength=gt.length,this._rangeChunkSize=gt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,gt=this._manager.getRequestXhr(e),_=j=>gt.getResponseHeader(j),{allowRangeRequests:$,suggestedLength:d}=(0,ot.validateRangeRequestCapabilities)({getResponseHeader:_,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});$&&(this._isRangeSupported=!0),this._contentLength=d||this._contentLength,this._filename=(0,ot.extractFilenameFromHeader)(_),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const gt of this._requests)gt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=(0,ot.createResponseStatusError)(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const gt of this._requests)gt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var gt;(gt=this.onProgress)==null||gt.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=(0,_e.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const gt of this._requests)gt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Tt{constructor(e,gt,_){this._manager=e;const $={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(gt,_,$),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const gt=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:gt,done:!1}):this._queuedChunk=gt,this._done=!0;for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=(0,ot.createResponseStatusError)(e,this._url);for(const gt of this._requests)gt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var gt;this.isStreamingSupported||(gt=this.onProgress)==null||gt.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const gt=this._queuedChunk;return this._queuedChunk=null,{value:gt,done:!1}}if(this._done)return{value:void 0,done:!0};const e=(0,_e.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const gt of this._requests)gt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFFetchStream=void 0;var _e=c(1),ot=c(33);function $t(st,Tt,wt){return{method:"GET",headers:st,signal:wt.signal,mode:"cors",credentials:Tt?"include":"same-origin",redirect:"follow"}}function zt(st){const Tt=new Headers;for(const wt in st){const e=st[wt];typeof e>"u"||Tt.append(wt,e)}return Tt}class ct{constructor(Tt){this.source=Tt,this.isHttp=/^https?:/i.test(Tt.url),this.httpHeaders=this.isHttp&&Tt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Tt;return((Tt=this._fullRequestReader)==null?void 0:Tt._loaded)??0}getFullReader(){return(0,_e.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Et(this),this._fullRequestReader}getRangeReader(Tt,wt){if(wt<=this._progressiveDataLength)return null;const e=new s(this,Tt,wt);return this._rangeRequestReaders.push(e),e}cancelAllRequests(Tt){this._fullRequestReader&&this._fullRequestReader.cancel(Tt);for(const wt of this._rangeRequestReaders.slice(0))wt.cancel(Tt)}}a.PDFFetchStream=ct;class Et{constructor(Tt){this._stream=Tt,this._reader=null,this._loaded=0,this._filename=null;const wt=Tt.source;this._withCredentials=wt.withCredentials||!1,this._contentLength=wt.length,this._headersCapability=(0,_e.createPromiseCapability)(),this._disableRange=wt.disableRange||!1,this._rangeChunkSize=wt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!wt.disableStream,this._isRangeSupported=!wt.disableRange,this._headers=zt(this._stream.httpHeaders);const e=wt.url;fetch(e,$t(this._headers,this._withCredentials,this._abortController)).then(gt=>{if(!(0,ot.validateResponseStatus)(gt.status))throw(0,ot.createResponseStatusError)(gt.status,e);this._reader=gt.body.getReader(),this._headersCapability.resolve();const _=j=>gt.headers.get(j),{allowRangeRequests:$,suggestedLength:d}=(0,ot.validateRangeRequestCapabilities)({getResponseHeader:_,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=$,this._contentLength=d||this._contentLength,this._filename=(0,ot.extractFilenameFromHeader)(_),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new _e.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:Tt,done:wt}=await this._reader.read();return wt?{value:Tt,done:wt}:(this._loaded+=Tt.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(Tt).buffer,done:!1})}cancel(Tt){this._reader&&this._reader.cancel(Tt),this._abortController.abort()}}class s{constructor(Tt,wt,e){this._stream=Tt,this._reader=null,this._loaded=0;const gt=Tt.source;this._withCredentials=gt.withCredentials||!1,this._readCapability=(0,_e.createPromiseCapability)(),this._isStreamingSupported=!gt.disableStream,this._abortController=new AbortController,this._headers=zt(this._stream.httpHeaders),this._headers.append("Range",`bytes=${wt}-${e-1}`);const _=gt.url;fetch(_,$t(this._headers,this._withCredentials,this._abortController)).then($=>{if(!(0,ot.validateResponseStatus)($.status))throw(0,ot.createResponseStatusError)($.status,_);this._readCapability.resolve(),this._reader=$.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:Tt,done:wt}=await this._reader.read();return wt?{value:Tt,done:wt}:(this._loaded+=Tt.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(Tt).buffer,done:!1})}cancel(Tt){this._reader&&this._reader.cancel(Tt),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(i){var a=__webpack_module_cache__[i];if(a!==void 0)return a.exports;var c=__webpack_module_cache__[i]={exports:{}};return __webpack_modules__[i](c,c.exports,__w_pdfjs_require__),c.exports}var __webpack_exports__={};return(()=>{var i=__webpack_exports__;Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"AnnotationEditorLayer",{enumerable:!0,get:function(){return ot.AnnotationEditorLayer}}),Object.defineProperty(i,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return a.AnnotationEditorParamsType}}),Object.defineProperty(i,"AnnotationEditorType",{enumerable:!0,get:function(){return a.AnnotationEditorType}}),Object.defineProperty(i,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return $t.AnnotationEditorUIManager}}),Object.defineProperty(i,"AnnotationLayer",{enumerable:!0,get:function(){return zt.AnnotationLayer}}),Object.defineProperty(i,"AnnotationMode",{enumerable:!0,get:function(){return a.AnnotationMode}}),Object.defineProperty(i,"CMapCompressionType",{enumerable:!0,get:function(){return a.CMapCompressionType}}),Object.defineProperty(i,"GlobalWorkerOptions",{enumerable:!0,get:function(){return ct.GlobalWorkerOptions}}),Object.defineProperty(i,"InvalidPDFException",{enumerable:!0,get:function(){return a.InvalidPDFException}}),Object.defineProperty(i,"LoopbackPort",{enumerable:!0,get:function(){return c.LoopbackPort}}),Object.defineProperty(i,"MissingPDFException",{enumerable:!0,get:function(){return a.MissingPDFException}}),Object.defineProperty(i,"OPS",{enumerable:!0,get:function(){return a.OPS}}),Object.defineProperty(i,"PDFDataRangeTransport",{enumerable:!0,get:function(){return c.PDFDataRangeTransport}}),Object.defineProperty(i,"PDFDateString",{enumerable:!0,get:function(){return _e.PDFDateString}}),Object.defineProperty(i,"PDFWorker",{enumerable:!0,get:function(){return c.PDFWorker}}),Object.defineProperty(i,"PasswordResponses",{enumerable:!0,get:function(){return a.PasswordResponses}}),Object.defineProperty(i,"PermissionFlag",{enumerable:!0,get:function(){return a.PermissionFlag}}),Object.defineProperty(i,"PixelsPerInch",{enumerable:!0,get:function(){return _e.PixelsPerInch}}),Object.defineProperty(i,"RenderingCancelledException",{enumerable:!0,get:function(){return _e.RenderingCancelledException}}),Object.defineProperty(i,"SVGGraphics",{enumerable:!0,get:function(){return st.SVGGraphics}}),Object.defineProperty(i,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return a.UNSUPPORTED_FEATURES}}),Object.defineProperty(i,"UnexpectedResponseException",{enumerable:!0,get:function(){return a.UnexpectedResponseException}}),Object.defineProperty(i,"Util",{enumerable:!0,get:function(){return a.Util}}),Object.defineProperty(i,"VerbosityLevel",{enumerable:!0,get:function(){return a.VerbosityLevel}}),Object.defineProperty(i,"XfaLayer",{enumerable:!0,get:function(){return Tt.XfaLayer}}),Object.defineProperty(i,"build",{enumerable:!0,get:function(){return c.build}}),Object.defineProperty(i,"createPromiseCapability",{enumerable:!0,get:function(){return a.createPromiseCapability}}),Object.defineProperty(i,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return a.createValidAbsoluteUrl}}),Object.defineProperty(i,"getDocument",{enumerable:!0,get:function(){return c.getDocument}}),Object.defineProperty(i,"getFilenameFromUrl",{enumerable:!0,get:function(){return _e.getFilenameFromUrl}}),Object.defineProperty(i,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return _e.getPdfFilenameFromUrl}}),Object.defineProperty(i,"getXfaPageViewport",{enumerable:!0,get:function(){return _e.getXfaPageViewport}}),Object.defineProperty(i,"isPdfFile",{enumerable:!0,get:function(){return _e.isPdfFile}}),Object.defineProperty(i,"loadScript",{enumerable:!0,get:function(){return _e.loadScript}}),Object.defineProperty(i,"renderTextLayer",{enumerable:!0,get:function(){return s.renderTextLayer}}),Object.defineProperty(i,"shadow",{enumerable:!0,get:function(){return a.shadow}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return c.version}});var a=__w_pdfjs_require__(1),c=__w_pdfjs_require__(4),_e=__w_pdfjs_require__(8),ot=__w_pdfjs_require__(22),$t=__w_pdfjs_require__(7),zt=__w_pdfjs_require__(27),ct=__w_pdfjs_require__(15),Et=__w_pdfjs_require__(3),s=__w_pdfjs_require__(30),st=__w_pdfjs_require__(31),Tt=__w_pdfjs_require__(29);if(Et.isNodeJS){const{PDFNodeStream:wt}=__w_pdfjs_require__(32);(0,c.setPDFNetworkStreamFactory)(e=>new wt(e))}else{const{PDFNetworkStream:wt}=__w_pdfjs_require__(35),{PDFFetchStream:e}=__w_pdfjs_require__(36);(0,c.setPDFNetworkStreamFactory)(gt=>(0,_e.isValidFetchUrl)(gt.url)?new e(gt):new wt(gt))}})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;const getTextMap=async(i,a)=>{const _e=await pdfExports.getDocument({data:new Uint8Array(i)}).promise,ot=[];for(const $t of a){const Et=(await(await _e.getPage($t)).getTextContent()).items.map(s=>s.str);ot.push(Et.join(" "))}return ot};var reactPdfNerAnnotator={},Annotator$1={},usePDF$1={},pdf_min={exports:{}};(function(module,exports$1){(function(a,c){module.exports=c()})(globalThis,()=>(()=>{var __webpack_modules__=[,(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.VerbosityLevel=a.Util=a.UnknownErrorException=a.UnexpectedResponseException=a.UNSUPPORTED_FEATURES=a.TextRenderingMode=a.StreamType=a.RenderingIntentFlag=a.PermissionFlag=a.PasswordResponses=a.PasswordException=a.PageActionEventType=a.OPS=a.MissingPDFException=a.LINE_FACTOR=a.LINE_DESCENT_FACTOR=a.InvalidPDFException=a.ImageKind=a.IDENTITY_MATRIX=a.FormatError=a.FontType=a.FeatureTest=a.FONT_IDENTITY_MATRIX=a.DocumentActionEventType=a.CMapCompressionType=a.BaseException=a.AnnotationType=a.AnnotationStateModelType=a.AnnotationReviewState=a.AnnotationReplyType=a.AnnotationMode=a.AnnotationMarkedState=a.AnnotationFlag=a.AnnotationFieldFlag=a.AnnotationEditorType=a.AnnotationEditorPrefix=a.AnnotationEditorParamsType=a.AnnotationBorderStyleType=a.AnnotationActionEventType=a.AbortException=void 0,a.arrayByteLength=st,a.arraysToBytes=function($){const d=$.length;if(d===1&&$[0]instanceof Uint8Array)return $[0];let j=0;for(let ut=0;ut<d;ut++)j+=st($[ut]);let g=0;const o=new Uint8Array(j);for(let ut=0;ut<d;ut++){let dt=$[ut];dt instanceof Uint8Array||(dt=typeof dt=="string"?s(dt):new Uint8Array(dt));const b=dt.byteLength;o.set(dt,g),g+=b}return o},a.assert=function($,d){$||zt(d)},a.bytesToString=function($){typeof $=="object"&&$!==null&&$.length!==void 0||zt("Invalid argument for bytesToString");const d=$.length,j=8192;if(d<j)return String.fromCharCode.apply(null,$);const g=[];for(let o=0;o<d;o+=j){const ut=Math.min(o+j,d),dt=$.subarray(o,ut);g.push(String.fromCharCode.apply(null,dt))}return g.join("")},a.createPromiseCapability=function(){const $=Object.create(null);let d=!1;return Object.defineProperty($,"settled",{get:()=>d}),$.promise=new Promise(function(j,g){$.resolve=function(o){d=!0,j(o)},$.reject=function(o){d=!0,g(o)}}),$},a.createValidAbsoluteUrl=function($,d=null,j=null){if(!$)return null;try{if(j&&typeof $=="string"){if(j.addDefaultProtocol&&$.startsWith("www.")){const o=$.match(/\./g);o&&o.length>=2&&($=`http://${$}`)}if(j.tryConvertEncoding)try{$=gt($)}catch{}}const g=d?new URL($,d):new URL($);if(function(ut){if(!ut)return!1;switch(ut.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(g))return g}catch{}return null},a.escapeString=function($){return $.replace(/([()\\\n\r])/g,d=>d===`
`?"\\n":d==="\r"?"\\r":`\\${d}`)},a.getModificationDate=function($=new Date){return[$.getUTCFullYear().toString(),($.getUTCMonth()+1).toString().padStart(2,"0"),$.getUTCDate().toString().padStart(2,"0"),$.getUTCHours().toString().padStart(2,"0"),$.getUTCMinutes().toString().padStart(2,"0"),$.getUTCSeconds().toString().padStart(2,"0")].join("")},a.getVerbosityLevel=function(){return ot},a.info=function($){ot>=_e.INFOS&&console.log(`Info: ${$}`)},a.isArrayBuffer=function($){return typeof $=="object"&&$!==null&&$.byteLength!==void 0},a.isArrayEqual=function($,d){if($.length!==d.length)return!1;for(let j=0,g=$.length;j<g;j++)if($[j]!==d[j])return!1;return!0},a.isAscii=function($){return/^[\x00-\x7F]*$/.test($)},a.objectFromMap=function($){const d=Object.create(null);for(const[j,g]of $)d[j]=g;return d},a.objectSize=function($){return Object.keys($).length},a.setVerbosityLevel=function($){Number.isInteger($)&&(ot=$)},a.shadow=ct,a.string32=function($){return String.fromCharCode($>>24&255,$>>16&255,$>>8&255,255&$)},a.stringToBytes=s,a.stringToPDFString=function($){if($[0]>=""){let j;if($[0]===""&&$[1]===""?j="utf-16be":$[0]===""&&$[1]===""?j="utf-16le":$[0]===""&&$[1]===""&&$[2]===""&&(j="utf-8"),j)try{const g=new TextDecoder(j,{fatal:!0}),o=s($);return g.decode(o)}catch(g){$t(`stringToPDFString: "${g}".`)}}const d=[];for(let j=0,g=$.length;j<g;j++){const o=e[$.charCodeAt(j)];d.push(o?String.fromCharCode(o):$.charAt(j))}return d.join("")},a.stringToUTF16BEString=function($){const d=[""];for(let j=0,g=$.length;j<g;j++){const o=$.charCodeAt(j);d.push(String.fromCharCode(o>>8&255),String.fromCharCode(255&o))}return d.join("")},a.stringToUTF8String=gt,a.unreachable=zt,a.utf8StringToString=function($){return unescape(encodeURIComponent($))},a.warn=$t,c(2),a.IDENTITY_MATRIX=[1,0,0,1,0,0],a.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],a.LINE_FACTOR=1.35,a.LINE_DESCENT_FACTOR=.35,a.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},a.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},a.AnnotationEditorPrefix="pdfjs_internal_editor_",a.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,INK:15},a.AnnotationEditorParamsType={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13},a.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},a.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},a.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},a.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},a.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},a.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},a.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},a.AnnotationReplyType={GROUP:"Group",REPLY:"R"},a.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},a.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},a.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},a.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},a.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},a.PageActionEventType={O:"PageOpen",C:"PageClose"},a.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},a.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const _e={ERRORS:0,WARNINGS:1,INFOS:5};a.VerbosityLevel=_e,a.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},a.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},a.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},a.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let ot=_e.WARNINGS;function $t(_){ot>=_e.WARNINGS&&console.log(`Warning: ${_}`)}function zt(_){throw new Error(_)}function ct(_,$,d){return Object.defineProperty(_,$,{value:d,enumerable:!0,configurable:!0,writable:!1}),d}const Et=function(){function $(d,j){this.constructor===$&&zt("Cannot initialize BaseException."),this.message=d,this.name=j}return $.prototype=new Error,$.constructor=$,$}();a.BaseException=Et,a.PasswordException=class extends Et{constructor($,d){super($,"PasswordException"),this.code=d}},a.UnknownErrorException=class extends Et{constructor($,d){super($,"UnknownErrorException"),this.details=d}},a.InvalidPDFException=class extends Et{constructor($){super($,"InvalidPDFException")}},a.MissingPDFException=class extends Et{constructor($){super($,"MissingPDFException")}},a.UnexpectedResponseException=class extends Et{constructor($,d){super($,"UnexpectedResponseException"),this.status=d}},a.FormatError=class extends Et{constructor($){super($,"FormatError")}},a.AbortException=class extends Et{constructor($){super($,"AbortException")}};function s(_){typeof _!="string"&&zt("Invalid argument for stringToBytes");const $=_.length,d=new Uint8Array($);for(let j=0;j<$;++j)d[j]=255&_.charCodeAt(j);return d}function st(_){if(_.length!==void 0)return _.length;if(_.byteLength!==void 0)return _.byteLength;zt("Invalid argument for arrayByteLength")}a.FeatureTest=class{static get isLittleEndian(){return ct(this,"isLittleEndian",function(){const d=new Uint8Array(4);return d[0]=1,new Uint32Array(d.buffer,0,1)[0]===1}())}static get isEvalSupported(){return ct(this,"isEvalSupported",function(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return ct(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const Tt=[...Array(256).keys()].map(_=>_.toString(16).padStart(2,"0"));class wt{static makeHexColor($,d,j){return`#${Tt[$]}${Tt[d]}${Tt[j]}`}static scaleMinMax($,d){let j;$[0]?($[0]<0&&(j=d[0],d[0]=d[1],d[1]=j),d[0]*=$[0],d[1]*=$[0],$[3]<0&&(j=d[2],d[2]=d[3],d[3]=j),d[2]*=$[3],d[3]*=$[3]):(j=d[0],d[0]=d[2],d[2]=j,j=d[1],d[1]=d[3],d[3]=j,$[1]<0&&(j=d[2],d[2]=d[3],d[3]=j),d[2]*=$[1],d[3]*=$[1],$[2]<0&&(j=d[0],d[0]=d[1],d[1]=j),d[0]*=$[2],d[1]*=$[2]),d[0]+=$[4],d[1]+=$[4],d[2]+=$[5],d[3]+=$[5]}static transform($,d){return[$[0]*d[0]+$[2]*d[1],$[1]*d[0]+$[3]*d[1],$[0]*d[2]+$[2]*d[3],$[1]*d[2]+$[3]*d[3],$[0]*d[4]+$[2]*d[5]+$[4],$[1]*d[4]+$[3]*d[5]+$[5]]}static applyTransform($,d){return[$[0]*d[0]+$[1]*d[2]+d[4],$[0]*d[1]+$[1]*d[3]+d[5]]}static applyInverseTransform($,d){const j=d[0]*d[3]-d[1]*d[2];return[($[0]*d[3]-$[1]*d[2]+d[2]*d[5]-d[4]*d[3])/j,(-$[0]*d[1]+$[1]*d[0]+d[4]*d[1]-d[5]*d[0])/j]}static getAxialAlignedBoundingBox($,d){const j=wt.applyTransform($,d),g=wt.applyTransform($.slice(2,4),d),o=wt.applyTransform([$[0],$[3]],d),ut=wt.applyTransform([$[2],$[1]],d);return[Math.min(j[0],g[0],o[0],ut[0]),Math.min(j[1],g[1],o[1],ut[1]),Math.max(j[0],g[0],o[0],ut[0]),Math.max(j[1],g[1],o[1],ut[1])]}static inverseTransform($){const d=$[0]*$[3]-$[1]*$[2];return[$[3]/d,-$[1]/d,-$[2]/d,$[0]/d,($[2]*$[5]-$[4]*$[3])/d,($[4]*$[1]-$[5]*$[0])/d]}static apply3dTransform($,d){return[$[0]*d[0]+$[1]*d[1]+$[2]*d[2],$[3]*d[0]+$[4]*d[1]+$[5]*d[2],$[6]*d[0]+$[7]*d[1]+$[8]*d[2]]}static singularValueDecompose2dScale($){const d=[$[0],$[2],$[1],$[3]],j=$[0]*d[0]+$[1]*d[2],g=$[0]*d[1]+$[1]*d[3],o=$[2]*d[0]+$[3]*d[2],ut=$[2]*d[1]+$[3]*d[3],dt=(j+ut)/2,b=Math.sqrt((j+ut)**2-4*(j*ut-o*g))/2,h=dt+b||1,et=dt-b||1;return[Math.sqrt(h),Math.sqrt(et)]}static normalizeRect($){const d=$.slice(0);return $[0]>$[2]&&(d[0]=$[2],d[2]=$[0]),$[1]>$[3]&&(d[1]=$[3],d[3]=$[1]),d}static intersect($,d){const j=Math.max(Math.min($[0],$[2]),Math.min(d[0],d[2])),g=Math.min(Math.max($[0],$[2]),Math.max(d[0],d[2]));if(j>g)return null;const o=Math.max(Math.min($[1],$[3]),Math.min(d[1],d[3])),ut=Math.min(Math.max($[1],$[3]),Math.max(d[1],d[3]));return o>ut?null:[j,o,g,ut]}static bezierBoundingBox($,d,j,g,o,ut,dt,b){const h=[],et=[[],[]];let nt,pt,Bt,Pt,Rt,Ft,lt,ft;for(let St=0;St<2;++St)if(St===0?(pt=6*$-12*j+6*o,nt=-3*$+9*j-9*o+3*dt,Bt=3*j-3*$):(pt=6*d-12*g+6*ut,nt=-3*d+9*g-9*ut+3*b,Bt=3*g-3*d),Math.abs(nt)<1e-12){if(Math.abs(pt)<1e-12)continue;Pt=-Bt/pt,0<Pt&&Pt<1&&h.push(Pt)}else lt=pt*pt-4*Bt*nt,ft=Math.sqrt(lt),lt<0||(Rt=(-pt+ft)/(2*nt),0<Rt&&Rt<1&&h.push(Rt),Ft=(-pt-ft)/(2*nt),0<Ft&&Ft<1&&h.push(Ft));let it,at=h.length;const bt=at;for(;at--;)Pt=h[at],it=1-Pt,et[0][at]=it*it*it*$+3*it*it*Pt*j+3*it*Pt*Pt*o+Pt*Pt*Pt*dt,et[1][at]=it*it*it*d+3*it*it*Pt*g+3*it*Pt*Pt*ut+Pt*Pt*Pt*b;return et[0][bt]=$,et[1][bt]=d,et[0][bt+1]=dt,et[1][bt+1]=b,et[0].length=et[1].length=bt+2,[Math.min(...et[0]),Math.min(...et[1]),Math.max(...et[0]),Math.max(...et[1])]}}a.Util=wt;const e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function gt(_){return decodeURIComponent(escape(_))}},(i,a,c)=>{c(3)},(i,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isNodeJS=void 0;const c=!(typeof process!="object"||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&process.type!=="browser");a.isNodeJS=c},(__unused_webpack_module,exports$1,__w_pdfjs_require__)=>{var i,c,_e,ot,$t,zt,ct,Et,s,g1,Tt,wt;Object.defineProperty(exports$1,"__esModule",{value:!0}),exports$1.build=exports$1.RenderTask=exports$1.PDFWorkerUtil=exports$1.PDFWorker=exports$1.PDFPageProxy=exports$1.PDFDocumentProxy=exports$1.PDFDocumentLoadingTask=exports$1.PDFDataRangeTransport=exports$1.LoopbackPort=exports$1.DefaultStandardFontDataFactory=exports$1.DefaultCanvasFactory=exports$1.DefaultCMapReaderFactory=void 0,exports$1.getDocument=getDocument,exports$1.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports$1.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(8),_font_loader=__w_pdfjs_require__(11),_canvas=__w_pdfjs_require__(12),_worker_options=__w_pdfjs_require__(15),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(16),_metadata=__w_pdfjs_require__(17),_optional_content_config=__w_pdfjs_require__(18),_transport_stream=__w_pdfjs_require__(19),_xfa_text=__w_pdfjs_require__(20);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports$1.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports$1.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports$1.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:gt,NodeCMapReaderFactory:_,NodeStandardFontDataFactory:$}=__w_pdfjs_require__(21);exports$1.DefaultCanvasFactory=DefaultCanvasFactory=gt,exports$1.DefaultCMapReaderFactory=DefaultCMapReaderFactory=_,exports$1.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=$}function setPDFNetworkStreamFactory(gt){createPDFNetworkStream=gt}function getDocument(gt){const _=new PDFDocumentLoadingTask;let $;if(typeof gt=="string"||gt instanceof URL)$={url:gt};else if((0,_util.isArrayBuffer)(gt))$={data:gt};else if(gt instanceof PDFDataRangeTransport)$={range:gt};else{if(typeof gt!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!gt.url&&!gt.data&&!gt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");$=gt}const d=Object.create(null);let j=null,g=null;for(const ut in $){const dt=$[ut];switch(ut){case"url":if(typeof window<"u")try{d[ut]=new URL(dt,window.location).href;continue}catch(b){(0,_util.warn)(`Cannot create valid URL: "${b}".`)}else if(typeof dt=="string"||dt instanceof URL){d[ut]=dt.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":j=dt;continue;case"worker":g=dt;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&dt instanceof Buffer)d[ut]=new Uint8Array(dt);else{if(dt instanceof Uint8Array)break;if(typeof dt=="string")d[ut]=(0,_util.stringToBytes)(dt);else if(typeof dt!="object"||dt===null||isNaN(dt.length)){if(!(0,_util.isArrayBuffer)(dt))throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.");d[ut]=new Uint8Array(dt)}else d[ut]=new Uint8Array(dt)}continue}d[ut]=dt}if(d.CMapReaderFactory=d.CMapReaderFactory||DefaultCMapReaderFactory,d.StandardFontDataFactory=d.StandardFontDataFactory||DefaultStandardFontDataFactory,d.ignoreErrors=d.stopAtErrors!==!0,d.fontExtraProperties=d.fontExtraProperties===!0,d.pdfBug=d.pdfBug===!0,d.enableXfa=d.enableXfa===!0,(!Number.isInteger(d.rangeChunkSize)||d.rangeChunkSize<1)&&(d.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof d.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(d.docBaseUrl))&&(d.docBaseUrl=null),(!Number.isInteger(d.maxImageSize)||d.maxImageSize<-1)&&(d.maxImageSize=-1),typeof d.cMapUrl!="string"&&(d.cMapUrl=null),typeof d.standardFontDataUrl!="string"&&(d.standardFontDataUrl=null),typeof d.useWorkerFetch!="boolean"&&(d.useWorkerFetch=d.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&d.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof d.isEvalSupported!="boolean"&&(d.isEvalSupported=!0),typeof d.disableFontFace!="boolean"&&(d.disableFontFace=_is_node.isNodeJS),typeof d.useSystemFonts!="boolean"&&(d.useSystemFonts=!_is_node.isNodeJS&&!d.disableFontFace),typeof d.ownerDocument=="object"&&d.ownerDocument!==null||(d.ownerDocument=globalThis.document),typeof d.disableRange!="boolean"&&(d.disableRange=!1),typeof d.disableStream!="boolean"&&(d.disableStream=!1),typeof d.disableAutoFetch!="boolean"&&(d.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(d.verbosity),!g){const ut={verbosity:d.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};g=ut.port?PDFWorker.fromPort(ut):new PDFWorker(ut),_._worker=g}const o=_.docId;return g.promise.then(function(){if(_.destroyed)throw new Error("Loading aborted");const ut=_fetchDocument(g,d,j,o),dt=new Promise(function(b){let h;j?h=new _transport_stream.PDFDataTransportStream({length:d.length,initialData:d.initialData,progressiveDone:d.progressiveDone,contentDispositionFilename:d.contentDispositionFilename,disableRange:d.disableRange,disableStream:d.disableStream},j):d.data||(h=createPDFNetworkStream({url:d.url,length:d.length,httpHeaders:d.httpHeaders,withCredentials:d.withCredentials,rangeChunkSize:d.rangeChunkSize,disableRange:d.disableRange,disableStream:d.disableStream})),b(h)});return Promise.all([ut,dt]).then(function([b,h]){if(_.destroyed)throw new Error("Loading aborted");const et=new _message_handler.MessageHandler(o,b,g.port),nt=new WorkerTransport(et,_,h,d);_._transport=nt,et.send("Ready",null)})}).catch(_._capability.reject),_}async function _fetchDocument(gt,_,$,d){if(gt.destroyed)throw new Error("Worker was destroyed");$&&(_.length=$.length,_.initialData=$.initialData,_.progressiveDone=$.progressiveDone,_.contentDispositionFilename=$.contentDispositionFilename);const j=await gt.messageHandler.sendWithPromise("GetDocRequest",{docId:d,apiVersion:"2.16.105",source:{data:_.data,url:_.url,password:_.password,disableAutoFetch:_.disableAutoFetch,rangeChunkSize:_.rangeChunkSize,length:_.length},maxImageSize:_.maxImageSize,disableFontFace:_.disableFontFace,docBaseUrl:_.docBaseUrl,ignoreErrors:_.ignoreErrors,isEvalSupported:_.isEvalSupported,fontExtraProperties:_.fontExtraProperties,enableXfa:_.enableXfa,useSystemFonts:_.useSystemFonts,cMapUrl:_.useWorkerFetch?_.cMapUrl:null,standardFontDataUrl:_.useWorkerFetch?_.standardFontDataUrl:null});if(_.data&&(_.data=null),gt.destroyed)throw new Error("Worker was destroyed");return j}const a=class a{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+Jl(a,i)._++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var _;this.destroyed=!0,await((_=this._transport)==null?void 0:_.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};i=new WeakMap,Rn(a,i,0);let PDFDocumentLoadingTask=a;exports$1.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(_,$,d=!1,j=null){this.length=_,this.initialData=$,this.progressiveDone=d,this.contentDispositionFilename=j,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(_){this._rangeListeners.push(_)}addProgressListener(_){this._progressListeners.push(_)}addProgressiveReadListener(_){this._progressiveReadListeners.push(_)}addProgressiveDoneListener(_){this._progressiveDoneListeners.push(_)}onDataRange(_,$){for(const d of this._rangeListeners)d(_,$)}onDataProgress(_,$){this._readyCapability.promise.then(()=>{for(const d of this._progressListeners)d(_,$)})}onDataProgressiveRead(_){this._readyCapability.promise.then(()=>{for(const $ of this._progressiveReadListeners)$(_)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const _ of this._progressiveDoneListeners)_()})}transportReady(){this._readyCapability.resolve()}requestDataRange(_,$){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports$1.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(_,$){this._pdfInfo=_,this._transport=$,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(_){return this._transport.getPage(_)}getPageIndex(_){return this._transport.getPageIndex(_)}getDestinations(){return this._transport.getDestinations()}getDestination(_){return this._transport.getDestination(_)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(_=!1){return this._transport.startCleanup(_||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports$1.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(_,$,d,j,g=!1){this._pageIndex=_,this._pageInfo=$,this._ownerDocument=j,this._transport=d,this._stats=g?new _display_utils.StatTimer:null,this._pdfBug=g,this.commonObjs=d.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:_,rotation:$=this.rotate,offsetX:d=0,offsetY:j=0,dontFlip:g=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:_,rotation:$,offsetX:d,offsetY:j,dontFlip:g})}getAnnotations({intent:_="display"}={}){const $=this._transport.getRenderingIntent(_);let d=this._annotationPromises.get($.cacheKey);return d||(d=this._transport.getAnnotations(this._pageIndex,$.renderingIntent),this._annotationPromises.set($.cacheKey,d),d=d.then(j=>{for(const g of j)g.titleObj!==void 0&&Object.defineProperty(g,"title",{get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),g.titleObj.str}}),g.contentsObj!==void 0&&Object.defineProperty(g,"contents",{get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),g.contentsObj.str}});return j})),d}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}async getXfa(){var _;return((_=this._transport._htmlForXfa)==null?void 0:_.children[this._pageIndex])||null}render({canvasContext:_,viewport:$,intent:d="display",annotationMode:j=_util.AnnotationMode.ENABLE,transform:g=null,imageLayer:o=null,canvasFactory:ut=null,background:dt=null,optionalContentConfigPromise:b=null,annotationCanvasMap:h=null,pageColors:et=null,printAnnotationStorage:nt=null}){var it,at;((it=arguments[0])==null?void 0:it.renderInteractiveForms)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&j===_util.AnnotationMode.ENABLE&&(j=_util.AnnotationMode.ENABLE_FORMS)),((at=arguments[0])==null?void 0:at.includeAnnotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&j===_util.AnnotationMode.ENABLE&&(j=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const pt=this._transport.getRenderingIntent(d,j,nt);this.pendingCleanup=!1,b||(b=this._transport.getOptionalContentConfig());let Bt=this._intentStates.get(pt.cacheKey);Bt||(Bt=Object.create(null),this._intentStates.set(pt.cacheKey,Bt)),Bt.streamReaderCancelTimeout&&(clearTimeout(Bt.streamReaderCancelTimeout),Bt.streamReaderCancelTimeout=null);const Pt=ut||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),Rt=!!(pt.renderingIntent&_util.RenderingIntentFlag.PRINT);Bt.displayReadyCapability||(Bt.displayReadyCapability=(0,_util.createPromiseCapability)(),Bt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(pt));const Ft=bt=>{Bt.renderTasks.delete(lt),(this.cleanupAfterRender||Rt)&&(this.pendingCleanup=!0),this._tryCleanup(),bt?(lt.capability.reject(bt),this._abortOperatorList({intentState:Bt,reason:bt instanceof Error?bt:new Error(bt)})):lt.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},lt=new InternalRenderTask({callback:Ft,params:{canvasContext:_,viewport:$,transform:g,imageLayer:o,background:dt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:Bt.operatorList,pageIndex:this._pageIndex,canvasFactory:Pt,useRequestAnimationFrame:!Rt,pdfBug:this._pdfBug,pageColors:et});(Bt.renderTasks||(Bt.renderTasks=new Set)).add(lt);const ft=lt.task;return Promise.all([Bt.displayReadyCapability.promise,b]).then(([bt,St])=>{this.pendingCleanup?Ft():(this._stats&&this._stats.time("Rendering"),lt.initializeGraphics({transparency:bt,optionalContentConfig:St}),lt.operatorListChanged())}).catch(Ft),ft}getOperatorList({intent:_="display",annotationMode:$=_util.AnnotationMode.ENABLE,printAnnotationStorage:d=null}={}){const j=this._transport.getRenderingIntent(_,$,d,!0);let g,o=this._intentStates.get(j.cacheKey);return o||(o=Object.create(null),this._intentStates.set(j.cacheKey,o)),o.opListReadCapability||(g=Object.create(null),g.operatorListChanged=function(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(g))},o.opListReadCapability=(0,_util.createPromiseCapability)(),(o.renderTasks||(o.renderTasks=new Set)).add(g),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(j)),o.opListReadCapability.promise}streamTextContent({disableCombineTextItems:_=!1,includeMarkedContent:$=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:_!==!0,includeMarkedContent:$===!0},{highWaterMark:100,size:d=>d.items.length})}getTextContent(_={}){if(this._transport._htmlForXfa)return this.getXfa().then(d=>_xfa_text.XfaText.textContent(d));const $=this.streamTextContent(_);return new Promise(function(d,j){const g=$.getReader(),o={items:[],styles:Object.create(null)};(function ut(){g.read().then(function({value:dt,done:b}){b?d(o):(Object.assign(o.styles,dt.styles),o.items.push(...dt.items),ut())},j)})()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const _=[];for(const $ of this._intentStates.values())if(this._abortOperatorList({intentState:$,reason:new Error("Page was destroyed."),force:!0}),!$.opListReadCapability)for(const d of $.renderTasks)_.push(d.completed),d.cancel();this.objs.clear();for(const $ of this._bitmaps)$.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(_)}cleanup(_=!1){return this.pendingCleanup=!0,this._tryCleanup(_)}_tryCleanup(_=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:$,operatorList:d}of this._intentStates.values())if($.size>0||!d.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,_&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const $ of this._bitmaps)$.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(_,$){const d=this._intentStates.get($);d&&(this._stats&&this._stats.timeEnd("Page Request"),d.displayReadyCapability&&d.displayReadyCapability.resolve(_))}_renderPageChunk(_,$){for(let d=0,j=_.length;d<j;d++)$.operatorList.fnArray.push(_.fnArray[d]),$.operatorList.argsArray.push(_.argsArray[d]);$.operatorList.lastChunk=_.lastChunk,$.operatorList.separateAnnots=_.separateAnnots;for(const d of $.renderTasks)d.operatorListChanged();_.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:_,cacheKey:$,annotationStorageMap:d}){const j=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:_,cacheKey:$,annotationStorage:d}).getReader(),g=this._intentStates.get($);g.streamReader=j;const o=()=>{j.read().then(({value:ut,done:dt})=>{dt?g.streamReader=null:this._transport.destroyed||(this._renderPageChunk(ut,g),o())},ut=>{if(g.streamReader=null,!this._transport.destroyed){if(g.operatorList){g.operatorList.lastChunk=!0;for(const dt of g.renderTasks)dt.operatorListChanged();this._tryCleanup()}if(g.displayReadyCapability)g.displayReadyCapability.reject(ut);else{if(!g.opListReadCapability)throw ut;g.opListReadCapability.reject(ut)}}})};o()}_abortOperatorList({intentState:_,reason:$,force:d=!1}){if(_.streamReader){if(!d){if(_.renderTasks.size>0)return;if($ instanceof _display_utils.RenderingCancelledException){_.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:_,reason:$,force:!0}),_.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(_.streamReader.cancel(new _util.AbortException($.message)).catch(()=>{}),_.streamReader=null,!this._transport.destroyed){for(const[j,g]of this._intentStates)if(g===_){this._intentStates.delete(j);break}this.cleanup()}}}get stats(){return this._stats}}exports$1.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(_,$){const d={data:structuredClone(_,$)};this._deferred.then(()=>{for(const j of this._listeners)j.call(this,d)})}addEventListener(_,$){this._listeners.push($)}removeEventListener(_,$){const d=this._listeners.indexOf($);this._listeners.splice(d,1)}terminate(){this._listeners.length=0}}exports$1.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports$1.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const gt=(c=document==null?void 0:document.currentScript)==null?void 0:c.src;gt&&(PDFWorkerUtil.fallbackWorkerSrc=gt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(gt,_){let $;try{if($=new URL(gt),!$.origin||$.origin==="null")return!1}catch{return!1}const d=new URL(_,$);return $.origin===d.origin},PDFWorkerUtil.createCDNWrapper=function(gt){const _=`importScripts("${gt}");`;return URL.createObjectURL(new Blob([_]))};const _PDFWorker=class _PDFWorker{constructor({name:gt=null,port:_=null,verbosity:$=(0,_util.getVerbosityLevel)()}={}){if(_&&nn(_PDFWorker,_e).has(_))throw new Error("Cannot use more than one PDFWorker per port.");this.name=gt,this.destroyed=!1,this.verbosity=$,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,_?(nn(_PDFWorker,_e).set(_,this),this._initializeFromPort(_)):this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(gt){this._port=gt,this._messageHandler=new _message_handler.MessageHandler("main","worker",gt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:gt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,gt)||(gt=PDFWorkerUtil.createCDNWrapper(new URL(gt,window.location).href));const _=new Worker(gt),$=new _message_handler.MessageHandler("main","worker",_),d=()=>{_.removeEventListener("error",j),$.destroy(),_.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},j=()=>{this._webWorker||d()};_.addEventListener("error",j),$.on("test",o=>{_.removeEventListener("error",j),this.destroyed?d():o?(this._messageHandler=$,this._port=_,this._webWorker=_,this._readyCapability.resolve(),$.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),$.destroy(),_.terminate())}),$.on("ready",o=>{if(_.removeEventListener("error",j),this.destroyed)d();else try{g()}catch{this._setupFakeWorker()}});const g=()=>{const o=new Uint8Array;$.send("test",o,[o.buffer])};g();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(gt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const _=new LoopbackPort;this._port=_;const $="fake"+PDFWorkerUtil.fakeWorkerId++,d=new _message_handler.MessageHandler($+"_worker",$,_);gt.setup(d,_);const j=new _message_handler.MessageHandler($,$+"_worker",_);this._messageHandler=j,this._readyCapability.resolve(),j.send("configure",{verbosity:this.verbosity})}).catch(gt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${gt.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),nn(_PDFWorker,_e).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(gt){if(!(gt!=null&&gt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return nn(this,_e).has(gt.port)?nn(this,_e).get(gt.port):new _PDFWorker(gt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var gt;try{return((gt=globalThis.pdfjsWorker)==null?void 0:gt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};_e=new WeakMap,Rn(_PDFWorker,_e,new WeakMap);let PDFWorker=_PDFWorker;exports$1.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(_,$,d,j){Rn(this,ot,null);Rn(this,$t,new Map);Rn(this,zt,new Map);Rn(this,ct,null);this.messageHandler=_,this.loadingTask=$,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:$.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:j.ownerDocument,styleElement:j.styleElement}),this._params=j,j.useWorkerFetch||(this.CMapReaderFactory=new j.CMapReaderFactory({baseUrl:j.cMapUrl,isCompressed:j.cMapPacked}),this.StandardFontDataFactory=new j.StandardFontDataFactory({baseUrl:j.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=d,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return nn(this,ot)}getRenderingIntent(_,$=_util.AnnotationMode.ENABLE,d=null,j=!1){let g=_util.RenderingIntentFlag.DISPLAY,o=null;switch(_){case"any":g=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":g=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${_}`)}switch($){case _util.AnnotationMode.DISABLE:g+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:g+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:g+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,o=(g&_util.RenderingIntentFlag.PRINT&&d instanceof _annotation_storage.PrintAnnotationStorage?d:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${$}`)}return j&&(g+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:g,cacheKey:`${g}_${_annotation_storage.AnnotationStorage.getHash(o)}`,annotationStorageMap:o}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const _=[];for(const d of nn(this,$t).values())_.push(d._destroy());nn(this,$t).clear(),nn(this,zt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const $=this.messageHandler.sendWithPromise("Terminate",null);return _.push($),Promise.all(_).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Ln(this,ct,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:_,loadingTask:$}=this;_.on("GetReader",(d,j)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=g=>{this._lastProgress={loaded:g.loaded,total:g.total}},j.onPull=()=>{this._fullReader.read().then(function({value:g,done:o}){o?j.close():((0,_util.assert)((0,_util.isArrayBuffer)(g),"GetReader - expected an ArrayBuffer."),j.enqueue(new Uint8Array(g),1,[g]))}).catch(g=>{j.error(g)})},j.onCancel=g=>{this._fullReader.cancel(g),j.ready.catch(o=>{if(!this.destroyed)throw o})}}),_.on("ReaderHeadersReady",d=>{const j=(0,_util.createPromiseCapability)(),g=this._fullReader;return g.headersReady.then(()=>{var o;(!g.isStreamingSupported||!g.isRangeSupported)&&(this._lastProgress&&((o=$.onProgress)==null||o.call($,this._lastProgress)),g.onProgress=ut=>{var dt;(dt=$.onProgress)==null||dt.call($,{loaded:ut.loaded,total:ut.total})}),j.resolve({isStreamingSupported:g.isStreamingSupported,isRangeSupported:g.isRangeSupported,contentLength:g.contentLength})},j.reject),j.promise}),_.on("GetRangeReader",(d,j)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const g=this._networkStream.getRangeReader(d.begin,d.end);g?(j.onPull=()=>{g.read().then(function({value:o,done:ut}){ut?j.close():((0,_util.assert)((0,_util.isArrayBuffer)(o),"GetRangeReader - expected an ArrayBuffer."),j.enqueue(new Uint8Array(o),1,[o]))}).catch(o=>{j.error(o)})},j.onCancel=o=>{g.cancel(o),j.ready.catch(ut=>{if(!this.destroyed)throw ut})}):j.close()}),_.on("GetDoc",({pdfInfo:d})=>{this._numPages=d.numPages,this._htmlForXfa=d.htmlForXfa,delete d.htmlForXfa,$._capability.resolve(new PDFDocumentProxy(d,this))}),_.on("DocException",function(d){let j;switch(d.name){case"PasswordException":j=new _util.PasswordException(d.message,d.code);break;case"InvalidPDFException":j=new _util.InvalidPDFException(d.message);break;case"MissingPDFException":j=new _util.MissingPDFException(d.message);break;case"UnexpectedResponseException":j=new _util.UnexpectedResponseException(d.message,d.status);break;case"UnknownErrorException":j=new _util.UnknownErrorException(d.message,d.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}$._capability.reject(j)}),_.on("PasswordRequest",d=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),$.onPassword){const j=g=>{g instanceof Error?this._passwordCapability.reject(g):this._passwordCapability.resolve({password:g})};try{$.onPassword(j,d.code)}catch(g){this._passwordCapability.reject(g)}}else this._passwordCapability.reject(new _util.PasswordException(d.message,d.code));return this._passwordCapability.promise}),_.on("DataLoaded",d=>{var j;(j=$.onProgress)==null||j.call($,{loaded:d.length,total:d.length}),this.downloadInfoCapability.resolve(d)}),_.on("StartRenderPage",d=>{this.destroyed||nn(this,$t).get(d.pageIndex)._startRenderPage(d.transparency,d.cacheKey)}),_.on("commonobj",([d,j,g])=>{var o;if(!this.destroyed&&!this.commonObjs.has(d))switch(j){case"Font":const ut=this._params;if("error"in g){const h=g.error;(0,_util.warn)(`Error during font loading: ${h}`),this.commonObjs.resolve(d,h);break}let dt=null;ut.pdfBug&&((o=globalThis.FontInspector)!=null&&o.enabled)&&(dt={registerFont(h,et){globalThis.FontInspector.fontAdded(h,et)}});const b=new _font_loader.FontFaceObject(g,{isEvalSupported:ut.isEvalSupported,disableFontFace:ut.disableFontFace,ignoreErrors:ut.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:dt});this.fontLoader.bind(b).catch(h=>_.sendWithPromise("FontFallback",{id:d})).finally(()=>{!ut.fontExtraProperties&&b.data&&(b.data=null),this.commonObjs.resolve(d,b)});break;case"FontPath":case"Image":this.commonObjs.resolve(d,g);break;default:throw new Error(`Got unknown common object type ${j}`)}}),_.on("obj",([d,j,g,o])=>{var dt;if(this.destroyed)return;const ut=nn(this,$t).get(j);if(!ut.objs.has(d))switch(g){case"Image":ut.objs.resolve(d,o);const b=8e6;if(o){let h;if(o.bitmap){const{bitmap:et,width:nt,height:pt}=o;h=nt*pt*4,ut._bitmaps.add(et)}else h=((dt=o.data)==null?void 0:dt.length)||0;h>b&&(ut.cleanupAfterRender=!0)}break;case"Pattern":ut.objs.resolve(d,o);break;default:throw new Error(`Got unknown object type ${g}`)}}),_.on("DocProgress",d=>{var j;this.destroyed||((j=$.onProgress)==null||j.call($,{loaded:d.loaded,total:d.total}))}),_.on("DocStats",d=>{this.destroyed||Ln(this,ot,Object.freeze({streamTypes:Object.freeze(d.streamTypes),fontTypes:Object.freeze(d.fontTypes)}))}),_.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),_.on("FetchBuiltInCMap",d=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(d):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),_.on("FetchStandardFontData",d=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(d):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:_}){var $,d;this.destroyed||((d=($=this.loadingTask).onUnsupportedFeature)==null||d.call($,_))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(_){if(!Number.isInteger(_)||_<=0||_>this._numPages)return Promise.reject(new Error("Invalid page request."));const $=_-1,d=nn(this,zt).get($);if(d)return d;const j=this.messageHandler.sendWithPromise("GetPage",{pageIndex:$}).then(g=>{if(this.destroyed)throw new Error("Transport destroyed");const o=new PDFPageProxy($,g,this,this._params.ownerDocument,this._params.pdfBug);return nn(this,$t).set($,o),o});return nn(this,zt).set($,j),j}getPageIndex(_){return typeof _!="object"||_===null||!Number.isInteger(_.num)||_.num<0||!Number.isInteger(_.gen)||_.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:_.num,gen:_.gen})}getAnnotations(_,$){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:_,intent:$})}saveDocument(){var _;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:((_=this._fullReader)==null?void 0:_.filename)??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(_){return typeof _!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:_})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(_){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:_})}getStructTree(_){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:_})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(_=>new _optional_content_config.OptionalContentConfig(_))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return nn(this,ct)||Ln(this,ct,this.messageHandler.sendWithPromise("GetMetadata",null).then(_=>{var $,d;return{info:_[0],metadata:_[1]?new _metadata.Metadata(_[1]):null,contentDispositionFilename:(($=this._fullReader)==null?void 0:$.filename)??null,contentLength:((d=this._fullReader)==null?void 0:d.contentLength)??null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(_=!1){if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const $ of nn(this,$t).values())if(!$.cleanup())throw new Error(`startCleanup: Page ${$.pageNumber} is currently rendering.`);this.commonObjs.clear(),_||this.fontLoader.clear(),Ln(this,ct,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const _=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:_.disableAutoFetch,enableXfa:_.enableXfa})}}ot=new WeakMap,$t=new WeakMap,zt=new WeakMap,ct=new WeakMap;class PDFObjects{constructor(){Rn(this,s);Rn(this,Et,Object.create(null))}get(_,$=null){if($){const j=wn(this,s,g1).call(this,_);return j.capability.promise.then(()=>$(j.data)),null}const d=nn(this,Et)[_];if(!(d!=null&&d.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${_}.`);return d.data}has(_){var $;return(($=nn(this,Et)[_])==null?void 0:$.capability.settled)||!1}resolve(_,$=null){const d=wn(this,s,g1).call(this,_);d.data=$,d.capability.resolve()}clear(){Ln(this,Et,Object.create(null))}}Et=new WeakMap,s=new WeakSet,g1=function(_){return nn(this,Et)[_]||(nn(this,Et)[_]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(_){Rn(this,Tt,null);Ln(this,Tt,_),this.onContinue=null}get promise(){return nn(this,Tt).capability.promise}cancel(){nn(this,Tt).cancel()}get separateAnnots(){const{separateAnnots:_}=nn(this,Tt).operatorList;if(!_)return!1;const{annotationCanvasMap:$}=nn(this,Tt);return _.form||_.canvas&&($==null?void 0:$.size)>0}}Tt=new WeakMap,exports$1.RenderTask=RenderTask;const e=class e{constructor({callback:_,params:$,objs:d,commonObjs:j,annotationCanvasMap:g,operatorList:o,pageIndex:ut,canvasFactory:dt,useRequestAnimationFrame:b=!1,pdfBug:h=!1,pageColors:et=null}){this.callback=_,this.params=$,this.objs=d,this.commonObjs=j,this.annotationCanvasMap=g,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=ut,this.canvasFactory=dt,this._pdfBug=h,this.pageColors=et,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=b===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=$.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:_=!1,optionalContentConfig:$}){var dt;if(this.cancelled)return;if(this._canvas){if(nn(e,wt).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");nn(e,wt).add(this._canvas)}this._pdfBug&&((dt=globalThis.StepperManager)!=null&&dt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:d,viewport:j,transform:g,imageLayer:o,background:ut}=this.params;this.gfx=new _canvas.CanvasGraphics(d,this.commonObjs,this.objs,this.canvasFactory,o,$,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:g,viewport:j,transparency:_,background:ut}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(_=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&nn(e,wt).delete(this._canvas),this.callback(_||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&nn(e,wt).delete(this._canvas),this.callback())))}};wt=new WeakMap,Rn(e,wt,new WeakSet);let InternalRenderTask=e;const version="2.16.105";exports$1.version=version;const build="172ccdbe5";exports$1.build=build},(i,a,c)=>{var Et,Jm,st;Object.defineProperty(a,"__esModule",{value:!0}),a.PrintAnnotationStorage=a.AnnotationStorage=void 0;var _e=c(1),ot=c(6),$t=c(10);class zt{constructor(){Rn(this,Et);this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(wt,e){const gt=this._storage.get(wt);return gt===void 0?e:Object.assign(e,gt)}getRawValue(wt){return this._storage.get(wt)}remove(wt){if(this._storage.delete(wt),this._storage.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of this._storage.values())if(e instanceof ot.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(wt,e){const gt=this._storage.get(wt);let _=!1;if(gt!==void 0)for(const[$,d]of Object.entries(e))gt[$]!==d&&(_=!0,gt[$]=d);else _=!0,this._storage.set(wt,e);_&&wn(this,Et,Jm).call(this),e instanceof ot.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(wt){return this._storage.has(wt)}getAll(){return this._storage.size>0?(0,_e.objectFromMap)(this._storage):null}get size(){return this._storage.size}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new ct(this)}get serializable(){if(this._storage.size===0)return null;const wt=new Map;for(const[e,gt]of this._storage){const _=gt instanceof ot.AnnotationEditor?gt.serialize():gt;_&&wt.set(e,_)}return wt}static getHash(wt){if(!wt)return"";const e=new $t.MurmurHash3_64;for(const[gt,_]of wt)e.update(`${gt}:${JSON.stringify(_)}`);return e.hexdigest()}}Et=new WeakSet,Jm=function(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())},a.AnnotationStorage=zt;class ct extends zt{constructor(e){super();Rn(this,st,null);Ln(this,st,structuredClone(e.serializable))}get print(){(0,_e.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return nn(this,st)}}st=new WeakMap,a.PrintAnnotationStorage=ct},(i,a,c)=>{var zt,ct,Et,s,st,Tt;Object.defineProperty(a,"__esModule",{value:!0}),a.AnnotationEditor=void 0;var _e=c(7),ot=c(1);const wt=class wt{constructor(gt){Rn(this,zt,this.focusin.bind(this));Rn(this,ct,this.focusout.bind(this));Rn(this,Et,!1);Rn(this,s,!1);Rn(this,st,!1);Rn(this,Tt,wt._zIndex++);this.constructor===wt&&(0,ot.unreachable)("Cannot initialize AnnotationEditor."),this.parent=gt.parent,this.id=gt.id,this.width=this.height=null,this.pageIndex=gt.parent.pageIndex,this.name=gt.name,this.div=null;const[_,$]=this.parent.viewportBaseDimensions;this.x=gt.x/_,this.y=gt.y/$,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,ot.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=nn(this,Tt)}focusin(gt){nn(this,Et)?Ln(this,Et,!1):this.parent.setSelected(this)}focusout(gt){var _;this.isAttachedToDOM&&((_=gt.relatedTarget)!=null&&_.closest(`#${this.id}`)||(gt.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove()))}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(gt){const _=this.parent.div.getBoundingClientRect();this.startX=gt.clientX-_.x,this.startY=gt.clientY-_.y,gt.dataTransfer.setData("text/plain",this.id),gt.dataTransfer.effectAllowed="move"}setAt(gt,_,$,d){const[j,g]=this.parent.viewportBaseDimensions;[$,d]=this.screenToPageTranslation($,d),this.x=(gt+$)/j,this.y=(_+d)/g,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}translate(gt,_){const[$,d]=this.parent.viewportBaseDimensions;[gt,_]=this.screenToPageTranslation(gt,_),this.x+=gt/$,this.y+=_/d,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}screenToPageTranslation(gt,_){const{rotation:$}=this.parent.viewport;switch($){case 90:return[_,-gt];case 180:return[-gt,-_];case 270:return[-_,gt];default:return[gt,_]}}setDims(gt,_){const[$,d]=this.parent.viewportBaseDimensions;this.div.style.width=100*gt/$+"%",this.div.style.height=100*_/d+"%"}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",nn(this,zt)),this.div.addEventListener("focusout",nn(this,ct));const[gt,_]=this.getInitialTranslation();return this.translate(gt,_),(0,_e.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(gt){const _=_e.KeyboardManager.platform.isMac;gt.button!==0||gt.ctrlKey&&_?gt.preventDefault():(gt.ctrlKey&&!_||gt.shiftKey||gt.metaKey&&_?this.parent.toggleSelected(this):this.parent.setSelected(this),Ln(this,Et,!0))}getRect(gt,_){const[$,d]=this.parent.viewportBaseDimensions,[j,g]=this.parent.pageDimensions,o=j*gt/$,ut=g*_/d,dt=this.x*j,b=this.y*g,h=this.width*j,et=this.height*g;switch(this.rotation){case 0:return[dt+o,g-b-ut-et,dt+o+h,g-b-ut];case 90:return[dt+ut,g-b+o,dt+ut+et,g-b+o+h];case 180:return[dt-o-h,g-b+ut,dt-o,g-b+ut+et];case 270:return[dt-ut-et,g-b-o-h,dt-ut,g-b-o];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(gt,_){const[$,d,j,g]=gt,o=j-$,ut=g-d;switch(this.rotation){case 0:return[$,_-g,o,ut];case 90:return[$,_-d,ut,o];case 180:return[j,_-d,o,ut];case 270:return[j,_-g,ut,o];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Ln(this,st,!0)}disableEditMode(){Ln(this,st,!1)}isInEditMode(){return nn(this,st)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var gt;(gt=this.div)==null||gt.addEventListener("focusin",nn(this,zt))}serialize(){(0,ot.unreachable)("An editor must be serializable")}static deserialize(gt,_){const $=new this.prototype.constructor({parent:_,id:_.getNextId()});$.rotation=gt.rotation;const[d,j]=_.pageDimensions,[g,o,ut,dt]=$.getRectInCurrentCoords(gt.rect,j);return $.x=g/d,$.y=o/j,$.width=ut/d,$.height=dt/j,$}remove(){this.div.removeEventListener("focusin",nn(this,zt)),this.div.removeEventListener("focusout",nn(this,ct)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var gt;(gt=this.div)==null||gt.classList.add("selectedEditor")}unselect(){var gt;(gt=this.div)==null||gt.classList.remove("selectedEditor")}updateParams(gt,_){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return nn(this,s)}set isEditing(gt){Ln(this,s,gt),gt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};zt=new WeakMap,ct=new WeakMap,Et=new WeakMap,s=new WeakMap,st=new WeakMap,Tt=new WeakMap,Hr(wt,"_colorManager",new _e.ColorManager),Hr(wt,"_zIndex",1);let $t=wt;a.AnnotationEditor=$t},(i,a,c)=>{var Tt,wt,e,gt,_,$,Zm,g,ut,dt,b,h,et,nt,pt,Bt,Pt,Rt,Ft,lt,ft,it,at,bt,St,ht,Qm,m1,Os,_c,e2,t2,x1,e0,G0;Object.defineProperty(a,"__esModule",{value:!0}),a.KeyboardManager=a.CommandManager=a.ColorManager=a.AnnotationEditorUIManager=void 0,a.bindEvents=function(It,Dt,jt){for(const Ot of jt)Dt.addEventListener(Ot,It[Ot].bind(It))},a.opacityToHex=function(It){return Math.round(Math.min(255,Math.max(1,255*It))).toString(16).padStart(2,"0")};var _e=c(1),ot=c(8);class $t{constructor(){Rn(this,Tt,0)}getId(){return`${_e.AnnotationEditorPrefix}${Jl(this,Tt)._++}`}}Tt=new WeakMap;class zt{constructor(It=128){Rn(this,wt,[]);Rn(this,e,!1);Rn(this,gt);Rn(this,_,-1);Ln(this,gt,It)}add({cmd:It,undo:Dt,mustExec:jt,type:Ot=NaN,overwriteIfSameType:Xt=!1,keepUndo:Ut=!1}){if(jt&&It(),nn(this,e))return;const Gt={cmd:It,undo:Dt,type:Ot};if(nn(this,_)===-1){nn(this,wt).length>0&&(nn(this,wt).length=0),Ln(this,_,0),nn(this,wt).push(Gt);return}if(Xt&&nn(this,wt)[nn(this,_)].type===Ot){Ut&&(Gt.undo=nn(this,wt)[nn(this,_)].undo),nn(this,wt)[nn(this,_)]=Gt;return}const qt=nn(this,_)+1;qt===nn(this,gt)?nn(this,wt).splice(0,1):(Ln(this,_,qt),qt<nn(this,wt).length&&nn(this,wt).splice(qt)),nn(this,wt).push(Gt)}undo(){nn(this,_)!==-1&&(Ln(this,e,!0),nn(this,wt)[nn(this,_)].undo(),Ln(this,e,!1),Ln(this,_,nn(this,_)-1))}redo(){nn(this,_)<nn(this,wt).length-1&&(Ln(this,_,nn(this,_)+1),Ln(this,e,!0),nn(this,wt)[nn(this,_)].cmd(),Ln(this,e,!1))}hasSomethingToUndo(){return nn(this,_)!==-1}hasSomethingToRedo(){return nn(this,_)<nn(this,wt).length-1}destroy(){Ln(this,wt,null)}}wt=new WeakMap,e=new WeakMap,gt=new WeakMap,_=new WeakMap,a.CommandManager=zt;const j=class j{constructor(It){Rn(this,$);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const Dt=j.platform.isMac;for(const[jt,Ot]of It)for(const Xt of jt){const Ut=Xt.startsWith("mac+");Dt&&Ut?(this.callbacks.set(Xt.slice(4),Ot),this.allKeys.add(Xt.split("+").at(-1))):!Dt&&!Ut&&(this.callbacks.set(Xt,Ot),this.allKeys.add(Xt.split("+").at(-1)))}}static get platform(){const It=typeof navigator<"u"?navigator.platform:"";return(0,_e.shadow)(this,"platform",{isWin:It.includes("Win"),isMac:It.includes("Mac")})}exec(It,Dt){if(!this.allKeys.has(Dt.key))return;const jt=this.callbacks.get(wn(this,$,Zm).call(this,Dt));jt&&(jt.bind(It)(),Dt.stopPropagation(),Dt.preventDefault())}};$=new WeakSet,Zm=function(It){It.altKey&&this.buffer.push("alt"),It.ctrlKey&&this.buffer.push("ctrl"),It.metaKey&&this.buffer.push("meta"),It.shiftKey&&this.buffer.push("shift"),this.buffer.push(It.key);const Dt=this.buffer.join("+");return this.buffer.length=0,Dt};let ct=j;a.KeyboardManager=ct;class Et{constructor(){Rn(this,g,null)}copy(It){It&&(Array.isArray(It)?Ln(this,g,It.map(Dt=>Dt.serialize())):Ln(this,g,[It.serialize()]),Ln(this,g,nn(this,g).filter(Dt=>!!Dt)),nn(this,g).length===0&&Ln(this,g,null))}paste(){return nn(this,g)}isEmpty(){return nn(this,g)===null}destroy(){Ln(this,g,null)}}g=new WeakMap;const o=class o{get _colors(){const It=new Map([["CanvasText",null],["Canvas",null]]);return(0,ot.getColorValues)(It),(0,_e.shadow)(this,"_colors",It)}convert(It){const Dt=(0,ot.getRGB)(It);if(!window.matchMedia("(forced-colors: active)").matches)return Dt;for(const[jt,Ot]of this._colors)if(Ot.every((Xt,Ut)=>Xt===Dt[Ut]))return o._colorsMapping.get(jt);return Dt}getHexCode(It){const Dt=this._colors.get(It);return Dt?_e.Util.makeHexColor(...Dt):It}};Hr(o,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let s=o;a.ColorManager=s;const _t=class _t{constructor(It,Dt){Rn(this,ht);Rn(this,ut,null);Rn(this,dt,new Map);Rn(this,b,new Map);Rn(this,h,new Et);Rn(this,et,new zt);Rn(this,nt,0);Rn(this,pt,null);Rn(this,Bt,null);Rn(this,Pt,new $t);Rn(this,Rt,!1);Rn(this,Ft,_e.AnnotationEditorType.NONE);Rn(this,lt,new Set);Rn(this,ft,this.keydown.bind(this));Rn(this,it,this.onEditingAction.bind(this));Rn(this,at,this.onPageChanging.bind(this));Rn(this,bt,{isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Rn(this,St,null);Ln(this,St,It),Ln(this,Bt,Dt),nn(this,Bt)._on("editingaction",nn(this,it)),nn(this,Bt)._on("pagechanging",nn(this,at))}destroy(){wn(this,ht,m1).call(this),nn(this,Bt)._off("editingaction",nn(this,it)),nn(this,Bt)._off("pagechanging",nn(this,at));for(const It of nn(this,b).values())It.destroy();nn(this,b).clear(),nn(this,dt).clear(),Ln(this,ut,null),nn(this,lt).clear(),nn(this,h).destroy(),nn(this,et).destroy()}onPageChanging({pageNumber:It}){Ln(this,nt,It-1)}focusMainContainer(){nn(this,St).focus()}keydown(It){var Dt;(Dt=this.getActive())!=null&&Dt.shouldGetKeyboardEvents()||_t._keyboardManager.exec(this,It)}onEditingAction(It){["undo","redo","cut","copy","paste","delete","selectAll"].includes(It.name)&&this[It.name]()}setEditingState(It){It?(wn(this,ht,Qm).call(this),wn(this,ht,Os).call(this,{isEditing:nn(this,Ft)!==_e.AnnotationEditorType.NONE,isEmpty:wn(this,ht,e0).call(this),hasSomethingToUndo:nn(this,et).hasSomethingToUndo(),hasSomethingToRedo:nn(this,et).hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:nn(this,h).isEmpty()})):(wn(this,ht,m1).call(this),wn(this,ht,Os).call(this,{isEditing:!1}))}registerEditorTypes(It){Ln(this,pt,It);for(const Dt of nn(this,pt))wn(this,ht,_c).call(this,Dt.defaultPropertiesToUpdate)}getId(){return nn(this,Pt).getId()}addLayer(It){nn(this,b).set(It.pageIndex,It),nn(this,Rt)?It.enable():It.disable()}removeLayer(It){nn(this,b).delete(It.pageIndex)}updateMode(It){if(Ln(this,Ft,It),It===_e.AnnotationEditorType.NONE)this.setEditingState(!1),wn(this,ht,t2).call(this);else{this.setEditingState(!0),wn(this,ht,e2).call(this);for(const Dt of nn(this,b).values())Dt.updateMode(It)}}updateToolbar(It){It!==nn(this,Ft)&&nn(this,Bt).dispatch("switchannotationeditormode",{source:this,mode:It})}updateParams(It,Dt){for(const jt of nn(this,lt))jt.updateParams(It,Dt);for(const jt of nn(this,pt))jt.updateDefaultParams(It,Dt)}getEditors(It){const Dt=[];for(const jt of nn(this,dt).values())jt.pageIndex===It&&Dt.push(jt);return Dt}getEditor(It){return nn(this,dt).get(It)}addEditor(It){nn(this,dt).set(It.id,It)}removeEditor(It){nn(this,dt).delete(It.id),this.unselect(It)}setActiveEditor(It){nn(this,ut)!==It&&(Ln(this,ut,It),It&&wn(this,ht,_c).call(this,It.propertiesToUpdate))}toggleSelected(It){nn(this,lt).has(It)?(nn(this,lt).delete(It),It.unselect(),wn(this,ht,Os).call(this,{hasSelectedEditor:this.hasSelection})):(nn(this,lt).add(It),It.select(),wn(this,ht,_c).call(this,It.propertiesToUpdate),wn(this,ht,Os).call(this,{hasSelectedEditor:!0}))}setSelected(It){for(const Dt of nn(this,lt))Dt!==It&&Dt.unselect();nn(this,lt).clear(),nn(this,lt).add(It),It.select(),wn(this,ht,_c).call(this,It.propertiesToUpdate),wn(this,ht,Os).call(this,{hasSelectedEditor:!0})}isSelected(It){return nn(this,lt).has(It)}unselect(It){It.unselect(),nn(this,lt).delete(It),wn(this,ht,Os).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return nn(this,lt).size!==0}undo(){nn(this,et).undo(),wn(this,ht,Os).call(this,{hasSomethingToUndo:nn(this,et).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:wn(this,ht,e0).call(this)})}redo(){nn(this,et).redo(),wn(this,ht,Os).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:nn(this,et).hasSomethingToRedo(),isEmpty:wn(this,ht,e0).call(this)})}addCommands(It){nn(this,et).add(It),wn(this,ht,Os).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:wn(this,ht,e0).call(this)})}delete(){if(nn(this,ut)&&nn(this,ut).commitOrRemove(),!this.hasSelection)return;const It=[...nn(this,lt)];this.addCommands({cmd:()=>{for(const Dt of It)Dt.remove()},undo:()=>{for(const Dt of It)wn(this,ht,x1).call(this,Dt)},mustExec:!0})}copy(){if(nn(this,ut)&&nn(this,ut).commitOrRemove(),this.hasSelection){const It=[];for(const Dt of nn(this,lt))Dt.isEmpty()||It.push(Dt);if(It.length===0)return;nn(this,h).copy(It),wn(this,ht,Os).call(this,{hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(nn(this,h).isEmpty())return;this.unselectAll();const It=nn(this,b).get(nn(this,nt)),Dt=nn(this,h).paste().map(jt=>It.deserialize(jt));this.addCommands({cmd:()=>{for(const jt of Dt)wn(this,ht,x1).call(this,jt);wn(this,ht,G0).call(this,Dt)},undo:()=>{for(const jt of Dt)jt.remove()},mustExec:!0})}selectAll(){for(const It of nn(this,lt))It.commit();wn(this,ht,G0).call(this,nn(this,dt).values())}unselectAll(){if(nn(this,ut))nn(this,ut).commitOrRemove();else if(wn(this,ht,G0).size!==0){for(const It of nn(this,lt))It.unselect();nn(this,lt).clear(),wn(this,ht,Os).call(this,{hasSelectedEditor:!1})}}isActive(It){return nn(this,ut)===It}getActive(){return nn(this,ut)}getMode(){return nn(this,Ft)}};ut=new WeakMap,dt=new WeakMap,b=new WeakMap,h=new WeakMap,et=new WeakMap,nt=new WeakMap,pt=new WeakMap,Bt=new WeakMap,Pt=new WeakMap,Rt=new WeakMap,Ft=new WeakMap,lt=new WeakMap,ft=new WeakMap,it=new WeakMap,at=new WeakMap,bt=new WeakMap,St=new WeakMap,ht=new WeakSet,Qm=function(){nn(this,St).addEventListener("keydown",nn(this,ft))},m1=function(){nn(this,St).removeEventListener("keydown",nn(this,ft))},Os=function(It){Object.entries(It).some(([Dt,jt])=>nn(this,bt)[Dt]!==jt)&&nn(this,Bt).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(nn(this,bt),It)})},_c=function(It){nn(this,Bt).dispatch("annotationeditorparamschanged",{source:this,details:It})},e2=function(){if(!nn(this,Rt)){Ln(this,Rt,!0);for(const It of nn(this,b).values())It.enable()}},t2=function(){if(this.unselectAll(),nn(this,Rt)){Ln(this,Rt,!1);for(const It of nn(this,b).values())It.disable()}},x1=function(It){const Dt=nn(this,b).get(It.pageIndex);Dt?Dt.addOrRebuild(It):this.addEditor(It)},e0=function(){if(nn(this,dt).size===0)return!0;if(nn(this,dt).size===1)for(const It of nn(this,dt).values())return It.isEmpty();return!1},G0=function(It){nn(this,lt).clear();for(const Dt of It)Dt.isEmpty()||(nn(this,lt).add(Dt),Dt.select());wn(this,ht,Os).call(this,{hasSelectedEditor:!0})},Hr(_t,"_keyboardManager",new ct([[["ctrl+a","mac+meta+a"],_t.prototype.selectAll],[["ctrl+c","mac+meta+c"],_t.prototype.copy],[["ctrl+v","mac+meta+v"],_t.prototype.paste],[["ctrl+x","mac+meta+x"],_t.prototype.cut],[["ctrl+z","mac+meta+z"],_t.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],_t.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],_t.prototype.delete],[["Escape","mac+Escape"],_t.prototype.unselectAll]]));let st=_t;a.AnnotationEditorUIManager=st},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.StatTimer=a.RenderingCancelledException=a.PixelsPerInch=a.PageViewport=a.PDFDateString=a.DOMStandardFontDataFactory=a.DOMSVGFactory=a.DOMCanvasFactory=a.DOMCMapReaderFactory=a.AnnotationPrefix=void 0,a.deprecated=function(g){console.log("Deprecated API usage: "+g)},a.getColorValues=function(g){const o=document.createElement("span");o.style.visibility="hidden",document.body.append(o);for(const ut of g.keys()){o.style.color=ut;const dt=window.getComputedStyle(o).color;g.set(ut,$(dt))}o.remove()},a.getCurrentTransform=function(g){const{a:o,b:ut,c:dt,d:b,e:h,f:et}=g.getTransform();return[o,ut,dt,b,h,et]},a.getCurrentTransformInverse=function(g){const{a:o,b:ut,c:dt,d:b,e:h,f:et}=g.getTransform().invertSelf();return[o,ut,dt,b,h,et]},a.getFilenameFromUrl=function(g){const o=g.indexOf("#"),ut=g.indexOf("?"),dt=Math.min(o>0?o:g.length,ut>0?ut:g.length);return g.substring(g.lastIndexOf("/",dt)+1,dt)},a.getPdfFilenameFromUrl=function(g,o="document.pdf"){if(typeof g!="string")return o;if(e(g))return(0,ot.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),o;const ut=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,dt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(g);let b=ut.exec(dt[1])||ut.exec(dt[2])||ut.exec(dt[3]);if(b&&(b=b[0],b.includes("%")))try{b=ut.exec(decodeURIComponent(b))[0]}catch{}return b||o},a.getRGB=$,a.getXfaPageViewport=function(g,{scale:o=1,rotation:ut=0}){const{width:dt,height:b}=g.attributes.style,h=[0,0,parseInt(dt),parseInt(b)];return new Tt({viewBox:h,scale:o,rotation:ut})},a.isDataScheme=e,a.isPdfFile=function(g){return typeof g=="string"&&/\.pdf$/i.test(g)},a.isValidFetchUrl=gt,a.loadScript=function(g,o=!1){return new Promise((ut,dt)=>{const b=document.createElement("script");b.src=g,b.onload=function(h){o&&b.remove(),ut(h)},b.onerror=function(){dt(new Error(`Cannot load script at: ${b.src}`))},(document.head||document.documentElement).append(b)})};var _e=c(9),ot=c(1);a.AnnotationPrefix="pdfjs_internal_id_";const d=class d{};Hr(d,"CSS",96),Hr(d,"PDF",72),Hr(d,"PDF_TO_CSS_UNITS",d.CSS/d.PDF);let $t=d;a.PixelsPerInch=$t;class zt extends _e.BaseCanvasFactory{constructor({ownerDocument:g=globalThis.document}={}){super(),this._document=g}_createCanvas(g,o){const ut=this._document.createElement("canvas");return ut.width=g,ut.height=o,ut}}a.DOMCanvasFactory=zt;async function ct(j,g=!1){if(gt(j,document.baseURI)){const o=await fetch(j);if(!o.ok)throw new Error(o.statusText);return g?new Uint8Array(await o.arrayBuffer()):(0,ot.stringToBytes)(await o.text())}return new Promise((o,ut)=>{const dt=new XMLHttpRequest;dt.open("GET",j,!0),g&&(dt.responseType="arraybuffer"),dt.onreadystatechange=()=>{if(dt.readyState===XMLHttpRequest.DONE){if(dt.status===200||dt.status===0){let b;if(g&&dt.response?b=new Uint8Array(dt.response):!g&&dt.responseText&&(b=(0,ot.stringToBytes)(dt.responseText)),b){o(b);return}}ut(new Error(dt.statusText))}},dt.send(null)})}class Et extends _e.BaseCMapReaderFactory{_fetchData(g,o){return ct(g,this.isCompressed).then(ut=>({cMapData:ut,compressionType:o}))}}a.DOMCMapReaderFactory=Et;class s extends _e.BaseStandardFontDataFactory{_fetchData(g){return ct(g,!0)}}a.DOMStandardFontDataFactory=s;class st extends _e.BaseSVGFactory{_createSVG(g){return document.createElementNS("http://www.w3.org/2000/svg",g)}}a.DOMSVGFactory=st;class Tt{constructor({viewBox:g,scale:o,rotation:ut,offsetX:dt=0,offsetY:b=0,dontFlip:h=!1}){this.viewBox=g,this.scale=o,this.rotation=ut,this.offsetX=dt,this.offsetY=b;const et=(g[2]+g[0])/2,nt=(g[3]+g[1])/2;let pt,Bt,Pt,Rt,Ft,lt,ft,it;switch((ut%=360)<0&&(ut+=360),ut){case 180:pt=-1,Bt=0,Pt=0,Rt=1;break;case 90:pt=0,Bt=1,Pt=1,Rt=0;break;case 270:pt=0,Bt=-1,Pt=-1,Rt=0;break;case 0:pt=1,Bt=0,Pt=0,Rt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}h&&(Pt=-Pt,Rt=-Rt),pt===0?(Ft=Math.abs(nt-g[1])*o+dt,lt=Math.abs(et-g[0])*o+b,ft=Math.abs(g[3]-g[1])*o,it=Math.abs(g[2]-g[0])*o):(Ft=Math.abs(et-g[0])*o+dt,lt=Math.abs(nt-g[1])*o+b,ft=Math.abs(g[2]-g[0])*o,it=Math.abs(g[3]-g[1])*o),this.transform=[pt*o,Bt*o,Pt*o,Rt*o,Ft-pt*o*et-Pt*o*nt,lt-Bt*o*et-Rt*o*nt],this.width=ft,this.height=it}clone({scale:g=this.scale,rotation:o=this.rotation,offsetX:ut=this.offsetX,offsetY:dt=this.offsetY,dontFlip:b=!1}={}){return new Tt({viewBox:this.viewBox.slice(),scale:g,rotation:o,offsetX:ut,offsetY:dt,dontFlip:b})}convertToViewportPoint(g,o){return ot.Util.applyTransform([g,o],this.transform)}convertToViewportRectangle(g){const o=ot.Util.applyTransform([g[0],g[1]],this.transform),ut=ot.Util.applyTransform([g[2],g[3]],this.transform);return[o[0],o[1],ut[0],ut[1]]}convertToPdfPoint(g,o){return ot.Util.applyInverseTransform([g,o],this.transform)}}a.PageViewport=Tt;class wt extends ot.BaseException{constructor(g,o){super(g,"RenderingCancelledException"),this.type=o}}a.RenderingCancelledException=wt;function e(j){const g=j.length;let o=0;for(;o<g&&j[o].trim()==="";)o++;return j.substring(o,o+5).toLowerCase()==="data:"}a.StatTimer=class{constructor(){this.started=Object.create(null),this.times=[]}time(g){g in this.started&&(0,ot.warn)(`Timer is already running for ${g}`),this.started[g]=Date.now()}timeEnd(g){g in this.started||(0,ot.warn)(`Timer has not been started for ${g}`),this.times.push({name:g,start:this.started[g],end:Date.now()}),delete this.started[g]}toString(){const g=[];let o=0;for(const ut of this.times){const dt=ut.name;dt.length>o&&(o=dt.length)}for(const ut of this.times){const dt=ut.end-ut.start;g.push(`${ut.name.padEnd(o)} ${dt}ms
`)}return g.join("")}};function gt(j,g){try{const{protocol:o}=g?new URL(j,g):new URL(j);return o==="http:"||o==="https:"}catch{return!1}}let _;a.PDFDateString=class{static toDateObject(g){if(!g||typeof g!="string")return null;_||(_=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const o=_.exec(g);if(!o)return null;const ut=parseInt(o[1],10);let dt=parseInt(o[2],10);dt=dt>=1&&dt<=12?dt-1:0;let b=parseInt(o[3],10);b=b>=1&&b<=31?b:1;let h=parseInt(o[4],10);h=h>=0&&h<=23?h:0;let et=parseInt(o[5],10);et=et>=0&&et<=59?et:0;let nt=parseInt(o[6],10);nt=nt>=0&&nt<=59?nt:0;const pt=o[7]||"Z";let Bt=parseInt(o[8],10);Bt=Bt>=0&&Bt<=23?Bt:0;let Pt=parseInt(o[9],10)||0;return Pt=Pt>=0&&Pt<=59?Pt:0,pt==="-"?(h+=Bt,et+=Pt):pt==="+"&&(h-=Bt,et-=Pt),new Date(Date.UTC(ut,dt,b,h,et,nt))}};function $(j){if(j.startsWith("#")){const g=parseInt(j.slice(1),16);return[(16711680&g)>>16,(65280&g)>>8,255&g]}return j.startsWith("rgb(")?j.slice(4,-1).split(",").map(g=>parseInt(g)):j.startsWith("rgba(")?j.slice(5,-1).split(",").map(g=>parseInt(g)).slice(0,3):((0,ot.warn)(`Not a valid color format: "${j}"`),[0,0,0])}},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BaseStandardFontDataFactory=a.BaseSVGFactory=a.BaseCanvasFactory=a.BaseCMapReaderFactory=void 0;var _e=c(1);class ot{constructor(){this.constructor===ot&&(0,_e.unreachable)("Cannot initialize BaseCanvasFactory.")}create(s,st){if(s<=0||st<=0)throw new Error("Invalid canvas size");const Tt=this._createCanvas(s,st);return{canvas:Tt,context:Tt.getContext("2d")}}reset(s,st,Tt){if(!s.canvas)throw new Error("Canvas is not specified");if(st<=0||Tt<=0)throw new Error("Invalid canvas size");s.canvas.width=st,s.canvas.height=Tt}destroy(s){if(!s.canvas)throw new Error("Canvas is not specified");s.canvas.width=0,s.canvas.height=0,s.canvas=null,s.context=null}_createCanvas(s,st){(0,_e.unreachable)("Abstract method `_createCanvas` called.")}}a.BaseCanvasFactory=ot;class $t{constructor({baseUrl:s=null,isCompressed:st=!1}){this.constructor===$t&&(0,_e.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=s,this.isCompressed=st}async fetch({name:s}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!s)throw new Error("CMap name must be specified.");const st=this.baseUrl+s+(this.isCompressed?".bcmap":""),Tt=this.isCompressed?_e.CMapCompressionType.BINARY:_e.CMapCompressionType.NONE;return this._fetchData(st,Tt).catch(wt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${st}`)})}_fetchData(s,st){(0,_e.unreachable)("Abstract method `_fetchData` called.")}}a.BaseCMapReaderFactory=$t;class zt{constructor({baseUrl:s=null}){this.constructor===zt&&(0,_e.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=s}async fetch({filename:s}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!s)throw new Error("Font filename must be specified.");const st=`${this.baseUrl}${s}`;return this._fetchData(st).catch(Tt=>{throw new Error(`Unable to load font data at: ${st}`)})}_fetchData(s){(0,_e.unreachable)("Abstract method `_fetchData` called.")}}a.BaseStandardFontDataFactory=zt;class ct{constructor(){this.constructor===ct&&(0,_e.unreachable)("Cannot initialize BaseSVGFactory.")}create(s,st,Tt=!1){if(s<=0||st<=0)throw new Error("Invalid SVG dimensions");const wt=this._createSVG("svg:svg");return wt.setAttribute("version","1.1"),Tt||(wt.setAttribute("width",`${s}px`),wt.setAttribute("height",`${st}px`)),wt.setAttribute("preserveAspectRatio","none"),wt.setAttribute("viewBox",`0 0 ${s} ${st}`),wt}createElement(s){if(typeof s!="string")throw new Error("Invalid SVG element type");return this._createSVG(s)}_createSVG(s){(0,_e.unreachable)("Abstract method `_createSVG` called.")}}a.BaseSVGFactory=ct},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MurmurHash3_64=void 0;var _e=c(1);const ot=3285377520,$t=4294901760,zt=65535;a.MurmurHash3_64=class{constructor(Et){this.h1=Et?4294967295&Et:ot,this.h2=Et?4294967295&Et:ot}update(Et){let s,st;if(typeof Et=="string"){s=new Uint8Array(2*Et.length),st=0;for(let dt=0,b=Et.length;dt<b;dt++){const h=Et.charCodeAt(dt);h<=255?s[st++]=h:(s[st++]=h>>>8,s[st++]=255&h)}}else{if(!(0,_e.isArrayBuffer)(Et))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");s=Et.slice(),st=s.byteLength}const Tt=st>>2,wt=st-4*Tt,e=new Uint32Array(s.buffer,0,Tt);let gt=0,_=0,$=this.h1,d=this.h2;const j=3432918353,g=461845907,o=11601,ut=13715;for(let dt=0;dt<Tt;dt++)1&dt?(gt=e[dt],gt=gt*j&$t|gt*o&zt,gt=gt<<15|gt>>>17,gt=gt*g&$t|gt*ut&zt,$^=gt,$=$<<13|$>>>19,$=5*$+3864292196):(_=e[dt],_=_*j&$t|_*o&zt,_=_<<15|_>>>17,_=_*g&$t|_*ut&zt,d^=_,d=d<<13|d>>>19,d=5*d+3864292196);switch(gt=0,wt){case 3:gt^=s[4*Tt+2]<<16;case 2:gt^=s[4*Tt+1]<<8;case 1:gt^=s[4*Tt],gt=gt*j&$t|gt*o&zt,gt=gt<<15|gt>>>17,gt=gt*g&$t|gt*ut&zt,1&Tt?$^=gt:d^=gt}this.h1=$,this.h2=d}hexdigest(){let Et=this.h1,s=this.h2;Et^=s>>>1,Et=3981806797*Et&$t|36045*Et&zt,s=4283543511*s&$t|(2950163797*(s<<16|Et>>>16)&$t)>>>16,Et^=s>>>1,Et=444984403*Et&$t|60499*Et&zt,s=3301882366*s&$t|(3120437893*(s<<16|Et>>>16)&$t)>>>16,Et^=s>>>1;const st=(Et>>>0).toString(16),Tt=(s>>>0).toString(16);return st.padStart(8,"0")+Tt.padStart(8,"0")}}},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.FontLoader=a.FontFaceObject=void 0;var _e=c(1);class ot{constructor({docId:ct,onUnsupportedFeature:Et,ownerDocument:s=globalThis.document,styleElement:st=null}){this.constructor===ot&&(0,_e.unreachable)("Cannot initialize BaseFontLoader."),this.docId=ct,this._onUnsupportedFeature=Et,this._document=s,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(ct){this.nativeFontFaces.push(ct),this._document.fonts.add(ct)}insertRule(ct){let Et=this.styleElement;Et||(Et=this.styleElement=this._document.createElement("style"),Et.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(Et));const s=Et.sheet;s.insertRule(ct,s.cssRules.length)}clear(){for(const ct of this.nativeFontFaces)this._document.fonts.delete(ct);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(ct){if(ct.attached||ct.missingFile)return;if(ct.attached=!0,this.isFontLoadingAPISupported){const s=ct.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(st){throw this._onUnsupportedFeature({featureId:_e.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,_e.warn)(`Failed to load font '${s.family}': '${st}'.`),ct.disableFontFace=!0,st}}return}const Et=ct.createFontFaceRule();if(Et){if(this.insertRule(Et),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const st=this._queueLoadingCallback(s);this._prepareFontLoadEvent([Et],[ct],st)})}}_queueLoadingCallback(ct){(0,_e.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var Et;const ct=!!((Et=this._document)!=null&&Et.fonts);return(0,_e.shadow)(this,"isFontLoadingAPISupported",ct)}get isSyncFontLoadingSupported(){(0,_e.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,_e.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(ct,Et,s){(0,_e.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let $t;a.FontLoader=$t,a.FontLoader=$t=class extends ot{constructor(ct){super(ct),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){var Et;let ct=!1;return(typeof navigator>"u"||((Et=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent))==null?void 0:Et[1])>=14)&&(ct=!0),(0,_e.shadow)(this,"isSyncFontLoadingSupported",ct)}_queueLoadingCallback(ct){const Et=this.loadingContext,s={id:"pdfjs-font-loading-"+Et.nextRequestId++,done:!1,complete:function(){for((0,_e.assert)(!s.done,"completeRequest() cannot be called twice."),s.done=!0;Et.requests.length>0&&Et.requests[0].done;){const Tt=Et.requests.shift();setTimeout(Tt.callback,0)}},callback:ct};return Et.requests.push(s),s}get _loadTestFont(){return(0,_e.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(ct,Et,s){function st(h,et){return h.charCodeAt(et)<<24|h.charCodeAt(et+1)<<16|h.charCodeAt(et+2)<<8|255&h.charCodeAt(et+3)}function Tt(h,et,nt,pt){return h.substring(0,et)+pt+h.substring(et+nt)}let wt,e;const gt=this._document.createElement("canvas");gt.width=1,gt.height=1;const _=gt.getContext("2d");let $=0;const d=`lt${Date.now()}${this.loadTestFontId++}`;let j=this._loadTestFont;j=Tt(j,976,d.length,d);const g=1482184792;let o=st(j,16);for(wt=0,e=d.length-3;wt<e;wt+=4)o=o-g+st(d,wt)|0;wt<d.length&&(o=o-g+st(d+"XXX",wt)|0),j=Tt(j,16,4,(0,_e.string32)(o));const ut=`@font-face {font-family:"${d}";src:${`url(data:font/opentype;base64,${btoa(j)});`}}`;this.insertRule(ut);const dt=[];for(const h of Et)dt.push(h.loadedName);dt.push(d);const b=this._document.createElement("div");b.style.visibility="hidden",b.style.width=b.style.height="10px",b.style.position="absolute",b.style.top=b.style.left="0px";for(const h of dt){const et=this._document.createElement("span");et.textContent="Hi",et.style.fontFamily=h,b.append(et)}this._document.body.append(b),function h(et,nt){if($++,$>30){(0,_e.warn)("Load test font never loaded."),nt();return}_.font="30px "+et,_.fillText(".",0,20),_.getImageData(0,0,1,1).data[3]>0?nt():setTimeout(h.bind(null,et,nt))}(d,()=>{b.remove(),s.complete()})}},a.FontFaceObject=class{constructor(ct,{isEvalSupported:Et=!0,disableFontFace:s=!1,ignoreErrors:st=!1,onUnsupportedFeature:Tt,fontRegistry:wt=null}){this.compiledGlyphs=Object.create(null);for(const e in ct)this[e]=ct[e];this.isEvalSupported=Et!==!1,this.disableFontFace=s===!0,this.ignoreErrors=st===!0,this._onUnsupportedFeature=Tt,this.fontRegistry=wt}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let ct;if(this.cssFontInfo){const Et={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(Et.style=`oblique ${this.cssFontInfo.italicAngle}deg`),ct=new FontFace(this.cssFontInfo.fontFamily,this.data,Et)}else ct=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),ct}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const ct=(0,_e.bytesToString)(this.data),Et=`url(data:${this.mimetype};base64,${btoa(ct)});`;let s;if(this.cssFontInfo){let st=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(st+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),s=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${st}src:${Et}}`}else s=`@font-face {font-family:"${this.loadedName}";src:${Et}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,Et),s}getPathGenerator(ct,Et){if(this.compiledGlyphs[Et]!==void 0)return this.compiledGlyphs[Et];let s;try{s=ct.get(this.loadedName+"_path_"+Et)}catch(st){if(!this.ignoreErrors)throw st;return this._onUnsupportedFeature({featureId:_e.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,_e.warn)(`getPathGenerator - ignoring character: "${st}".`),this.compiledGlyphs[Et]=function(Tt,wt){}}if(this.isEvalSupported&&_e.FeatureTest.isEvalSupported){const st=[];for(const Tt of s){const wt=Tt.args!==void 0?Tt.args.join(","):"";st.push("c.",Tt.cmd,"(",wt,`);
`)}return this.compiledGlyphs[Et]=new Function("c","size",st.join(""))}return this.compiledGlyphs[Et]=function(st,Tt){for(const wt of s)wt.cmd==="scale"&&(wt.args=[Tt,-Tt]),st[wt.cmd].apply(st,wt.args)}}}},(i,a,c)=>{var Bt,b1;Object.defineProperty(a,"__esModule",{value:!0}),a.CanvasGraphics=void 0;var _e=c(8),ot=c(1),$t=c(13),zt=c(14),ct=c(3);const Et=4096,s=ct.isNodeJS&&typeof Path2D>"u"?-1:1e3,st=16;class Tt{constructor(lt){this.canvasFactory=lt,this.cache=Object.create(null)}getCanvas(lt,ft,it){let at;return this.cache[lt]!==void 0?(at=this.cache[lt],this.canvasFactory.reset(at,ft,it)):(at=this.canvasFactory.create(ft,it),this.cache[lt]=at),at}delete(lt){delete this.cache[lt]}clear(){for(const lt in this.cache){const ft=this.cache[lt];this.canvasFactory.destroy(ft),delete this.cache[lt]}}}function wt(Ft,lt,ft,it,at,bt,St,ht,vt,yt){const[At,Nt,Ht,xt,rt,mt]=(0,_e.getCurrentTransform)(Ft);if(Nt===0&&Ht===0){const Mt=St*At+rt,_t=Math.round(Mt),Lt=ht*xt+mt,It=Math.round(Lt),Dt=(St+vt)*At+rt,jt=Math.abs(Math.round(Dt)-_t)||1,Ot=(ht+yt)*xt+mt,Xt=Math.abs(Math.round(Ot)-It)||1;return Ft.setTransform(Math.sign(At),0,0,Math.sign(xt),_t,It),Ft.drawImage(lt,ft,it,at,bt,0,0,jt,Xt),Ft.setTransform(At,Nt,Ht,xt,rt,mt),[jt,Xt]}if(At===0&&xt===0){const Mt=ht*Ht+rt,_t=Math.round(Mt),Lt=St*Nt+mt,It=Math.round(Lt),Dt=(ht+yt)*Ht+rt,jt=Math.abs(Math.round(Dt)-_t)||1,Ot=(St+vt)*Nt+mt,Xt=Math.abs(Math.round(Ot)-It)||1;return Ft.setTransform(0,Math.sign(Nt),Math.sign(Ht),0,_t,It),Ft.drawImage(lt,ft,it,at,bt,0,0,Xt,jt),Ft.setTransform(At,Nt,Ht,xt,rt,mt),[Xt,jt]}return Ft.drawImage(lt,ft,it,at,bt,St,ht,vt,yt),[Math.hypot(At,Nt)*vt,Math.hypot(Ht,xt)*yt]}class e{constructor(lt,ft){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=ot.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=ot.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=ot.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,lt,ft])}clone(){const lt=Object.create(this);return lt.clipBox=this.clipBox.slice(),lt}setCurrentPoint(lt,ft){this.x=lt,this.y=ft}updatePathMinMax(lt,ft,it){[ft,it]=ot.Util.applyTransform([ft,it],lt),this.minX=Math.min(this.minX,ft),this.minY=Math.min(this.minY,it),this.maxX=Math.max(this.maxX,ft),this.maxY=Math.max(this.maxY,it)}updateRectMinMax(lt,ft){const it=ot.Util.applyTransform(ft,lt),at=ot.Util.applyTransform(ft.slice(2),lt);this.minX=Math.min(this.minX,it[0],at[0]),this.minY=Math.min(this.minY,it[1],at[1]),this.maxX=Math.max(this.maxX,it[0],at[0]),this.maxY=Math.max(this.maxY,it[1],at[1])}updateScalingPathMinMax(lt,ft){ot.Util.scaleMinMax(lt,ft),this.minX=Math.min(this.minX,ft[0]),this.maxX=Math.max(this.maxX,ft[1]),this.minY=Math.min(this.minY,ft[2]),this.maxY=Math.max(this.maxY,ft[3])}updateCurvePathMinMax(lt,ft,it,at,bt,St,ht,vt,yt,At){const Nt=ot.Util.bezierBoundingBox(ft,it,at,bt,St,ht,vt,yt);At?(At[0]=Math.min(At[0],Nt[0],Nt[2]),At[1]=Math.max(At[1],Nt[0],Nt[2]),At[2]=Math.min(At[2],Nt[1],Nt[3]),At[3]=Math.max(At[3],Nt[1],Nt[3])):this.updateRectMinMax(lt,Nt)}getPathBoundingBox(lt=$t.PathType.FILL,ft=null){const it=[this.minX,this.minY,this.maxX,this.maxY];if(lt===$t.PathType.STROKE){ft||(0,ot.unreachable)("Stroke bounding box must include transform.");const at=ot.Util.singularValueDecompose2dScale(ft),bt=at[0]*this.lineWidth/2,St=at[1]*this.lineWidth/2;it[0]-=bt,it[1]-=St,it[2]+=bt,it[3]+=St}return it}updateClipFromPath(){const lt=ot.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(lt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(lt){this.clipBox=lt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(lt=$t.PathType.FILL,ft=null){return ot.Util.intersect(this.clipBox,this.getPathBoundingBox(lt,ft))}}function gt(Ft,lt,ft=null){if(typeof ImageData<"u"&&lt instanceof ImageData){Ft.putImageData(lt,0,0);return}const it=lt.height,at=lt.width,bt=it%st,St=(it-bt)/st,ht=bt===0?St:St+1,vt=Ft.createImageData(at,st);let yt,At=0;const Nt=lt.data,Ht=vt.data;let xt,rt,mt,Mt,_t,Lt,It,Dt;if(ft)switch(ft.length){case 1:_t=ft[0],Lt=ft[0],It=ft[0],Dt=ft[0];break;case 4:_t=ft[0],Lt=ft[1],It=ft[2],Dt=ft[3]}if(lt.kind===ot.ImageKind.GRAYSCALE_1BPP){const jt=Nt.byteLength,Ot=new Uint32Array(Ht.buffer,0,Ht.byteLength>>2),Xt=Ot.length,Ut=at+7>>3;let Gt=4294967295,qt=ot.FeatureTest.isLittleEndian?4278190080:255;for(Dt&&Dt[0]===255&&Dt[255]===0&&([Gt,qt]=[qt,Gt]),xt=0;xt<ht;xt++){for(mt=xt<St?st:bt,yt=0,rt=0;rt<mt;rt++){const Kt=jt-At;let Vt=0;const Yt=Kt>Ut?at:8*Kt-7,Zt=-8&Yt;let Qt=0,en=0;for(;Vt<Zt;Vt+=8)en=Nt[At++],Ot[yt++]=128&en?Gt:qt,Ot[yt++]=64&en?Gt:qt,Ot[yt++]=32&en?Gt:qt,Ot[yt++]=16&en?Gt:qt,Ot[yt++]=8&en?Gt:qt,Ot[yt++]=4&en?Gt:qt,Ot[yt++]=2&en?Gt:qt,Ot[yt++]=1&en?Gt:qt;for(;Vt<Yt;Vt++)Qt===0&&(en=Nt[At++],Qt=128),Ot[yt++]=en&Qt?Gt:qt,Qt>>=1}for(;yt<Xt;)Ot[yt++]=0;Ft.putImageData(vt,0,xt*st)}}else if(lt.kind===ot.ImageKind.RGBA_32BPP){const jt=!!(_t||Lt||It);for(rt=0,Mt=at*st*4,xt=0;xt<St;xt++){if(Ht.set(Nt.subarray(At,At+Mt)),At+=Mt,jt)for(let Ot=0;Ot<Mt;Ot+=4)_t&&(Ht[Ot+0]=_t[Ht[Ot+0]]),Lt&&(Ht[Ot+1]=Lt[Ht[Ot+1]]),It&&(Ht[Ot+2]=It[Ht[Ot+2]]);Ft.putImageData(vt,0,rt),rt+=st}if(xt<ht){if(Mt=at*bt*4,Ht.set(Nt.subarray(At,At+Mt)),jt)for(let Ot=0;Ot<Mt;Ot+=4)_t&&(Ht[Ot+0]=_t[Ht[Ot+0]]),Lt&&(Ht[Ot+1]=Lt[Ht[Ot+1]]),It&&(Ht[Ot+2]=It[Ht[Ot+2]]);Ft.putImageData(vt,0,rt)}}else{if(lt.kind!==ot.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${lt.kind}`);{const jt=!!(_t||Lt||It);for(mt=st,Mt=at*mt,xt=0;xt<ht;xt++){for(xt>=St&&(mt=bt,Mt=at*mt),yt=0,rt=Mt;rt--;)Ht[yt++]=Nt[At++],Ht[yt++]=Nt[At++],Ht[yt++]=Nt[At++],Ht[yt++]=255;if(jt)for(let Ot=0;Ot<yt;Ot+=4)_t&&(Ht[Ot+0]=_t[Ht[Ot+0]]),Lt&&(Ht[Ot+1]=Lt[Ht[Ot+1]]),It&&(Ht[Ot+2]=It[Ht[Ot+2]]);Ft.putImageData(vt,0,xt*st)}}}}function _(Ft,lt){if(lt.bitmap){Ft.drawImage(lt.bitmap,0,0);return}const ft=lt.height,it=lt.width,at=ft%st,bt=(ft-at)/st,St=at===0?bt:bt+1,ht=Ft.createImageData(it,st);let vt=0;const yt=lt.data,At=ht.data;for(let Nt=0;Nt<St;Nt++){const Ht=Nt<bt?st:at;({srcPos:vt}=(0,zt.applyMaskImageData)({src:yt,srcPos:vt,dest:At,width:it,height:Ht})),Ft.putImageData(ht,0,Nt*st)}}function $(Ft,lt){const ft=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let it=0,at=ft.length;it<at;it++){const bt=ft[it];Ft[bt]!==void 0&&(lt[bt]=Ft[bt])}Ft.setLineDash!==void 0&&(lt.setLineDash(Ft.getLineDash()),lt.lineDashOffset=Ft.lineDashOffset)}function d(Ft,lt){Ft.strokeStyle=Ft.fillStyle=lt||"#000000",Ft.fillRule="nonzero",Ft.globalAlpha=1,Ft.lineWidth=1,Ft.lineCap="butt",Ft.lineJoin="miter",Ft.miterLimit=10,Ft.globalCompositeOperation="source-over",Ft.font="10px sans-serif",Ft.setLineDash!==void 0&&(Ft.setLineDash([]),Ft.lineDashOffset=0)}function j(Ft,lt,ft,it){const at=Ft.length;for(let bt=3;bt<at;bt+=4){const St=Ft[bt];if(St===0)Ft[bt-3]=lt,Ft[bt-2]=ft,Ft[bt-1]=it;else if(St<255){const ht=255-St;Ft[bt-3]=Ft[bt-3]*St+lt*ht>>8,Ft[bt-2]=Ft[bt-2]*St+ft*ht>>8,Ft[bt-1]=Ft[bt-1]*St+it*ht>>8}}}function g(Ft,lt,ft){const it=Ft.length;for(let at=3;at<it;at+=4){const bt=ft?ft[Ft[at]]:Ft[at];lt[at]=lt[at]*bt*.00392156862745098|0}}function o(Ft,lt,ft){const it=Ft.length;for(let at=3;at<it;at+=4){const bt=77*Ft[at-3]+152*Ft[at-2]+28*Ft[at-1];lt[at]=ft?lt[at]*ft[bt>>8]>>8:lt[at]*bt>>16}}function ut(Ft,lt,ft,it){const at=it[0],bt=it[1],St=it[2]-at,ht=it[3]-bt;St!==0&&ht!==0&&(function(yt,At,Nt,Ht,xt,rt,mt,Mt,_t,Lt,It){const Dt=!!rt,jt=Dt?rt[0]:0,Ot=Dt?rt[1]:0,Xt=Dt?rt[2]:0;let Ut;Ut=xt==="Luminosity"?o:g;const Gt=Math.min(Ht,Math.ceil(1048576/Nt));for(let qt=0;qt<Ht;qt+=Gt){const Kt=Math.min(Gt,Ht-qt),Vt=yt.getImageData(Mt-Lt,qt+(_t-It),Nt,Kt),Yt=At.getImageData(Mt,qt+_t,Nt,Kt);Dt&&j(Vt.data,jt,Ot,Xt),Ut(Vt.data,Yt.data,mt),At.putImageData(Yt,Mt,qt+_t)}}(lt.context,ft,St,ht,lt.subtype,lt.backdrop,lt.transferMap,at,bt,lt.offsetX,lt.offsetY),Ft.save(),Ft.globalAlpha=1,Ft.globalCompositeOperation="source-over",Ft.setTransform(1,0,0,1,0,0),Ft.drawImage(ft.canvas,0,0),Ft.restore())}function dt(Ft,lt){const ft=ot.Util.singularValueDecompose2dScale(Ft);ft[0]=Math.fround(ft[0]),ft[1]=Math.fround(ft[1]);const it=Math.fround((globalThis.devicePixelRatio||1)*_e.PixelsPerInch.PDF_TO_CSS_UNITS);return lt!==void 0?lt:ft[0]<=it||ft[1]<=it}const b=["butt","round","square"],h=["miter","round","bevel"],et={},nt={},Rt=class Rt{constructor(lt,ft,it,at,bt,St,ht,vt){Rn(this,Bt);this.ctx=lt,this.current=new e(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=ft,this.objs=it,this.canvasFactory=at,this.imageLayer=bt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=St,this.cachedCanvases=new Tt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=ht,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(vt==null?void 0:vt.background)||null,this.foregroundColor=(vt==null?void 0:vt.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(lt,ft=null){return typeof lt=="string"?lt.startsWith("g_")?this.commonObjs.get(lt):this.objs.get(lt):ft}beginDrawing({transform:lt,viewport:ft,transparency:it=!1,background:at=null}){const bt=this.ctx.canvas.width,St=this.ctx.canvas.height,ht=at||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const vt=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const yt=this.backgroundColor=this.ctx.fillStyle;let At=!0,Nt=ht;if(this.ctx.fillStyle=ht,Nt=this.ctx.fillStyle,At=typeof Nt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Nt),vt==="#000000"&&yt==="#ffffff"||vt===yt||!At)this.foregroundColor=this.backgroundColor=null;else{const[Ht,xt,rt]=(0,_e.getRGB)(Nt),mt=_t=>(_t/=255)<=.03928?_t/12.92:((_t+.055)/1.055)**2.4,Mt=Math.round(.2126*mt(Ht)+.7152*mt(xt)+.0722*mt(rt));this.selectColor=(_t,Lt,It)=>{const Dt=.2126*mt(_t)+.7152*mt(Lt)+.0722*mt(It);return Math.round(Dt)===Mt?yt:vt}}}if(this.ctx.fillStyle=this.backgroundColor||ht,this.ctx.fillRect(0,0,bt,St),this.ctx.restore(),it){const vt=this.cachedCanvases.getCanvas("transparent",bt,St);this.compositeCtx=this.ctx,this.transparentCanvas=vt.canvas,this.ctx=vt.context,this.ctx.save(),this.ctx.transform(...(0,_e.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),d(this.ctx,this.foregroundColor),lt&&(this.ctx.transform(...lt),this.outputScaleX=lt[0],this.outputScaleY=lt[0]),this.ctx.transform(...ft.transform),this.viewportScale=ft.scale,this.baseTransform=(0,_e.getCurrentTransform)(this.ctx),this.imageLayer&&((0,_e.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(lt,ft,it,at){const bt=lt.argsArray,St=lt.fnArray;let ht=ft||0;const vt=bt.length;if(vt===ht)return ht;const yt=vt-ht>10&&typeof it=="function",At=yt?Date.now()+15:0;let Nt=0;const Ht=this.commonObjs,xt=this.objs;let rt;for(;;){if(at!==void 0&&ht===at.nextBreakPoint)return at.breakIt(ht,it),ht;if(rt=St[ht],rt!==ot.OPS.dependency)this[rt].apply(this,bt[ht]);else for(const mt of bt[ht]){const Mt=mt.startsWith("g_")?Ht:xt;if(!Mt.has(mt))return Mt.get(mt,it),ht}if(ht++,ht===vt)return ht;if(yt&&++Nt>10){if(Date.now()>At)return it(),ht;Nt=0}}}endDrawing(){wn(this,Bt,b1).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const lt of this._cachedBitmapsMap.values()){for(const ft of lt.values())typeof HTMLCanvasElement<"u"&&ft instanceof HTMLCanvasElement&&(ft.width=ft.height=0);lt.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(lt,ft){const it=lt.width,at=lt.height;let bt,St,ht=Math.max(Math.hypot(ft[0],ft[1]),1),vt=Math.max(Math.hypot(ft[2],ft[3]),1),yt=it,At=at,Nt="prescale1";for(;ht>2&&yt>1||vt>2&&At>1;){let Ht=yt,xt=At;ht>2&&yt>1&&(Ht=Math.ceil(yt/2),ht/=yt/Ht),vt>2&&At>1&&(xt=Math.ceil(At/2),vt/=At/xt),bt=this.cachedCanvases.getCanvas(Nt,Ht,xt),St=bt.context,St.clearRect(0,0,Ht,xt),St.drawImage(lt,0,0,yt,At,0,0,Ht,xt),lt=bt.canvas,yt=Ht,At=xt,Nt=Nt==="prescale1"?"prescale2":"prescale1"}return{img:lt,paintWidth:yt,paintHeight:At}}_createMaskCanvas(lt){const ft=this.ctx,{width:it,height:at}=lt,bt=this.current.fillColor,St=this.current.patternFill,ht=(0,_e.getCurrentTransform)(ft);let vt,yt,At,Nt;if((lt.bitmap||lt.data)&&lt.count>1){const Xt=lt.bitmap||lt.data.buffer,Ut=ht.slice(0,4);yt=JSON.stringify(St?Ut:[Ut,bt]),vt=this._cachedBitmapsMap.get(Xt),vt||(vt=new Map,this._cachedBitmapsMap.set(Xt,vt));const Gt=vt.get(yt);if(Gt&&!St)return{canvas:Gt,offsetX:Math.round(Math.min(ht[0],ht[2])+ht[4]),offsetY:Math.round(Math.min(ht[1],ht[3])+ht[5])};At=Gt}At||(Nt=this.cachedCanvases.getCanvas("maskCanvas",it,at),_(Nt.context,lt));let Ht=ot.Util.transform(ht,[1/it,0,0,-1/at,0,0]);Ht=ot.Util.transform(Ht,[1,0,0,1,0,-at]);const xt=ot.Util.applyTransform([0,0],Ht),rt=ot.Util.applyTransform([it,at],Ht),mt=ot.Util.normalizeRect([xt[0],xt[1],rt[0],rt[1]]),Mt=Math.round(mt[2]-mt[0])||1,_t=Math.round(mt[3]-mt[1])||1,Lt=this.cachedCanvases.getCanvas("fillCanvas",Mt,_t),It=Lt.context,Dt=Math.min(xt[0],rt[0]),jt=Math.min(xt[1],rt[1]);It.translate(-Dt,-jt),It.transform(...Ht),At||(At=this._scaleImage(Nt.canvas,(0,_e.getCurrentTransformInverse)(It)),At=At.img,vt&&St&&vt.set(yt,At)),It.imageSmoothingEnabled=dt((0,_e.getCurrentTransform)(It),lt.interpolate),wt(It,At,0,0,At.width,At.height,0,0,it,at),It.globalCompositeOperation="source-in";const Ot=ot.Util.transform((0,_e.getCurrentTransformInverse)(It),[1,0,0,1,-Dt,-jt]);return It.fillStyle=St?bt.getPattern(ft,this,Ot,$t.PathType.FILL):bt,It.fillRect(0,0,it,at),vt&&!St&&(this.cachedCanvases.delete("fillCanvas"),vt.set(yt,Lt.canvas)),{canvas:Lt.canvas,offsetX:Math.round(Dt),offsetY:Math.round(jt)}}setLineWidth(lt){lt!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=lt,this.ctx.lineWidth=lt}setLineCap(lt){this.ctx.lineCap=b[lt]}setLineJoin(lt){this.ctx.lineJoin=h[lt]}setMiterLimit(lt){this.ctx.miterLimit=lt}setDash(lt,ft){const it=this.ctx;it.setLineDash!==void 0&&(it.setLineDash(lt),it.lineDashOffset=ft)}setRenderingIntent(lt){}setFlatness(lt){}setGState(lt){for(let ft=0,it=lt.length;ft<it;ft++){const at=lt[ft],bt=at[0],St=at[1];switch(bt){case"LW":this.setLineWidth(St);break;case"LC":this.setLineCap(St);break;case"LJ":this.setLineJoin(St);break;case"ML":this.setMiterLimit(St);break;case"D":this.setDash(St[0],St[1]);break;case"RI":this.setRenderingIntent(St);break;case"FL":this.setFlatness(St);break;case"Font":this.setFont(St[0],St[1]);break;case"CA":this.current.strokeAlpha=at[1];break;case"ca":this.current.fillAlpha=at[1],this.ctx.globalAlpha=at[1];break;case"BM":this.ctx.globalCompositeOperation=St;break;case"SMask":this.current.activeSMask=St?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=St}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const lt=this.inSMaskMode;this.current.activeSMask&&!lt?this.beginSMaskMode():!this.current.activeSMask&&lt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const lt=this.ctx.canvas.width,ft=this.ctx.canvas.height,it="smaskGroupAt"+this.groupLevel,at=this.cachedCanvases.getCanvas(it,lt,ft);this.suspendedCtx=this.ctx,this.ctx=at.context;const bt=this.ctx;bt.setTransform(...(0,_e.getCurrentTransform)(this.suspendedCtx)),$(this.suspendedCtx,bt),function(ht,vt){if(ht._removeMirroring)throw new Error("Context is already forwarding operations.");ht.__originalSave=ht.save,ht.__originalRestore=ht.restore,ht.__originalRotate=ht.rotate,ht.__originalScale=ht.scale,ht.__originalTranslate=ht.translate,ht.__originalTransform=ht.transform,ht.__originalSetTransform=ht.setTransform,ht.__originalResetTransform=ht.resetTransform,ht.__originalClip=ht.clip,ht.__originalMoveTo=ht.moveTo,ht.__originalLineTo=ht.lineTo,ht.__originalBezierCurveTo=ht.bezierCurveTo,ht.__originalRect=ht.rect,ht.__originalClosePath=ht.closePath,ht.__originalBeginPath=ht.beginPath,ht._removeMirroring=()=>{ht.save=ht.__originalSave,ht.restore=ht.__originalRestore,ht.rotate=ht.__originalRotate,ht.scale=ht.__originalScale,ht.translate=ht.__originalTranslate,ht.transform=ht.__originalTransform,ht.setTransform=ht.__originalSetTransform,ht.resetTransform=ht.__originalResetTransform,ht.clip=ht.__originalClip,ht.moveTo=ht.__originalMoveTo,ht.lineTo=ht.__originalLineTo,ht.bezierCurveTo=ht.__originalBezierCurveTo,ht.rect=ht.__originalRect,ht.closePath=ht.__originalClosePath,ht.beginPath=ht.__originalBeginPath,delete ht._removeMirroring},ht.save=function(){vt.save(),this.__originalSave()},ht.restore=function(){vt.restore(),this.__originalRestore()},ht.translate=function(At,Nt){vt.translate(At,Nt),this.__originalTranslate(At,Nt)},ht.scale=function(At,Nt){vt.scale(At,Nt),this.__originalScale(At,Nt)},ht.transform=function(At,Nt,Ht,xt,rt,mt){vt.transform(At,Nt,Ht,xt,rt,mt),this.__originalTransform(At,Nt,Ht,xt,rt,mt)},ht.setTransform=function(At,Nt,Ht,xt,rt,mt){vt.setTransform(At,Nt,Ht,xt,rt,mt),this.__originalSetTransform(At,Nt,Ht,xt,rt,mt)},ht.resetTransform=function(){vt.resetTransform(),this.__originalResetTransform()},ht.rotate=function(At){vt.rotate(At),this.__originalRotate(At)},ht.clip=function(At){vt.clip(At),this.__originalClip(At)},ht.moveTo=function(yt,At){vt.moveTo(yt,At),this.__originalMoveTo(yt,At)},ht.lineTo=function(yt,At){vt.lineTo(yt,At),this.__originalLineTo(yt,At)},ht.bezierCurveTo=function(yt,At,Nt,Ht,xt,rt){vt.bezierCurveTo(yt,At,Nt,Ht,xt,rt),this.__originalBezierCurveTo(yt,At,Nt,Ht,xt,rt)},ht.rect=function(yt,At,Nt,Ht){vt.rect(yt,At,Nt,Ht),this.__originalRect(yt,At,Nt,Ht)},ht.closePath=function(){vt.closePath(),this.__originalClosePath()},ht.beginPath=function(){vt.beginPath(),this.__originalBeginPath()}}(bt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),$(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(lt){if(!this.current.activeSMask)return;lt?(lt[0]=Math.floor(lt[0]),lt[1]=Math.floor(lt[1]),lt[2]=Math.ceil(lt[2]),lt[3]=Math.ceil(lt[3])):lt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const ft=this.current.activeSMask;ut(this.suspendedCtx,ft,this.ctx,lt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?($(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const lt=this.current;this.stateStack.push(lt),this.current=lt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),$(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(lt,ft,it,at,bt,St){this.ctx.transform(lt,ft,it,at,bt,St),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(lt,ft,it){const at=this.ctx,bt=this.current;let St,ht,vt=bt.x,yt=bt.y;const At=(0,_e.getCurrentTransform)(at),Nt=At[0]===0&&At[3]===0||At[1]===0&&At[2]===0,Ht=Nt?it.slice(0):null;for(let xt=0,rt=0,mt=lt.length;xt<mt;xt++)switch(0|lt[xt]){case ot.OPS.rectangle:vt=ft[rt++],yt=ft[rt++];const Mt=ft[rt++],_t=ft[rt++],Lt=vt+Mt,It=yt+_t;at.moveTo(vt,yt),Mt===0||_t===0?at.lineTo(Lt,It):(at.lineTo(Lt,yt),at.lineTo(Lt,It),at.lineTo(vt,It)),Nt||bt.updateRectMinMax(At,[vt,yt,Lt,It]),at.closePath();break;case ot.OPS.moveTo:vt=ft[rt++],yt=ft[rt++],at.moveTo(vt,yt),Nt||bt.updatePathMinMax(At,vt,yt);break;case ot.OPS.lineTo:vt=ft[rt++],yt=ft[rt++],at.lineTo(vt,yt),Nt||bt.updatePathMinMax(At,vt,yt);break;case ot.OPS.curveTo:St=vt,ht=yt,vt=ft[rt+4],yt=ft[rt+5],at.bezierCurveTo(ft[rt],ft[rt+1],ft[rt+2],ft[rt+3],vt,yt),bt.updateCurvePathMinMax(At,St,ht,ft[rt],ft[rt+1],ft[rt+2],ft[rt+3],vt,yt,Ht),rt+=6;break;case ot.OPS.curveTo2:St=vt,ht=yt,at.bezierCurveTo(vt,yt,ft[rt],ft[rt+1],ft[rt+2],ft[rt+3]),bt.updateCurvePathMinMax(At,St,ht,vt,yt,ft[rt],ft[rt+1],ft[rt+2],ft[rt+3],Ht),vt=ft[rt+2],yt=ft[rt+3],rt+=4;break;case ot.OPS.curveTo3:St=vt,ht=yt,vt=ft[rt+2],yt=ft[rt+3],at.bezierCurveTo(ft[rt],ft[rt+1],vt,yt,vt,yt),bt.updateCurvePathMinMax(At,St,ht,ft[rt],ft[rt+1],vt,yt,vt,yt,Ht),rt+=4;break;case ot.OPS.closePath:at.closePath()}Nt&&bt.updateScalingPathMinMax(At,Ht),bt.setCurrentPoint(vt,yt)}closePath(){this.ctx.closePath()}stroke(lt){lt=lt===void 0||lt;const ft=this.ctx,it=this.current.strokeColor;ft.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof it=="object"&&(it!=null&&it.getPattern)?(ft.save(),ft.strokeStyle=it.getPattern(ft,this,(0,_e.getCurrentTransformInverse)(ft),$t.PathType.STROKE),this.rescaleAndStroke(!1),ft.restore()):this.rescaleAndStroke(!0)),lt&&this.consumePath(this.current.getClippedPathBoundingBox()),ft.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(lt){lt=lt===void 0||lt;const ft=this.ctx,it=this.current.fillColor;let at=!1;this.current.patternFill&&(ft.save(),ft.fillStyle=it.getPattern(ft,this,(0,_e.getCurrentTransformInverse)(ft),$t.PathType.FILL),at=!0);const bt=this.current.getClippedPathBoundingBox();this.contentVisible&&bt!==null&&(this.pendingEOFill?(ft.fill("evenodd"),this.pendingEOFill=!1):ft.fill()),at&&ft.restore(),lt&&this.consumePath(bt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=et}eoClip(){this.pendingClip=nt}beginText(){this.current.textMatrix=ot.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const lt=this.pendingTextPaths,ft=this.ctx;if(lt!==void 0){ft.save(),ft.beginPath();for(const it of lt)ft.setTransform(...it.transform),ft.translate(it.x,it.y),it.addToPath(ft,it.fontSize);ft.restore(),ft.clip(),ft.beginPath(),delete this.pendingTextPaths}else ft.beginPath()}setCharSpacing(lt){this.current.charSpacing=lt}setWordSpacing(lt){this.current.wordSpacing=lt}setHScale(lt){this.current.textHScale=lt/100}setLeading(lt){this.current.leading=-lt}setFont(lt,ft){const it=this.commonObjs.get(lt),at=this.current;if(!it)throw new Error(`Can't find font for ${lt}`);if(at.fontMatrix=it.fontMatrix||ot.FONT_IDENTITY_MATRIX,at.fontMatrix[0]!==0&&at.fontMatrix[3]!==0||(0,ot.warn)("Invalid font matrix for font "+lt),ft<0?(ft=-ft,at.fontDirection=-1):at.fontDirection=1,this.current.font=it,this.current.fontSize=ft,it.isType3Font)return;const bt=it.loadedName||"sans-serif";let St="normal";it.black?St="900":it.bold&&(St="bold");const ht=it.italic?"italic":"normal",vt=`"${bt}", ${it.fallbackName}`;let yt=ft;ft<16?yt=16:ft>100&&(yt=100),this.current.fontSizeScale=ft/yt,this.ctx.font=`${ht} ${St} ${yt}px ${vt}`}setTextRenderingMode(lt){this.current.textRenderingMode=lt}setTextRise(lt){this.current.textRise=lt}moveText(lt,ft){this.current.x=this.current.lineX+=lt,this.current.y=this.current.lineY+=ft}setLeadingMoveText(lt,ft){this.setLeading(-ft),this.moveText(lt,ft)}setTextMatrix(lt,ft,it,at,bt,St){this.current.textMatrix=[lt,ft,it,at,bt,St],this.current.textMatrixScale=Math.hypot(lt,ft),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(lt,ft,it,at){const bt=this.ctx,St=this.current,ht=St.font,vt=St.textRenderingMode,yt=St.fontSize/St.fontSizeScale,At=vt&ot.TextRenderingMode.FILL_STROKE_MASK,Nt=!!(vt&ot.TextRenderingMode.ADD_TO_PATH_FLAG),Ht=St.patternFill&&!ht.missingFile;let xt;(ht.disableFontFace||Nt||Ht)&&(xt=ht.getPathGenerator(this.commonObjs,lt)),ht.disableFontFace||Ht?(bt.save(),bt.translate(ft,it),bt.beginPath(),xt(bt,yt),at&&bt.setTransform(...at),At!==ot.TextRenderingMode.FILL&&At!==ot.TextRenderingMode.FILL_STROKE||bt.fill(),At!==ot.TextRenderingMode.STROKE&&At!==ot.TextRenderingMode.FILL_STROKE||bt.stroke(),bt.restore()):(At!==ot.TextRenderingMode.FILL&&At!==ot.TextRenderingMode.FILL_STROKE||bt.fillText(lt,ft,it),At!==ot.TextRenderingMode.STROKE&&At!==ot.TextRenderingMode.FILL_STROKE||bt.strokeText(lt,ft,it)),Nt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,_e.getCurrentTransform)(bt),x:ft,y:it,fontSize:yt,addToPath:xt})}get isFontSubpixelAAEnabled(){const{context:lt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);lt.scale(1.5,1),lt.fillText("I",0,10);const ft=lt.getImageData(0,0,10,10).data;let it=!1;for(let at=3;at<ft.length;at+=4)if(ft[at]>0&&ft[at]<255){it=!0;break}return(0,ot.shadow)(this,"isFontSubpixelAAEnabled",it)}showText(lt){const ft=this.current,it=ft.font;if(it.isType3Font)return this.showType3Text(lt);const at=ft.fontSize;if(at===0)return;const bt=this.ctx,St=ft.fontSizeScale,ht=ft.charSpacing,vt=ft.wordSpacing,yt=ft.fontDirection,At=ft.textHScale*yt,Nt=lt.length,Ht=it.vertical,xt=Ht?1:-1,rt=it.defaultVMetrics,mt=at*ft.fontMatrix[0],Mt=ft.textRenderingMode===ot.TextRenderingMode.FILL&&!it.disableFontFace&&!ft.patternFill;bt.save(),bt.transform(...ft.textMatrix),bt.translate(ft.x,ft.y+ft.textRise),yt>0?bt.scale(At,-1):bt.scale(At,1);let _t;if(ft.patternFill){bt.save();const Ot=ft.fillColor.getPattern(bt,this,(0,_e.getCurrentTransformInverse)(bt),$t.PathType.FILL);_t=(0,_e.getCurrentTransform)(bt),bt.restore(),bt.fillStyle=Ot}let Lt=ft.lineWidth;const It=ft.textMatrixScale;if(It===0||Lt===0){const Ot=ft.textRenderingMode&ot.TextRenderingMode.FILL_STROKE_MASK;Ot!==ot.TextRenderingMode.STROKE&&Ot!==ot.TextRenderingMode.FILL_STROKE||(Lt=this.getSinglePixelWidth())}else Lt/=It;St!==1&&(bt.scale(St,St),Lt/=St),bt.lineWidth=Lt;let Dt,jt=0;for(Dt=0;Dt<Nt;++Dt){const Ot=lt[Dt];if(typeof Ot=="number"){jt+=xt*Ot*at/1e3;continue}let Xt=!1;const Ut=(Ot.isSpace?vt:0)+ht,Gt=Ot.fontChar,qt=Ot.accent;let Kt,Vt,Yt,Zt=Ot.width;if(Ht){const Qt=Ot.vmetric||rt,en=-(Ot.vmetric?Qt[1]:.5*Zt)*mt,rn=Qt[2]*mt;Zt=Qt?-Qt[0]:Zt,Kt=en/St,Vt=(jt+rn)/St}else Kt=jt/St,Vt=0;if(it.remeasure&&Zt>0){const Qt=1e3*bt.measureText(Gt).width/at*St;if(Zt<Qt&&this.isFontSubpixelAAEnabled){const en=Zt/Qt;Xt=!0,bt.save(),bt.scale(en,1),Kt/=en}else Zt!==Qt&&(Kt+=(Zt-Qt)/2e3*at/St)}if(this.contentVisible&&(Ot.isInFont||it.missingFile)){if(Mt&&!qt)bt.fillText(Gt,Kt,Vt);else if(this.paintChar(Gt,Kt,Vt,_t),qt){const Qt=Kt+at*qt.offset.x/St,en=Vt-at*qt.offset.y/St;this.paintChar(qt.fontChar,Qt,en,_t)}}Yt=Ht?Zt*mt-Ut*yt:Zt*mt+Ut*yt,jt+=Yt,Xt&&bt.restore()}Ht?ft.y-=jt:ft.x+=jt*At,bt.restore(),this.compose()}showType3Text(lt){const ft=this.ctx,it=this.current,at=it.font,bt=it.fontSize,St=it.fontDirection,ht=at.vertical?1:-1,vt=it.charSpacing,yt=it.wordSpacing,At=it.textHScale*St,Nt=it.fontMatrix||ot.FONT_IDENTITY_MATRIX,Ht=lt.length;let xt,rt,mt,Mt;if(it.textRenderingMode!==ot.TextRenderingMode.INVISIBLE&&bt!==0){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,ft.save(),ft.transform(...it.textMatrix),ft.translate(it.x,it.y),ft.scale(At,St),xt=0;xt<Ht;++xt){if(rt=lt[xt],typeof rt=="number"){Mt=ht*rt*bt/1e3,this.ctx.translate(Mt,0),it.x+=Mt*At;continue}const _t=(rt.isSpace?yt:0)+vt,Lt=at.charProcOperatorList[rt.operatorListId];if(!Lt){(0,ot.warn)(`Type3 character "${rt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=rt,this.save(),ft.scale(bt,bt),ft.transform(...Nt),this.executeOperatorList(Lt),this.restore()),mt=ot.Util.applyTransform([rt.width,0],Nt)[0]*bt+_t,ft.translate(mt,0),it.x+=mt*At}ft.restore(),this.processingType3=null}}setCharWidth(lt,ft){}setCharWidthAndBounds(lt,ft,it,at,bt,St){this.ctx.rect(it,at,bt-it,St-at),this.ctx.clip(),this.endPath()}getColorN_Pattern(lt){let ft;if(lt[0]==="TilingPattern"){const it=lt[1],at=this.baseTransform||(0,_e.getCurrentTransform)(this.ctx),bt={createCanvasGraphics:St=>new Rt(St,this.commonObjs,this.objs,this.canvasFactory)};ft=new $t.TilingPattern(lt,it,this.ctx,bt,at)}else ft=this._getPattern(lt[1],lt[2]);return ft}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(lt,ft,it){var bt;const at=((bt=this.selectColor)==null?void 0:bt.call(this,lt,ft,it))||ot.Util.makeHexColor(lt,ft,it);this.ctx.strokeStyle=at,this.current.strokeColor=at}setFillRGBColor(lt,ft,it){var bt;const at=((bt=this.selectColor)==null?void 0:bt.call(this,lt,ft,it))||ot.Util.makeHexColor(lt,ft,it);this.ctx.fillStyle=at,this.current.fillColor=at,this.current.patternFill=!1}_getPattern(lt,ft=null){let it;return this.cachedPatterns.has(lt)?it=this.cachedPatterns.get(lt):(it=(0,$t.getShadingPattern)(this.objs.get(lt)),this.cachedPatterns.set(lt,it)),ft&&(it.matrix=ft),it}shadingFill(lt){if(!this.contentVisible)return;const ft=this.ctx;this.save();const it=this._getPattern(lt);ft.fillStyle=it.getPattern(ft,this,(0,_e.getCurrentTransformInverse)(ft),$t.PathType.SHADING);const at=(0,_e.getCurrentTransformInverse)(ft);if(at){const bt=ft.canvas,St=bt.width,ht=bt.height,vt=ot.Util.applyTransform([0,0],at),yt=ot.Util.applyTransform([0,ht],at),At=ot.Util.applyTransform([St,0],at),Nt=ot.Util.applyTransform([St,ht],at),Ht=Math.min(vt[0],yt[0],At[0],Nt[0]),xt=Math.min(vt[1],yt[1],At[1],Nt[1]),rt=Math.max(vt[0],yt[0],At[0],Nt[0]),mt=Math.max(vt[1],yt[1],At[1],Nt[1]);this.ctx.fillRect(Ht,xt,rt-Ht,mt-xt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,ot.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,ot.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(lt,ft){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(lt)&&lt.length===6&&this.transform(...lt),this.baseTransform=(0,_e.getCurrentTransform)(this.ctx),ft)){const it=ft[2]-ft[0],at=ft[3]-ft[1];this.ctx.rect(ft[0],ft[1],it,at),this.current.updateRectMinMax((0,_e.getCurrentTransform)(this.ctx),ft),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(lt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const ft=this.ctx;lt.isolated||(0,ot.info)("TODO: Support non-isolated groups."),lt.knockout&&(0,ot.warn)("Knockout groups not supported.");const it=(0,_e.getCurrentTransform)(ft);if(lt.matrix&&ft.transform(...lt.matrix),!lt.bbox)throw new Error("Bounding box is required.");let at=ot.Util.getAxialAlignedBoundingBox(lt.bbox,(0,_e.getCurrentTransform)(ft));const bt=[0,0,ft.canvas.width,ft.canvas.height];at=ot.Util.intersect(at,bt)||[0,0,0,0];const St=Math.floor(at[0]),ht=Math.floor(at[1]);let vt=Math.max(Math.ceil(at[2])-St,1),yt=Math.max(Math.ceil(at[3])-ht,1),At=1,Nt=1;vt>Et&&(At=vt/Et,vt=Et),yt>Et&&(Nt=yt/Et,yt=Et),this.current.startNewPathAndClipBox([0,0,vt,yt]);let Ht="groupAt"+this.groupLevel;lt.smask&&(Ht+="_smask_"+this.smaskCounter++%2);const xt=this.cachedCanvases.getCanvas(Ht,vt,yt),rt=xt.context;rt.scale(1/At,1/Nt),rt.translate(-St,-ht),rt.transform(...it),lt.smask?this.smaskStack.push({canvas:xt.canvas,context:rt,offsetX:St,offsetY:ht,scaleX:At,scaleY:Nt,subtype:lt.smask.subtype,backdrop:lt.smask.backdrop,transferMap:lt.smask.transferMap||null,startTransformInverse:null}):(ft.setTransform(1,0,0,1,0,0),ft.translate(St,ht),ft.scale(At,Nt),ft.save()),$(ft,rt),this.ctx=rt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(ft),this.groupLevel++}endGroup(lt){if(!this.contentVisible)return;this.groupLevel--;const ft=this.ctx,it=this.groupStack.pop();if(this.ctx=it,this.ctx.imageSmoothingEnabled=!1,lt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const at=(0,_e.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...at);const bt=ot.Util.getAxialAlignedBoundingBox([0,0,ft.canvas.width,ft.canvas.height],at);this.ctx.drawImage(ft.canvas,0,0),this.ctx.restore(),this.compose(bt)}}beginAnnotation(lt,ft,it,at,bt){if(wn(this,Bt,b1).call(this),d(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(ft)&&ft.length===4){const St=ft[2]-ft[0],ht=ft[3]-ft[1];if(bt&&this.annotationCanvasMap){(it=it.slice())[4]-=ft[0],it[5]-=ft[1],(ft=ft.slice())[0]=ft[1]=0,ft[2]=St,ft[3]=ht;const[vt,yt]=ot.Util.singularValueDecompose2dScale((0,_e.getCurrentTransform)(this.ctx)),{viewportScale:At}=this,Nt=Math.ceil(St*this.outputScaleX*At),Ht=Math.ceil(ht*this.outputScaleY*At);this.annotationCanvas=this.canvasFactory.create(Nt,Ht);const{canvas:xt,context:rt}=this.annotationCanvas;this.annotationCanvasMap.set(lt,xt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=rt,this.ctx.setTransform(vt,0,0,-yt,0,ht*yt),d(this.ctx,this.foregroundColor)}else d(this.ctx,this.foregroundColor),this.ctx.rect(ft[0],ft[1],St,ht),this.ctx.clip(),this.endPath()}this.current=new e(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...it),this.transform(...at)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(lt){if(!this.contentVisible)return;const ft=lt.count;(lt=this.getObject(lt.data,lt)).count=ft;const it=this.ctx,at=this.processingType3;if(at&&(at.compiled===void 0&&(at.compiled=function(vt){const{width:yt,height:At}=vt;if(yt>s||At>s)return null;const Nt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Ht=yt+1;let xt,rt,mt,Mt=new Uint8Array(Ht*(At+1));const _t=yt+7&-8;let Lt=new Uint8Array(_t*At),It=0;for(const Xt of vt.data){let Ut=128;for(;Ut>0;)Lt[It++]=Xt&Ut?0:255,Ut>>=1}let Dt=0;for(It=0,Lt[It]!==0&&(Mt[0]=1,++Dt),rt=1;rt<yt;rt++)Lt[It]!==Lt[It+1]&&(Mt[rt]=Lt[It]?2:1,++Dt),It++;for(Lt[It]!==0&&(Mt[rt]=2,++Dt),xt=1;xt<At;xt++){It=xt*_t,mt=xt*Ht,Lt[It-_t]!==Lt[It]&&(Mt[mt]=Lt[It]?1:8,++Dt);let Xt=(Lt[It]?4:0)+(Lt[It-_t]?8:0);for(rt=1;rt<yt;rt++)Xt=(Xt>>2)+(Lt[It+1]?4:0)+(Lt[It-_t+1]?8:0),Nt[Xt]&&(Mt[mt+rt]=Nt[Xt],++Dt),It++;if(Lt[It-_t]!==Lt[It]&&(Mt[mt+rt]=Lt[It]?2:4,++Dt),Dt>1e3)return null}for(It=_t*(At-1),mt=xt*Ht,Lt[It]!==0&&(Mt[mt]=8,++Dt),rt=1;rt<yt;rt++)Lt[It]!==Lt[It+1]&&(Mt[mt+rt]=Lt[It]?4:8,++Dt),It++;if(Lt[It]!==0&&(Mt[mt+rt]=4,++Dt),Dt>1e3)return null;const jt=new Int32Array([0,Ht,-1,0,-Ht,0,0,0,1]),Ot=new Path2D;for(xt=0;Dt&&xt<=At;xt++){let Xt=xt*Ht;const Ut=Xt+yt;for(;Xt<Ut&&!Mt[Xt];)Xt++;if(Xt===Ut)continue;Ot.moveTo(Xt%Ht,xt);const Gt=Xt;let qt=Mt[Xt];do{const Kt=jt[qt];do Xt+=Kt;while(!Mt[Xt]);const Vt=Mt[Xt];Vt!==5&&Vt!==10?(qt=Vt,Mt[Xt]=0):(qt=Vt&51*qt>>4,Mt[Xt]&=qt>>2|qt<<2),Ot.lineTo(Xt%Ht,Xt/Ht|0),Mt[Xt]||--Dt}while(Gt!==Xt);--xt}return Lt=null,Mt=null,function(Xt){Xt.save(),Xt.scale(1/yt,-1/At),Xt.translate(0,-At),Xt.fill(Ot),Xt.beginPath(),Xt.restore()}}(lt)),at.compiled)){at.compiled(it);return}const bt=this._createMaskCanvas(lt),St=bt.canvas;it.save(),it.setTransform(1,0,0,1,0,0),it.drawImage(St,bt.offsetX,bt.offsetY),it.restore(),this.compose()}paintImageMaskXObjectRepeat(lt,ft,it=0,at=0,bt,St){if(!this.contentVisible)return;lt=this.getObject(lt.data,lt);const ht=this.ctx;ht.save();const vt=(0,_e.getCurrentTransform)(ht);ht.transform(ft,it,at,bt,0,0);const yt=this._createMaskCanvas(lt);ht.setTransform(1,0,0,1,0,0);for(let At=0,Nt=St.length;At<Nt;At+=2){const Ht=ot.Util.transform(vt,[ft,it,at,bt,St[At],St[At+1]]),[xt,rt]=ot.Util.applyTransform([0,0],Ht);ht.drawImage(yt.canvas,xt,rt)}ht.restore(),this.compose()}paintImageMaskXObjectGroup(lt){if(!this.contentVisible)return;const ft=this.ctx,it=this.current.fillColor,at=this.current.patternFill;for(const bt of lt){const{data:St,width:ht,height:vt,transform:yt}=bt,At=this.cachedCanvases.getCanvas("maskCanvas",ht,vt),Nt=At.context;Nt.save(),_(Nt,this.getObject(St,bt)),Nt.globalCompositeOperation="source-in",Nt.fillStyle=at?it.getPattern(Nt,this,(0,_e.getCurrentTransformInverse)(ft),$t.PathType.FILL):it,Nt.fillRect(0,0,ht,vt),Nt.restore(),ft.save(),ft.transform(...yt),ft.scale(1,-1),wt(ft,At.canvas,0,0,ht,vt,0,-1,1,1),ft.restore()}this.compose()}paintImageXObject(lt){if(!this.contentVisible)return;const ft=this.getObject(lt);ft?this.paintInlineImageXObject(ft):(0,ot.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(lt,ft,it,at){if(!this.contentVisible)return;const bt=this.getObject(lt);if(!bt){(0,ot.warn)("Dependent image isn't ready yet");return}const St=bt.width,ht=bt.height,vt=[];for(let yt=0,At=at.length;yt<At;yt+=2)vt.push({transform:[ft,0,0,it,at[yt],at[yt+1]],x:0,y:0,w:St,h:ht});this.paintInlineImageXObjectGroup(bt,vt)}paintInlineImageXObject(lt){if(!this.contentVisible)return;const ft=lt.width,it=lt.height,at=this.ctx;this.save(),at.scale(1/ft,-1/it);let bt;if(typeof HTMLElement=="function"&&lt instanceof HTMLElement||!lt.data)bt=lt;else{const yt=this.cachedCanvases.getCanvas("inlineImage",ft,it);gt(yt.context,lt,this.current.transferMaps),bt=yt.canvas}const St=this._scaleImage(bt,(0,_e.getCurrentTransformInverse)(at));at.imageSmoothingEnabled=dt((0,_e.getCurrentTransform)(at),lt.interpolate);const[ht,vt]=wt(at,St.img,0,0,St.paintWidth,St.paintHeight,0,-it,ft,it);if(this.imageLayer){const[yt,At]=ot.Util.applyTransform([0,-it],(0,_e.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:lt,left:yt,top:At,width:ht,height:vt})}this.compose(),this.restore()}paintInlineImageXObjectGroup(lt,ft){if(!this.contentVisible)return;const it=this.ctx,at=lt.width,bt=lt.height,St=this.cachedCanvases.getCanvas("inlineImage",at,bt);gt(St.context,lt,this.current.transferMaps);for(const ht of ft){if(it.save(),it.transform(...ht.transform),it.scale(1,-1),wt(it,St.canvas,ht.x,ht.y,ht.w,ht.h,0,-1,1,1),this.imageLayer){const[vt,yt]=ot.Util.applyTransform([ht.x,ht.y],(0,_e.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:lt,left:vt,top:yt,width:at,height:bt})}it.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(lt){}markPointProps(lt,ft){}beginMarkedContent(lt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(lt,ft){lt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(ft)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(lt){const ft=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(lt);const it=this.ctx;this.pendingClip&&(ft||(this.pendingClip===nt?it.clip("evenodd"):it.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),it.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const lt=(0,_e.getCurrentTransform)(this.ctx);if(lt[1]===0&&lt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(lt[0]),Math.abs(lt[3]));else{const ft=Math.abs(lt[0]*lt[3]-lt[2]*lt[1]),it=Math.hypot(lt[0],lt[2]),at=Math.hypot(lt[1],lt[3]);this._cachedGetSinglePixelWidth=Math.max(it,at)/ft}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:lt}=this.current,ft=(0,_e.getCurrentTransform)(this.ctx);let it,at;if(ft[1]===0&&ft[2]===0){const bt=Math.abs(ft[0]),St=Math.abs(ft[3]);if(lt===0)it=1/bt,at=1/St;else{const ht=bt*lt,vt=St*lt;it=ht<1?1/ht:1,at=vt<1?1/vt:1}}else{const bt=Math.abs(ft[0]*ft[3]-ft[2]*ft[1]),St=Math.hypot(ft[0],ft[1]),ht=Math.hypot(ft[2],ft[3]);if(lt===0)it=ht/bt,at=St/bt;else{const vt=lt*bt;it=ht>vt?ht/vt:1,at=St>vt?St/vt:1}}this._cachedScaleForStroking=[it,at]}return this._cachedScaleForStroking}rescaleAndStroke(lt){const{ctx:ft}=this,{lineWidth:it}=this.current,[at,bt]=this.getScaleForStroking();if(ft.lineWidth=it||1,at===1&&bt===1){ft.stroke();return}let St,ht,vt;lt&&(St=(0,_e.getCurrentTransform)(ft),ht=ft.getLineDash().slice(),vt=ft.lineDashOffset),ft.scale(at,bt);const yt=Math.max(at,bt);ft.setLineDash(ft.getLineDash().map(At=>At/yt)),ft.lineDashOffset/=yt,ft.stroke(),lt&&(ft.setTransform(...St),ft.setLineDash(ht),ft.lineDashOffset=vt)}isContentVisible(){for(let lt=this.markedContentStack.length-1;lt>=0;lt--)if(!this.markedContentStack[lt].visible)return!1;return!0}};Bt=new WeakSet,b1=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)};let pt=Rt;a.CanvasGraphics=pt;for(const Ft in ot.OPS)pt.prototype[Ft]!==void 0&&(pt.prototype[ot.OPS[Ft]]=pt.prototype[Ft])},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TilingPattern=a.PathType=void 0,a.getShadingPattern=function(j){switch(j[0]){case"RadialAxial":return new s(j);case"Mesh":return new wt(j);case"Dummy":return new e}throw new Error(`Unknown IR type: ${j[0]}`)};var _e=c(1),ot=c(8),$t=c(3);const zt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};a.PathType=zt;function ct(d,j){if(!j||$t.isNodeJS)return;const g=j[2]-j[0],o=j[3]-j[1],ut=new Path2D;ut.rect(j[0],j[1],g,o),d.clip(ut)}class Et{constructor(){this.constructor===Et&&(0,_e.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,_e.unreachable)("Abstract method `getPattern` called.")}}class s extends Et{constructor(j){super(),this._type=j[1],this._bbox=j[2],this._colorStops=j[3],this._p0=j[4],this._p1=j[5],this._r0=j[6],this._r1=j[7],this.matrix=null}_createGradient(j){let g;this._type==="axial"?g=j.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(g=j.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const o of this._colorStops)g.addColorStop(o[0],o[1]);return g}getPattern(j,g,o,ut){let dt;if(ut===zt.STROKE||ut===zt.FILL){const b=g.current.getClippedPathBoundingBox(ut,(0,ot.getCurrentTransform)(j))||[0,0,0,0],h=Math.ceil(b[2]-b[0])||1,et=Math.ceil(b[3]-b[1])||1,nt=g.cachedCanvases.getCanvas("pattern",h,et,!0),pt=nt.context;pt.clearRect(0,0,pt.canvas.width,pt.canvas.height),pt.beginPath(),pt.rect(0,0,pt.canvas.width,pt.canvas.height),pt.translate(-b[0],-b[1]),o=_e.Util.transform(o,[1,0,0,1,b[0],b[1]]),pt.transform(...g.baseTransform),this.matrix&&pt.transform(...this.matrix),ct(pt,this._bbox),pt.fillStyle=this._createGradient(pt),pt.fill(),dt=j.createPattern(nt.canvas,"no-repeat");const Bt=new DOMMatrix(o);try{dt.setTransform(Bt)}catch(Pt){(0,_e.warn)(`RadialAxialShadingPattern.getPattern: "${Pt==null?void 0:Pt.message}".`)}}else ct(j,this._bbox),dt=this._createGradient(j);return dt}}function st(d,j,g,o,ut,dt,b,h){const et=j.coords,nt=j.colors,pt=d.data,Bt=4*d.width;let Pt;et[g+1]>et[o+1]&&(Pt=g,g=o,o=Pt,Pt=dt,dt=b,b=Pt),et[o+1]>et[ut+1]&&(Pt=o,o=ut,ut=Pt,Pt=b,b=h,h=Pt),et[g+1]>et[o+1]&&(Pt=g,g=o,o=Pt,Pt=dt,dt=b,b=Pt);const Rt=(et[g]+j.offsetX)*j.scaleX,Ft=(et[g+1]+j.offsetY)*j.scaleY,lt=(et[o]+j.offsetX)*j.scaleX,ft=(et[o+1]+j.offsetY)*j.scaleY,it=(et[ut]+j.offsetX)*j.scaleX,at=(et[ut+1]+j.offsetY)*j.scaleY;if(Ft>=at)return;const bt=nt[dt],St=nt[dt+1],ht=nt[dt+2],vt=nt[b],yt=nt[b+1],At=nt[b+2],Nt=nt[h],Ht=nt[h+1],xt=nt[h+2],rt=Math.round(Ft),mt=Math.round(at);let Mt,_t,Lt,It,Dt,jt,Ot,Xt;for(let Ut=rt;Ut<=mt;Ut++){if(Ut<ft){let Yt;Yt=Ut<Ft?0:(Ft-Ut)/(Ft-ft),Mt=Rt-(Rt-lt)*Yt,_t=bt-(bt-vt)*Yt,Lt=St-(St-yt)*Yt,It=ht-(ht-At)*Yt}else{let Yt;Yt=Ut>at?1:ft===at?0:(ft-Ut)/(ft-at),Mt=lt-(lt-it)*Yt,_t=vt-(vt-Nt)*Yt,Lt=yt-(yt-Ht)*Yt,It=At-(At-xt)*Yt}let Gt;Gt=Ut<Ft?0:Ut>at?1:(Ft-Ut)/(Ft-at),Dt=Rt-(Rt-it)*Gt,jt=bt-(bt-Nt)*Gt,Ot=St-(St-Ht)*Gt,Xt=ht-(ht-xt)*Gt;const qt=Math.round(Math.min(Mt,Dt)),Kt=Math.round(Math.max(Mt,Dt));let Vt=Bt*Ut+4*qt;for(let Yt=qt;Yt<=Kt;Yt++)Gt=(Mt-Yt)/(Mt-Dt),Gt<0?Gt=0:Gt>1&&(Gt=1),pt[Vt++]=_t-(_t-jt)*Gt|0,pt[Vt++]=Lt-(Lt-Ot)*Gt|0,pt[Vt++]=It-(It-Xt)*Gt|0,pt[Vt++]=255}}function Tt(d,j,g){const o=j.coords,ut=j.colors;let dt,b;switch(j.type){case"lattice":const h=j.verticesPerRow,et=Math.floor(o.length/h)-1,nt=h-1;for(dt=0;dt<et;dt++){let pt=dt*h;for(let Bt=0;Bt<nt;Bt++,pt++)st(d,g,o[pt],o[pt+1],o[pt+h],ut[pt],ut[pt+1],ut[pt+h]),st(d,g,o[pt+h+1],o[pt+1],o[pt+h],ut[pt+h+1],ut[pt+1],ut[pt+h])}break;case"triangles":for(dt=0,b=o.length;dt<b;dt+=3)st(d,g,o[dt],o[dt+1],o[dt+2],ut[dt],ut[dt+1],ut[dt+2]);break;default:throw new Error("illegal figure")}}class wt extends Et{constructor(j){super(),this._coords=j[2],this._colors=j[3],this._figures=j[4],this._bounds=j[5],this._bbox=j[7],this._background=j[8],this.matrix=null}_createMeshCanvas(j,g,o){const ut=Math.floor(this._bounds[0]),dt=Math.floor(this._bounds[1]),b=Math.ceil(this._bounds[2])-ut,h=Math.ceil(this._bounds[3])-dt,et=Math.min(Math.ceil(Math.abs(b*j[0]*1.1)),3e3),nt=Math.min(Math.ceil(Math.abs(h*j[1]*1.1)),3e3),pt=b/et,Bt=h/nt,Pt={coords:this._coords,colors:this._colors,offsetX:-ut,offsetY:-dt,scaleX:1/pt,scaleY:1/Bt},Rt=et+4,Ft=nt+4,lt=o.getCanvas("mesh",Rt,Ft,!1),ft=lt.context,it=ft.createImageData(et,nt);if(g){const at=it.data;for(let bt=0,St=at.length;bt<St;bt+=4)at[bt]=g[0],at[bt+1]=g[1],at[bt+2]=g[2],at[bt+3]=255}for(const at of this._figures)Tt(it,at,Pt);return ft.putImageData(it,2,2),{canvas:lt.canvas,offsetX:ut-2*pt,offsetY:dt-2*Bt,scaleX:pt,scaleY:Bt}}getPattern(j,g,o,ut){ct(j,this._bbox);let dt;if(ut===zt.SHADING)dt=_e.Util.singularValueDecompose2dScale((0,ot.getCurrentTransform)(j));else if(dt=_e.Util.singularValueDecompose2dScale(g.baseTransform),this.matrix){const h=_e.Util.singularValueDecompose2dScale(this.matrix);dt=[dt[0]*h[0],dt[1]*h[1]]}const b=this._createMeshCanvas(dt,ut===zt.SHADING?null:this._background,g.cachedCanvases);return ut!==zt.SHADING&&(j.setTransform(...g.baseTransform),this.matrix&&j.transform(...this.matrix)),j.translate(b.offsetX,b.offsetY),j.scale(b.scaleX,b.scaleY),j.createPattern(b.canvas,"no-repeat")}}class e extends Et{getPattern(){return"hotpink"}}const gt=1,_=2;class ${static get MAX_PATTERN_SIZE(){return(0,_e.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(j,g,o,ut,dt){this.operatorList=j[2],this.matrix=j[3]||[1,0,0,1,0,0],this.bbox=j[4],this.xstep=j[5],this.ystep=j[6],this.paintType=j[7],this.tilingType=j[8],this.color=g,this.ctx=o,this.canvasGraphicsFactory=ut,this.baseTransform=dt}createPatternCanvas(j){const g=this.operatorList,o=this.bbox,ut=this.xstep,dt=this.ystep,b=this.paintType,h=this.tilingType,et=this.color,nt=this.canvasGraphicsFactory;(0,_e.info)("TilingType: "+h);const pt=o[0],Bt=o[1],Pt=o[2],Rt=o[3],Ft=_e.Util.singularValueDecompose2dScale(this.matrix),lt=_e.Util.singularValueDecompose2dScale(this.baseTransform),ft=[Ft[0]*lt[0],Ft[1]*lt[1]],it=this.getSizeAndScale(ut,this.ctx.canvas.width,ft[0]),at=this.getSizeAndScale(dt,this.ctx.canvas.height,ft[1]),bt=j.cachedCanvases.getCanvas("pattern",it.size,at.size,!0),St=bt.context,ht=nt.createCanvasGraphics(St);ht.groupLevel=j.groupLevel,this.setFillAndStrokeStyleToContext(ht,b,et);let vt=pt,yt=Bt,At=Pt,Nt=Rt;return pt<0&&(vt=0,At+=Math.abs(pt)),Bt<0&&(yt=0,Nt+=Math.abs(Bt)),St.translate(-it.scale*vt,-at.scale*yt),ht.transform(it.scale,0,0,at.scale,0,0),St.save(),this.clipBbox(ht,vt,yt,At,Nt),ht.baseTransform=(0,ot.getCurrentTransform)(ht.ctx),ht.executeOperatorList(g),ht.endDrawing(),{canvas:bt.canvas,scaleX:it.scale,scaleY:at.scale,offsetX:vt,offsetY:yt}}getSizeAndScale(j,g,o){j=Math.abs(j);const ut=Math.max($.MAX_PATTERN_SIZE,g);let dt=Math.ceil(j*o);return dt>=ut?dt=ut:o=dt/j,{scale:o,size:dt}}clipBbox(j,g,o,ut,dt){const b=ut-g,h=dt-o;j.ctx.rect(g,o,b,h),j.current.updateRectMinMax((0,ot.getCurrentTransform)(j.ctx),[g,o,ut,dt]),j.clip(),j.endPath()}setFillAndStrokeStyleToContext(j,g,o){const ut=j.ctx,dt=j.current;switch(g){case gt:const b=this.ctx;ut.fillStyle=b.fillStyle,ut.strokeStyle=b.strokeStyle,dt.fillColor=b.fillStyle,dt.strokeColor=b.strokeStyle;break;case _:const h=_e.Util.makeHexColor(o[0],o[1],o[2]);ut.fillStyle=h,ut.strokeStyle=h,dt.fillColor=h,dt.strokeColor=h;break;default:throw new _e.FormatError(`Unsupported paint type: ${g}`)}}getPattern(j,g,o,ut){let dt=o;ut!==zt.SHADING&&(dt=_e.Util.transform(dt,g.baseTransform),this.matrix&&(dt=_e.Util.transform(dt,this.matrix)));const b=this.createPatternCanvas(g);let h=new DOMMatrix(dt);h=h.translate(b.offsetX,b.offsetY),h=h.scale(1/b.scaleX,1/b.scaleY);const et=j.createPattern(b.canvas,"repeat");try{et.setTransform(h)}catch(nt){(0,_e.warn)(`TilingPattern.getPattern: "${nt==null?void 0:nt.message}".`)}return et}}a.TilingPattern=$},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.applyMaskImageData=function({src:$t,srcPos:zt=0,dest:ct,destPos:Et=0,width:s,height:st,inverseDecode:Tt=!1}){const wt=_e.FeatureTest.isLittleEndian?4278190080:255,[e,gt]=Tt?[0,wt]:[wt,0],_=s>>3,$=7&s,d=$t.length;ct=new Uint32Array(ct.buffer);for(let j=0;j<st;j++){for(const o=zt+_;zt<o;zt++){const ut=zt<d?$t[zt]:255;ct[Et++]=128&ut?gt:e,ct[Et++]=64&ut?gt:e,ct[Et++]=32&ut?gt:e,ct[Et++]=16&ut?gt:e,ct[Et++]=8&ut?gt:e,ct[Et++]=4&ut?gt:e,ct[Et++]=2&ut?gt:e,ct[Et++]=1&ut?gt:e}if($===0)continue;const g=zt<d?$t[zt++]:255;for(let o=0;o<$;o++)ct[Et++]=g&1<<7-o?gt:e}return{srcPos:zt,destPos:Et}};var _e=c(1)},(i,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.GlobalWorkerOptions=void 0;const c=Object.create(null);a.GlobalWorkerOptions=c,c.workerPort=c.workerPort===void 0?null:c.workerPort,c.workerSrc=c.workerSrc===void 0?"":c.workerSrc},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MessageHandler=void 0;var _e=c(1);const ot=1,$t=2,zt=1,ct=2,Et=3,s=4,st=5,Tt=6,wt=7,e=8;function gt(_){switch(_ instanceof Error||typeof _=="object"&&_!==null||(0,_e.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),_.name){case"AbortException":return new _e.AbortException(_.message);case"MissingPDFException":return new _e.MissingPDFException(_.message);case"PasswordException":return new _e.PasswordException(_.message,_.code);case"UnexpectedResponseException":return new _e.UnexpectedResponseException(_.message,_.status);case"UnknownErrorException":return new _e.UnknownErrorException(_.message,_.details);default:return new _e.UnknownErrorException(_.message,_.toString())}}a.MessageHandler=class{constructor($,d,j){this.sourceName=$,this.targetName=d,this.comObj=j,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=g=>{const o=g.data;if(o.targetName!==this.sourceName)return;if(o.stream){this._processStreamMessage(o);return}if(o.callback){const dt=o.callbackId,b=this.callbackCapabilities[dt];if(!b)throw new Error(`Cannot resolve callback ${dt}`);if(delete this.callbackCapabilities[dt],o.callback===ot)b.resolve(o.data);else{if(o.callback!==$t)throw new Error("Unexpected callback case");b.reject(gt(o.reason))}return}const ut=this.actionHandler[o.action];if(!ut)throw new Error(`Unknown action from worker: ${o.action}`);if(o.callbackId){const dt=this.sourceName,b=o.sourceName;new Promise(function(h){h(ut(o.data))}).then(function(h){j.postMessage({sourceName:dt,targetName:b,callback:ot,callbackId:o.callbackId,data:h})},function(h){j.postMessage({sourceName:dt,targetName:b,callback:$t,callbackId:o.callbackId,reason:gt(h)})})}else o.streamId?this._createStreamSink(o):ut(o.data)},j.addEventListener("message",this._onComObjOnMessage)}on($,d){const j=this.actionHandler;if(j[$])throw new Error(`There is already an actionName called "${$}"`);j[$]=d}send($,d,j){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:$,data:d},j)}sendWithPromise($,d,j){const g=this.callbackId++,o=(0,_e.createPromiseCapability)();this.callbackCapabilities[g]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:$,callbackId:g,data:d},j)}catch(ut){o.reject(ut)}return o.promise}sendWithStream($,d,j,g){const o=this.streamId++,ut=this.sourceName,dt=this.targetName,b=this.comObj;return new ReadableStream({start:h=>{const et=(0,_e.createPromiseCapability)();return this.streamControllers[o]={controller:h,startCall:et,pullCall:null,cancelCall:null,isClosed:!1},b.postMessage({sourceName:ut,targetName:dt,action:$,streamId:o,data:d,desiredSize:h.desiredSize},g),et.promise},pull:h=>{const et=(0,_e.createPromiseCapability)();return this.streamControllers[o].pullCall=et,b.postMessage({sourceName:ut,targetName:dt,stream:Tt,streamId:o,desiredSize:h.desiredSize}),et.promise},cancel:h=>{(0,_e.assert)(h instanceof Error,"cancel must have a valid reason");const et=(0,_e.createPromiseCapability)();return this.streamControllers[o].cancelCall=et,this.streamControllers[o].isClosed=!0,b.postMessage({sourceName:ut,targetName:dt,stream:zt,streamId:o,reason:gt(h)}),et.promise}},j)}_createStreamSink($){const d=$.streamId,j=this.sourceName,g=$.sourceName,o=this.comObj,ut=this,dt=this.actionHandler[$.action],b={enqueue(h,et=1,nt){if(this.isCancelled)return;const pt=this.desiredSize;this.desiredSize-=et,pt>0&&this.desiredSize<=0&&(this.sinkCapability=(0,_e.createPromiseCapability)(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:j,targetName:g,stream:s,streamId:d,chunk:h},nt)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:j,targetName:g,stream:Et,streamId:d}),delete ut.streamSinks[d])},error(h){(0,_e.assert)(h instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:j,targetName:g,stream:st,streamId:d,reason:gt(h)}))},sinkCapability:(0,_e.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:$.desiredSize,ready:null};b.sinkCapability.resolve(),b.ready=b.sinkCapability.promise,this.streamSinks[d]=b,new Promise(function(h){h(dt($.data,b))}).then(function(){o.postMessage({sourceName:j,targetName:g,stream:e,streamId:d,success:!0})},function(h){o.postMessage({sourceName:j,targetName:g,stream:e,streamId:d,reason:gt(h)})})}_processStreamMessage($){const d=$.streamId,j=this.sourceName,g=$.sourceName,o=this.comObj,ut=this.streamControllers[d],dt=this.streamSinks[d];switch($.stream){case e:$.success?ut.startCall.resolve():ut.startCall.reject(gt($.reason));break;case wt:$.success?ut.pullCall.resolve():ut.pullCall.reject(gt($.reason));break;case Tt:if(!dt){o.postMessage({sourceName:j,targetName:g,stream:wt,streamId:d,success:!0});break}dt.desiredSize<=0&&$.desiredSize>0&&dt.sinkCapability.resolve(),dt.desiredSize=$.desiredSize,new Promise(function(b){b(dt.onPull&&dt.onPull())}).then(function(){o.postMessage({sourceName:j,targetName:g,stream:wt,streamId:d,success:!0})},function(b){o.postMessage({sourceName:j,targetName:g,stream:wt,streamId:d,reason:gt(b)})});break;case s:if((0,_e.assert)(ut,"enqueue should have stream controller"),ut.isClosed)break;ut.controller.enqueue($.chunk);break;case Et:if((0,_e.assert)(ut,"close should have stream controller"),ut.isClosed)break;ut.isClosed=!0,ut.controller.close(),this._deleteStreamController(ut,d);break;case st:(0,_e.assert)(ut,"error should have stream controller"),ut.controller.error(gt($.reason)),this._deleteStreamController(ut,d);break;case ct:$.success?ut.cancelCall.resolve():ut.cancelCall.reject(gt($.reason)),this._deleteStreamController(ut,d);break;case zt:if(!dt)break;new Promise(function(b){b(dt.onCancel&&dt.onCancel(gt($.reason)))}).then(function(){o.postMessage({sourceName:j,targetName:g,stream:ct,streamId:d,success:!0})},function(b){o.postMessage({sourceName:j,targetName:g,stream:ct,streamId:d,reason:gt(b)})}),dt.sinkCapability.reject(gt($.reason)),dt.isCancelled=!0,delete this.streamSinks[d];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController($,d){await Promise.allSettled([$.startCall&&$.startCall.promise,$.pullCall&&$.pullCall.promise,$.cancelCall&&$.cancelCall.promise]),delete this.streamControllers[d]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(i,a,c)=>{var ot,$t,zt;Object.defineProperty(a,"__esModule",{value:!0}),a.Metadata=void 0;var _e=c(1);a.Metadata=(zt=class{constructor({parsedData:Et,rawData:s}){Rn(this,ot);Rn(this,$t);Ln(this,ot,Et),Ln(this,$t,s)}getRaw(){return nn(this,$t)}get(Et){return nn(this,ot).get(Et)??null}getAll(){return(0,_e.objectFromMap)(nn(this,ot))}has(Et){return nn(this,ot).has(Et)}},ot=new WeakMap,$t=new WeakMap,zt)},(i,a,c)=>{var zt,ct,Et,s,st,Tt,y1,e;Object.defineProperty(a,"__esModule",{value:!0}),a.OptionalContentConfig=void 0;var _e=c(1);const ot=Symbol("INTERNAL");class $t{constructor(_,$){Rn(this,zt,!0);this.name=_,this.intent=$}get visible(){return nn(this,zt)}_setVisible(_,$){_!==ot&&(0,_e.unreachable)("Internal method `_setVisible` called."),Ln(this,zt,$)}}zt=new WeakMap,a.OptionalContentConfig=(e=class{constructor(_){Rn(this,Tt);Rn(this,ct,!0);Rn(this,Et,new Map);Rn(this,s,null);Rn(this,st,null);if(this.name=null,this.creator=null,_!==null){this.name=_.name,this.creator=_.creator,Ln(this,st,_.order);for(const $ of _.groups)nn(this,Et).set($.id,new $t($.name,$.intent));if(_.baseState==="OFF")for(const $ of nn(this,Et).values())$._setVisible(ot,!1);for(const $ of _.on)nn(this,Et).get($)._setVisible(ot,!0);for(const $ of _.off)nn(this,Et).get($)._setVisible(ot,!1);Ln(this,s,new Map);for(const[$,d]of nn(this,Et))nn(this,s).set($,d.visible)}}isVisible(_){if(nn(this,Et).size===0)return!0;if(!_)return(0,_e.warn)("Optional content group not defined."),!0;if(_.type==="OCG")return nn(this,Et).has(_.id)?nn(this,Et).get(_.id).visible:((0,_e.warn)(`Optional content group not found: ${_.id}`),!0);if(_.type==="OCMD"){if(_.expression)return wn(this,Tt,y1).call(this,_.expression);if(!_.policy||_.policy==="AnyOn"){for(const $ of _.ids){if(!nn(this,Et).has($))return(0,_e.warn)(`Optional content group not found: ${$}`),!0;if(nn(this,Et).get($).visible)return!0}return!1}if(_.policy==="AllOn"){for(const $ of _.ids){if(!nn(this,Et).has($))return(0,_e.warn)(`Optional content group not found: ${$}`),!0;if(!nn(this,Et).get($).visible)return!1}return!0}if(_.policy==="AnyOff"){for(const $ of _.ids){if(!nn(this,Et).has($))return(0,_e.warn)(`Optional content group not found: ${$}`),!0;if(!nn(this,Et).get($).visible)return!0}return!1}if(_.policy==="AllOff"){for(const $ of _.ids){if(!nn(this,Et).has($))return(0,_e.warn)(`Optional content group not found: ${$}`),!0;if(nn(this,Et).get($).visible)return!1}return!0}return(0,_e.warn)(`Unknown optional content policy ${_.policy}.`),!0}return(0,_e.warn)(`Unknown group type ${_.type}.`),!0}setVisibility(_,$=!0){nn(this,Et).has(_)?(nn(this,Et).get(_)._setVisible(ot,!!$),Ln(this,ct,null)):(0,_e.warn)(`Optional content group not found: ${_}`)}get hasInitialVisibility(){if(nn(this,ct)!==null)return nn(this,ct);for(const[_,$]of nn(this,Et)){const d=nn(this,s).get(_);if($.visible!==d)return Ln(this,ct,!1)}return Ln(this,ct,!0)}getOrder(){return nn(this,Et).size?nn(this,st)?nn(this,st).slice():[...nn(this,Et).keys()]:null}getGroups(){return nn(this,Et).size>0?(0,_e.objectFromMap)(nn(this,Et)):null}getGroup(_){return nn(this,Et).get(_)||null}},ct=new WeakMap,Et=new WeakMap,s=new WeakMap,st=new WeakMap,Tt=new WeakSet,y1=function(_){const $=_.length;if($<2)return!0;const d=_[0];for(let j=1;j<$;j++){const g=_[j];let o;if(Array.isArray(g))o=wn(this,Tt,y1).call(this,g);else{if(!nn(this,Et).has(g))return(0,_e.warn)(`Optional content group not found: ${g}`),!0;o=nn(this,Et).get(g).visible}switch(d){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return d==="And"},e)},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFDataTransportStream=void 0;var _e=c(1),ot=c(8);a.PDFDataTransportStream=class{constructor(Et,s){(0,_e.assert)(s,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=Et.progressiveDone||!1,this._contentDispositionFilename=Et.contentDispositionFilename||null;const st=Et.initialData;if((st==null?void 0:st.length)>0){const Tt=new Uint8Array(st).buffer;this._queuedChunks.push(Tt)}this._pdfDataRangeTransport=s,this._isStreamingSupported=!Et.disableStream,this._isRangeSupported=!Et.disableRange,this._contentLength=Et.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((Tt,wt)=>{this._onReceiveData({begin:Tt,chunk:wt})}),this._pdfDataRangeTransport.addProgressListener((Tt,wt)=>{this._onProgress({loaded:Tt,total:wt})}),this._pdfDataRangeTransport.addProgressiveReadListener(Tt=>{this._onReceiveData({chunk:Tt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(Et){const s=new Uint8Array(Et.chunk).buffer;if(Et.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const st=this._rangeReaders.some(function(Tt){return Tt._begin!==Et.begin?!1:(Tt._enqueue(s),!0)});(0,_e.assert)(st,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var Et;return((Et=this._fullRequestReader)==null?void 0:Et._loaded)??0}_onProgress(Et){if(Et.total===void 0){const s=this._rangeReaders[0];s!=null&&s.onProgress&&s.onProgress({loaded:Et.loaded})}else{const s=this._fullRequestReader;s!=null&&s.onProgress&&s.onProgress({loaded:Et.loaded,total:Et.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(Et){const s=this._rangeReaders.indexOf(Et);s>=0&&this._rangeReaders.splice(s,1)}getFullReader(){(0,_e.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const Et=this._queuedChunks;return this._queuedChunks=null,new $t(this,Et,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(Et,s){if(s<=this._progressiveDataLength)return null;const st=new zt(this,Et,s);return this._pdfDataRangeTransport.requestDataRange(Et,s),this._rangeReaders.push(st),st}cancelAllRequests(Et){this._fullRequestReader&&this._fullRequestReader.cancel(Et);for(const s of this._rangeReaders.slice(0))s.cancel(Et);this._pdfDataRangeTransport.abort()}};class $t{constructor(Et,s,st=!1,Tt=null){this._stream=Et,this._done=st||!1,this._filename=(0,ot.isPdfFile)(Tt)?Tt:null,this._queuedChunks=s||[],this._loaded=0;for(const wt of this._queuedChunks)this._loaded+=wt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),Et._fullRequestReader=this,this.onProgress=null}_enqueue(Et){this._done||(this._requests.length>0?this._requests.shift().resolve({value:Et,done:!1}):this._queuedChunks.push(Et),this._loaded+=Et.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const Et=(0,_e.createPromiseCapability)();return this._requests.push(Et),Et.promise}cancel(Et){this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class zt{constructor(Et,s,st){this._stream=Et,this._begin=s,this._end=st,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(Et){if(!this._done){if(this._requests.length===0)this._queuedChunk=Et;else{this._requests.shift().resolve({value:Et,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const s=this._queuedChunk;return this._queuedChunk=null,{value:s,done:!1}}if(this._done)return{value:void 0,done:!0};const Et=(0,_e.createPromiseCapability)();return this._requests.push(Et),Et.promise}cancel(Et){this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(i,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.XfaText=void 0;class c{static textContent(ot){const $t=[],zt={items:$t,styles:Object.create(null)};return function ct(Et){var Tt;if(!Et)return;let s=null;const st=Et.name;if(st==="#text")s=Et.value;else{if(!c.shouldBuildText(st))return;(Tt=Et==null?void 0:Et.attributes)!=null&&Tt.textContent?s=Et.attributes.textContent:Et.value&&(s=Et.value)}if(s!==null&&$t.push({str:s}),Et.children)for(const wt of Et.children)ct(wt)}(ot),zt}static shouldBuildText(ot){return!(ot==="textarea"||ot==="input"||ot==="option"||ot==="select")}}a.XfaText=c},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.NodeStandardFontDataFactory=a.NodeCanvasFactory=a.NodeCMapReaderFactory=void 0;var _e=c(9);const ot=function(Et){return new Promise((s,st)=>{require$$5.readFile(Et,(Tt,wt)=>{!Tt&&wt?s(new Uint8Array(wt)):st(new Error(Tt))})})};class $t extends _e.BaseCanvasFactory{_createCanvas(s,st){return require$$5.createCanvas(s,st)}}a.NodeCanvasFactory=$t;class zt extends _e.BaseCMapReaderFactory{_fetchData(s,st){return ot(s).then(Tt=>({cMapData:Tt,compressionType:st}))}}a.NodeCMapReaderFactory=zt;class ct extends _e.BaseStandardFontDataFactory{_fetchData(s){return ot(s)}}a.NodeStandardFontDataFactory=ct},(i,a,c)=>{var Et,s,st,Tt,wt,e,gt,_,$,v1,n2,A1,r2;Object.defineProperty(a,"__esModule",{value:!0}),a.AnnotationEditorLayer=void 0;var _e=c(7),ot=c(1),$t=c(23),zt=c(24);const ut=class ut{constructor(b){Rn(this,$);Rn(this,Et);Rn(this,s,!1);Rn(this,st,this.pointerup.bind(this));Rn(this,Tt,this.pointerdown.bind(this));Rn(this,wt,new Map);Rn(this,e,!1);Rn(this,gt,!1);Rn(this,_);ut._initialized||(ut._initialized=!0,$t.FreeTextEditor.initialize(b.l10n),zt.InkEditor.initialize(b.l10n),b.uiManager.registerEditorTypes([$t.FreeTextEditor,zt.InkEditor])),Ln(this,_,b.uiManager),this.annotationStorage=b.annotationStorage,this.pageIndex=b.pageIndex,this.div=b.div,Ln(this,Et,b.accessibilityManager),nn(this,_).addLayer(this)}updateToolbar(b){nn(this,_).updateToolbar(b)}updateMode(b=nn(this,_).getMode()){wn(this,$,r2).call(this),b===ot.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),nn(this,_).unselectAll()}addInkEditorIfNeeded(b){if(!(!b&&nn(this,_).getMode()!==ot.AnnotationEditorType.INK)){if(!b){for(const h of nn(this,wt).values())if(h.isEmpty()){h.setInBackground();return}}wn(this,$,A1).call(this,{offsetX:0,offsetY:0}).setInBackground()}}setEditingState(b){nn(this,_).setEditingState(b)}addCommands(b){nn(this,_).addCommands(b)}enable(){this.div.style.pointerEvents="auto";for(const b of nn(this,wt).values())b.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const b of nn(this,wt).values())b.disableEditing()}setActiveEditor(b){nn(this,_).getActive()!==b&&nn(this,_).setActiveEditor(b)}enableClick(){this.div.addEventListener("pointerdown",nn(this,Tt)),this.div.addEventListener("pointerup",nn(this,st))}disableClick(){this.div.removeEventListener("pointerdown",nn(this,Tt)),this.div.removeEventListener("pointerup",nn(this,st))}attach(b){nn(this,wt).set(b.id,b)}detach(b){var h;nn(this,wt).delete(b.id),(h=nn(this,Et))==null||h.removePointerInTextLayer(b.contentDiv)}remove(b){nn(this,_).removeEditor(b),this.detach(b),this.annotationStorage.remove(b.id),b.div.style.display="none",setTimeout(()=>{b.div.style.display="",b.div.remove(),b.isAttachedToDOM=!1,document.activeElement===document.body&&nn(this,_).focusMainContainer()},0),nn(this,gt)||this.addInkEditorIfNeeded(!1)}add(b){if(wn(this,$,v1).call(this,b),nn(this,_).addEditor(b),this.attach(b),!b.isAttachedToDOM){const h=b.render();this.div.append(h),b.isAttachedToDOM=!0}this.moveEditorInDOM(b),b.onceAdded(),this.addToAnnotationStorage(b)}moveEditorInDOM(b){var h;(h=nn(this,Et))==null||h.moveElementInDOM(this.div,b.div,b.contentDiv,!0)}addToAnnotationStorage(b){b.isEmpty()||this.annotationStorage.has(b.id)||this.annotationStorage.setValue(b.id,b)}addOrRebuild(b){b.needsToBeRebuilt()?b.rebuild():this.add(b)}addANewEditor(b){this.addCommands({cmd:()=>{this.addOrRebuild(b)},undo:()=>{b.remove()},mustExec:!0})}addUndoableEditor(b){this.addCommands({cmd:()=>{this.addOrRebuild(b)},undo:()=>{b.remove()},mustExec:!1})}getNextId(){return nn(this,_).getId()}deserialize(b){switch(b.annotationType){case ot.AnnotationEditorType.FREETEXT:return $t.FreeTextEditor.deserialize(b,this);case ot.AnnotationEditorType.INK:return zt.InkEditor.deserialize(b,this)}return null}setSelected(b){nn(this,_).setSelected(b)}toggleSelected(b){nn(this,_).toggleSelected(b)}isSelected(b){return nn(this,_).isSelected(b)}unselect(b){nn(this,_).unselect(b)}pointerup(b){const h=_e.KeyboardManager.platform.isMac;!(b.button!==0||b.ctrlKey&&h)&&b.target===this.div&&nn(this,e)&&(Ln(this,e,!1),nn(this,s)?wn(this,$,A1).call(this,b):Ln(this,s,!0))}pointerdown(b){const h=_e.KeyboardManager.platform.isMac;if(b.button!==0||b.ctrlKey&&h||b.target!==this.div)return;Ln(this,e,!0);const et=nn(this,_).getActive();Ln(this,s,!et||et.isEmpty())}drop(b){const h=b.dataTransfer.getData("text/plain"),et=nn(this,_).getEditor(h);if(!et)return;b.preventDefault(),b.dataTransfer.dropEffect="move",wn(this,$,v1).call(this,et);const nt=this.div.getBoundingClientRect(),pt=b.clientX-nt.x,Bt=b.clientY-nt.y;et.translate(pt-et.startX,Bt-et.startY),this.moveEditorInDOM(et),et.div.focus()}dragover(b){b.preventDefault()}destroy(){var b,h;((b=nn(this,_).getActive())==null?void 0:b.parent)===this&&nn(this,_).setActiveEditor(null);for(const et of nn(this,wt).values())(h=nn(this,Et))==null||h.removePointerInTextLayer(et.contentDiv),et.isAttachedToDOM=!1,et.div.remove(),et.parent=null;this.div=null,nn(this,wt).clear(),nn(this,_).removeLayer(this)}render(b){this.viewport=b.viewport,(0,_e.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const h of nn(this,_).getEditors(this.pageIndex))this.add(h);this.updateMode()}update(b){this.viewport=b.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[b,h,et,nt]=this.viewport.viewBox;return[et-b,nt-h]}get viewportBaseDimensions(){const{width:b,height:h,rotation:et}=this.viewport;return et%180==0?[b,h]:[h,b]}setDimensions(){const{width:b,height:h,rotation:et}=this.viewport,nt=et%180!=0,pt=Math.floor(b)+"px",Bt=Math.floor(h)+"px";this.div.style.width=nt?Bt:pt,this.div.style.height=nt?pt:Bt,this.div.setAttribute("data-main-rotation",et)}};Et=new WeakMap,s=new WeakMap,st=new WeakMap,Tt=new WeakMap,wt=new WeakMap,e=new WeakMap,gt=new WeakMap,_=new WeakMap,$=new WeakSet,v1=function(b){var h;b.parent!==this&&(this.attach(b),b.pageIndex=this.pageIndex,(h=b.parent)==null||h.detach(b),b.parent=this,b.div&&b.isAttachedToDOM&&(b.div.remove(),this.div.append(b.div)))},n2=function(b){switch(nn(this,_).getMode()){case ot.AnnotationEditorType.FREETEXT:return new $t.FreeTextEditor(b);case ot.AnnotationEditorType.INK:return new zt.InkEditor(b)}return null},A1=function(b){const h=this.getNextId(),et=wn(this,$,n2).call(this,{parent:this,id:h,x:b.offsetX,y:b.offsetY});return et&&this.add(et),et},r2=function(){Ln(this,gt,!0);for(const b of nn(this,wt).values())b.isEmpty()&&b.remove();Ln(this,gt,!1)},Hr(ut,"_initialized",!1);let ct=ut;a.AnnotationEditorLayer=ct},(i,a,c)=>{var ct,Et,s,st,Tt,wt,e,gt,i2,a2,s2,w1;Object.defineProperty(a,"__esModule",{value:!0}),a.FreeTextEditor=void 0;var _e=c(1),ot=c(7),$t=c(6);const g=class g extends $t.AnnotationEditor{constructor(dt){super({...dt,name:"freeTextEditor"});Rn(this,gt);Rn(this,ct,this.editorDivBlur.bind(this));Rn(this,Et,this.editorDivFocus.bind(this));Rn(this,s,this.editorDivKeydown.bind(this));Rn(this,st);Rn(this,Tt,"");Rn(this,wt,!1);Rn(this,e);Ln(this,st,dt.color||g._defaultColor||$t.AnnotationEditor._defaultLineColor),Ln(this,e,dt.fontSize||g._defaultFontSize)}static initialize(dt){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(h=>[h,dt.get(h)]));const b=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(b.getPropertyValue("--freetext-padding"))}static updateDefaultParams(dt,b){switch(dt){case _e.AnnotationEditorParamsType.FREETEXT_SIZE:g._defaultFontSize=b;break;case _e.AnnotationEditorParamsType.FREETEXT_COLOR:g._defaultColor=b}}updateParams(dt,b){switch(dt){case _e.AnnotationEditorParamsType.FREETEXT_SIZE:wn(this,gt,i2).call(this,b);break;case _e.AnnotationEditorParamsType.FREETEXT_COLOR:wn(this,gt,a2).call(this,b)}}static get defaultPropertiesToUpdate(){return[[_e.AnnotationEditorParamsType.FREETEXT_SIZE,g._defaultFontSize],[_e.AnnotationEditorParamsType.FREETEXT_COLOR,g._defaultColor||$t.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[_e.AnnotationEditorParamsType.FREETEXT_SIZE,nn(this,e)],[_e.AnnotationEditorParamsType.FREETEXT_COLOR,nn(this,st)]]}getInitialTranslation(){return[-g._internalPadding*this.parent.scaleFactor,-(g._internalPadding+nn(this,e))*this.parent.scaleFactor]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(_e.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",nn(this,s)),this.editorDiv.addEventListener("focus",nn(this,Et)),this.editorDiv.addEventListener("blur",nn(this,ct)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",nn(this,s)),this.editorDiv.removeEventListener("focus",nn(this,Et)),this.editorDiv.removeEventListener("blur",nn(this,ct)),this.div.focus(),this.isEditing=!1)}focusin(dt){super.focusin(dt),dt.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}commit(){super.commit(),nn(this,wt)||(Ln(this,wt,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),Ln(this,Tt,wn(this,gt,s2).call(this).trimEnd()),wn(this,gt,w1).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(dt){this.enableEditMode(),this.editorDiv.focus()}keydown(dt){dt.target===this.div&&dt.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(dt){g._keyboardManager.exec(this,dt)}editorDivFocus(dt){this.isEditing=!0}editorDivBlur(dt){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let dt,b;this.width&&(dt=this.x,b=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),g._l10nPromise.get("editor_free_text_aria_label").then(et=>{var nt;return(nt=this.editorDiv)==null?void 0:nt.setAttribute("aria-label",et)}),g._l10nPromise.get("free_text_default_content").then(et=>{var nt;return(nt=this.editorDiv)==null?void 0:nt.setAttribute("default-content",et)}),this.editorDiv.contentEditable=!0;const{style:h}=this.editorDiv;if(h.fontSize=`calc(${nn(this,e)}px * var(--scale-factor))`,h.color=nn(this,st),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,ot.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[et,nt]=this.parent.viewportBaseDimensions;this.setAt(dt*et,b*nt,this.width*et,this.height*nt);for(const pt of nn(this,Tt).split(`
`)){const Bt=document.createElement("div");Bt.append(pt?document.createTextNode(pt):document.createElement("br")),this.editorDiv.append(Bt)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(dt,b){const h=super.deserialize(dt,b);return Ln(h,e,dt.fontSize),Ln(h,st,_e.Util.makeHexColor(...dt.color)),Ln(h,Tt,dt.value),h}serialize(){if(this.isEmpty())return null;const dt=g._internalPadding*this.parent.scaleFactor,b=this.getRect(dt,dt),h=$t.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:_e.AnnotationEditorType.FREETEXT,color:h,fontSize:nn(this,e),value:nn(this,Tt),pageIndex:this.parent.pageIndex,rect:b,rotation:this.rotation}}};ct=new WeakMap,Et=new WeakMap,s=new WeakMap,st=new WeakMap,Tt=new WeakMap,wt=new WeakMap,e=new WeakMap,gt=new WeakSet,i2=function(dt){const b=et=>{this.editorDiv.style.fontSize=`calc(${et}px * var(--scale-factor))`,this.translate(0,-(et-nn(this,e))*this.parent.scaleFactor),Ln(this,e,et),wn(this,gt,w1).call(this)},h=nn(this,e);this.parent.addCommands({cmd:()=>{b(dt)},undo:()=>{b(h)},mustExec:!0,type:_e.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},a2=function(dt){const b=nn(this,st);this.parent.addCommands({cmd:()=>{Ln(this,st,dt),this.editorDiv.style.color=dt},undo:()=>{Ln(this,st,b),this.editorDiv.style.color=b},mustExec:!0,type:_e.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},s2=function(){const dt=this.editorDiv.getElementsByTagName("div");if(dt.length===0)return this.editorDiv.innerText;const b=[];for(let h=0,et=dt.length;h<et;h++){const nt=dt[h].firstChild;(nt==null?void 0:nt.nodeName)==="#text"?b.push(nt.data):b.push("")}return b.join(`
`)},w1=function(){const[dt,b]=this.parent.viewportBaseDimensions,h=this.div.getBoundingClientRect();this.width=h.width/dt,this.height=h.height/b},Hr(g,"_freeTextDefaultContent",""),Hr(g,"_l10nPromise"),Hr(g,"_internalPadding",0),Hr(g,"_defaultColor",null),Hr(g,"_defaultFontSize",10),Hr(g,"_keyboardManager",new ot.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],g.prototype.commitOrRemove]])),Hr(g,"_type","freetext");let zt=g;a.FreeTextEditor=zt},(i,a,c)=>{var s,st,Tt,wt,e,gt,_,$,d,j,g,o,ut,dt,b,o2,l2,c2,u2,S1,h2,d2,f2,Ks,_1,W0,q0,wl,C1,V0,vt,k1,p2,g2,m2,E1,K0,Sl,F1;Object.defineProperty(a,"__esModule",{value:!0}),a.InkEditor=void 0,Object.defineProperty(a,"fitCurve",{enumerable:!0,get:function(){return $t.fitCurve}});var _e=c(1),ot=c(6),$t=c(25),zt=c(7);const ct=16,_t=class _t extends ot.AnnotationEditor{constructor(Dt){super({...Dt,name:"inkEditor"});Rn(this,b);Rn(this,s,0);Rn(this,st,0);Rn(this,Tt,0);Rn(this,wt,this.canvasPointermove.bind(this));Rn(this,e,this.canvasPointerleave.bind(this));Rn(this,gt,this.canvasPointerup.bind(this));Rn(this,_,this.canvasPointerdown.bind(this));Rn(this,$,!1);Rn(this,d,!1);Rn(this,j,null);Rn(this,g,null);Rn(this,o,0);Rn(this,ut,0);Rn(this,dt,null);this.color=Dt.color||null,this.thickness=Dt.thickness||null,this.opacity=Dt.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(Dt){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(jt=>[jt,Dt.get(jt)]))}static updateDefaultParams(Dt,jt){switch(Dt){case _e.AnnotationEditorParamsType.INK_THICKNESS:_t._defaultThickness=jt;break;case _e.AnnotationEditorParamsType.INK_COLOR:_t._defaultColor=jt;break;case _e.AnnotationEditorParamsType.INK_OPACITY:_t._defaultOpacity=jt/100}}updateParams(Dt,jt){switch(Dt){case _e.AnnotationEditorParamsType.INK_THICKNESS:wn(this,b,o2).call(this,jt);break;case _e.AnnotationEditorParamsType.INK_COLOR:wn(this,b,l2).call(this,jt);break;case _e.AnnotationEditorParamsType.INK_OPACITY:wn(this,b,c2).call(this,jt)}}static get defaultPropertiesToUpdate(){return[[_e.AnnotationEditorParamsType.INK_THICKNESS,_t._defaultThickness],[_e.AnnotationEditorParamsType.INK_COLOR,_t._defaultColor||ot.AnnotationEditor._defaultLineColor],[_e.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*_t._defaultOpacity)]]}get propertiesToUpdate(){return[[_e.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||_t._defaultThickness],[_e.AnnotationEditorParamsType.INK_COLOR,this.color||_t._defaultColor||ot.AnnotationEditor._defaultLineColor],[_e.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??_t._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(wn(this,b,W0).call(this),wn(this,b,q0).call(this)),this.isAttachedToDOM||(this.parent.add(this),wn(this,b,wl).call(this)),wn(this,b,Sl).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,nn(this,g).disconnect(),Ln(this,g,null),super.remove())}enableEditMode(){!nn(this,$)&&this.canvas!==null&&(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",nn(this,_)),this.canvas.addEventListener("pointerup",nn(this,gt)))}disableEditMode(){this.isInEditMode()&&this.canvas!==null&&(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",nn(this,_)),this.canvas.removeEventListener("pointerup",nn(this,gt)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){nn(this,$)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Ln(this,$,!0),this.div.classList.add("disabled"),wn(this,b,Sl).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(Dt){super.focusin(Dt),this.enableEditMode()}canvasPointerdown(Dt){Dt.button===0&&this.isInEditMode()&&!nn(this,$)&&(this.setInForeground(),Dt.type!=="mouse"&&this.div.focus(),Dt.stopPropagation(),this.canvas.addEventListener("pointerleave",nn(this,e)),this.canvas.addEventListener("pointermove",nn(this,wt)),wn(this,b,h2).call(this,Dt.offsetX,Dt.offsetY))}canvasPointermove(Dt){Dt.stopPropagation(),wn(this,b,d2).call(this,Dt.offsetX,Dt.offsetY)}canvasPointerup(Dt){Dt.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(Dt.stopPropagation(),wn(this,b,_1).call(this,Dt),this.setInBackground())}canvasPointerleave(Dt){wn(this,b,_1).call(this,Dt),this.setInBackground()}render(){if(this.div)return this.div;let Dt,jt;this.width&&(Dt=this.x,jt=this.y),super.render(),_t._l10nPromise.get("editor_ink_aria_label").then(qt=>{var Kt;return(Kt=this.div)==null?void 0:Kt.setAttribute("aria-label",qt)});const[Ot,Xt,Ut,Gt]=wn(this,b,u2).call(this);if(this.setAt(Ot,Xt,0,0),this.setDims(Ut,Gt),wn(this,b,W0).call(this),this.width){const[qt,Kt]=this.parent.viewportBaseDimensions;this.setAt(Dt*qt,jt*Kt,this.width*qt,this.height*Kt),Ln(this,d,!0),wn(this,b,wl).call(this),this.setDims(this.width*qt,this.height*Kt),wn(this,b,Ks).call(this),wn(this,b,F1).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return wn(this,b,q0).call(this),this.div}setDimensions(Dt,jt){const Ot=Math.round(Dt),Xt=Math.round(jt);if(nn(this,o)===Ot&&nn(this,ut)===Xt)return;Ln(this,o,Ot),Ln(this,ut,Xt),this.canvas.style.visibility="hidden",nn(this,s)&&Math.abs(nn(this,s)-Dt/jt)>.01&&(jt=Math.ceil(Dt/nn(this,s)),this.setDims(Dt,jt));const[Ut,Gt]=this.parent.viewportBaseDimensions;this.width=Dt/Ut,this.height=jt/Gt,nn(this,$)&&wn(this,b,C1).call(this,Dt,jt),wn(this,b,wl).call(this),wn(this,b,Ks).call(this),this.canvas.style.visibility="visible"}static deserialize(Dt,jt){var Zt,Qt;const Ot=super.deserialize(Dt,jt);Ot.thickness=Dt.thickness,Ot.color=_e.Util.makeHexColor(...Dt.color),Ot.opacity=Dt.opacity;const[Xt,Ut]=jt.pageDimensions,Gt=Ot.width*Xt,qt=Ot.height*Ut,Kt=jt.scaleFactor,Vt=Dt.thickness/2;Ln(Ot,s,Gt/qt),Ln(Ot,$,!0),Ln(Ot,o,Math.round(Gt)),Ln(Ot,ut,Math.round(qt));for(const{bezier:en}of Dt.paths){const rn=[];Ot.paths.push(rn);let an=Kt*(en[0]-Vt),fn=Kt*(qt-en[1]-Vt);for(let pn=2,yn=en.length;pn<yn;pn+=6){const On=Kt*(en[pn]-Vt),En=Kt*(qt-en[pn+1]-Vt),An=Kt*(en[pn+2]-Vt),Cn=Kt*(qt-en[pn+3]-Vt),gn=Kt*(en[pn+4]-Vt),hn=Kt*(qt-en[pn+5]-Vt);rn.push([[an,fn],[On,En],[An,Cn],[gn,hn]]),an=gn,fn=hn}const un=wn(this,vt,k1).call(this,rn);Ot.bezierPath2D.push(un)}const Yt=wn(Zt=Ot,b,E1).call(Zt);return Ln(Ot,Tt,Math.max(ct,Yt[2]-Yt[0])),Ln(Ot,st,Math.max(ct,Yt[3]-Yt[1])),wn(Qt=Ot,b,C1).call(Qt,Gt,qt),Ot}serialize(){if(this.isEmpty())return null;const Dt=this.getRect(0,0),jt=this.rotation%180==0?Dt[3]-Dt[1]:Dt[2]-Dt[0],Ot=ot.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:_e.AnnotationEditorType.INK,color:Ot,thickness:this.thickness,opacity:this.opacity,paths:wn(this,b,p2).call(this,this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,jt),pageIndex:this.parent.pageIndex,rect:Dt,rotation:this.rotation}}};s=new WeakMap,st=new WeakMap,Tt=new WeakMap,wt=new WeakMap,e=new WeakMap,gt=new WeakMap,_=new WeakMap,$=new WeakMap,d=new WeakMap,j=new WeakMap,g=new WeakMap,o=new WeakMap,ut=new WeakMap,dt=new WeakMap,b=new WeakSet,o2=function(Dt){const jt=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=Dt,wn(this,b,Sl).call(this)},undo:()=>{this.thickness=jt,wn(this,b,Sl).call(this)},mustExec:!0,type:_e.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},l2=function(Dt){const jt=this.color;this.parent.addCommands({cmd:()=>{this.color=Dt,wn(this,b,Ks).call(this)},undo:()=>{this.color=jt,wn(this,b,Ks).call(this)},mustExec:!0,type:_e.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},c2=function(Dt){Dt/=100;const jt=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=Dt,wn(this,b,Ks).call(this)},undo:()=>{this.opacity=jt,wn(this,b,Ks).call(this)},mustExec:!0,type:_e.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},u2=function(){const{width:Dt,height:jt,rotation:Ot}=this.parent.viewport;switch(Ot){case 90:return[0,Dt,Dt,jt];case 180:return[Dt,jt,Dt,jt];case 270:return[jt,0,Dt,jt];default:return[0,0,Dt,jt]}},S1=function(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,zt.opacityToHex)(this.opacity)}`},h2=function(Dt,jt){this.isEditing=!0,nn(this,d)||(Ln(this,d,!0),wn(this,b,wl).call(this),this.thickness||(this.thickness=_t._defaultThickness),this.color||(this.color=_t._defaultColor||ot.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=_t._defaultOpacity)),this.currentPath.push([Dt,jt]),Ln(this,j,null),wn(this,b,S1).call(this),this.ctx.beginPath(),this.ctx.moveTo(Dt,jt),Ln(this,dt,()=>{nn(this,dt)&&(nn(this,j)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):wn(this,b,Ks).call(this),this.ctx.lineTo(...nn(this,j)),Ln(this,j,null),this.ctx.stroke()),window.requestAnimationFrame(nn(this,dt)))}),window.requestAnimationFrame(nn(this,dt))},d2=function(Dt,jt){const[Ot,Xt]=this.currentPath.at(-1);(Dt!==Ot||jt!==Xt)&&(this.currentPath.push([Dt,jt]),Ln(this,j,[Dt,jt]))},f2=function(Dt,jt){var qt;this.ctx.closePath(),Ln(this,dt,null),Dt=Math.min(Math.max(Dt,0),this.canvas.width),jt=Math.min(Math.max(jt,0),this.canvas.height);const[Ot,Xt]=this.currentPath.at(-1);Dt===Ot&&jt===Xt||this.currentPath.push([Dt,jt]);let Ut;if(this.currentPath.length!==1)Ut=(0,$t.fitCurve)(this.currentPath,30,null);else{const Kt=[Dt,jt];Ut=[[Kt,Kt.slice(),Kt.slice(),Kt]]}const Gt=wn(qt=_t,vt,k1).call(qt,Ut);this.currentPath.length=0,this.parent.addCommands({cmd:()=>{this.paths.push(Ut),this.bezierPath2D.push(Gt),this.rebuild()},undo:()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(wn(this,b,W0).call(this),wn(this,b,q0).call(this)),wn(this,b,Sl).call(this))},mustExec:!0})},Ks=function(){if(this.isEmpty()){wn(this,b,V0).call(this);return}wn(this,b,S1).call(this);const{canvas:Dt,ctx:jt}=this;jt.setTransform(1,0,0,1,0,0),jt.clearRect(0,0,Dt.width,Dt.height),wn(this,b,V0).call(this);for(const Ot of this.bezierPath2D)jt.stroke(Ot)},_1=function(Dt){wn(this,b,f2).call(this,Dt.offsetX,Dt.offsetY),this.canvas.removeEventListener("pointerleave",nn(this,e)),this.canvas.removeEventListener("pointermove",nn(this,wt)),this.parent.addToAnnotationStorage(this)},W0=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",_t._l10nPromise.get("editor_ink_canvas_aria_label").then(Dt=>{var jt;return(jt=this.canvas)==null?void 0:jt.setAttribute("aria-label",Dt)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},q0=function(){Ln(this,g,new ResizeObserver(Dt=>{const jt=Dt[0].contentRect;jt.width&&jt.height&&this.setDimensions(jt.width,jt.height)})),nn(this,g).observe(this.div)},wl=function(){if(!nn(this,d))return;const[Dt,jt]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*Dt),this.canvas.height=Math.ceil(this.height*jt),wn(this,b,V0).call(this)},C1=function(Dt,jt){const Ot=wn(this,b,K0).call(this),Xt=(Dt-Ot)/nn(this,Tt),Ut=(jt-Ot)/nn(this,st);this.scaleFactor=Math.min(Xt,Ut)},V0=function(){const Dt=wn(this,b,K0).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Dt,this.translationY*this.scaleFactor+Dt)},vt=new WeakSet,k1=function(Dt){const jt=new Path2D;for(let Ot=0,Xt=Dt.length;Ot<Xt;Ot++){const[Ut,Gt,qt,Kt]=Dt[Ot];Ot===0&&jt.moveTo(...Ut),jt.bezierCurveTo(Gt[0],Gt[1],qt[0],qt[1],Kt[0],Kt[1])}return jt},p2=function(Dt,jt,Ot,Xt){const Ut=[],Gt=this.thickness/2;let qt,Kt;for(const Vt of this.paths){qt=[],Kt=[];for(let Yt=0,Zt=Vt.length;Yt<Zt;Yt++){const[Qt,en,rn,an]=Vt[Yt],fn=Dt*(Qt[0]+jt)+Gt,un=Xt-Dt*(Qt[1]+Ot)-Gt,pn=Dt*(en[0]+jt)+Gt,yn=Xt-Dt*(en[1]+Ot)-Gt,On=Dt*(rn[0]+jt)+Gt,En=Xt-Dt*(rn[1]+Ot)-Gt,An=Dt*(an[0]+jt)+Gt,Cn=Xt-Dt*(an[1]+Ot)-Gt;Yt===0&&(qt.push(fn,un),Kt.push(fn,un)),qt.push(pn,yn,On,En,An,Cn),wn(this,b,g2).call(this,fn,un,pn,yn,On,En,An,Cn,4,Kt)}Ut.push({bezier:qt,points:Kt})}return Ut},g2=function(Dt,jt,Ot,Xt,Ut,Gt,qt,Kt,Vt,Yt){if(wn(this,b,m2).call(this,Dt,jt,Ot,Xt,Ut,Gt,qt,Kt))Yt.push(qt,Kt);else{for(let Zt=1;Zt<Vt-1;Zt++){const Qt=Zt/Vt,en=1-Qt;let rn=Qt*Dt+en*Ot,an=Qt*jt+en*Xt,fn=Qt*Ot+en*Ut,un=Qt*Xt+en*Gt;rn=Qt*rn+en*fn,an=Qt*an+en*un,fn=Qt*fn+en*(Qt*Ut+en*qt),un=Qt*un+en*(Qt*Gt+en*Kt),rn=Qt*rn+en*fn,an=Qt*an+en*un,Yt.push(rn,an)}Yt.push(qt,Kt)}},m2=function(Dt,jt,Ot,Xt,Ut,Gt,qt,Kt){const Vt=(3*Ot-2*Dt-qt)**2,Yt=(3*Xt-2*jt-Kt)**2,Zt=(3*Ut-Dt-2*qt)**2,Qt=(3*Gt-jt-2*Kt)**2;return Math.max(Vt,Zt)+Math.max(Yt,Qt)<=10},E1=function(){let Dt=1/0,jt=-1/0,Ot=1/0,Xt=-1/0;for(const Ut of this.paths)for(const[Gt,qt,Kt,Vt]of Ut){const Yt=_e.Util.bezierBoundingBox(...Gt,...qt,...Kt,...Vt);Dt=Math.min(Dt,Yt[0]),Ot=Math.min(Ot,Yt[1]),jt=Math.max(jt,Yt[2]),Xt=Math.max(Xt,Yt[3])}return[Dt,Ot,jt,Xt]},K0=function(){return nn(this,$)?Math.ceil(this.thickness*this.parent.scaleFactor):0},Sl=function(Dt=!1){if(this.isEmpty())return;if(!nn(this,$)){wn(this,b,Ks).call(this);return}const jt=wn(this,b,E1).call(this),Ot=wn(this,b,K0).call(this);Ln(this,Tt,Math.max(ct,jt[2]-jt[0])),Ln(this,st,Math.max(ct,jt[3]-jt[1]));const Xt=Math.ceil(Ot+nn(this,Tt)*this.scaleFactor),Ut=Math.ceil(Ot+nn(this,st)*this.scaleFactor),[Gt,qt]=this.parent.viewportBaseDimensions;this.width=Xt/Gt,this.height=Ut/qt,Ln(this,s,Xt/Ut),wn(this,b,F1).call(this);const Kt=this.translationX,Vt=this.translationY;this.translationX=-jt[0],this.translationY=-jt[1],wn(this,b,wl).call(this),wn(this,b,Ks).call(this),Ln(this,o,Xt),Ln(this,ut,Ut),this.setDims(Xt,Ut);const Yt=Dt?Ot/this.scaleFactor/2:0;this.translate(Kt-this.translationX-Yt,Vt-this.translationY-Yt)},F1=function(){const{style:Dt}=this.div;nn(this,s)>=1?(Dt.minHeight="16px",Dt.minWidth=`${Math.round(nn(this,s)*ct)}px`):(Dt.minWidth="16px",Dt.minHeight=`${Math.round(ct/nn(this,s))}px`)},Rn(_t,vt),Hr(_t,"_defaultColor",null),Hr(_t,"_defaultOpacity",1),Hr(_t,"_defaultThickness",1),Hr(_t,"_l10nPromise"),Hr(_t,"_type","ink");let Et=_t;a.InkEditor=Et},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.fitCurve=void 0;const _e=c(26);a.fitCurve=_e},i=>{function a(st,Tt,wt,e,gt){var _,$,d,j,g,o,ut,dt,b,h,et,nt,pt;if(st.length===2)return nt=Et.vectorLen(Et.subtract(st[0],st[1]))/3,[_=[st[0],Et.addArrays(st[0],Et.mulItems(Tt,nt)),Et.addArrays(st[1],Et.mulItems(wt,nt)),st[1]]];if($=function(Pt){var Rt,Ft,lt,ft=[];return Pt.forEach((it,at)=>{Rt=at?Ft+Et.vectorLen(Et.subtract(it,lt)):0,ft.push(Rt),Ft=Rt,lt=it}),ft=ft.map(it=>it/Ft)}(st),[_,j,o]=c(st,$,$,Tt,wt,gt),j===0||j<e)return[_];if(j<e*e)for(d=$,g=j,ut=o,pt=0;pt<20;pt++){if(d=_e(_,st,d),[_,j,o]=c(st,$,d,Tt,wt,gt),j<e)return[_];if(o===ut){let Bt=j/g;if(Bt>.9999&&Bt<1.0001)break}g=j,ut=o}return et=[],(dt=Et.subtract(st[o-1],st[o+1])).every(Bt=>Bt===0)&&(dt=Et.subtract(st[o-1],st[o]),[dt[0],dt[1]]=[-dt[1],dt[0]]),b=Et.normalize(dt),h=Et.mulItems(b,-1),et=(et=et.concat(a(st.slice(0,o+1),Tt,b,e,gt))).concat(a(st.slice(o),h,wt,e,gt))}function c(st,Tt,wt,e,gt,_){var $,d,j;return $=function(o,ut,dt,b){var h,et,nt,pt,Bt,Pt,Rt,Ft,lt,ft,it,at,bt,St,ht,vt,yt,At=o[0],Nt=o[o.length-1];for(h=[At,null,null,Nt],et=Et.zeros_Xx2x2(ut.length),bt=0,St=ut.length;bt<St;bt++)yt=1-(vt=ut[bt]),(nt=et[bt])[0]=Et.mulItems(dt,3*vt*(yt*yt)),nt[1]=Et.mulItems(b,3*yt*(vt*vt));for(pt=[[0,0],[0,0]],Bt=[0,0],bt=0,St=o.length;bt<St;bt++)vt=ut[bt],nt=et[bt],pt[0][0]+=Et.dot(nt[0],nt[0]),pt[0][1]+=Et.dot(nt[0],nt[1]),pt[1][0]+=Et.dot(nt[0],nt[1]),pt[1][1]+=Et.dot(nt[1],nt[1]),ht=Et.subtract(o[bt],s.q([At,At,Nt,Nt],vt)),Bt[0]+=Et.dot(nt[0],ht),Bt[1]+=Et.dot(nt[1],ht);return Pt=pt[0][0]*pt[1][1]-pt[1][0]*pt[0][1],Rt=pt[0][0]*Bt[1]-pt[1][0]*Bt[0],Ft=Bt[0]*pt[1][1]-Bt[1]*pt[0][1],lt=Pt===0?0:Ft/Pt,ft=Pt===0?0:Rt/Pt,at=Et.vectorLen(Et.subtract(At,Nt)),lt<(it=1e-6*at)||ft<it?(h[1]=Et.addArrays(At,Et.mulItems(dt,at/3)),h[2]=Et.addArrays(Nt,Et.mulItems(b,at/3))):(h[1]=Et.addArrays(At,Et.mulItems(dt,lt)),h[2]=Et.addArrays(Nt,Et.mulItems(b,ft))),h}(st,wt,e,gt),[d,j]=function(o,ut,dt){var b,h,et,nt,pt,Bt,Pt,Rt;h=0,et=Math.floor(o.length/2);const Ft=$t(ut,10);for(pt=0,Bt=o.length;pt<Bt;pt++)Pt=o[pt],Rt=zt(ut,dt[pt],Ft,10),(b=(nt=Et.subtract(s.q(ut,Rt),Pt))[0]*nt[0]+nt[1]*nt[1])>h&&(h=b,et=pt);return[h,et]}(st,$,Tt),_&&_({bez:$,points:st,params:Tt,maxErr:d,maxPoint:j}),[$,d,j]}function _e(st,Tt,wt){return wt.map((e,gt)=>ot(st,Tt[gt],e))}function ot(st,Tt,wt){var e=Et.subtract(s.q(st,wt),Tt),gt=s.qprime(st,wt),_=Et.mulMatrix(e,gt),$=Et.sum(Et.squareItems(gt))+2*Et.mulMatrix(e,s.qprimeprime(st,wt));return $===0?wt:wt-_/$}var $t=function(st,Tt){for(var wt,e=[0],gt=st[0],_=0,$=1;$<=Tt;$++)wt=s.q(st,$/Tt),_+=Et.vectorLen(Et.subtract(wt,gt)),e.push(_),gt=wt;return e=e.map(d=>d/_)};function zt(st,Tt,wt,e){if(Tt<0)return 0;if(Tt>1)return 1;for(var gt,_,$,d,j=1;j<=e;j++)if(Tt<=wt[j]){$=(j-1)/e,_=j/e,d=(Tt-(gt=wt[j-1]))/(wt[j]-gt)*(_-$)+$;break}return d}function ct(st,Tt){return Et.normalize(Et.subtract(st,Tt))}class Et{static zeros_Xx2x2(Tt){for(var wt=[];Tt--;)wt.push([0,0]);return wt}static mulItems(Tt,wt){return Tt.map(e=>e*wt)}static mulMatrix(Tt,wt){return Tt.reduce((e,gt,_)=>e+gt*wt[_],0)}static subtract(Tt,wt){return Tt.map((e,gt)=>e-wt[gt])}static addArrays(Tt,wt){return Tt.map((e,gt)=>e+wt[gt])}static addItems(Tt,wt){return Tt.map(e=>e+wt)}static sum(Tt){return Tt.reduce((wt,e)=>wt+e)}static dot(Tt,wt){return Et.mulMatrix(Tt,wt)}static vectorLen(Tt){return Math.hypot(...Tt)}static divItems(Tt,wt){return Tt.map(e=>e/wt)}static squareItems(Tt){return Tt.map(wt=>wt*wt)}static normalize(Tt){return this.divItems(Tt,this.vectorLen(Tt))}}class s{static q(Tt,wt){var e=1-wt,gt=Et.mulItems(Tt[0],e*e*e),_=Et.mulItems(Tt[1],3*e*e*wt),$=Et.mulItems(Tt[2],3*e*wt*wt),d=Et.mulItems(Tt[3],wt*wt*wt);return Et.addArrays(Et.addArrays(gt,_),Et.addArrays($,d))}static qprime(Tt,wt){var e=1-wt,gt=Et.mulItems(Et.subtract(Tt[1],Tt[0]),3*e*e),_=Et.mulItems(Et.subtract(Tt[2],Tt[1]),6*e*wt),$=Et.mulItems(Et.subtract(Tt[3],Tt[2]),3*wt*wt);return Et.addArrays(Et.addArrays(gt,_),$)}static qprimeprime(Tt,wt){return Et.addArrays(Et.mulItems(Et.addArrays(Et.subtract(Tt[2],Et.mulItems(Tt[1],2)),Tt[0]),6*(1-wt)),Et.mulItems(Et.addArrays(Et.subtract(Tt[3],Et.mulItems(Tt[2],2)),Tt[1]),6*wt))}}i.exports=function(Tt,wt,e){if(!Array.isArray(Tt))throw new TypeError("First argument should be an array");if(Tt.forEach(d=>{if(!Array.isArray(d)||d.some(j=>typeof j!="number")||d.length!==Tt[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),(Tt=Tt.filter((d,j)=>j===0||!d.every((g,o)=>g===Tt[j-1][o]))).length<2)return[];const gt=Tt.length,_=ct(Tt[1],Tt[0]),$=ct(Tt[gt-2],Tt[gt-1]);return a(Tt,_,$,wt,e)},i.exports.fitCubic=a,i.exports.createTangent=ct},(i,a,c)=>{var ht,T1,P1,O1;Object.defineProperty(a,"__esModule",{value:!0}),a.AnnotationLayer=void 0;var _e=c(1),ot=c(8),$t=c(5),zt=c(28),ct=c(29);const Et=1e3,s=new WeakSet;function st(Ht){return{width:Ht[2]-Ht[0],height:Ht[3]-Ht[1]}}class Tt{static create(xt){switch(xt.data.annotationType){case _e.AnnotationType.LINK:return new e(xt);case _e.AnnotationType.TEXT:return new gt(xt);case _e.AnnotationType.WIDGET:switch(xt.data.fieldType){case"Tx":return new $(xt);case"Btn":return xt.data.radioButton?new j(xt):xt.data.checkBox?new d(xt):new g(xt);case"Ch":return new o(xt)}return new _(xt);case _e.AnnotationType.POPUP:return new ut(xt);case _e.AnnotationType.FREETEXT:return new b(xt);case _e.AnnotationType.LINE:return new h(xt);case _e.AnnotationType.SQUARE:return new et(xt);case _e.AnnotationType.CIRCLE:return new nt(xt);case _e.AnnotationType.POLYLINE:return new pt(xt);case _e.AnnotationType.CARET:return new Pt(xt);case _e.AnnotationType.INK:return new Rt(xt);case _e.AnnotationType.POLYGON:return new Bt(xt);case _e.AnnotationType.HIGHLIGHT:return new Ft(xt);case _e.AnnotationType.UNDERLINE:return new lt(xt);case _e.AnnotationType.SQUIGGLY:return new ft(xt);case _e.AnnotationType.STRIKEOUT:return new it(xt);case _e.AnnotationType.STAMP:return new at(xt);case _e.AnnotationType.FILEATTACHMENT:return new bt(xt);default:return new wt(xt)}}}class wt{constructor(xt,{isRenderable:rt=!1,ignoreBorder:mt=!1,createQuadrilaterals:Mt=!1}={}){this.isRenderable=rt,this.data=xt.data,this.layer=xt.layer,this.page=xt.page,this.viewport=xt.viewport,this.linkService=xt.linkService,this.downloadManager=xt.downloadManager,this.imageResourcesPath=xt.imageResourcesPath,this.renderForms=xt.renderForms,this.svgFactory=xt.svgFactory,this.annotationStorage=xt.annotationStorage,this.enableScripting=xt.enableScripting,this.hasJSActions=xt.hasJSActions,this._fieldObjects=xt.fieldObjects,this._mouseState=xt.mouseState,rt&&(this.container=this._createContainer(mt)),Mt&&(this.quadrilaterals=this._createQuadrilaterals(mt))}_createContainer(xt=!1){const rt=this.data,mt=this.page,Mt=this.viewport,_t=document.createElement("section"),{width:Lt,height:It}=st(rt.rect),[Dt,jt,Ot,Xt]=Mt.viewBox,Ut=Ot-Dt,Gt=Xt-jt;_t.setAttribute("data-annotation-id",rt.id);const qt=_e.Util.normalizeRect([rt.rect[0],mt.view[3]-rt.rect[1]+mt.view[1],rt.rect[2],mt.view[3]-rt.rect[3]+mt.view[1]]);if(!xt&&rt.borderStyle.width>0){_t.style.borderWidth=`${rt.borderStyle.width}px`;const Vt=rt.borderStyle.horizontalCornerRadius,Yt=rt.borderStyle.verticalCornerRadius;if(Vt>0||Yt>0){const Qt=`calc(${Vt}px * var(--scale-factor)) / calc(${Yt}px * var(--scale-factor))`;_t.style.borderRadius=Qt}else if(this instanceof j){const Qt=`calc(${Lt}px * var(--scale-factor)) / calc(${It}px * var(--scale-factor))`;_t.style.borderRadius=Qt}switch(rt.borderStyle.style){case _e.AnnotationBorderStyleType.SOLID:_t.style.borderStyle="solid";break;case _e.AnnotationBorderStyleType.DASHED:_t.style.borderStyle="dashed";break;case _e.AnnotationBorderStyleType.BEVELED:(0,_e.warn)("Unimplemented border style: beveled");break;case _e.AnnotationBorderStyleType.INSET:(0,_e.warn)("Unimplemented border style: inset");break;case _e.AnnotationBorderStyleType.UNDERLINE:_t.style.borderBottomStyle="solid"}const Zt=rt.borderColor||null;Zt?_t.style.borderColor=_e.Util.makeHexColor(0|Zt[0],0|Zt[1],0|Zt[2]):_t.style.borderWidth=0}_t.style.left=100*(qt[0]-Dt)/Ut+"%",_t.style.top=100*(qt[1]-jt)/Gt+"%";const{rotation:Kt}=rt;return rt.hasOwnCanvas||Kt===0?(_t.style.width=100*Lt/Ut+"%",_t.style.height=100*It/Gt+"%"):this.setRotation(Kt,_t),_t}setRotation(xt,rt=this.container){const[mt,Mt,_t,Lt]=this.viewport.viewBox,It=_t-mt,Dt=Lt-Mt,{width:jt,height:Ot}=st(this.data.rect);let Xt,Ut;xt%180==0?(Xt=100*jt/It,Ut=100*Ot/Dt):(Xt=100*Ot/It,Ut=100*jt/Dt),rt.style.width=`${Xt}%`,rt.style.height=`${Ut}%`,rt.setAttribute("data-main-rotation",(360-xt)%360)}get _commonActions(){const xt=(rt,mt,Mt)=>{const _t=Mt.detail[rt];Mt.target.style[mt]=zt.ColorConverters[`${_t[0]}_HTML`](_t.slice(1))};return(0,_e.shadow)(this,"_commonActions",{display:rt=>{const mt=rt.detail.display%2==1;this.container.style.visibility=mt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:mt,print:rt.detail.display===0||rt.detail.display===3})},print:rt=>{this.annotationStorage.setValue(this.data.id,{print:rt.detail.print})},hidden:rt=>{this.container.style.visibility=rt.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:rt.detail.hidden})},focus:rt=>{setTimeout(()=>rt.target.focus({preventScroll:!1}),0)},userName:rt=>{rt.target.title=rt.detail.userName},readonly:rt=>{rt.detail.readonly?rt.target.setAttribute("readonly",""):rt.target.removeAttribute("readonly")},required:rt=>{this._setRequired(rt.target,rt.detail.required)},bgColor:rt=>{xt("bgColor","backgroundColor",rt)},fillColor:rt=>{xt("fillColor","backgroundColor",rt)},fgColor:rt=>{xt("fgColor","color",rt)},textColor:rt=>{xt("textColor","color",rt)},borderColor:rt=>{xt("borderColor","borderColor",rt)},strokeColor:rt=>{xt("strokeColor","borderColor",rt)},rotation:rt=>{const mt=rt.detail.rotation;this.setRotation(mt),this.annotationStorage.setValue(this.data.id,{rotation:mt})}})}_dispatchEventFromSandbox(xt,rt){const mt=this._commonActions;for(const Mt of Object.keys(rt.detail)){const _t=xt[Mt]||mt[Mt];_t&&_t(rt)}}_setDefaultPropertiesFromJS(xt){if(!this.enableScripting)return;const rt=this.annotationStorage.getRawValue(this.data.id);if(!rt)return;const mt=this._commonActions;for(const[Mt,_t]of Object.entries(rt)){const Lt=mt[Mt];Lt&&(Lt({detail:{[Mt]:_t},target:xt}),delete rt[Mt])}}_createQuadrilaterals(xt=!1){if(!this.data.quadPoints)return null;const rt=[],mt=this.data.rect;for(const Mt of this.data.quadPoints)this.data.rect=[Mt[2].x,Mt[2].y,Mt[1].x,Mt[1].y],rt.push(this._createContainer(xt));return this.data.rect=mt,rt}_createPopup(xt,rt){let mt=this.container;this.quadrilaterals&&(xt=xt||this.quadrilaterals,mt=this.quadrilaterals[0]),xt||((xt=document.createElement("div")).className="popupTriggerArea",mt.append(xt));const Mt=new dt({container:mt,trigger:xt,color:rt.color,titleObj:rt.titleObj,modificationDate:rt.modificationDate,contentsObj:rt.contentsObj,richText:rt.richText,hideWrapper:!0}).render();Mt.style.left="100%",mt.append(Mt)}_renderQuadrilaterals(xt){for(const rt of this.quadrilaterals)rt.className=xt;return this.quadrilaterals}render(){(0,_e.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(xt,rt=null){const mt=[];if(this._fieldObjects){const Mt=this._fieldObjects[xt];if(Mt)for(const{page:_t,id:Lt,exportValues:It}of Mt){if(_t===-1||Lt===rt)continue;const Dt=typeof It=="string"?It:null,jt=document.querySelector(`[data-element-id="${Lt}"]`);!jt||s.has(jt)?mt.push({id:Lt,exportValue:Dt,domElement:jt}):(0,_e.warn)(`_getElementsByName - element not allowed: ${Lt}`)}return mt}for(const Mt of document.getElementsByName(xt)){const{id:_t,exportValue:Lt}=Mt;_t!==rt&&s.has(Mt)&&mt.push({id:_t,exportValue:Lt,domElement:Mt})}return mt}static get platform(){const xt=typeof navigator<"u"?navigator.platform:"";return(0,_e.shadow)(this,"platform",{isWin:xt.includes("Win"),isMac:xt.includes("Mac")})}}class e extends wt{constructor(xt,rt=null){super(xt,{isRenderable:!0,ignoreBorder:!!(rt!=null&&rt.ignoreBorder),createQuadrilaterals:!0}),this.isTooltipOnly=xt.data.isTooltipOnly}render(){const{data:xt,linkService:rt}=this,mt=document.createElement("a");mt.setAttribute("data-element-id",xt.id);let Mt=!1;return xt.url?(rt.addLinkAttributes(mt,xt.url,xt.newWindow),Mt=!0):xt.action?(this._bindNamedAction(mt,xt.action),Mt=!0):xt.dest?(this._bindLink(mt,xt.dest),Mt=!0):(xt.actions&&(xt.actions.Action||xt.actions["Mouse Up"]||xt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(mt,xt),Mt=!0),xt.resetForm?(this._bindResetFormAction(mt,xt.resetForm),Mt=!0):this.isTooltipOnly&&!Mt&&(this._bindLink(mt,""),Mt=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((_t,Lt)=>{const It=Lt===0?mt:mt.cloneNode();return _t.append(It),_t}):(this.container.className="linkAnnotation",Mt&&this.container.append(mt),this.container)}_bindLink(xt,rt){xt.href=this.linkService.getDestinationHash(rt),xt.onclick=()=>(rt&&this.linkService.goToDestination(rt),!1),(rt||rt==="")&&(xt.className="internalLink")}_bindNamedAction(xt,rt){xt.href=this.linkService.getAnchorUrl(""),xt.onclick=()=>(this.linkService.executeNamedAction(rt),!1),xt.className="internalLink"}_bindJSAction(xt,rt){xt.href=this.linkService.getAnchorUrl("");const mt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Mt of Object.keys(rt.actions)){const _t=mt.get(Mt);_t&&(xt[_t]=()=>{var Lt;return(Lt=this.linkService.eventBus)==null||Lt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:rt.id,name:Mt}}),!1})}xt.onclick||(xt.onclick=()=>!1),xt.className="internalLink"}_bindResetFormAction(xt,rt){const mt=xt.onclick;mt||(xt.href=this.linkService.getAnchorUrl("")),xt.className="internalLink",this._fieldObjects?xt.onclick=()=>{var Ot;mt&&mt();const{fields:Mt,refs:_t,include:Lt}=rt,It=[];if(Mt.length!==0||_t.length!==0){const Xt=new Set(_t);for(const Ut of Mt){const Gt=this._fieldObjects[Ut]||[];for(const{id:qt}of Gt)Xt.add(qt)}for(const Ut of Object.values(this._fieldObjects))for(const Gt of Ut)Xt.has(Gt.id)===Lt&&It.push(Gt)}else for(const Xt of Object.values(this._fieldObjects))It.push(...Xt);const Dt=this.annotationStorage,jt=[];for(const Xt of It){const{id:Ut}=Xt;switch(jt.push(Ut),Xt.type){case"text":{const qt=Xt.defaultValue||"";Dt.setValue(Ut,{value:qt});break}case"checkbox":case"radiobutton":{const qt=Xt.defaultValue===Xt.exportValues;Dt.setValue(Ut,{value:qt});break}case"combobox":case"listbox":{const qt=Xt.defaultValue||"";Dt.setValue(Ut,{value:qt});break}default:continue}const Gt=document.querySelector(`[data-element-id="${Ut}"]`);Gt&&(s.has(Gt)?Gt.dispatchEvent(new Event("resetform")):(0,_e.warn)(`_bindResetFormAction - element not allowed: ${Ut}`))}return this.enableScripting&&((Ot=this.linkService.eventBus)==null||Ot.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:jt,name:"ResetForm"}})),!1}:((0,_e.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),mt||(xt.onclick=()=>!1))}}class gt extends wt{constructor(xt){var rt,mt,Mt;super(xt,{isRenderable:!!(xt.data.hasPopup||(rt=xt.data.titleObj)!=null&&rt.str||(mt=xt.data.contentsObj)!=null&&mt.str||(Mt=xt.data.richText)!=null&&Mt.str)})}render(){this.container.className="textAnnotation";const xt=document.createElement("img");return xt.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",xt.alt="[{{type}} Annotation]",xt.dataset.l10nId="text_annotation_type",xt.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(xt,this.data),this.container.append(xt),this.container}}class _ extends wt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(xt){const{isWin:rt,isMac:mt}=wt.platform;return rt&&xt.ctrlKey||mt&&xt.metaKey}_setEventListener(xt,rt,mt,Mt){rt.includes("mouse")?xt.addEventListener(rt,_t=>{var Lt;(Lt=this.linkService.eventBus)==null||Lt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:mt,value:Mt(_t),shift:_t.shiftKey,modifier:this._getKeyModifier(_t)}})}):xt.addEventListener(rt,_t=>{var Lt;(Lt=this.linkService.eventBus)==null||Lt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:mt,value:Mt(_t)}})})}_setEventListeners(xt,rt,mt){var Mt;for(const[_t,Lt]of rt)(Lt==="Action"||(Mt=this.data.actions)!=null&&Mt[Lt])&&this._setEventListener(xt,_t,Lt,mt)}_setBackgroundColor(xt){const rt=this.data.backgroundColor||null;xt.style.backgroundColor=rt===null?"transparent":_e.Util.makeHexColor(rt[0],rt[1],rt[2])}_setTextStyle(xt){const rt=["left","center","right"],{fontColor:mt}=this.data.defaultAppearanceData,Mt=this.data.defaultAppearanceData.fontSize||9,_t=xt.style;let Lt;if(this.data.multiLine){const It=Math.abs(this.data.rect[3]-this.data.rect[1]),Dt=It/(Math.round(It/(_e.LINE_FACTOR*Mt))||1);Lt=Math.min(Mt,Math.round(Dt/_e.LINE_FACTOR))}else{const It=Math.abs(this.data.rect[3]-this.data.rect[1]);Lt=Math.min(Mt,Math.round(It/_e.LINE_FACTOR))}_t.fontSize=`calc(${Lt}px * var(--scale-factor))`,_t.color=_e.Util.makeHexColor(mt[0],mt[1],mt[2]),this.data.textAlignment!==null&&(_t.textAlign=rt[this.data.textAlignment])}_setRequired(xt,rt){rt?xt.setAttribute("required",!0):xt.removeAttribute("required"),xt.setAttribute("aria-required",rt)}}class $ extends _{constructor(xt){super(xt,{isRenderable:xt.renderForms||!xt.data.hasAppearance&&!!xt.data.fieldValue})}setPropertyOnSiblings(xt,rt,mt,Mt){const _t=this.annotationStorage;for(const Lt of this._getElementsByName(xt.name,xt.id))Lt.domElement&&(Lt.domElement[rt]=mt),_t.setValue(Lt.id,{[Mt]:mt})}render(){var Mt;const xt=this.annotationStorage,rt=this.data.id;this.container.className="textWidgetAnnotation";let mt=null;if(this.renderForms){const _t=xt.getValue(rt,{value:this.data.fieldValue});let Lt=_t.formattedValue||_t.value||"";const It=xt.getValue(rt,{charLimit:this.data.maxLen}).charLimit;It&&Lt.length>It&&(Lt=Lt.slice(0,It));const Dt={userValue:Lt,formattedValue:null,valueOnFocus:""};this.data.multiLine?(mt=document.createElement("textarea"),mt.textContent=Lt,this.data.doNotScroll&&(mt.style.overflowY="hidden")):(mt=document.createElement("input"),mt.type="text",mt.setAttribute("value",Lt),this.data.doNotScroll&&(mt.style.overflowX="hidden")),s.add(mt),mt.setAttribute("data-element-id",rt),mt.disabled=this.data.readOnly,mt.name=this.data.fieldName,mt.tabIndex=Et,this._setRequired(mt,this.data.required),It&&(mt.maxLength=It),mt.addEventListener("input",Ot=>{xt.setValue(rt,{value:Ot.target.value}),this.setPropertyOnSiblings(mt,"value",Ot.target.value,"value")}),mt.addEventListener("resetform",Ot=>{const Xt=this.data.defaultFieldValue??"";mt.value=Dt.userValue=Xt,Dt.formattedValue=null});let jt=Ot=>{const{formattedValue:Xt}=Dt;Xt!=null&&(Ot.target.value=Xt),Ot.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){mt.addEventListener("focus",Xt=>{Dt.userValue&&(Xt.target.value=Dt.userValue),Dt.valueOnFocus=Xt.target.value}),mt.addEventListener("updatefromsandbox",Xt=>{const Ut={value(Gt){Dt.userValue=Gt.detail.value??"",xt.setValue(rt,{value:Dt.userValue.toString()}),Gt.target.value=Dt.userValue},formattedValue(Gt){const{formattedValue:qt}=Gt.detail;Dt.formattedValue=qt,qt!=null&&Gt.target!==document.activeElement&&(Gt.target.value=qt),xt.setValue(rt,{formattedValue:qt})},selRange(Gt){Gt.target.setSelectionRange(...Gt.detail.selRange)},charLimit:Gt=>{var Yt;const{charLimit:qt}=Gt.detail,{target:Kt}=Gt;if(qt===0){Kt.removeAttribute("maxLength");return}Kt.setAttribute("maxLength",qt);let Vt=Dt.userValue;Vt&&!(Vt.length<=qt)&&(Vt=Vt.slice(0,qt),Kt.value=Dt.userValue=Vt,xt.setValue(rt,{value:Vt}),(Yt=this.linkService.eventBus)==null||Yt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:rt,name:"Keystroke",value:Vt,willCommit:!0,commitKey:1,selStart:Kt.selectionStart,selEnd:Kt.selectionEnd}}))}};this._dispatchEventFromSandbox(Ut,Xt)}),mt.addEventListener("keydown",Xt=>{var qt;let Ut=-1;if(Xt.key==="Escape"?Ut=0:Xt.key==="Enter"?Ut=2:Xt.key==="Tab"&&(Ut=3),Ut===-1)return;const{value:Gt}=Xt.target;Dt.valueOnFocus!==Gt&&(Dt.userValue=Gt,(qt=this.linkService.eventBus)==null||qt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:rt,name:"Keystroke",value:Gt,willCommit:!0,commitKey:Ut,selStart:Xt.target.selectionStart,selEnd:Xt.target.selectionEnd}}))});const Ot=jt;jt=null,mt.addEventListener("blur",Xt=>{var Gt;const{value:Ut}=Xt.target;Dt.userValue=Ut,this._mouseState.isDown&&Dt.valueOnFocus!==Ut&&((Gt=this.linkService.eventBus)==null||Gt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:rt,name:"Keystroke",value:Ut,willCommit:!0,commitKey:1,selStart:Xt.target.selectionStart,selEnd:Xt.target.selectionEnd}})),Ot(Xt)}),(Mt=this.data.actions)!=null&&Mt.Keystroke&&mt.addEventListener("beforeinput",Xt=>{var Qt;const{data:Ut,target:Gt}=Xt,{value:qt,selectionStart:Kt,selectionEnd:Vt}=Gt;let Yt=Kt,Zt=Vt;switch(Xt.inputType){case"deleteWordBackward":{const en=qt.substring(0,Kt).match(/\w*[^\w]*$/);en&&(Yt-=en[0].length);break}case"deleteWordForward":{const en=qt.substring(Kt).match(/^[^\w]*\w*/);en&&(Zt+=en[0].length);break}case"deleteContentBackward":Kt===Vt&&(Yt-=1);break;case"deleteContentForward":Kt===Vt&&(Zt+=1)}Xt.preventDefault(),(Qt=this.linkService.eventBus)==null||Qt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:rt,name:"Keystroke",value:qt,change:Ut||"",willCommit:!1,selStart:Yt,selEnd:Zt}})}),this._setEventListeners(mt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Xt=>Xt.target.value)}if(jt&&mt.addEventListener("blur",jt),this.data.comb){const Ot=(this.data.rect[2]-this.data.rect[0])/It;mt.classList.add("comb"),mt.style.letterSpacing=`calc(${Ot}px * var(--scale-factor) - 1ch)`}}else mt=document.createElement("div"),mt.textContent=this.data.fieldValue,mt.style.verticalAlign="middle",mt.style.display="table-cell";return this._setTextStyle(mt),this._setBackgroundColor(mt),this._setDefaultPropertiesFromJS(mt),this.container.append(mt),this.container}}class d extends _{constructor(xt){super(xt,{isRenderable:xt.renderForms})}render(){const xt=this.annotationStorage,rt=this.data,mt=rt.id;let Mt=xt.getValue(mt,{value:rt.exportValue===rt.fieldValue}).value;typeof Mt=="string"&&(Mt=Mt!=="Off",xt.setValue(mt,{value:Mt})),this.container.className="buttonWidgetAnnotation checkBox";const _t=document.createElement("input");return s.add(_t),_t.setAttribute("data-element-id",mt),_t.disabled=rt.readOnly,this._setRequired(_t,this.data.required),_t.type="checkbox",_t.name=rt.fieldName,Mt&&_t.setAttribute("checked",!0),_t.setAttribute("exportValue",rt.exportValue),_t.tabIndex=Et,_t.addEventListener("change",Lt=>{const{name:It,checked:Dt}=Lt.target;for(const jt of this._getElementsByName(It,mt)){const Ot=Dt&&jt.exportValue===rt.exportValue;jt.domElement&&(jt.domElement.checked=Ot),xt.setValue(jt.id,{value:Ot})}xt.setValue(mt,{value:Dt})}),_t.addEventListener("resetform",Lt=>{const It=rt.defaultFieldValue||"Off";Lt.target.checked=It===rt.exportValue}),this.enableScripting&&this.hasJSActions&&(_t.addEventListener("updatefromsandbox",Lt=>{const It={value(Dt){Dt.target.checked=Dt.detail.value!=="Off",xt.setValue(mt,{value:Dt.target.checked})}};this._dispatchEventFromSandbox(It,Lt)}),this._setEventListeners(_t,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Lt=>Lt.target.checked)),this._setBackgroundColor(_t),this._setDefaultPropertiesFromJS(_t),this.container.append(_t),this.container}}class j extends _{constructor(xt){super(xt,{isRenderable:xt.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const xt=this.annotationStorage,rt=this.data,mt=rt.id;let Mt=xt.getValue(mt,{value:rt.fieldValue===rt.buttonValue}).value;typeof Mt=="string"&&(Mt=Mt!==rt.buttonValue,xt.setValue(mt,{value:Mt}));const _t=document.createElement("input");if(s.add(_t),_t.setAttribute("data-element-id",mt),_t.disabled=rt.readOnly,this._setRequired(_t,this.data.required),_t.type="radio",_t.name=rt.fieldName,Mt&&_t.setAttribute("checked",!0),_t.tabIndex=Et,_t.addEventListener("change",Lt=>{const{name:It,checked:Dt}=Lt.target;for(const jt of this._getElementsByName(It,mt))xt.setValue(jt.id,{value:!1});xt.setValue(mt,{value:Dt})}),_t.addEventListener("resetform",Lt=>{const It=rt.defaultFieldValue;Lt.target.checked=It!=null&&It===rt.buttonValue}),this.enableScripting&&this.hasJSActions){const Lt=rt.buttonValue;_t.addEventListener("updatefromsandbox",It=>{const Dt={value:jt=>{const Ot=Lt===jt.detail.value;for(const Xt of this._getElementsByName(jt.target.name)){const Ut=Ot&&Xt.id===mt;Xt.domElement&&(Xt.domElement.checked=Ut),xt.setValue(Xt.id,{value:Ut})}}};this._dispatchEventFromSandbox(Dt,It)}),this._setEventListeners(_t,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],It=>It.target.checked)}return this._setBackgroundColor(_t),this._setDefaultPropertiesFromJS(_t),this.container.append(_t),this.container}}class g extends e{constructor(xt){super(xt,{ignoreBorder:xt.data.hasAppearance})}render(){const xt=super.render();xt.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(xt.title=this.data.alternativeText);const rt=xt.lastChild;return this.enableScripting&&this.hasJSActions&&rt&&(this._setDefaultPropertiesFromJS(rt),rt.addEventListener("updatefromsandbox",mt=>{this._dispatchEventFromSandbox({},mt)})),xt}}class o extends _{constructor(xt){super(xt,{isRenderable:xt.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const xt=this.annotationStorage,rt=this.data.id,mt=xt.getValue(rt,{value:this.data.fieldValue}),Mt=document.createElement("select");s.add(Mt),Mt.setAttribute("data-element-id",rt),Mt.disabled=this.data.readOnly,this._setRequired(Mt,this.data.required),Mt.name=this.data.fieldName,Mt.tabIndex=Et;let _t=this.data.combo&&this.data.options.length>0;this.data.combo||(Mt.size=this.data.options.length,this.data.multiSelect&&(Mt.multiple=!0)),Mt.addEventListener("resetform",jt=>{const Ot=this.data.defaultFieldValue;for(const Xt of Mt.options)Xt.selected=Xt.value===Ot});for(const jt of this.data.options){const Ot=document.createElement("option");Ot.textContent=jt.displayValue,Ot.value=jt.exportValue,mt.value.includes(jt.exportValue)&&(Ot.setAttribute("selected",!0),_t=!1),Mt.append(Ot)}let Lt=null;if(_t){const jt=document.createElement("option");jt.value=" ",jt.setAttribute("hidden",!0),jt.setAttribute("selected",!0),Mt.prepend(jt),Lt=()=>{jt.remove(),Mt.removeEventListener("input",Lt),Lt=null},Mt.addEventListener("input",Lt)}const It=(jt,Ot)=>{const Xt=Ot?"value":"textContent",Ut=jt.target.options;return jt.target.multiple?Array.prototype.filter.call(Ut,Gt=>Gt.selected).map(Gt=>Gt[Xt]):Ut.selectedIndex===-1?null:Ut[Ut.selectedIndex][Xt]},Dt=jt=>{const Ot=jt.target.options;return Array.prototype.map.call(Ot,Xt=>({displayValue:Xt.textContent,exportValue:Xt.value}))};return this.enableScripting&&this.hasJSActions?(Mt.addEventListener("updatefromsandbox",jt=>{const Ot={value(Xt){Lt==null||Lt();const Ut=Xt.detail.value,Gt=new Set(Array.isArray(Ut)?Ut:[Ut]);for(const qt of Mt.options)qt.selected=Gt.has(qt.value);xt.setValue(rt,{value:It(Xt,!0)})},multipleSelection(Xt){Mt.multiple=!0},remove(Xt){const Ut=Mt.options,Gt=Xt.detail.remove;Ut[Gt].selected=!1,Mt.remove(Gt),Ut.length>0&&Array.prototype.findIndex.call(Ut,qt=>qt.selected)===-1&&(Ut[0].selected=!0),xt.setValue(rt,{value:It(Xt,!0),items:Dt(Xt)})},clear(Xt){for(;Mt.length!==0;)Mt.remove(0);xt.setValue(rt,{value:null,items:[]})},insert(Xt){const{index:Ut,displayValue:Gt,exportValue:qt}=Xt.detail.insert,Kt=Mt.children[Ut],Vt=document.createElement("option");Vt.textContent=Gt,Vt.value=qt,Kt?Kt.before(Vt):Mt.append(Vt),xt.setValue(rt,{value:It(Xt,!0),items:Dt(Xt)})},items(Xt){const{items:Ut}=Xt.detail;for(;Mt.length!==0;)Mt.remove(0);for(const Gt of Ut){const{displayValue:qt,exportValue:Kt}=Gt,Vt=document.createElement("option");Vt.textContent=qt,Vt.value=Kt,Mt.append(Vt)}Mt.options.length>0&&(Mt.options[0].selected=!0),xt.setValue(rt,{value:It(Xt,!0),items:Dt(Xt)})},indices(Xt){const Ut=new Set(Xt.detail.indices);for(const Gt of Xt.target.options)Gt.selected=Ut.has(Gt.index);xt.setValue(rt,{value:It(Xt,!0)})},editable(Xt){Xt.target.disabled=!Xt.detail.editable}};this._dispatchEventFromSandbox(Ot,jt)}),Mt.addEventListener("input",jt=>{var Ut;const Ot=It(jt,!0),Xt=It(jt,!1);xt.setValue(rt,{value:Ot}),(Ut=this.linkService.eventBus)==null||Ut.dispatch("dispatcheventinsandbox",{source:this,detail:{id:rt,name:"Keystroke",value:Xt,changeEx:Ot,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(Mt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],jt=>jt.target.checked)):Mt.addEventListener("input",function(jt){xt.setValue(rt,{value:It(jt,!0)})}),this.data.combo&&this._setTextStyle(Mt),this._setBackgroundColor(Mt),this._setDefaultPropertiesFromJS(Mt),this.container.append(Mt),this.container}}class ut extends wt{constructor(xt){var rt,mt,Mt;super(xt,{isRenderable:!!((rt=xt.data.titleObj)!=null&&rt.str||(mt=xt.data.contentsObj)!=null&&mt.str||(Mt=xt.data.richText)!=null&&Mt.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const xt=`[data-annotation-id="${this.data.parentId}"]`,rt=this.layer.querySelectorAll(xt);if(rt.length===0)return this.container;const mt=new dt({container:this.container,trigger:Array.from(rt),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),Mt=this.page,_t=_e.Util.normalizeRect([this.data.parentRect[0],Mt.view[3]-this.data.parentRect[1]+Mt.view[1],this.data.parentRect[2],Mt.view[3]-this.data.parentRect[3]+Mt.view[1]]),Lt=_t[0]+this.data.parentRect[2]-this.data.parentRect[0],It=_t[1],[Dt,jt,Ot,Xt]=this.viewport.viewBox,Ut=Ot-Dt,Gt=Xt-jt;return this.container.style.left=100*(Lt-Dt)/Ut+"%",this.container.style.top=100*(It-jt)/Gt+"%",this.container.append(mt.render()),this.container}}class dt{constructor(xt){this.container=xt.container,this.trigger=xt.trigger,this.color=xt.color,this.titleObj=xt.titleObj,this.modificationDate=xt.modificationDate,this.contentsObj=xt.contentsObj,this.richText=xt.richText,this.hideWrapper=xt.hideWrapper||!1,this.pinned=!1}render(){var Lt,It;const xt=document.createElement("div");xt.className="popupWrapper",this.hideElement=this.hideWrapper?xt:this.container,this.hideElement.hidden=!0;const rt=document.createElement("div");rt.className="popup";const mt=this.color;if(mt){const Dt=.7*(255-mt[0])+mt[0],jt=.7*(255-mt[1])+mt[1],Ot=.7*(255-mt[2])+mt[2];rt.style.backgroundColor=_e.Util.makeHexColor(0|Dt,0|jt,0|Ot)}const Mt=document.createElement("h1");Mt.dir=this.titleObj.dir,Mt.textContent=this.titleObj.str,rt.append(Mt);const _t=ot.PDFDateString.toDateObject(this.modificationDate);if(_t){const Dt=document.createElement("span");Dt.className="popupDate",Dt.textContent="{{date}}, {{time}}",Dt.dataset.l10nId="annotation_date_string",Dt.dataset.l10nArgs=JSON.stringify({date:_t.toLocaleDateString(),time:_t.toLocaleTimeString()}),rt.append(Dt)}if(!((Lt=this.richText)!=null&&Lt.str)||(It=this.contentsObj)!=null&&It.str&&this.contentsObj.str!==this.richText.str){const Dt=this._formatContents(this.contentsObj);rt.append(Dt)}else ct.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:rt}),rt.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Dt of this.trigger)Dt.addEventListener("click",this._toggle.bind(this)),Dt.addEventListener("mouseover",this._show.bind(this,!1)),Dt.addEventListener("mouseout",this._hide.bind(this,!1));return rt.addEventListener("click",this._hide.bind(this,!0)),xt.append(rt),xt}_formatContents({str:xt,dir:rt}){const mt=document.createElement("p");mt.className="popupContent",mt.dir=rt;const Mt=xt.split(/(?:\r\n?|\n)/);for(let _t=0,Lt=Mt.length;_t<Lt;++_t){const It=Mt[_t];mt.append(document.createTextNode(It)),_t<Lt-1&&mt.append(document.createElement("br"))}return mt}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(xt=!1){xt&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(xt=!0){xt&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class b extends wt{constructor(xt){var rt,mt,Mt;super(xt,{isRenderable:!!(xt.data.hasPopup||(rt=xt.data.titleObj)!=null&&rt.str||(mt=xt.data.contentsObj)!=null&&mt.str||(Mt=xt.data.richText)!=null&&Mt.str),ignoreBorder:!0}),this.textContent=xt.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const xt=document.createElement("div");xt.className="annotationTextContent",xt.setAttribute("role","comment");for(const rt of this.textContent){const mt=document.createElement("span");mt.textContent=rt,xt.append(mt)}this.container.append(xt)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class h extends wt{constructor(xt){var rt,mt,Mt;super(xt,{isRenderable:!!(xt.data.hasPopup||(rt=xt.data.titleObj)!=null&&rt.str||(mt=xt.data.contentsObj)!=null&&mt.str||(Mt=xt.data.richText)!=null&&Mt.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const xt=this.data,{width:rt,height:mt}=st(xt.rect),Mt=this.svgFactory.create(rt,mt,!0),_t=this.svgFactory.createElement("svg:line");return _t.setAttribute("x1",xt.rect[2]-xt.lineCoordinates[0]),_t.setAttribute("y1",xt.rect[3]-xt.lineCoordinates[1]),_t.setAttribute("x2",xt.rect[2]-xt.lineCoordinates[2]),_t.setAttribute("y2",xt.rect[3]-xt.lineCoordinates[3]),_t.setAttribute("stroke-width",xt.borderStyle.width||1),_t.setAttribute("stroke","transparent"),_t.setAttribute("fill","transparent"),Mt.append(_t),this.container.append(Mt),this._createPopup(_t,xt),this.container}}class et extends wt{constructor(xt){var rt,mt,Mt;super(xt,{isRenderable:!!(xt.data.hasPopup||(rt=xt.data.titleObj)!=null&&rt.str||(mt=xt.data.contentsObj)!=null&&mt.str||(Mt=xt.data.richText)!=null&&Mt.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const xt=this.data,{width:rt,height:mt}=st(xt.rect),Mt=this.svgFactory.create(rt,mt,!0),_t=xt.borderStyle.width,Lt=this.svgFactory.createElement("svg:rect");return Lt.setAttribute("x",_t/2),Lt.setAttribute("y",_t/2),Lt.setAttribute("width",rt-_t),Lt.setAttribute("height",mt-_t),Lt.setAttribute("stroke-width",_t||1),Lt.setAttribute("stroke","transparent"),Lt.setAttribute("fill","transparent"),Mt.append(Lt),this.container.append(Mt),this._createPopup(Lt,xt),this.container}}class nt extends wt{constructor(xt){var rt,mt,Mt;super(xt,{isRenderable:!!(xt.data.hasPopup||(rt=xt.data.titleObj)!=null&&rt.str||(mt=xt.data.contentsObj)!=null&&mt.str||(Mt=xt.data.richText)!=null&&Mt.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const xt=this.data,{width:rt,height:mt}=st(xt.rect),Mt=this.svgFactory.create(rt,mt,!0),_t=xt.borderStyle.width,Lt=this.svgFactory.createElement("svg:ellipse");return Lt.setAttribute("cx",rt/2),Lt.setAttribute("cy",mt/2),Lt.setAttribute("rx",rt/2-_t/2),Lt.setAttribute("ry",mt/2-_t/2),Lt.setAttribute("stroke-width",_t||1),Lt.setAttribute("stroke","transparent"),Lt.setAttribute("fill","transparent"),Mt.append(Lt),this.container.append(Mt),this._createPopup(Lt,xt),this.container}}class pt extends wt{constructor(xt){var rt,mt,Mt;super(xt,{isRenderable:!!(xt.data.hasPopup||(rt=xt.data.titleObj)!=null&&rt.str||(mt=xt.data.contentsObj)!=null&&mt.str||(Mt=xt.data.richText)!=null&&Mt.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const xt=this.data,{width:rt,height:mt}=st(xt.rect),Mt=this.svgFactory.create(rt,mt,!0);let _t=[];for(const It of xt.vertices){const Dt=It.x-xt.rect[0],jt=xt.rect[3]-It.y;_t.push(Dt+","+jt)}_t=_t.join(" ");const Lt=this.svgFactory.createElement(this.svgElementName);return Lt.setAttribute("points",_t),Lt.setAttribute("stroke-width",xt.borderStyle.width||1),Lt.setAttribute("stroke","transparent"),Lt.setAttribute("fill","transparent"),Mt.append(Lt),this.container.append(Mt),this._createPopup(Lt,xt),this.container}}class Bt extends pt{constructor(xt){super(xt),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Pt extends wt{constructor(xt){var rt,mt,Mt;super(xt,{isRenderable:!!(xt.data.hasPopup||(rt=xt.data.titleObj)!=null&&rt.str||(mt=xt.data.contentsObj)!=null&&mt.str||(Mt=xt.data.richText)!=null&&Mt.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Rt extends wt{constructor(xt){var rt,mt,Mt;super(xt,{isRenderable:!!(xt.data.hasPopup||(rt=xt.data.titleObj)!=null&&rt.str||(mt=xt.data.contentsObj)!=null&&mt.str||(Mt=xt.data.richText)!=null&&Mt.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const xt=this.data,{width:rt,height:mt}=st(xt.rect),Mt=this.svgFactory.create(rt,mt,!0);for(const _t of xt.inkLists){let Lt=[];for(const Dt of _t){const jt=Dt.x-xt.rect[0],Ot=xt.rect[3]-Dt.y;Lt.push(`${jt},${Ot}`)}Lt=Lt.join(" ");const It=this.svgFactory.createElement(this.svgElementName);It.setAttribute("points",Lt),It.setAttribute("stroke-width",xt.borderStyle.width||1),It.setAttribute("stroke","transparent"),It.setAttribute("fill","transparent"),this._createPopup(It,xt),Mt.append(It)}return this.container.append(Mt),this.container}}class Ft extends wt{constructor(xt){var rt,mt,Mt;super(xt,{isRenderable:!!(xt.data.hasPopup||(rt=xt.data.titleObj)!=null&&rt.str||(mt=xt.data.contentsObj)!=null&&mt.str||(Mt=xt.data.richText)!=null&&Mt.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class lt extends wt{constructor(xt){var rt,mt,Mt;super(xt,{isRenderable:!!(xt.data.hasPopup||(rt=xt.data.titleObj)!=null&&rt.str||(mt=xt.data.contentsObj)!=null&&mt.str||(Mt=xt.data.richText)!=null&&Mt.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class ft extends wt{constructor(xt){var rt,mt,Mt;super(xt,{isRenderable:!!(xt.data.hasPopup||(rt=xt.data.titleObj)!=null&&rt.str||(mt=xt.data.contentsObj)!=null&&mt.str||(Mt=xt.data.richText)!=null&&Mt.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class it extends wt{constructor(xt){var rt,mt,Mt;super(xt,{isRenderable:!!(xt.data.hasPopup||(rt=xt.data.titleObj)!=null&&rt.str||(mt=xt.data.contentsObj)!=null&&mt.str||(Mt=xt.data.richText)!=null&&Mt.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class at extends wt{constructor(xt){var rt,mt,Mt;super(xt,{isRenderable:!!(xt.data.hasPopup||(rt=xt.data.titleObj)!=null&&rt.str||(mt=xt.data.contentsObj)!=null&&mt.str||(Mt=xt.data.richText)!=null&&Mt.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class bt extends wt{constructor(xt){var Mt;super(xt,{isRenderable:!0});const{filename:rt,content:mt}=this.data.file;this.filename=(0,ot.getFilenameFromUrl)(rt),this.content=mt,(Mt=this.linkService.eventBus)==null||Mt.dispatch("fileattachmentannotation",{source:this,filename:rt,content:mt})}render(){var rt,mt;this.container.className="fileAttachmentAnnotation";const xt=document.createElement("div");return xt.className="popupTriggerArea",xt.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((rt=this.data.titleObj)!=null&&rt.str||(mt=this.data.contentsObj)!=null&&mt.str||this.data.richText)&&this._createPopup(xt,this.data),this.container.append(xt),this.container}_download(){var xt;(xt=this.downloadManager)==null||xt.openOrDownloadData(this.container,this.content,this.filename)}}const Nt=class Nt{static render(xt){var It,Dt;const{annotations:rt,div:mt,viewport:Mt,accessibilityManager:_t}=xt;wn(this,ht,P1).call(this,mt,Mt);let Lt=0;for(const jt of rt){if(jt.annotationType!==_e.AnnotationType.POPUP){const{width:Xt,height:Ut}=st(jt.rect);if(Xt<=0||Ut<=0)continue}const Ot=Tt.create({data:jt,layer:mt,page:xt.page,viewport:Mt,linkService:xt.linkService,downloadManager:xt.downloadManager,imageResourcesPath:xt.imageResourcesPath||"",renderForms:xt.renderForms!==!1,svgFactory:new ot.DOMSVGFactory,annotationStorage:xt.annotationStorage||new $t.AnnotationStorage,enableScripting:xt.enableScripting,hasJSActions:xt.hasJSActions,fieldObjects:xt.fieldObjects,mouseState:xt.mouseState||{isDown:!1}});if(Ot.isRenderable){const Xt=Ot.render();if(jt.hidden&&(Xt.style.visibility="hidden"),Array.isArray(Xt))for(const Ut of Xt)Ut.style.zIndex=Lt++,wn(It=Nt,ht,T1).call(It,Ut,jt.id,mt,_t);else Xt.style.zIndex=Lt++,Ot instanceof ut?mt.prepend(Xt):wn(Dt=Nt,ht,T1).call(Dt,Xt,jt.id,mt,_t)}}wn(this,ht,O1).call(this,mt,xt.annotationCanvasMap)}static update(xt){const{annotationCanvasMap:rt,div:mt,viewport:Mt}=xt;wn(this,ht,P1).call(this,mt,Mt),wn(this,ht,O1).call(this,mt,rt),mt.hidden=!1}};ht=new WeakSet,T1=function(xt,rt,mt,Mt){const _t=xt.firstChild||xt;_t.id=`${ot.AnnotationPrefix}${rt}`,mt.append(xt),Mt==null||Mt.moveElementInDOM(mt,xt,_t,!1)},P1=function(xt,{width:rt,height:mt,rotation:Mt}){const{style:_t}=xt,Lt=Mt%180!=0,It=Math.floor(rt)+"px",Dt=Math.floor(mt)+"px";_t.width=Lt?Dt:It,_t.height=Lt?It:Dt,xt.setAttribute("data-main-rotation",Mt)},O1=function(xt,rt){if(rt){for(const[mt,Mt]of rt){const _t=xt.querySelector(`[data-annotation-id="${mt}"]`);if(!_t)continue;const{firstChild:Lt}=_t;Lt?Lt.nodeName==="CANVAS"?Lt.replaceWith(Mt):Lt.before(Mt):_t.append(Mt)}rt.clear()}},Rn(Nt,ht);let St=Nt;a.AnnotationLayer=St},(i,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ColorConverters=void 0;function c(_e){return Math.floor(255*Math.max(0,Math.min(1,_e))).toString(16).padStart(2,"0")}a.ColorConverters=class{static CMYK_G([ot,$t,zt,ct]){return["G",1-Math.min(1,.3*ot+.59*zt+.11*$t+ct)]}static G_CMYK([ot]){return["CMYK",0,0,0,1-ot]}static G_RGB([ot]){return["RGB",ot,ot,ot]}static G_HTML([ot]){const $t=c(ot);return`#${$t}${$t}${$t}`}static RGB_G([ot,$t,zt]){return["G",.3*ot+.59*$t+.11*zt]}static RGB_HTML([ot,$t,zt]){return`#${c(ot)}${c($t)}${c(zt)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([ot,$t,zt,ct]){return["RGB",1-Math.min(1,ot+ct),1-Math.min(1,zt+ct),1-Math.min(1,$t+ct)]}static CMYK_HTML(ot){const $t=this.CMYK_RGB(ot).slice(1);return this.RGB_HTML($t)}static RGB_CMYK([ot,$t,zt]){const ct=1-ot,Et=1-$t,s=1-zt;return["CMYK",ct,Et,s,Math.min(ct,Et,s)]}}},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.XfaLayer=void 0;var _e=c(20);a.XfaLayer=class{static setupStorage($t,zt,ct,Et,s){const st=Et.getValue(zt,{value:null});switch(ct.name){case"textarea":if(st.value!==null&&($t.textContent=st.value),s==="print")break;$t.addEventListener("input",Tt=>{Et.setValue(zt,{value:Tt.target.value})});break;case"input":if(ct.attributes.type==="radio"||ct.attributes.type==="checkbox"){if(st.value===ct.attributes.xfaOn?$t.setAttribute("checked",!0):st.value===ct.attributes.xfaOff&&$t.removeAttribute("checked"),s==="print")break;$t.addEventListener("change",Tt=>{Et.setValue(zt,{value:Tt.target.checked?Tt.target.getAttribute("xfaOn"):Tt.target.getAttribute("xfaOff")})})}else{if(st.value!==null&&$t.setAttribute("value",st.value),s==="print")break;$t.addEventListener("input",Tt=>{Et.setValue(zt,{value:Tt.target.value})})}break;case"select":if(st.value!==null)for(const Tt of ct.children)Tt.attributes.value===st.value&&(Tt.attributes.selected=!0);$t.addEventListener("input",Tt=>{const wt=Tt.target.options,e=wt.selectedIndex===-1?"":wt[wt.selectedIndex].value;Et.setValue(zt,{value:e})})}}static setAttributes({html:$t,element:zt,storage:ct=null,intent:Et,linkService:s}){const{attributes:st}=zt,Tt=$t instanceof HTMLAnchorElement;st.type==="radio"&&(st.name=`${st.name}-${Et}`);for(const[wt,e]of Object.entries(st))if(e!=null)switch(wt){case"class":e.length&&$t.setAttribute(wt,e.join(" "));break;case"dataId":break;case"id":$t.setAttribute("data-element-id",e);break;case"style":Object.assign($t.style,e);break;case"textContent":$t.textContent=e;break;default:(!Tt||wt!=="href"&&wt!=="newWindow")&&$t.setAttribute(wt,e)}Tt&&s.addLinkAttributes($t,st.href,st.newWindow),ct&&st.dataId&&this.setupStorage($t,st.dataId,zt,ct)}static render($t){var gt;const zt=$t.annotationStorage,ct=$t.linkService,Et=$t.xfaHtml,s=$t.intent||"display",st=document.createElement(Et.name);Et.attributes&&this.setAttributes({html:st,element:Et,intent:s,linkService:ct});const Tt=[[Et,-1,st]],wt=$t.div;if(wt.append(st),$t.viewport){const _=`matrix(${$t.viewport.transform.join(",")})`;wt.style.transform=_}s!=="richText"&&wt.setAttribute("class","xfaLayer xfaFont");const e=[];for(;Tt.length>0;){const[_,$,d]=Tt.at(-1);if($+1===_.children.length){Tt.pop();continue}const j=_.children[++Tt.at(-1)[1]];if(j===null)continue;const{name:g}=j;if(g==="#text"){const ut=document.createTextNode(j.value);e.push(ut),d.append(ut);continue}let o;if(o=(gt=j==null?void 0:j.attributes)!=null&&gt.xmlns?document.createElementNS(j.attributes.xmlns,g):document.createElement(g),d.append(o),j.attributes&&this.setAttributes({html:o,element:j,storage:zt,intent:s,linkService:ct}),j.children&&j.children.length>0)Tt.push([j,-1,o]);else if(j.value){const ut=document.createTextNode(j.value);_e.XfaText.shouldBuildText(g)&&e.push(ut),o.append(ut)}}for(const _ of wt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))_.setAttribute("readOnly",!0);return{textDivs:e}}static update($t){const zt=`matrix(${$t.viewport.transform.join(",")})`;$t.div.style.transform=zt,$t.div.hidden=!1}}},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TextLayerRenderTask=void 0,a.renderTextLayer=function(_){const $=new e({textContent:_.textContent,textContentStream:_.textContentStream,container:_.container,viewport:_.viewport,textDivs:_.textDivs,textContentItemsStr:_.textContentItemsStr,enhanceTextSelection:_.enhanceTextSelection});return $._render(_.timeout),$};var _e=c(1),ot=c(8);const $t=30,zt=new Map,ct=/^\s+$/g;function Et(gt,_,$,d){const j=document.createElement("span"),g=gt._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:_.str!=="",hasEOL:_.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:_.str!=="",hasEOL:_.hasEOL,fontSize:0};gt._textDivs.push(j);const o=_e.Util.transform(gt._viewport.transform,_.transform);let ut=Math.atan2(o[1],o[0]);const dt=$[_.fontName];dt.vertical&&(ut+=Math.PI/2);const b=Math.hypot(o[2],o[3]),h=b*function(Pt,Rt){const Ft=zt.get(Pt);if(Ft)return Ft;Rt.save(),Rt.font=`30px ${Pt}`;const lt=Rt.measureText("");let ft=lt.fontBoundingBoxAscent,it=Math.abs(lt.fontBoundingBoxDescent);if(ft){Rt.restore();const bt=ft/(ft+it);return zt.set(Pt,bt),bt}Rt.strokeStyle="red",Rt.clearRect(0,0,$t,$t),Rt.strokeText("g",0,0);let at=Rt.getImageData(0,0,$t,$t).data;it=0;for(let bt=at.length-1-3;bt>=0;bt-=4)if(at[bt]>0){it=Math.ceil(bt/4/$t);break}Rt.clearRect(0,0,$t,$t),Rt.strokeText("A",0,$t),at=Rt.getImageData(0,0,$t,$t).data,ft=0;for(let bt=0,St=at.length;bt<St;bt+=4)if(at[bt]>0){ft=$t-Math.floor(bt/4/$t);break}if(Rt.restore(),ft){const bt=ft/(ft+it);return zt.set(Pt,bt),bt}return zt.set(Pt,.8),.8}(dt.fontFamily,d);let et,nt;ut===0?(et=o[4],nt=o[5]-h):(et=o[4]+h*Math.sin(ut),nt=o[5]-h*Math.cos(ut)),j.style.left=`${et}px`,j.style.top=`${nt}px`,j.style.fontSize=`${b}px`,j.style.fontFamily=dt.fontFamily,g.fontSize=b,j.setAttribute("role","presentation"),j.textContent=_.str,j.dir=_.dir,gt._fontInspectorEnabled&&(j.dataset.fontName=_.fontName),ut!==0&&(g.angle=ut*(180/Math.PI));let pt=!1;if(_.str.length>1||gt._enhanceTextSelection&&ct.test(_.str))pt=!0;else if(_.str!==" "&&_.transform[0]!==_.transform[3]){const Bt=Math.abs(_.transform[0]),Pt=Math.abs(_.transform[3]);Bt!==Pt&&Math.max(Bt,Pt)/Math.min(Bt,Pt)>1.5&&(pt=!0)}if(pt&&(dt.vertical?g.canvasWidth=_.height*gt._viewport.scale:g.canvasWidth=_.width*gt._viewport.scale),gt._textDivProperties.set(j,g),gt._textContentStream&&gt._layoutText(j),gt._enhanceTextSelection&&g.hasText){let Bt=1,Pt=0;ut!==0&&(Bt=Math.cos(ut),Pt=Math.sin(ut));const Rt=(dt.vertical?_.height:_.width)*gt._viewport.scale,Ft=b;let lt,ft;ut!==0?(lt=[Bt,Pt,-Pt,Bt,et,nt],ft=_e.Util.getAxialAlignedBoundingBox([0,0,Rt,Ft],lt)):ft=[et,nt,et+Rt,nt+Ft],gt._bounds.push({left:ft[0],top:ft[1],right:ft[2],bottom:ft[3],div:j,size:[Rt,Ft],m:lt})}}function s(gt){if(gt._canceled)return;const _=gt._textDivs,$=gt._capability,d=_.length;if(d>1e5)gt._renderingDone=!0,$.resolve();else{if(!gt._textContentStream)for(let j=0;j<d;j++)gt._layoutText(_[j]);gt._renderingDone=!0,$.resolve()}}function st(gt,_,$){let d=0;for(let j=0;j<$;j++){const g=gt[_++];g>0&&(d=d?Math.min(g,d):g)}return d}function Tt(gt){const _=gt._bounds,$=gt._viewport,d=function(g,o,ut){const dt=ut.map(function(h,et){return{x1:h.left,y1:h.top,x2:h.right,y2:h.bottom,index:et,x1New:void 0,x2New:void 0}});wt(g,dt);const b=new Array(ut.length);for(const h of dt){const et=h.index;b[et]={left:h.x1New,top:0,right:h.x2New,bottom:0}}ut.map(function(h,et){const nt=b[et],pt=dt[et];pt.x1=h.top,pt.y1=g-nt.right,pt.x2=h.bottom,pt.y2=g-nt.left,pt.index=et,pt.x1New=void 0,pt.x2New=void 0}),wt(o,dt);for(const h of dt){const et=h.index;b[et].top=h.x1New,b[et].bottom=h.x2New}return b}($.width,$.height,_);for(let j=0;j<d.length;j++){const g=_[j].div,o=gt._textDivProperties.get(g);if(o.angle===0){o.paddingLeft=_[j].left-d[j].left,o.paddingTop=_[j].top-d[j].top,o.paddingRight=d[j].right-_[j].right,o.paddingBottom=d[j].bottom-_[j].bottom,gt._textDivProperties.set(g,o);continue}const ut=d[j],dt=_[j],b=dt.m,h=b[0],et=b[1],nt=[[0,0],[0,dt.size[1]],[dt.size[0],0],dt.size],pt=new Float64Array(64);for(let Pt=0,Rt=nt.length;Pt<Rt;Pt++){const Ft=_e.Util.applyTransform(nt[Pt],b);pt[Pt+0]=h&&(ut.left-Ft[0])/h,pt[Pt+4]=et&&(ut.top-Ft[1])/et,pt[Pt+8]=h&&(ut.right-Ft[0])/h,pt[Pt+12]=et&&(ut.bottom-Ft[1])/et,pt[Pt+16]=et&&(ut.left-Ft[0])/-et,pt[Pt+20]=h&&(ut.top-Ft[1])/h,pt[Pt+24]=et&&(ut.right-Ft[0])/-et,pt[Pt+28]=h&&(ut.bottom-Ft[1])/h,pt[Pt+32]=h&&(ut.left-Ft[0])/-h,pt[Pt+36]=et&&(ut.top-Ft[1])/-et,pt[Pt+40]=h&&(ut.right-Ft[0])/-h,pt[Pt+44]=et&&(ut.bottom-Ft[1])/-et,pt[Pt+48]=et&&(ut.left-Ft[0])/et,pt[Pt+52]=h&&(ut.top-Ft[1])/-h,pt[Pt+56]=et&&(ut.right-Ft[0])/et,pt[Pt+60]=h&&(ut.bottom-Ft[1])/-h}const Bt=1+Math.min(Math.abs(h),Math.abs(et));o.paddingLeft=st(pt,32,16)/Bt,o.paddingTop=st(pt,48,16)/Bt,o.paddingRight=st(pt,0,16)/Bt,o.paddingBottom=st(pt,16,16)/Bt,gt._textDivProperties.set(g,o)}}function wt(gt,_){_.sort(function(d,j){return d.x1-j.x1||d.index-j.index});const $=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const d of _){let j=0;for(;j<$.length&&$[j].end<=d.y1;)j++;let g,o,ut=$.length-1;for(;ut>=0&&$[ut].start>=d.y2;)ut--;let dt,b,h=-1/0;for(dt=j;dt<=ut;dt++){g=$[dt],o=g.boundary;let pt;pt=o.x2>d.x1?o.index>d.index?o.x1New:d.x1:o.x2New===void 0?(o.x2+d.x1)/2:o.x2New,pt>h&&(h=pt)}for(d.x1New=h,dt=j;dt<=ut;dt++)g=$[dt],o=g.boundary,o.x2New===void 0?o.x2>d.x1?o.index>d.index&&(o.x2New=o.x2):o.x2New=h:o.x2New>h&&(o.x2New=Math.max(h,o.x2));const et=[];let nt=null;for(dt=j;dt<=ut;dt++){g=$[dt],o=g.boundary;const pt=o.x2>d.x2?o:d;nt===pt?et.at(-1).end=g.end:(et.push({start:g.start,end:g.end,boundary:pt}),nt=pt)}for($[j].start<d.y1&&(et[0].start=d.y1,et.unshift({start:$[j].start,end:d.y1,boundary:$[j].boundary})),d.y2<$[ut].end&&(et.at(-1).end=d.y2,et.push({start:d.y2,end:$[ut].end,boundary:$[ut].boundary})),dt=j;dt<=ut;dt++){if(g=$[dt],o=g.boundary,o.x2New!==void 0)continue;let pt=!1;for(b=j-1;!pt&&b>=0&&$[b].start>=o.y1;b--)pt=$[b].boundary===o;for(b=ut+1;!pt&&b<$.length&&$[b].end<=o.y2;b++)pt=$[b].boundary===o;for(b=0;!pt&&b<et.length;b++)pt=et[b].boundary===o;pt||(o.x2New=h)}Array.prototype.splice.apply($,[j,ut-j+1,...et])}for(const d of $){const j=d.boundary;j.x2New===void 0&&(j.x2New=Math.max(gt,j.x2))}}class e{constructor({textContent:_,textContentStream:$,container:d,viewport:j,textDivs:g,textContentItemsStr:o,enhanceTextSelection:ut}){var dt;ut&&(0,ot.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=_,this._textContentStream=$,this._container=d,this._document=d.ownerDocument,this._viewport=j,this._textDivs=g||[],this._textContentItemsStr=o||[],this._enhanceTextSelection=!!ut,this._fontInspectorEnabled=!!((dt=globalThis.FontInspector)!=null&&dt.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,_e.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new _e.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(_,$){for(let d=0,j=_.length;d<j;d++)if(_[d].str!==void 0)this._textContentItemsStr.push(_[d].str),Et(this,_[d],$,this._layoutTextCtx);else if(_[d].type==="beginMarkedContentProps"||_[d].type==="beginMarkedContent"){const g=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),_[d].id!==null&&this._container.setAttribute("id",`${_[d].id}`),g.append(this._container)}else _[d].type==="endMarkedContent"&&(this._container=this._container.parentNode)}_layoutText(_){const $=this._textDivProperties.get(_);let d="";if($.canvasWidth!==0&&$.hasText){const{fontFamily:j}=_.style,{fontSize:g}=$;(g!==this._layoutTextLastFontSize||j!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${g*this._devicePixelRatio}px ${j}`,this._layoutTextLastFontSize=g,this._layoutTextLastFontFamily=j);const{width:o}=this._layoutTextCtx.measureText(_.textContent);if(o>0){const ut=this._devicePixelRatio*$.canvasWidth/o;this._enhanceTextSelection&&($.scale=ut),d=`scaleX(${ut})`}}if($.angle!==0&&(d=`rotate(${$.angle}deg) ${d}`),d.length>0&&(this._enhanceTextSelection&&($.originalTransform=d),_.style.transform=d),$.hasText&&this._container.append(_),$.hasEOL){const j=document.createElement("br");j.setAttribute("role","presentation"),this._container.append(j)}}_render(_=0){const $=(0,_e.createPromiseCapability)();let d=Object.create(null);const j=this._document.createElement("canvas");if(j.height=j.width=$t,this._layoutTextCtx=j.getContext("2d",{alpha:!1}),this._textContent){const g=this._textContent.items,o=this._textContent.styles;this._processItems(g,o),$.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const g=()=>{this._reader.read().then(({value:o,done:ut})=>{ut?$.resolve():(Object.assign(d,o.styles),this._processItems(o.items,d),g())},$.reject)};this._reader=this._textContentStream.getReader(),g()}}$.promise.then(()=>{d=null,_?this._renderTimer=setTimeout(()=>{s(this),this._renderTimer=null},_):s(this)},this._capability.reject)}expandTextDivs(_=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(Tt(this),this._bounds=null);const $=[],d=[];for(let j=0,g=this._textDivs.length;j<g;j++){const o=this._textDivs[j],ut=this._textDivProperties.get(o);ut.hasText&&(_?($.length=0,d.length=0,ut.originalTransform&&$.push(ut.originalTransform),ut.paddingTop>0?(d.push(`${ut.paddingTop}px`),$.push(`translateY(${-ut.paddingTop}px)`)):d.push(0),ut.paddingRight>0?d.push(ut.paddingRight/ut.scale+"px"):d.push(0),ut.paddingBottom>0?d.push(`${ut.paddingBottom}px`):d.push(0),ut.paddingLeft>0?(d.push(ut.paddingLeft/ut.scale+"px"),$.push(`translateX(${-ut.paddingLeft/ut.scale}px)`)):d.push(0),o.style.padding=d.join(" "),$.length&&(o.style.transform=$.join(" "))):(o.style.padding=null,o.style.transform=ut.originalTransform))}}}a.TextLayerRenderTask=e},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SVGGraphics=void 0;var _e=c(8),ot=c(1),$t=c(3);let zt=class{constructor(){(0,ot.unreachable)("Not implemented: SVGGraphics")}};a.SVGGraphics=zt;{let j=function(h){let et=[];const nt=[];for(const pt of h)pt.fn!=="save"?pt.fn==="restore"?et=nt.pop():et.push(pt):(et.push({fnId:92,fn:"group",items:[]}),nt.push(et),et=et.at(-1).items);return et},g=function(h){if(Number.isInteger(h))return h.toString();const et=h.toFixed(10);let nt=et.length-1;if(et[nt]!=="0")return et;do nt--;while(et[nt]==="0");return et.substring(0,et[nt]==="."?nt:nt+1)},o=function(h){if(h[4]===0&&h[5]===0){if(h[1]===0&&h[2]===0)return h[0]===1&&h[3]===1?"":`scale(${g(h[0])} ${g(h[3])})`;if(h[0]===h[3]&&h[1]===-h[2])return`rotate(${g(180*Math.acos(h[0])/Math.PI)})`}else if(h[0]===1&&h[1]===0&&h[2]===0&&h[3]===1)return`translate(${g(h[4])} ${g(h[5])})`;return`matrix(${g(h[0])} ${g(h[1])} ${g(h[2])} ${g(h[3])} ${g(h[4])} ${g(h[5])})`};var ct=j,Et=g,s=o;const st={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},Tt="http://www.w3.org/XML/1998/namespace",wt="http://www.w3.org/1999/xlink",e=["butt","round","square"],gt=["miter","round","bevel"],_=function(h,et="",nt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!nt)return URL.createObjectURL(new Blob([h],{type:et}));const pt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Bt=`data:${et};base64,`;for(let Pt=0,Rt=h.length;Pt<Rt;Pt+=3){const Ft=255&h[Pt],lt=255&h[Pt+1],ft=255&h[Pt+2];Bt+=pt[Ft>>2]+pt[(3&Ft)<<4|lt>>4]+pt[Pt+1<Rt?(15&lt)<<2|ft>>6:64]+pt[Pt+2<Rt?63&ft:64]}return Bt},$=function(){const h=new Uint8Array([137,80,78,71,13,10,26,10]),et=new Int32Array(256);for(let Pt=0;Pt<256;Pt++){let Rt=Pt;for(let Ft=0;Ft<8;Ft++)Rt=1&Rt?3988292384^Rt>>1&2147483647:Rt>>1&2147483647;et[Pt]=Rt}function nt(Pt,Rt,Ft,lt){let ft=lt;const it=Rt.length;Ft[ft]=it>>24&255,Ft[ft+1]=it>>16&255,Ft[ft+2]=it>>8&255,Ft[ft+3]=255&it,ft+=4,Ft[ft]=255&Pt.charCodeAt(0),Ft[ft+1]=255&Pt.charCodeAt(1),Ft[ft+2]=255&Pt.charCodeAt(2),Ft[ft+3]=255&Pt.charCodeAt(3),ft+=4,Ft.set(Rt,ft),ft+=Rt.length;const at=function(St,ht,vt){let yt=-1;for(let At=ht;At<vt;At++){const Nt=255&(yt^St[At]);yt=yt>>>8^et[Nt]}return-1^yt}(Ft,lt+4,ft);Ft[ft]=at>>24&255,Ft[ft+1]=at>>16&255,Ft[ft+2]=at>>8&255,Ft[ft+3]=255&at}function pt(Pt){let Rt=Pt.length;const Ft=65535,lt=Math.ceil(Rt/Ft),ft=new Uint8Array(2+Rt+5*lt+4);let it=0;ft[it++]=120,ft[it++]=156;let at=0;for(;Rt>Ft;)ft[it++]=0,ft[it++]=255,ft[it++]=255,ft[it++]=0,ft[it++]=0,ft.set(Pt.subarray(at,at+Ft),it),it+=Ft,at+=Ft,Rt-=Ft;ft[it++]=1,ft[it++]=255&Rt,ft[it++]=Rt>>8&255,ft[it++]=255&~Rt,ft[it++]=(65535&~Rt)>>8&255,ft.set(Pt.subarray(at),it),it+=Pt.length-at;const bt=function(ht,vt,yt){let At=1,Nt=0;for(let Ht=vt;Ht<yt;++Ht)At=(At+(255&ht[Ht]))%65521,Nt=(Nt+At)%65521;return Nt<<16|At}(Pt,0,Pt.length);return ft[it++]=bt>>24&255,ft[it++]=bt>>16&255,ft[it++]=bt>>8&255,ft[it++]=255&bt,ft}function Bt(Pt,Rt,Ft,lt){const ft=Pt.width,it=Pt.height;let at,bt,St;const ht=Pt.data;switch(Rt){case ot.ImageKind.GRAYSCALE_1BPP:bt=0,at=1,St=ft+7>>3;break;case ot.ImageKind.RGB_24BPP:bt=2,at=8,St=3*ft;break;case ot.ImageKind.RGBA_32BPP:bt=6,at=8,St=4*ft;break;default:throw new Error("invalid format")}const vt=new Uint8Array((1+St)*it);let yt=0,At=0;for(let Mt=0;Mt<it;++Mt)vt[yt++]=0,vt.set(ht.subarray(At,At+St),yt),At+=St,yt+=St;if(Rt===ot.ImageKind.GRAYSCALE_1BPP&&lt){yt=0;for(let Mt=0;Mt<it;Mt++){yt++;for(let _t=0;_t<St;_t++)vt[yt++]^=255}}const Nt=new Uint8Array([ft>>24&255,ft>>16&255,ft>>8&255,255&ft,it>>24&255,it>>16&255,it>>8&255,255&it,at,bt,0,0,0]),Ht=function(_t){if(!$t.isNodeJS)return pt(_t);try{let Lt;Lt=parseInt(process.versions.node)>=8?_t:Buffer.from(_t);const It=require$$5.deflateSync(Lt,{level:9});return It instanceof Uint8Array?It:new Uint8Array(It)}catch(Lt){(0,ot.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Lt)}return pt(_t)}(vt),xt=h.length+36+Nt.length+Ht.length,rt=new Uint8Array(xt);let mt=0;return rt.set(h,mt),mt+=h.length,nt("IHDR",Nt,rt,mt),mt+=12+Nt.length,nt("IDATA",Ht,rt,mt),mt+=12+Ht.length,nt("IEND",new Uint8Array(0),rt,mt),_(rt,"image/png",Ft)}return function(Rt,Ft,lt){return Bt(Rt,Rt.kind===void 0?ot.ImageKind.GRAYSCALE_1BPP:Rt.kind,Ft,lt)}}();class d{constructor(){this.fontSizeScale=1,this.fontWeight=st.fontWeight,this.fontSize=0,this.textMatrix=ot.IDENTITY_MATRIX,this.fontMatrix=ot.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=ot.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=st.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(et,nt){this.x=et,this.y=nt}}let ut=0,dt=0,b=0;a.SVGGraphics=zt=class{constructor(h,et,nt=!1){(0,_e.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new _e.DOMSVGFactory,this.current=new d,this.transformMatrix=ot.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=h,this.objs=et,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!nt,this._operatorIdMapping=[];for(const pt in ot.OPS)this._operatorIdMapping[ot.OPS[pt]]=pt}save(){this.transformStack.push(this.transformMatrix);const h=this.current;this.extraStack.push(h),this.current=h.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(h){this.save(),this.executeOpTree(h),this.restore()}loadDependencies(h){const et=h.fnArray,nt=h.argsArray;for(let pt=0,Bt=et.length;pt<Bt;pt++)if(et[pt]===ot.OPS.dependency)for(const Pt of nt[pt]){const Rt=Pt.startsWith("g_")?this.commonObjs:this.objs,Ft=new Promise(lt=>{Rt.get(Pt,lt)});this.current.dependencies.push(Ft)}return Promise.all(this.current.dependencies)}transform(h,et,nt,pt,Bt,Pt){const Rt=[h,et,nt,pt,Bt,Pt];this.transformMatrix=ot.Util.transform(this.transformMatrix,Rt),this.tgrp=null}getSVG(h,et){this.viewport=et;const nt=this._initialize(et);return this.loadDependencies(h).then(()=>(this.transformMatrix=ot.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(h)),nt))}convertOpList(h){const et=this._operatorIdMapping,nt=h.argsArray,pt=h.fnArray,Bt=[];for(let Pt=0,Rt=pt.length;Pt<Rt;Pt++){const Ft=pt[Pt];Bt.push({fnId:Ft,fn:et[Ft],args:nt[Pt]})}return j(Bt)}executeOpTree(h){for(const et of h){const nt=et.fn,pt=et.fnId,Bt=et.args;switch(0|pt){case ot.OPS.beginText:this.beginText();break;case ot.OPS.dependency:break;case ot.OPS.setLeading:this.setLeading(Bt);break;case ot.OPS.setLeadingMoveText:this.setLeadingMoveText(Bt[0],Bt[1]);break;case ot.OPS.setFont:this.setFont(Bt);break;case ot.OPS.showText:case ot.OPS.showSpacedText:this.showText(Bt[0]);break;case ot.OPS.endText:this.endText();break;case ot.OPS.moveText:this.moveText(Bt[0],Bt[1]);break;case ot.OPS.setCharSpacing:this.setCharSpacing(Bt[0]);break;case ot.OPS.setWordSpacing:this.setWordSpacing(Bt[0]);break;case ot.OPS.setHScale:this.setHScale(Bt[0]);break;case ot.OPS.setTextMatrix:this.setTextMatrix(Bt[0],Bt[1],Bt[2],Bt[3],Bt[4],Bt[5]);break;case ot.OPS.setTextRise:this.setTextRise(Bt[0]);break;case ot.OPS.setTextRenderingMode:this.setTextRenderingMode(Bt[0]);break;case ot.OPS.setLineWidth:this.setLineWidth(Bt[0]);break;case ot.OPS.setLineJoin:this.setLineJoin(Bt[0]);break;case ot.OPS.setLineCap:this.setLineCap(Bt[0]);break;case ot.OPS.setMiterLimit:this.setMiterLimit(Bt[0]);break;case ot.OPS.setFillRGBColor:this.setFillRGBColor(Bt[0],Bt[1],Bt[2]);break;case ot.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Bt[0],Bt[1],Bt[2]);break;case ot.OPS.setStrokeColorN:this.setStrokeColorN(Bt);break;case ot.OPS.setFillColorN:this.setFillColorN(Bt);break;case ot.OPS.shadingFill:this.shadingFill(Bt[0]);break;case ot.OPS.setDash:this.setDash(Bt[0],Bt[1]);break;case ot.OPS.setRenderingIntent:this.setRenderingIntent(Bt[0]);break;case ot.OPS.setFlatness:this.setFlatness(Bt[0]);break;case ot.OPS.setGState:this.setGState(Bt[0]);break;case ot.OPS.fill:this.fill();break;case ot.OPS.eoFill:this.eoFill();break;case ot.OPS.stroke:this.stroke();break;case ot.OPS.fillStroke:this.fillStroke();break;case ot.OPS.eoFillStroke:this.eoFillStroke();break;case ot.OPS.clip:this.clip("nonzero");break;case ot.OPS.eoClip:this.clip("evenodd");break;case ot.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case ot.OPS.paintImageXObject:this.paintImageXObject(Bt[0]);break;case ot.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Bt[0]);break;case ot.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Bt[0]);break;case ot.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Bt[0],Bt[1]);break;case ot.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case ot.OPS.closePath:this.closePath();break;case ot.OPS.closeStroke:this.closeStroke();break;case ot.OPS.closeFillStroke:this.closeFillStroke();break;case ot.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case ot.OPS.nextLine:this.nextLine();break;case ot.OPS.transform:this.transform(Bt[0],Bt[1],Bt[2],Bt[3],Bt[4],Bt[5]);break;case ot.OPS.constructPath:this.constructPath(Bt[0],Bt[1]);break;case ot.OPS.endPath:this.endPath();break;case 92:this.group(et.items);break;default:(0,ot.warn)(`Unimplemented operator ${nt}`)}}}setWordSpacing(h){this.current.wordSpacing=h}setCharSpacing(h){this.current.charSpacing=h}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(h,et,nt,pt,Bt,Pt){const Rt=this.current;Rt.textMatrix=Rt.lineMatrix=[h,et,nt,pt,Bt,Pt],Rt.textMatrixScale=Math.hypot(h,et),Rt.x=Rt.lineX=0,Rt.y=Rt.lineY=0,Rt.xcoords=[],Rt.ycoords=[],Rt.tspan=this.svgFactory.createElement("svg:tspan"),Rt.tspan.setAttributeNS(null,"font-family",Rt.fontFamily),Rt.tspan.setAttributeNS(null,"font-size",`${g(Rt.fontSize)}px`),Rt.tspan.setAttributeNS(null,"y",g(-Rt.y)),Rt.txtElement=this.svgFactory.createElement("svg:text"),Rt.txtElement.append(Rt.tspan)}beginText(){const h=this.current;h.x=h.lineX=0,h.y=h.lineY=0,h.textMatrix=ot.IDENTITY_MATRIX,h.lineMatrix=ot.IDENTITY_MATRIX,h.textMatrixScale=1,h.tspan=this.svgFactory.createElement("svg:tspan"),h.txtElement=this.svgFactory.createElement("svg:text"),h.txtgrp=this.svgFactory.createElement("svg:g"),h.xcoords=[],h.ycoords=[]}moveText(h,et){const nt=this.current;nt.x=nt.lineX+=h,nt.y=nt.lineY+=et,nt.xcoords=[],nt.ycoords=[],nt.tspan=this.svgFactory.createElement("svg:tspan"),nt.tspan.setAttributeNS(null,"font-family",nt.fontFamily),nt.tspan.setAttributeNS(null,"font-size",`${g(nt.fontSize)}px`),nt.tspan.setAttributeNS(null,"y",g(-nt.y))}showText(h){const et=this.current,nt=et.font,pt=et.fontSize;if(pt===0)return;const Bt=et.fontSizeScale,Pt=et.charSpacing,Rt=et.wordSpacing,Ft=et.fontDirection,lt=et.textHScale*Ft,ft=nt.vertical,it=ft?1:-1,at=nt.defaultVMetrics,bt=pt*et.fontMatrix[0];let St=0;for(const yt of h){if(yt===null){St+=Ft*Rt;continue}if(typeof yt=="number"){St+=it*yt*pt/1e3;continue}const At=(yt.isSpace?Rt:0)+Pt,Nt=yt.fontChar;let Ht,xt,rt,mt=yt.width;if(ft){let Mt;const _t=yt.vmetric||at;Mt=yt.vmetric?_t[1]:.5*mt,Mt=-Mt*bt;const Lt=_t[2]*bt;mt=_t?-_t[0]:mt,Ht=Mt/Bt,xt=(St+Lt)/Bt}else Ht=St/Bt,xt=0;(yt.isInFont||nt.missingFile)&&(et.xcoords.push(et.x+Ht),ft&&et.ycoords.push(-et.y+xt),et.tspan.textContent+=Nt),rt=ft?mt*bt-At*Ft:mt*bt+At*Ft,St+=rt}et.tspan.setAttributeNS(null,"x",et.xcoords.map(g).join(" ")),ft?et.tspan.setAttributeNS(null,"y",et.ycoords.map(g).join(" ")):et.tspan.setAttributeNS(null,"y",g(-et.y)),ft?et.y-=St:et.x+=St*lt,et.tspan.setAttributeNS(null,"font-family",et.fontFamily),et.tspan.setAttributeNS(null,"font-size",`${g(et.fontSize)}px`),et.fontStyle!==st.fontStyle&&et.tspan.setAttributeNS(null,"font-style",et.fontStyle),et.fontWeight!==st.fontWeight&&et.tspan.setAttributeNS(null,"font-weight",et.fontWeight);const ht=et.textRenderingMode&ot.TextRenderingMode.FILL_STROKE_MASK;if(ht===ot.TextRenderingMode.FILL||ht===ot.TextRenderingMode.FILL_STROKE?(et.fillColor!==st.fillColor&&et.tspan.setAttributeNS(null,"fill",et.fillColor),et.fillAlpha<1&&et.tspan.setAttributeNS(null,"fill-opacity",et.fillAlpha)):et.textRenderingMode===ot.TextRenderingMode.ADD_TO_PATH?et.tspan.setAttributeNS(null,"fill","transparent"):et.tspan.setAttributeNS(null,"fill","none"),ht===ot.TextRenderingMode.STROKE||ht===ot.TextRenderingMode.FILL_STROKE){const yt=1/(et.textMatrixScale||1);this._setStrokeAttributes(et.tspan,yt)}let vt=et.textMatrix;et.textRise!==0&&(vt=vt.slice(),vt[5]+=et.textRise),et.txtElement.setAttributeNS(null,"transform",`${o(vt)} scale(${g(lt)}, -1)`),et.txtElement.setAttributeNS(Tt,"xml:space","preserve"),et.txtElement.append(et.tspan),et.txtgrp.append(et.txtElement),this._ensureTransformGroup().append(et.txtElement)}setLeadingMoveText(h,et){this.setLeading(-et),this.moveText(h,et)}addFontStyle(h){if(!h.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const et=_(h.data,h.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${h.loadedName}"; src: url(${et}); }
`}setFont(h){const et=this.current,nt=this.commonObjs.get(h[0]);let pt=h[1];et.font=nt,this.embedFonts&&!nt.missingFile&&!this.embeddedFonts[nt.loadedName]&&(this.addFontStyle(nt),this.embeddedFonts[nt.loadedName]=nt),et.fontMatrix=nt.fontMatrix||ot.FONT_IDENTITY_MATRIX;let Bt="normal";nt.black?Bt="900":nt.bold&&(Bt="bold");const Pt=nt.italic?"italic":"normal";pt<0?(pt=-pt,et.fontDirection=-1):et.fontDirection=1,et.fontSize=pt,et.fontFamily=nt.loadedName,et.fontWeight=Bt,et.fontStyle=Pt,et.tspan=this.svgFactory.createElement("svg:tspan"),et.tspan.setAttributeNS(null,"y",g(-et.y)),et.xcoords=[],et.ycoords=[]}endText(){var et;const h=this.current;h.textRenderingMode&ot.TextRenderingMode.ADD_TO_PATH_FLAG&&((et=h.txtElement)!=null&&et.hasChildNodes())&&(h.element=h.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(h){h>0&&(this.current.lineWidth=h)}setLineCap(h){this.current.lineCap=e[h]}setLineJoin(h){this.current.lineJoin=gt[h]}setMiterLimit(h){this.current.miterLimit=h}setStrokeAlpha(h){this.current.strokeAlpha=h}setStrokeRGBColor(h,et,nt){this.current.strokeColor=ot.Util.makeHexColor(h,et,nt)}setFillAlpha(h){this.current.fillAlpha=h}setFillRGBColor(h,et,nt){this.current.fillColor=ot.Util.makeHexColor(h,et,nt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(h){this.current.strokeColor=this._makeColorN_Pattern(h)}setFillColorN(h){this.current.fillColor=this._makeColorN_Pattern(h)}shadingFill(h){const et=this.viewport.width,nt=this.viewport.height,pt=ot.Util.inverseTransform(this.transformMatrix),Bt=ot.Util.applyTransform([0,0],pt),Pt=ot.Util.applyTransform([0,nt],pt),Rt=ot.Util.applyTransform([et,0],pt),Ft=ot.Util.applyTransform([et,nt],pt),lt=Math.min(Bt[0],Pt[0],Rt[0],Ft[0]),ft=Math.min(Bt[1],Pt[1],Rt[1],Ft[1]),it=Math.max(Bt[0],Pt[0],Rt[0],Ft[0]),at=Math.max(Bt[1],Pt[1],Rt[1],Ft[1]),bt=this.svgFactory.createElement("svg:rect");bt.setAttributeNS(null,"x",lt),bt.setAttributeNS(null,"y",ft),bt.setAttributeNS(null,"width",it-lt),bt.setAttributeNS(null,"height",at-ft),bt.setAttributeNS(null,"fill",this._makeShadingPattern(h)),this.current.fillAlpha<1&&bt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(bt)}_makeColorN_Pattern(h){return h[0]==="TilingPattern"?this._makeTilingPattern(h):this._makeShadingPattern(h)}_makeTilingPattern(h){const et=h[1],nt=h[2],pt=h[3]||ot.IDENTITY_MATRIX,[Bt,Pt,Rt,Ft]=h[4],lt=h[5],ft=h[6],it=h[7],at="shading"+b++,[bt,St,ht,vt]=ot.Util.normalizeRect([...ot.Util.applyTransform([Bt,Pt],pt),...ot.Util.applyTransform([Rt,Ft],pt)]),[yt,At]=ot.Util.singularValueDecompose2dScale(pt),Nt=lt*yt,Ht=ft*At,xt=this.svgFactory.createElement("svg:pattern");xt.setAttributeNS(null,"id",at),xt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),xt.setAttributeNS(null,"width",Nt),xt.setAttributeNS(null,"height",Ht),xt.setAttributeNS(null,"x",`${bt}`),xt.setAttributeNS(null,"y",`${St}`);const rt=this.svg,mt=this.transformMatrix,Mt=this.current.fillColor,_t=this.current.strokeColor,Lt=this.svgFactory.create(ht-bt,vt-St);if(this.svg=Lt,this.transformMatrix=pt,it===2){const It=ot.Util.makeHexColor(...et);this.current.fillColor=It,this.current.strokeColor=It}return this.executeOpTree(this.convertOpList(nt)),this.svg=rt,this.transformMatrix=mt,this.current.fillColor=Mt,this.current.strokeColor=_t,xt.append(Lt.childNodes[0]),this.defs.append(xt),`url(#${at})`}_makeShadingPattern(h){switch(typeof h=="string"&&(h=this.objs.get(h)),h[0]){case"RadialAxial":const et="shading"+b++,nt=h[3];let pt;switch(h[1]){case"axial":const Bt=h[4],Pt=h[5];pt=this.svgFactory.createElement("svg:linearGradient"),pt.setAttributeNS(null,"id",et),pt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),pt.setAttributeNS(null,"x1",Bt[0]),pt.setAttributeNS(null,"y1",Bt[1]),pt.setAttributeNS(null,"x2",Pt[0]),pt.setAttributeNS(null,"y2",Pt[1]);break;case"radial":const Rt=h[4],Ft=h[5],lt=h[6],ft=h[7];pt=this.svgFactory.createElement("svg:radialGradient"),pt.setAttributeNS(null,"id",et),pt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),pt.setAttributeNS(null,"cx",Ft[0]),pt.setAttributeNS(null,"cy",Ft[1]),pt.setAttributeNS(null,"r",ft),pt.setAttributeNS(null,"fx",Rt[0]),pt.setAttributeNS(null,"fy",Rt[1]),pt.setAttributeNS(null,"fr",lt);break;default:throw new Error(`Unknown RadialAxial type: ${h[1]}`)}for(const Bt of nt){const Pt=this.svgFactory.createElement("svg:stop");Pt.setAttributeNS(null,"offset",Bt[0]),Pt.setAttributeNS(null,"stop-color",Bt[1]),pt.append(Pt)}return this.defs.append(pt),`url(#${et})`;case"Mesh":return(0,ot.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${h[0]}`)}}setDash(h,et){this.current.dashArray=h,this.current.dashPhase=et}constructPath(h,et){const nt=this.current;let pt=nt.x,Bt=nt.y,Pt=[],Rt=0;for(const Ft of h)switch(0|Ft){case ot.OPS.rectangle:pt=et[Rt++],Bt=et[Rt++];const lt=pt+et[Rt++],ft=Bt+et[Rt++];Pt.push("M",g(pt),g(Bt),"L",g(lt),g(Bt),"L",g(lt),g(ft),"L",g(pt),g(ft),"Z");break;case ot.OPS.moveTo:pt=et[Rt++],Bt=et[Rt++],Pt.push("M",g(pt),g(Bt));break;case ot.OPS.lineTo:pt=et[Rt++],Bt=et[Rt++],Pt.push("L",g(pt),g(Bt));break;case ot.OPS.curveTo:pt=et[Rt+4],Bt=et[Rt+5],Pt.push("C",g(et[Rt]),g(et[Rt+1]),g(et[Rt+2]),g(et[Rt+3]),g(pt),g(Bt)),Rt+=6;break;case ot.OPS.curveTo2:Pt.push("C",g(pt),g(Bt),g(et[Rt]),g(et[Rt+1]),g(et[Rt+2]),g(et[Rt+3])),pt=et[Rt+2],Bt=et[Rt+3],Rt+=4;break;case ot.OPS.curveTo3:pt=et[Rt+2],Bt=et[Rt+3],Pt.push("C",g(et[Rt]),g(et[Rt+1]),g(pt),g(Bt),g(pt),g(Bt)),Rt+=4;break;case ot.OPS.closePath:Pt.push("Z")}Pt=Pt.join(" "),nt.path&&h.length>0&&h[0]!==ot.OPS.rectangle&&h[0]!==ot.OPS.moveTo?Pt=nt.path.getAttributeNS(null,"d")+Pt:(nt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(nt.path)),nt.path.setAttributeNS(null,"d",Pt),nt.path.setAttributeNS(null,"fill","none"),nt.element=nt.path,nt.setCurrentPoint(pt,Bt)}endPath(){const h=this.current;if(h.path=null,!this.pendingClip)return;if(!h.element){this.pendingClip=null;return}const et="clippath"+ut++,nt=this.svgFactory.createElement("svg:clipPath");nt.setAttributeNS(null,"id",et),nt.setAttributeNS(null,"transform",o(this.transformMatrix));const pt=h.element.cloneNode(!0);if(this.pendingClip==="evenodd"?pt.setAttributeNS(null,"clip-rule","evenodd"):pt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,nt.append(pt),this.defs.append(nt),h.activeClipUrl){h.clipGroup=null;for(const Bt of this.extraStack)Bt.clipGroup=null;nt.setAttributeNS(null,"clip-path",h.activeClipUrl)}h.activeClipUrl=`url(#${et})`,this.tgrp=null}clip(h){this.pendingClip=h}closePath(){const h=this.current;if(h.path){const et=`${h.path.getAttributeNS(null,"d")}Z`;h.path.setAttributeNS(null,"d",et)}}setLeading(h){this.current.leading=-h}setTextRise(h){this.current.textRise=h}setTextRenderingMode(h){this.current.textRenderingMode=h}setHScale(h){this.current.textHScale=h/100}setRenderingIntent(h){}setFlatness(h){}setGState(h){for(const[et,nt]of h)switch(et){case"LW":this.setLineWidth(nt);break;case"LC":this.setLineCap(nt);break;case"LJ":this.setLineJoin(nt);break;case"ML":this.setMiterLimit(nt);break;case"D":this.setDash(nt[0],nt[1]);break;case"RI":this.setRenderingIntent(nt);break;case"FL":this.setFlatness(nt);break;case"Font":this.setFont(nt);break;case"CA":this.setStrokeAlpha(nt);break;case"ca":this.setFillAlpha(nt);break;default:(0,ot.warn)(`Unimplemented graphic state operator ${et}`)}}fill(){const h=this.current;h.element&&(h.element.setAttributeNS(null,"fill",h.fillColor),h.element.setAttributeNS(null,"fill-opacity",h.fillAlpha),this.endPath())}stroke(){const h=this.current;h.element&&(this._setStrokeAttributes(h.element),h.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(h,et=1){const nt=this.current;let pt=nt.dashArray;et!==1&&pt.length>0&&(pt=pt.map(function(Bt){return et*Bt})),h.setAttributeNS(null,"stroke",nt.strokeColor),h.setAttributeNS(null,"stroke-opacity",nt.strokeAlpha),h.setAttributeNS(null,"stroke-miterlimit",g(nt.miterLimit)),h.setAttributeNS(null,"stroke-linecap",nt.lineCap),h.setAttributeNS(null,"stroke-linejoin",nt.lineJoin),h.setAttributeNS(null,"stroke-width",g(et*nt.lineWidth)+"px"),h.setAttributeNS(null,"stroke-dasharray",pt.map(g).join(" ")),h.setAttributeNS(null,"stroke-dashoffset",g(et*nt.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const h=this.svgFactory.createElement("svg:rect");h.setAttributeNS(null,"x","0"),h.setAttributeNS(null,"y","0"),h.setAttributeNS(null,"width","1px"),h.setAttributeNS(null,"height","1px"),h.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(h)}paintImageXObject(h){const et=h.startsWith("g_")?this.commonObjs.get(h):this.objs.get(h);et?this.paintInlineImageXObject(et):(0,ot.warn)(`Dependent image with object ID ${h} is not ready yet`)}paintInlineImageXObject(h,et){const nt=h.width,pt=h.height,Bt=$(h,this.forceDataSchema,!!et),Pt=this.svgFactory.createElement("svg:rect");Pt.setAttributeNS(null,"x","0"),Pt.setAttributeNS(null,"y","0"),Pt.setAttributeNS(null,"width",g(nt)),Pt.setAttributeNS(null,"height",g(pt)),this.current.element=Pt,this.clip("nonzero");const Rt=this.svgFactory.createElement("svg:image");Rt.setAttributeNS(wt,"xlink:href",Bt),Rt.setAttributeNS(null,"x","0"),Rt.setAttributeNS(null,"y",g(-pt)),Rt.setAttributeNS(null,"width",g(nt)+"px"),Rt.setAttributeNS(null,"height",g(pt)+"px"),Rt.setAttributeNS(null,"transform",`scale(${g(1/nt)} ${g(-1/pt)})`),et?et.append(Rt):this._ensureTransformGroup().append(Rt)}paintImageMaskXObject(h){const et=this.current,nt=h.width,pt=h.height,Bt=et.fillColor;et.maskId="mask"+dt++;const Pt=this.svgFactory.createElement("svg:mask");Pt.setAttributeNS(null,"id",et.maskId);const Rt=this.svgFactory.createElement("svg:rect");Rt.setAttributeNS(null,"x","0"),Rt.setAttributeNS(null,"y","0"),Rt.setAttributeNS(null,"width",g(nt)),Rt.setAttributeNS(null,"height",g(pt)),Rt.setAttributeNS(null,"fill",Bt),Rt.setAttributeNS(null,"mask",`url(#${et.maskId})`),this.defs.append(Pt),this._ensureTransformGroup().append(Rt),this.paintInlineImageXObject(h,Pt)}paintFormXObjectBegin(h,et){if(Array.isArray(h)&&h.length===6&&this.transform(h[0],h[1],h[2],h[3],h[4],h[5]),et){const nt=et[2]-et[0],pt=et[3]-et[1],Bt=this.svgFactory.createElement("svg:rect");Bt.setAttributeNS(null,"x",et[0]),Bt.setAttributeNS(null,"y",et[1]),Bt.setAttributeNS(null,"width",g(nt)),Bt.setAttributeNS(null,"height",g(pt)),this.current.element=Bt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(h){const et=this.svgFactory.create(h.width,h.height),nt=this.svgFactory.createElement("svg:defs");et.append(nt),this.defs=nt;const pt=this.svgFactory.createElement("svg:g");return pt.setAttributeNS(null,"transform",o(h.transform)),et.append(pt),this.svg=pt,et}_ensureClipGroup(){if(!this.current.clipGroup){const h=this.svgFactory.createElement("svg:g");h.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(h),this.current.clipGroup=h}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",o(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFNodeStream=void 0;var _e=c(1),ot=c(33);const $t=require$$5,zt=require$$5,ct=require$$5,Et=require$$5,s=/^file:\/\/\/[a-zA-Z]:\//;a.PDFNodeStream=class{constructor(j){this.source=j,this.url=function(o){const ut=Et.parse(o);return ut.protocol==="file:"||ut.host?ut:/^[a-z]:[/\\]/i.test(o)?Et.parse(`file:///${o}`):(ut.host||(ut.protocol="file:"),ut)}(j.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&j.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var j;return((j=this._fullRequestReader)==null?void 0:j._loaded)??0}getFullReader(){return(0,_e.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new _(this):new e(this),this._fullRequestReader}getRangeReader(j,g){if(g<=this._progressiveDataLength)return null;const o=this.isFsUrl?new $(this,j,g):new gt(this,j,g);return this._rangeRequestReaders.push(o),o}cancelAllRequests(j){this._fullRequestReader&&this._fullRequestReader.cancel(j);for(const g of this._rangeRequestReaders.slice(0))g.cancel(j)}};class st{constructor(j){this._url=j.url,this._done=!1,this._storedError=null,this.onProgress=null;const g=j.source;this._contentLength=g.length,this._loaded=0,this._filename=null,this._disableRange=g.disableRange||!1,this._rangeChunkSize=g.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!g.disableStream,this._isRangeSupported=!g.disableRange,this._readableStream=null,this._readCapability=(0,_e.createPromiseCapability)(),this._headersCapability=(0,_e.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const j=this._readableStream.read();return j===null?(this._readCapability=(0,_e.createPromiseCapability)(),this.read()):(this._loaded+=j.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(j).buffer,done:!1})}cancel(j){this._readableStream?this._readableStream.destroy(j):this._error(j)}_error(j){this._storedError=j,this._readCapability.resolve()}_setReadableStream(j){this._readableStream=j,j.on("readable",()=>{this._readCapability.resolve()}),j.on("end",()=>{j.destroy(),this._done=!0,this._readCapability.resolve()}),j.on("error",g=>{this._error(g)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new _e.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Tt{constructor(j){this._url=j.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,_e.createPromiseCapability)();const g=j.source;this._isStreamingSupported=!g.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const j=this._readableStream.read();return j===null?(this._readCapability=(0,_e.createPromiseCapability)(),this.read()):(this._loaded+=j.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(j).buffer,done:!1})}cancel(j){this._readableStream?this._readableStream.destroy(j):this._error(j)}_error(j){this._storedError=j,this._readCapability.resolve()}_setReadableStream(j){this._readableStream=j,j.on("readable",()=>{this._readCapability.resolve()}),j.on("end",()=>{j.destroy(),this._done=!0,this._readCapability.resolve()}),j.on("error",g=>{this._error(g)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function wt(d,j){return{protocol:d.protocol,auth:d.auth,host:d.hostname,port:d.port,path:d.path,method:"GET",headers:j}}class e extends st{constructor(j){super(j);const g=o=>{if(o.statusCode===404){const h=new _e.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=h,this._headersCapability.reject(h);return}this._headersCapability.resolve(),this._setReadableStream(o);const ut=h=>this._readableStream.headers[h.toLowerCase()],{allowRangeRequests:dt,suggestedLength:b}=(0,ot.validateRangeRequestCapabilities)({getResponseHeader:ut,isHttp:j.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=dt,this._contentLength=b||this._contentLength,this._filename=(0,ot.extractFilenameFromHeader)(ut)};this._request=null,this._url.protocol==="http:"?this._request=zt.request(wt(this._url,j.httpHeaders),g):this._request=ct.request(wt(this._url,j.httpHeaders),g),this._request.on("error",o=>{this._storedError=o,this._headersCapability.reject(o)}),this._request.end()}}class gt extends Tt{constructor(j,g,o){super(j),this._httpHeaders={};for(const dt in j.httpHeaders){const b=j.httpHeaders[dt];b!==void 0&&(this._httpHeaders[dt]=b)}this._httpHeaders.Range=`bytes=${g}-${o-1}`;const ut=dt=>{if(dt.statusCode!==404)this._setReadableStream(dt);else{const b=new _e.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=b}};this._request=null,this._url.protocol==="http:"?this._request=zt.request(wt(this._url,this._httpHeaders),ut):this._request=ct.request(wt(this._url,this._httpHeaders),ut),this._request.on("error",dt=>{this._storedError=dt}),this._request.end()}}class _ extends st{constructor(j){super(j);let g=decodeURIComponent(this._url.path);s.test(this._url.href)&&(g=g.replace(/^\//,"")),$t.lstat(g,(o,ut)=>{o?(o.code==="ENOENT"&&(o=new _e.MissingPDFException(`Missing PDF "${g}".`)),this._storedError=o,this._headersCapability.reject(o)):(this._contentLength=ut.size,this._setReadableStream($t.createReadStream(g)),this._headersCapability.resolve())})}}class $ extends Tt{constructor(j,g,o){super(j);let ut=decodeURIComponent(this._url.path);s.test(this._url.href)&&(ut=ut.replace(/^\//,"")),this._setReadableStream($t.createReadStream(ut,{start:g,end:o-1}))}}},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createResponseStatusError=function(ct,Et){return ct===404||ct===0&&Et.startsWith("file:")?new _e.MissingPDFException('Missing PDF "'+Et+'".'):new _e.UnexpectedResponseException(`Unexpected server response (${ct}) while retrieving PDF "${Et}".`,ct)},a.extractFilenameFromHeader=function(ct){const Et=ct("Content-Disposition");if(Et){let s=(0,ot.getFilenameFromContentDispositionHeader)(Et);if(s.includes("%"))try{s=decodeURIComponent(s)}catch{}if((0,$t.isPdfFile)(s))return s}return null},a.validateRangeRequestCapabilities=function({getResponseHeader:ct,isHttp:Et,rangeChunkSize:s,disableRange:st}){const Tt={allowRangeRequests:!1,suggestedLength:void 0},wt=parseInt(ct("Content-Length"),10);return!Number.isInteger(wt)||(Tt.suggestedLength=wt,wt<=2*s)||st||!Et||ct("Accept-Ranges")!=="bytes"||(ct("Content-Encoding")||"identity")!=="identity"||(Tt.allowRangeRequests=!0),Tt},a.validateResponseStatus=function(ct){return ct===200||ct===206};var _e=c(1),ot=c(34),$t=c(8)},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getFilenameFromContentDispositionHeader=function($t){let zt=!0,ct=Et("filename\\*","i").exec($t);if(ct){ct=ct[1];let gt=Tt(ct);return gt=unescape(gt),gt=wt(gt),gt=e(gt),st(gt)}if(ct=function(_){const $=[];let d;const j=Et("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(d=j.exec(_))!==null;){let[,o,ut,dt]=d;if(o=parseInt(o,10),o in $){if(o===0)break}else $[o]=[ut,dt]}const g=[];for(let o=0;o<$.length&&o in $;++o){let[ut,dt]=$[o];dt=Tt(dt),ut&&(dt=unescape(dt),o===0&&(dt=wt(dt))),g.push(dt)}return g.join("")}($t),ct)return st(e(ct));if(ct=Et("filename","i").exec($t),ct){ct=ct[1];let gt=Tt(ct);return gt=e(gt),st(gt)}function Et(gt,_){return new RegExp("(?:^|;)\\s*"+gt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',_)}function s(gt,_){if(gt){if(!/^[\x00-\xFF]+$/.test(_))return _;try{const $=new TextDecoder(gt,{fatal:!0}),d=(0,_e.stringToBytes)(_);_=$.decode(d),zt=!1}catch{}}return _}function st(gt){return zt&&/[\x80-\xff]/.test(gt)&&(gt=s("utf-8",gt),zt&&(gt=s("iso-8859-1",gt))),gt}function Tt(gt){if(gt.startsWith('"')){const _=gt.slice(1).split('\\"');for(let $=0;$<_.length;++$){const d=_[$].indexOf('"');d!==-1&&(_[$]=_[$].slice(0,d),_.length=$+1),_[$]=_[$].replace(/\\(.)/g,"$1")}gt=_.join('"')}return gt}function wt(gt){const _=gt.indexOf("'");return _===-1?gt:s(gt.slice(0,_),gt.slice(_+1).replace(/^[^']*'/,""))}function e(gt){return!gt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(gt)?gt:gt.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(_,$,d,j){if(d==="q"||d==="Q")return s($,j=(j=j.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(g,o){return String.fromCharCode(parseInt(o,16))}));try{j=atob(j)}catch{}return s($,j)})}return""};var _e=c(1)},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFNetworkStream=void 0;var _e=c(1),ot=c(33);class $t{constructor(s,st={}){this.url=s,this.isHttp=/^https?:/i.test(s),this.httpHeaders=this.isHttp&&st.httpHeaders||Object.create(null),this.withCredentials=st.withCredentials||!1,this.getXhr=st.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(s,st,Tt){const wt={begin:s,end:st};for(const e in Tt)wt[e]=Tt[e];return this.request(wt)}requestFull(s){return this.request(s)}request(s){const st=this.getXhr(),Tt=this.currXhrId++,wt=this.pendingRequests[Tt]={xhr:st};st.open("GET",this.url),st.withCredentials=this.withCredentials;for(const e in this.httpHeaders){const gt=this.httpHeaders[e];gt!==void 0&&st.setRequestHeader(e,gt)}return this.isHttp&&"begin"in s&&"end"in s?(st.setRequestHeader("Range",`bytes=${s.begin}-${s.end-1}`),wt.expectedStatus=206):wt.expectedStatus=200,st.responseType="arraybuffer",s.onError&&(st.onerror=function(e){s.onError(st.status)}),st.onreadystatechange=this.onStateChange.bind(this,Tt),st.onprogress=this.onProgress.bind(this,Tt),wt.onHeadersReceived=s.onHeadersReceived,wt.onDone=s.onDone,wt.onError=s.onError,wt.onProgress=s.onProgress,st.send(null),Tt}onProgress(s,st){var wt;const Tt=this.pendingRequests[s];Tt&&((wt=Tt.onProgress)==null||wt.call(Tt,st))}onStateChange(s,st){var _,$,d;const Tt=this.pendingRequests[s];if(!Tt)return;const wt=Tt.xhr;if(wt.readyState>=2&&Tt.onHeadersReceived&&(Tt.onHeadersReceived(),delete Tt.onHeadersReceived),wt.readyState!==4||!(s in this.pendingRequests))return;if(delete this.pendingRequests[s],wt.status===0&&this.isHttp){(_=Tt.onError)==null||_.call(Tt,wt.status);return}const e=wt.status||200;if(!(e===200&&Tt.expectedStatus===206)&&e!==Tt.expectedStatus){($=Tt.onError)==null||$.call(Tt,wt.status);return}const gt=function(g){const o=g.response;return typeof o!="string"?o:(0,_e.stringToBytes)(o).buffer}(wt);if(e===206){const j=wt.getResponseHeader("Content-Range"),g=/bytes (\d+)-(\d+)\/(\d+)/.exec(j);Tt.onDone({begin:parseInt(g[1],10),chunk:gt})}else gt?Tt.onDone({begin:0,chunk:gt}):(d=Tt.onError)==null||d.call(Tt,wt.status)}getRequestXhr(s){return this.pendingRequests[s].xhr}isPendingRequest(s){return s in this.pendingRequests}abortRequest(s){const st=this.pendingRequests[s].xhr;delete this.pendingRequests[s],st.abort()}}a.PDFNetworkStream=class{constructor(s){this._source=s,this._manager=new $t(s.url,{httpHeaders:s.httpHeaders,withCredentials:s.withCredentials}),this._rangeChunkSize=s.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(s){const st=this._rangeRequestReaders.indexOf(s);st>=0&&this._rangeRequestReaders.splice(st,1)}getFullReader(){return(0,_e.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new zt(this._manager,this._source),this._fullRequestReader}getRangeReader(s,st){const Tt=new ct(this._manager,s,st);return Tt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(Tt),Tt}cancelAllRequests(s){var st;(st=this._fullRequestReader)==null||st.cancel(s);for(const Tt of this._rangeRequestReaders.slice(0))Tt.cancel(s)}};class zt{constructor(s,st){this._manager=s;const Tt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=st.url,this._fullRequestId=s.requestFull(Tt),this._headersReceivedCapability=(0,_e.createPromiseCapability)(),this._disableRange=st.disableRange||!1,this._contentLength=st.length,this._rangeChunkSize=st.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const s=this._fullRequestId,st=this._manager.getRequestXhr(s),Tt=gt=>st.getResponseHeader(gt),{allowRangeRequests:wt,suggestedLength:e}=(0,ot.validateRangeRequestCapabilities)({getResponseHeader:Tt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});wt&&(this._isRangeSupported=!0),this._contentLength=e||this._contentLength,this._filename=(0,ot.extractFilenameFromHeader)(Tt),this._isRangeSupported&&this._manager.abortRequest(s),this._headersReceivedCapability.resolve()}_onDone(s){if(s&&(this._requests.length>0?this._requests.shift().resolve({value:s.chunk,done:!1}):this._cachedChunks.push(s.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const st of this._requests)st.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(s){this._storedError=(0,ot.createResponseStatusError)(s,this._url),this._headersReceivedCapability.reject(this._storedError);for(const st of this._requests)st.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(s){var st;(st=this.onProgress)==null||st.call(this,{loaded:s.loaded,total:s.lengthComputable?s.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const s=(0,_e.createPromiseCapability)();return this._requests.push(s),s.promise}cancel(s){this._done=!0,this._headersReceivedCapability.reject(s);for(const st of this._requests)st.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ct{constructor(s,st,Tt){this._manager=s;const wt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=s.url,this._requestId=s.requestRange(st,Tt,wt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var s;(s=this.onClosed)==null||s.call(this,this)}_onDone(s){const st=s.chunk;this._requests.length>0?this._requests.shift().resolve({value:st,done:!1}):this._queuedChunk=st,this._done=!0;for(const Tt of this._requests)Tt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(s){this._storedError=(0,ot.createResponseStatusError)(s,this._url);for(const st of this._requests)st.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(s){var st;this.isStreamingSupported||((st=this.onProgress)==null||st.call(this,{loaded:s.loaded}))}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const st=this._queuedChunk;return this._queuedChunk=null,{value:st,done:!1}}if(this._done)return{value:void 0,done:!0};const s=(0,_e.createPromiseCapability)();return this._requests.push(s),s.promise}cancel(s){this._done=!0;for(const st of this._requests)st.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(i,a,c)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PDFFetchStream=void 0;var _e=c(1),ot=c(33);function $t(s,st,Tt){return{method:"GET",headers:s,signal:Tt.signal,mode:"cors",credentials:st?"include":"same-origin",redirect:"follow"}}function zt(s){const st=new Headers;for(const Tt in s){const wt=s[Tt];wt!==void 0&&st.append(Tt,wt)}return st}a.PDFFetchStream=class{constructor(st){this.source=st,this.isHttp=/^https?:/i.test(st.url),this.httpHeaders=this.isHttp&&st.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var st;return((st=this._fullRequestReader)==null?void 0:st._loaded)??0}getFullReader(){return(0,_e.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new ct(this),this._fullRequestReader}getRangeReader(st,Tt){if(Tt<=this._progressiveDataLength)return null;const wt=new Et(this,st,Tt);return this._rangeRequestReaders.push(wt),wt}cancelAllRequests(st){this._fullRequestReader&&this._fullRequestReader.cancel(st);for(const Tt of this._rangeRequestReaders.slice(0))Tt.cancel(st)}};class ct{constructor(st){this._stream=st,this._reader=null,this._loaded=0,this._filename=null;const Tt=st.source;this._withCredentials=Tt.withCredentials||!1,this._contentLength=Tt.length,this._headersCapability=(0,_e.createPromiseCapability)(),this._disableRange=Tt.disableRange||!1,this._rangeChunkSize=Tt.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!Tt.disableStream,this._isRangeSupported=!Tt.disableRange,this._headers=zt(this._stream.httpHeaders);const wt=Tt.url;fetch(wt,$t(this._headers,this._withCredentials,this._abortController)).then(e=>{if(!(0,ot.validateResponseStatus)(e.status))throw(0,ot.createResponseStatusError)(e.status,wt);this._reader=e.body.getReader(),this._headersCapability.resolve();const gt=d=>e.headers.get(d),{allowRangeRequests:_,suggestedLength:$}=(0,ot.validateRangeRequestCapabilities)({getResponseHeader:gt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=_,this._contentLength=$||this._contentLength,this._filename=(0,ot.extractFilenameFromHeader)(gt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new _e.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:st,done:Tt}=await this._reader.read();return Tt?{value:st,done:Tt}:(this._loaded+=st.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(st).buffer,done:!1})}cancel(st){this._reader&&this._reader.cancel(st),this._abortController.abort()}}class Et{constructor(st,Tt,wt){this._stream=st,this._reader=null,this._loaded=0;const e=st.source;this._withCredentials=e.withCredentials||!1,this._readCapability=(0,_e.createPromiseCapability)(),this._isStreamingSupported=!e.disableStream,this._abortController=new AbortController,this._headers=zt(this._stream.httpHeaders),this._headers.append("Range",`bytes=${Tt}-${wt-1}`);const gt=e.url;fetch(gt,$t(this._headers,this._withCredentials,this._abortController)).then(_=>{if(!(0,ot.validateResponseStatus)(_.status))throw(0,ot.createResponseStatusError)(_.status,gt);this._readCapability.resolve(),this._reader=_.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:st,done:Tt}=await this._reader.read();return Tt?{value:st,done:Tt}:(this._loaded+=st.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(st).buffer,done:!1})}cancel(st){this._reader&&this._reader.cancel(st),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(i){var a=__webpack_module_cache__[i];if(a!==void 0)return a.exports;var c=__webpack_module_cache__[i]={exports:{}};return __webpack_modules__[i](c,c.exports,__w_pdfjs_require__),c.exports}var __webpack_exports__={};return(()=>{var i=__webpack_exports__;Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"AnnotationEditorLayer",{enumerable:!0,get:function(){return ot.AnnotationEditorLayer}}),Object.defineProperty(i,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return a.AnnotationEditorParamsType}}),Object.defineProperty(i,"AnnotationEditorType",{enumerable:!0,get:function(){return a.AnnotationEditorType}}),Object.defineProperty(i,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return $t.AnnotationEditorUIManager}}),Object.defineProperty(i,"AnnotationLayer",{enumerable:!0,get:function(){return zt.AnnotationLayer}}),Object.defineProperty(i,"AnnotationMode",{enumerable:!0,get:function(){return a.AnnotationMode}}),Object.defineProperty(i,"CMapCompressionType",{enumerable:!0,get:function(){return a.CMapCompressionType}}),Object.defineProperty(i,"GlobalWorkerOptions",{enumerable:!0,get:function(){return ct.GlobalWorkerOptions}}),Object.defineProperty(i,"InvalidPDFException",{enumerable:!0,get:function(){return a.InvalidPDFException}}),Object.defineProperty(i,"LoopbackPort",{enumerable:!0,get:function(){return c.LoopbackPort}}),Object.defineProperty(i,"MissingPDFException",{enumerable:!0,get:function(){return a.MissingPDFException}}),Object.defineProperty(i,"OPS",{enumerable:!0,get:function(){return a.OPS}}),Object.defineProperty(i,"PDFDataRangeTransport",{enumerable:!0,get:function(){return c.PDFDataRangeTransport}}),Object.defineProperty(i,"PDFDateString",{enumerable:!0,get:function(){return _e.PDFDateString}}),Object.defineProperty(i,"PDFWorker",{enumerable:!0,get:function(){return c.PDFWorker}}),Object.defineProperty(i,"PasswordResponses",{enumerable:!0,get:function(){return a.PasswordResponses}}),Object.defineProperty(i,"PermissionFlag",{enumerable:!0,get:function(){return a.PermissionFlag}}),Object.defineProperty(i,"PixelsPerInch",{enumerable:!0,get:function(){return _e.PixelsPerInch}}),Object.defineProperty(i,"RenderingCancelledException",{enumerable:!0,get:function(){return _e.RenderingCancelledException}}),Object.defineProperty(i,"SVGGraphics",{enumerable:!0,get:function(){return st.SVGGraphics}}),Object.defineProperty(i,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return a.UNSUPPORTED_FEATURES}}),Object.defineProperty(i,"UnexpectedResponseException",{enumerable:!0,get:function(){return a.UnexpectedResponseException}}),Object.defineProperty(i,"Util",{enumerable:!0,get:function(){return a.Util}}),Object.defineProperty(i,"VerbosityLevel",{enumerable:!0,get:function(){return a.VerbosityLevel}}),Object.defineProperty(i,"XfaLayer",{enumerable:!0,get:function(){return Tt.XfaLayer}}),Object.defineProperty(i,"build",{enumerable:!0,get:function(){return c.build}}),Object.defineProperty(i,"createPromiseCapability",{enumerable:!0,get:function(){return a.createPromiseCapability}}),Object.defineProperty(i,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return a.createValidAbsoluteUrl}}),Object.defineProperty(i,"getDocument",{enumerable:!0,get:function(){return c.getDocument}}),Object.defineProperty(i,"getFilenameFromUrl",{enumerable:!0,get:function(){return _e.getFilenameFromUrl}}),Object.defineProperty(i,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return _e.getPdfFilenameFromUrl}}),Object.defineProperty(i,"getXfaPageViewport",{enumerable:!0,get:function(){return _e.getXfaPageViewport}}),Object.defineProperty(i,"isPdfFile",{enumerable:!0,get:function(){return _e.isPdfFile}}),Object.defineProperty(i,"loadScript",{enumerable:!0,get:function(){return _e.loadScript}}),Object.defineProperty(i,"renderTextLayer",{enumerable:!0,get:function(){return s.renderTextLayer}}),Object.defineProperty(i,"shadow",{enumerable:!0,get:function(){return a.shadow}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return c.version}});var a=__w_pdfjs_require__(1),c=__w_pdfjs_require__(4),_e=__w_pdfjs_require__(8),ot=__w_pdfjs_require__(22),$t=__w_pdfjs_require__(7),zt=__w_pdfjs_require__(27),ct=__w_pdfjs_require__(15),Et=__w_pdfjs_require__(3),s=__w_pdfjs_require__(30),st=__w_pdfjs_require__(31),Tt=__w_pdfjs_require__(29);if(Et.isNodeJS){const{PDFNodeStream:wt}=__w_pdfjs_require__(32);(0,c.setPDFNetworkStreamFactory)(e=>new wt(e))}else{const{PDFNetworkStream:wt}=__w_pdfjs_require__(35),{PDFFetchStream:e}=__w_pdfjs_require__(36);(0,c.setPDFNetworkStreamFactory)(gt=>(0,_e.isValidFetchUrl)(gt.url)?new e(gt):new wt(gt))}})(),__webpack_exports__})())})(pdf_min);var pdf_minExports=pdf_min.exports,pdf_worker_entry={},pdf_worker={exports:{}};(function(i,a){(function(_e,ot){i.exports=ot()})(globalThis,()=>(()=>{var c=[,(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.WorkerTask=ct.WorkerMessageHandler=void 0;var s=Et(2),st=Et(5),Tt=Et(6),wt=Et(8),e=Et(71),gt=Et(65),_=Et(4),$=Et(102),d=Et(103);class j{constructor(dt){this.name=dt,this.terminated=!1,this._capability=(0,s.createPromiseCapability)()}get finished(){return this._capability.promise}finish(){this._capability.resolve()}terminate(){this.terminated=!0}ensureNotTerminated(){if(this.terminated)throw new Error("Worker task was terminated")}}ct.WorkerTask=j;class g{static setup(dt,b){let h=!1;dt.on("test",function(nt){h||(h=!0,dt.send("test",nt instanceof Uint8Array))}),dt.on("configure",function(nt){(0,s.setVerbosityLevel)(nt.verbosity)}),dt.on("GetDocRequest",function(nt){return g.createDocumentHandler(nt,b)})}static createDocumentHandler(dt,b){let h,et=!1,nt=null;const pt=[],Bt=(0,s.getVerbosityLevel)(),Pt=dt.apiVersion,Rt="2.16.105";if(Pt!==Rt)throw new Error(`The API version "${Pt}" does not match the Worker version "${Rt}".`);const Ft=[];for(const Nt in[])Ft.push(Nt);if(Ft.length)throw new Error("The `Array.prototype` contains unexpected enumerable properties: "+Ft.join(", ")+"; thus breaking e.g. `for...in` iteration of `Array`s.");if(typeof ReadableStream>"u"){const Nt="The browser/environment lacks native support for critical functionality used by the PDF.js library (e.g. `ReadableStream`); ";throw _.isNodeJS?new Error(Nt+"please use a `legacy`-build instead."):new Error(Nt+"please update to a supported browser.")}const lt=dt.docId,ft=dt.docBaseUrl,it=dt.docId+"_worker";let at=new $.MessageHandler(it,lt,b);function bt(){if(et)throw new Error("Worker was terminated")}function St(Nt){pt.push(Nt)}function ht(Nt){Nt.finish();const Ht=pt.indexOf(Nt);pt.splice(Ht,1)}async function vt(Nt){await h.ensureDoc("checkHeader"),await h.ensureDoc("parseStartXRef"),await h.ensureDoc("parse",[Nt]),await h.ensureDoc("checkFirstPage",[Nt]),await h.ensureDoc("checkLastPage",[Nt]);const Ht=await h.ensureDoc("isPureXfa");if(Ht){const Mt=new j("loadXfaFonts");St(Mt),await Promise.all([h.loadXfaFonts(at,Mt).catch(_t=>{}).then(()=>ht(Mt)),h.loadXfaImages()])}const[xt,rt]=await Promise.all([h.ensureDoc("numPages"),h.ensureDoc("fingerprints")]),mt=Ht?await h.ensureDoc("htmlForXfa"):null;return{numPages:xt,fingerprints:rt,htmlForXfa:mt}}function yt(Nt,Ht,xt){const rt=(0,s.createPromiseCapability)();let mt;const Mt=Nt.source;if(Mt.data){try{mt=new wt.LocalPdfManager(lt,Mt.data,Mt.password,at,Ht,xt,ft),rt.resolve(mt)}catch(Xt){rt.reject(Xt)}return rt.promise}let _t,Lt=[];try{_t=new d.PDFWorkerStream(at)}catch(Xt){return rt.reject(Xt),rt.promise}const It=_t.getFullReader();It.headersReady.then(function(){if(!It.isRangeSupported)return;const Xt=Mt.disableAutoFetch||It.isStreamingSupported;mt=new wt.NetworkPdfManager(lt,_t,{msgHandler:at,password:Mt.password,length:It.contentLength,disableAutoFetch:Xt,rangeChunkSize:Mt.rangeChunkSize},Ht,xt,ft);for(const Ut of Lt)mt.sendProgressiveData(Ut);Lt=[],rt.resolve(mt),nt=null}).catch(function(Xt){rt.reject(Xt),nt=null});let Dt=0;const jt=function(){const Xt=(0,s.arraysToBytes)(Lt);Mt.length&&Xt.length!==Mt.length&&(0,s.warn)("reported HTTP length is different from actual");try{mt=new wt.LocalPdfManager(lt,Xt,Mt.password,at,Ht,xt,ft),rt.resolve(mt)}catch(Ut){rt.reject(Ut)}Lt=[]};return new Promise(function(Xt,Ut){const Gt=function({value:qt,done:Kt}){try{if(bt(),Kt){mt||jt(),nt=null;return}Dt+=(0,s.arrayByteLength)(qt),It.isStreamingSupported||at.send("DocProgress",{loaded:Dt,total:Math.max(Dt,It.contentLength||0)}),mt?mt.sendProgressiveData(qt):Lt.push(qt),It.read().then(Gt,Ut)}catch(Vt){Ut(Vt)}};It.read().then(Gt,Ut)}).catch(function(Xt){rt.reject(Xt),nt=null}),nt=function(Xt){_t.cancelAllRequests(Xt)},rt.promise}function At(Nt){function Ht(Mt){bt(),at.send("GetDoc",{pdfInfo:Mt})}function xt(Mt){if(bt(),Mt instanceof s.PasswordException){const _t=new j(`PasswordException: response ${Mt.code}`);St(_t),at.sendWithPromise("PasswordRequest",Mt).then(function({password:Lt}){ht(_t),h.updatePassword(Lt),rt()}).catch(function(){ht(_t),at.send("DocException",Mt)})}else Mt instanceof s.InvalidPDFException||Mt instanceof s.MissingPDFException||Mt instanceof s.UnexpectedResponseException||Mt instanceof s.UnknownErrorException?at.send("DocException",Mt):at.send("DocException",new s.UnknownErrorException(Mt.message,Mt.toString()))}function rt(){bt(),vt(!1).then(Ht,function(Mt){if(bt(),!(Mt instanceof Tt.XRefParseException)){xt(Mt);return}h.requestLoadedStream(),h.onLoadedStream().then(function(){bt(),vt(!0).then(Ht,xt)})})}bt();const mt={maxImageSize:Nt.maxImageSize,disableFontFace:Nt.disableFontFace,ignoreErrors:Nt.ignoreErrors,isEvalSupported:Nt.isEvalSupported,fontExtraProperties:Nt.fontExtraProperties,useSystemFonts:Nt.useSystemFonts,cMapUrl:Nt.cMapUrl,standardFontDataUrl:Nt.standardFontDataUrl};yt(Nt,mt,Nt.enableXfa).then(function(Mt){if(et)throw Mt.terminate(new s.AbortException("Worker was terminated.")),new Error("Worker was terminated");h=Mt,h.onLoadedStream().then(function(_t){at.send("DataLoaded",{length:_t.bytes.byteLength})})}).then(rt,xt)}return at.on("GetPage",function(Ht){return h.getPage(Ht.pageIndex).then(function(xt){return Promise.all([h.ensure(xt,"rotate"),h.ensure(xt,"ref"),h.ensure(xt,"userUnit"),h.ensure(xt,"view")]).then(function([rt,mt,Mt,_t]){return{rotate:rt,ref:mt,userUnit:Mt,view:_t}})})}),at.on("GetPageIndex",function(Ht){const xt=st.Ref.get(Ht.num,Ht.gen);return h.ensureCatalog("getPageIndex",[xt])}),at.on("GetDestinations",function(Ht){return h.ensureCatalog("destinations")}),at.on("GetDestination",function(Ht){return h.ensureCatalog("getDestination",[Ht.id])}),at.on("GetPageLabels",function(Ht){return h.ensureCatalog("pageLabels")}),at.on("GetPageLayout",function(Ht){return h.ensureCatalog("pageLayout")}),at.on("GetPageMode",function(Ht){return h.ensureCatalog("pageMode")}),at.on("GetViewerPreferences",function(Nt){return h.ensureCatalog("viewerPreferences")}),at.on("GetOpenAction",function(Nt){return h.ensureCatalog("openAction")}),at.on("GetAttachments",function(Ht){return h.ensureCatalog("attachments")}),at.on("GetJavaScript",function(Ht){return h.ensureCatalog("javaScript")}),at.on("GetDocJSActions",function(Ht){return h.ensureCatalog("jsActions")}),at.on("GetPageJSActions",function({pageIndex:Nt}){return h.getPage(Nt).then(function(Ht){return h.ensure(Ht,"jsActions")})}),at.on("GetOutline",function(Ht){return h.ensureCatalog("documentOutline")}),at.on("GetOptionalContentConfig",function(Nt){return h.ensureCatalog("optionalContentConfig")}),at.on("GetPermissions",function(Nt){return h.ensureCatalog("permissions")}),at.on("GetMetadata",function(Ht){return Promise.all([h.ensureDoc("documentInfo"),h.ensureCatalog("metadata")])}),at.on("GetMarkInfo",function(Ht){return h.ensureCatalog("markInfo")}),at.on("GetData",function(Ht){return h.requestLoadedStream(),h.onLoadedStream().then(function(xt){return xt.bytes})}),at.on("GetAnnotations",function({pageIndex:Nt,intent:Ht}){return h.getPage(Nt).then(function(xt){const rt=new j(`GetAnnotations: page ${Nt}`);return St(rt),xt.getAnnotationsData(at,rt,Ht).then(mt=>(ht(rt),mt),mt=>{ht(rt)})})}),at.on("GetFieldObjects",function(Nt){return h.ensureDoc("fieldObjects")}),at.on("HasJSActions",function(Nt){return h.ensureDoc("hasJSActions")}),at.on("GetCalculationOrderIds",function(Nt){return h.ensureDoc("calculationOrderIds")}),at.on("SaveDocument",function({isPureXfa:Nt,numPages:Ht,annotationStorage:xt,filename:rt}){h.requestLoadedStream();const mt=Nt?null:(0,Tt.getNewAnnotationsMap)(xt),Mt=[h.onLoadedStream(),h.ensureCatalog("acroForm"),h.ensureCatalog("acroFormRef"),h.ensureDoc("xref"),h.ensureDoc("startXRef")];if(mt)for(const[_t,Lt]of mt)Mt.push(h.getPage(_t).then(It=>{const Dt=new j(`Save (editor): page ${_t}`);return It.saveNewAnnotations(at,Dt,Lt).finally(function(){ht(Dt)})}));if(Nt)Mt.push(h.serializeXfaData(xt));else for(let _t=0;_t<Ht;_t++)Mt.push(h.getPage(_t).then(function(Lt){const It=new j(`Save: page ${_t}`);return Lt.save(at,It,xt).finally(function(){ht(It)})}));return Promise.all(Mt).then(function([_t,Lt,It,Dt,jt,...Ot]){let Xt=[],Ut=null;if(Nt){if(Ut=Ot[0],!Ut)return _t.bytes}else if(Xt=Ot.flat(2),Xt.length===0)return _t.bytes;const Gt=Lt instanceof st.Dict&&Lt.get("XFA")||null;let qt=null,Kt=!1;if(Array.isArray(Gt)){for(let Yt=0,Zt=Gt.length;Yt<Zt;Yt+=2)Gt[Yt]==="datasets"&&(qt=Gt[Yt+1],It=null,Kt=!0);qt===null&&(qt=Dt.getNewRef())}else Gt&&(It=null,(0,s.warn)("Unsupported XFA type."));let Vt=Object.create(null);if(Dt.trailer){const Yt=Object.create(null),Zt=Dt.trailer.get("Info")||null;Zt instanceof st.Dict&&Zt.forEach((Qt,en)=>{typeof en=="string"&&(Yt[Qt]=(0,s.stringToPDFString)(en))}),Vt={rootRef:Dt.trailer.getRaw("Root")||null,encryptRef:Dt.trailer.getRaw("Encrypt")||null,newRef:Dt.getNewRef(),infoRef:Dt.trailer.getRaw("Info")||null,info:Yt,fileIds:Dt.trailer.get("ID")||null,startXRef:jt,filename:rt}}return Dt.resetNewRef(),(0,gt.incrementalUpdate)({originalData:_t.bytes,xrefInfo:Vt,newRefs:Xt,xref:Dt,hasXfa:!!Gt,xfaDatasetsRef:qt,hasXfaDatasetsEntry:Kt,acroFormRef:It,acroForm:Lt,xfaData:Ut})})}),at.on("GetOperatorList",function(Ht,xt){const rt=Ht.pageIndex;h.getPage(rt).then(function(mt){const Mt=new j(`GetOperatorList: page ${rt}`);St(Mt);const _t=Bt>=s.VerbosityLevel.INFOS?Date.now():0;mt.getOperatorList({handler:at,sink:xt,task:Mt,intent:Ht.intent,cacheKey:Ht.cacheKey,annotationStorage:Ht.annotationStorage}).then(function(Lt){ht(Mt),_t&&(0,s.info)(`page=${rt+1} - getOperatorList: time=${Date.now()-_t}ms, len=${Lt.length}`),xt.close()},function(Lt){ht(Mt),!Mt.terminated&&(at.send("UnsupportedFeature",{featureId:s.UNSUPPORTED_FEATURES.errorOperatorList}),xt.error(Lt))})})}),at.on("GetTextContent",function(Ht,xt){const rt=Ht.pageIndex;h.getPage(rt).then(function(mt){const Mt=new j("GetTextContent: page "+rt);St(Mt);const _t=Bt>=s.VerbosityLevel.INFOS?Date.now():0;mt.extractTextContent({handler:at,task:Mt,sink:xt,includeMarkedContent:Ht.includeMarkedContent,combineTextItems:Ht.combineTextItems}).then(function(){ht(Mt),_t&&(0,s.info)(`page=${rt+1} - getTextContent: time=${Date.now()-_t}ms`),xt.close()},function(Lt){ht(Mt),!Mt.terminated&&xt.error(Lt)})})}),at.on("GetStructTree",function(Ht){return h.getPage(Ht.pageIndex).then(function(xt){return h.ensure(xt,"getStructTree")})}),at.on("FontFallback",function(Nt){return h.fontFallback(Nt.id,at)}),at.on("Cleanup",function(Ht){return h.cleanup(!0)}),at.on("Terminate",function(Ht){et=!0;const xt=[];if(h){h.terminate(new s.AbortException("Worker was terminated."));const rt=h.cleanup();xt.push(rt),h=null}else(0,e.clearGlobalCaches)();nt&&nt(new s.AbortException("Worker was terminated."));for(const rt of pt)xt.push(rt.finished),rt.terminate();return Promise.all(xt).then(function(){at.destroy(),at=null})}),at.on("Ready",function(Ht){At(dt),dt=null}),it}static initializeFromPort(dt){const b=new $.MessageHandler("worker","main",dt);g.setup(b,dt),b.send("ready",null)}}ct.WorkerMessageHandler=g;function o(ut){return typeof ut.postMessage=="function"&&"onmessage"in ut}typeof window>"u"&&!_.isNodeJS&&typeof self<"u"&&o(self)&&g.initializeFromPort(self)},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.VerbosityLevel=ct.Util=ct.UnknownErrorException=ct.UnexpectedResponseException=ct.UNSUPPORTED_FEATURES=ct.TextRenderingMode=ct.StreamType=ct.RenderingIntentFlag=ct.PermissionFlag=ct.PasswordResponses=ct.PasswordException=ct.PageActionEventType=ct.OPS=ct.MissingPDFException=ct.LINE_FACTOR=ct.LINE_DESCENT_FACTOR=ct.InvalidPDFException=ct.ImageKind=ct.IDENTITY_MATRIX=ct.FormatError=ct.FontType=ct.FeatureTest=ct.FONT_IDENTITY_MATRIX=ct.DocumentActionEventType=ct.CMapCompressionType=ct.BaseException=ct.AnnotationType=ct.AnnotationStateModelType=ct.AnnotationReviewState=ct.AnnotationReplyType=ct.AnnotationMode=ct.AnnotationMarkedState=ct.AnnotationFlag=ct.AnnotationFieldFlag=ct.AnnotationEditorType=ct.AnnotationEditorPrefix=ct.AnnotationEditorParamsType=ct.AnnotationBorderStyleType=ct.AnnotationActionEventType=ct.AbortException=void 0,ct.arrayByteLength=Vt,ct.arraysToBytes=Yt,ct.assert=rt,ct.bytesToString=qt,ct.createPromiseCapability=er,ct.createValidAbsoluteUrl=Mt,ct.escapeString=En,ct.getModificationDate=Xn,ct.getVerbosityLevel=At,ct.info=Nt,ct.isArrayBuffer=on,ct.isArrayEqual=Dn,ct.isAscii=An,ct.objectFromMap=en,ct.objectSize=Qt,ct.setVerbosityLevel=yt,ct.shadow=_t,ct.string32=Zt,ct.stringToBytes=Kt,ct.stringToPDFString=On,ct.stringToUTF16BEString=Cn,ct.stringToUTF8String=gn,ct.unreachable=xt,ct.utf8StringToString=hn,ct.warn=Ht,Et(3);const s=[1,0,0,1,0,0];ct.IDENTITY_MATRIX=s;const st=[.001,0,0,.001,0,0];ct.FONT_IDENTITY_MATRIX=st;const Tt=1.35;ct.LINE_FACTOR=Tt;const wt=.35;ct.LINE_DESCENT_FACTOR=wt;const e={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};ct.RenderingIntentFlag=e;const gt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};ct.AnnotationMode=gt;const _="pdfjs_internal_editor_";ct.AnnotationEditorPrefix=_;const $={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};ct.AnnotationEditorType=$;const d={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};ct.AnnotationEditorParamsType=d;const j={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};ct.PermissionFlag=j;const g={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};ct.TextRenderingMode=g;const o={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};ct.ImageKind=o;const ut={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};ct.AnnotationType=ut;const dt={MARKED:"Marked",REVIEW:"Review"};ct.AnnotationStateModelType=dt;const b={MARKED:"Marked",UNMARKED:"Unmarked"};ct.AnnotationMarkedState=b;const h={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};ct.AnnotationReviewState=h;const et={GROUP:"Group",REPLY:"R"};ct.AnnotationReplyType=et;const nt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};ct.AnnotationFlag=nt;const pt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};ct.AnnotationFieldFlag=pt;const Bt={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};ct.AnnotationBorderStyleType=Bt;const Pt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};ct.AnnotationActionEventType=Pt;const Rt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};ct.DocumentActionEventType=Rt;const Ft={O:"PageOpen",C:"PageClose"};ct.PageActionEventType=Ft;const lt={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};ct.StreamType=lt;const ft={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};ct.FontType=ft;const it={ERRORS:0,WARNINGS:1,INFOS:5};ct.VerbosityLevel=it;const at={NONE:0,BINARY:1,STREAM:2};ct.CMapCompressionType=at;const bt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};ct.OPS=bt;const St={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};ct.UNSUPPORTED_FEATURES=St;const ht={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};ct.PasswordResponses=ht;let vt=it.WARNINGS;function yt(Sn){Number.isInteger(Sn)&&(vt=Sn)}function At(){return vt}function Nt(Sn){vt>=it.INFOS&&console.log(`Info: ${Sn}`)}function Ht(Sn){vt>=it.WARNINGS&&console.log(`Warning: ${Sn}`)}function xt(Sn){throw new Error(Sn)}function rt(Sn,xn){Sn||xt(xn)}function mt(Sn){if(!Sn)return!1;switch(Sn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Mt(Sn,xn=null,cn=null){if(!Sn)return null;try{if(cn&&typeof Sn=="string"){if(cn.addDefaultProtocol&&Sn.startsWith("www.")){const Vn=Sn.match(/\./g);Vn&&Vn.length>=2&&(Sn=`http://${Sn}`)}if(cn.tryConvertEncoding)try{Sn=gn(Sn)}catch{}}const qn=xn?new URL(Sn,xn):new URL(Sn);if(mt(qn))return qn}catch{}return null}function _t(Sn,xn,cn){return Object.defineProperty(Sn,xn,{value:cn,enumerable:!0,configurable:!0,writable:!1}),cn}const Lt=function(){function xn(cn,qn){this.constructor===xn&&xt("Cannot initialize BaseException."),this.message=cn,this.name=qn}return xn.prototype=new Error,xn.constructor=xn,xn}();ct.BaseException=Lt;class It extends Lt{constructor(xn,cn){super(xn,"PasswordException"),this.code=cn}}ct.PasswordException=It;class Dt extends Lt{constructor(xn,cn){super(xn,"UnknownErrorException"),this.details=cn}}ct.UnknownErrorException=Dt;class jt extends Lt{constructor(xn){super(xn,"InvalidPDFException")}}ct.InvalidPDFException=jt;class Ot extends Lt{constructor(xn){super(xn,"MissingPDFException")}}ct.MissingPDFException=Ot;class Xt extends Lt{constructor(xn,cn){super(xn,"UnexpectedResponseException"),this.status=cn}}ct.UnexpectedResponseException=Xt;class Ut extends Lt{constructor(xn){super(xn,"FormatError")}}ct.FormatError=Ut;class Gt extends Lt{constructor(xn){super(xn,"AbortException")}}ct.AbortException=Gt;function qt(Sn){(typeof Sn!="object"||Sn===null||Sn.length===void 0)&&xt("Invalid argument for bytesToString");const xn=Sn.length,cn=8192;if(xn<cn)return String.fromCharCode.apply(null,Sn);const qn=[];for(let Vn=0;Vn<xn;Vn+=cn){const Gn=Math.min(Vn+cn,xn),lr=Sn.subarray(Vn,Gn);qn.push(String.fromCharCode.apply(null,lr))}return qn.join("")}function Kt(Sn){typeof Sn!="string"&&xt("Invalid argument for stringToBytes");const xn=Sn.length,cn=new Uint8Array(xn);for(let qn=0;qn<xn;++qn)cn[qn]=Sn.charCodeAt(qn)&255;return cn}function Vt(Sn){if(Sn.length!==void 0)return Sn.length;if(Sn.byteLength!==void 0)return Sn.byteLength;xt("Invalid argument for arrayByteLength")}function Yt(Sn){const xn=Sn.length;if(xn===1&&Sn[0]instanceof Uint8Array)return Sn[0];let cn=0;for(let Gn=0;Gn<xn;Gn++)cn+=Vt(Sn[Gn]);let qn=0;const Vn=new Uint8Array(cn);for(let Gn=0;Gn<xn;Gn++){let lr=Sn[Gn];lr instanceof Uint8Array||(typeof lr=="string"?lr=Kt(lr):lr=new Uint8Array(lr));const $n=lr.byteLength;Vn.set(lr,qn),qn+=$n}return Vn}function Zt(Sn){return String.fromCharCode(Sn>>24&255,Sn>>16&255,Sn>>8&255,Sn&255)}function Qt(Sn){return Object.keys(Sn).length}function en(Sn){const xn=Object.create(null);for(const[cn,qn]of Sn)xn[cn]=qn;return xn}function rn(){const Sn=new Uint8Array(4);return Sn[0]=1,new Uint32Array(Sn.buffer,0,1)[0]===1}function an(){try{return new Function(""),!0}catch{return!1}}class fn{static get isLittleEndian(){return _t(this,"isLittleEndian",rn())}static get isEvalSupported(){return _t(this,"isEvalSupported",an())}static get isOffscreenCanvasSupported(){return _t(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}ct.FeatureTest=fn;const un=[...Array(256).keys()].map(Sn=>Sn.toString(16).padStart(2,"0"));class pn{static makeHexColor(xn,cn,qn){return`#${un[xn]}${un[cn]}${un[qn]}`}static scaleMinMax(xn,cn){let qn;xn[0]?(xn[0]<0&&(qn=cn[0],cn[0]=cn[1],cn[1]=qn),cn[0]*=xn[0],cn[1]*=xn[0],xn[3]<0&&(qn=cn[2],cn[2]=cn[3],cn[3]=qn),cn[2]*=xn[3],cn[3]*=xn[3]):(qn=cn[0],cn[0]=cn[2],cn[2]=qn,qn=cn[1],cn[1]=cn[3],cn[3]=qn,xn[1]<0&&(qn=cn[2],cn[2]=cn[3],cn[3]=qn),cn[2]*=xn[1],cn[3]*=xn[1],xn[2]<0&&(qn=cn[0],cn[0]=cn[1],cn[1]=qn),cn[0]*=xn[2],cn[1]*=xn[2]),cn[0]+=xn[4],cn[1]+=xn[4],cn[2]+=xn[5],cn[3]+=xn[5]}static transform(xn,cn){return[xn[0]*cn[0]+xn[2]*cn[1],xn[1]*cn[0]+xn[3]*cn[1],xn[0]*cn[2]+xn[2]*cn[3],xn[1]*cn[2]+xn[3]*cn[3],xn[0]*cn[4]+xn[2]*cn[5]+xn[4],xn[1]*cn[4]+xn[3]*cn[5]+xn[5]]}static applyTransform(xn,cn){const qn=xn[0]*cn[0]+xn[1]*cn[2]+cn[4],Vn=xn[0]*cn[1]+xn[1]*cn[3]+cn[5];return[qn,Vn]}static applyInverseTransform(xn,cn){const qn=cn[0]*cn[3]-cn[1]*cn[2],Vn=(xn[0]*cn[3]-xn[1]*cn[2]+cn[2]*cn[5]-cn[4]*cn[3])/qn,Gn=(-xn[0]*cn[1]+xn[1]*cn[0]+cn[4]*cn[1]-cn[5]*cn[0])/qn;return[Vn,Gn]}static getAxialAlignedBoundingBox(xn,cn){const qn=pn.applyTransform(xn,cn),Vn=pn.applyTransform(xn.slice(2,4),cn),Gn=pn.applyTransform([xn[0],xn[3]],cn),lr=pn.applyTransform([xn[2],xn[1]],cn);return[Math.min(qn[0],Vn[0],Gn[0],lr[0]),Math.min(qn[1],Vn[1],Gn[1],lr[1]),Math.max(qn[0],Vn[0],Gn[0],lr[0]),Math.max(qn[1],Vn[1],Gn[1],lr[1])]}static inverseTransform(xn){const cn=xn[0]*xn[3]-xn[1]*xn[2];return[xn[3]/cn,-xn[1]/cn,-xn[2]/cn,xn[0]/cn,(xn[2]*xn[5]-xn[4]*xn[3])/cn,(xn[4]*xn[1]-xn[5]*xn[0])/cn]}static apply3dTransform(xn,cn){return[xn[0]*cn[0]+xn[1]*cn[1]+xn[2]*cn[2],xn[3]*cn[0]+xn[4]*cn[1]+xn[5]*cn[2],xn[6]*cn[0]+xn[7]*cn[1]+xn[8]*cn[2]]}static singularValueDecompose2dScale(xn){const cn=[xn[0],xn[2],xn[1],xn[3]],qn=xn[0]*cn[0]+xn[1]*cn[2],Vn=xn[0]*cn[1]+xn[1]*cn[3],Gn=xn[2]*cn[0]+xn[3]*cn[2],lr=xn[2]*cn[1]+xn[3]*cn[3],$n=(qn+lr)/2,tr=Math.sqrt((qn+lr)**2-4*(qn*lr-Gn*Vn))/2,pr=$n+tr||1,jn=$n-tr||1;return[Math.sqrt(pr),Math.sqrt(jn)]}static normalizeRect(xn){const cn=xn.slice(0);return xn[0]>xn[2]&&(cn[0]=xn[2],cn[2]=xn[0]),xn[1]>xn[3]&&(cn[1]=xn[3],cn[3]=xn[1]),cn}static intersect(xn,cn){const qn=Math.max(Math.min(xn[0],xn[2]),Math.min(cn[0],cn[2])),Vn=Math.min(Math.max(xn[0],xn[2]),Math.max(cn[0],cn[2]));if(qn>Vn)return null;const Gn=Math.max(Math.min(xn[1],xn[3]),Math.min(cn[1],cn[3])),lr=Math.min(Math.max(xn[1],xn[3]),Math.max(cn[1],cn[3]));return Gn>lr?null:[qn,Gn,Vn,lr]}static bezierBoundingBox(xn,cn,qn,Vn,Gn,lr,$n,tr){const pr=[],jn=[[],[]];let ur,rr,Tr,br,yr,cr,Jr,Vr;for(let Wn=0;Wn<2;++Wn){if(Wn===0?(rr=6*xn-12*qn+6*Gn,ur=-3*xn+9*qn-9*Gn+3*$n,Tr=3*qn-3*xn):(rr=6*cn-12*Vn+6*lr,ur=-3*cn+9*Vn-9*lr+3*tr,Tr=3*Vn-3*cn),Math.abs(ur)<1e-12){if(Math.abs(rr)<1e-12)continue;br=-Tr/rr,0<br&&br<1&&pr.push(br);continue}Jr=rr*rr-4*Tr*ur,Vr=Math.sqrt(Jr),!(Jr<0)&&(yr=(-rr+Vr)/(2*ur),0<yr&&yr<1&&pr.push(yr),cr=(-rr-Vr)/(2*ur),0<cr&&cr<1&&pr.push(cr))}let Un=pr.length,Mn;const zn=Un;for(;Un--;)br=pr[Un],Mn=1-br,jn[0][Un]=Mn*Mn*Mn*xn+3*Mn*Mn*br*qn+3*Mn*br*br*Gn+br*br*br*$n,jn[1][Un]=Mn*Mn*Mn*cn+3*Mn*Mn*br*Vn+3*Mn*br*br*lr+br*br*br*tr;return jn[0][zn]=xn,jn[1][zn]=cn,jn[0][zn+1]=$n,jn[1][zn+1]=tr,jn[0].length=jn[1].length=zn+2,[Math.min(...jn[0]),Math.min(...jn[1]),Math.max(...jn[0]),Math.max(...jn[1])]}}ct.Util=pn;const yn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function On(Sn){if(Sn[0]>=""){let cn;if(Sn[0]===""&&Sn[1]===""?cn="utf-16be":Sn[0]===""&&Sn[1]===""?cn="utf-16le":Sn[0]===""&&Sn[1]===""&&Sn[2]===""&&(cn="utf-8"),cn)try{const qn=new TextDecoder(cn,{fatal:!0}),Vn=Kt(Sn);return qn.decode(Vn)}catch(qn){Ht(`stringToPDFString: "${qn}".`)}}const xn=[];for(let cn=0,qn=Sn.length;cn<qn;cn++){const Vn=yn[Sn.charCodeAt(cn)];xn.push(Vn?String.fromCharCode(Vn):Sn.charAt(cn))}return xn.join("")}function En(Sn){return Sn.replace(/([()\\\n\r])/g,xn=>xn===`
`?"\\n":xn==="\r"?"\\r":`\\${xn}`)}function An(Sn){return/^[\x00-\x7F]*$/.test(Sn)}function Cn(Sn){const xn=[""];for(let cn=0,qn=Sn.length;cn<qn;cn++){const Vn=Sn.charCodeAt(cn);xn.push(String.fromCharCode(Vn>>8&255),String.fromCharCode(Vn&255))}return xn.join("")}function gn(Sn){return decodeURIComponent(escape(Sn))}function hn(Sn){return unescape(encodeURIComponent(Sn))}function on(Sn){return typeof Sn=="object"&&Sn!==null&&Sn.byteLength!==void 0}function Dn(Sn,xn){if(Sn.length!==xn.length)return!1;for(let cn=0,qn=Sn.length;cn<qn;cn++)if(Sn[cn]!==xn[cn])return!1;return!0}function Xn(Sn=new Date){return[Sn.getUTCFullYear().toString(),(Sn.getUTCMonth()+1).toString().padStart(2,"0"),Sn.getUTCDate().toString().padStart(2,"0"),Sn.getUTCHours().toString().padStart(2,"0"),Sn.getUTCMinutes().toString().padStart(2,"0"),Sn.getUTCSeconds().toString().padStart(2,"0")].join("")}function er(){const Sn=Object.create(null);let xn=!1;return Object.defineProperty(Sn,"settled",{get(){return xn}}),Sn.promise=new Promise(function(cn,qn){Sn.resolve=function(Vn){xn=!0,cn(Vn)},Sn.reject=function(Vn){xn=!0,qn(Vn)}}),Sn}},(zt,ct,Et)=>{Et(4)},(zt,ct)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.isNodeJS=void 0;const Et=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");ct.isNodeJS=Et},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.RefSetCache=ct.RefSet=ct.Ref=ct.Name=ct.EOF=ct.Dict=ct.Cmd=ct.CIRCULAR_REF=void 0,ct.clearPrimitiveCaches=b,ct.isCmd=o,ct.isDict=ut,ct.isName=g,ct.isRefsEqual=dt;var s=Et(2);const st=Symbol("CIRCULAR_REF");ct.CIRCULAR_REF=st;const Tt=Symbol("EOF");ct.EOF=Tt;const wt=function(){let et=Object.create(null);class nt{constructor(Bt){this.name=Bt}static get(Bt){return et[Bt]||(et[Bt]=new nt(Bt))}static _clearCache(){et=Object.create(null)}}return nt}();ct.Name=wt;const e=function(){let et=Object.create(null);class nt{constructor(Bt){this.cmd=Bt}static get(Bt){return et[Bt]||(et[Bt]=new nt(Bt))}static _clearCache(){et=Object.create(null)}}return nt}();ct.Cmd=e;const gt=function(){return gt};class _{constructor(et=null){this._map=Object.create(null),this.xref=et,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=gt}assignXref(et){this.xref=et}get size(){return Object.keys(this._map).length}get(et,nt,pt){let Bt=this._map[et];return Bt===void 0&&nt!==void 0&&(Bt=this._map[nt],Bt===void 0&&pt!==void 0&&(Bt=this._map[pt])),Bt instanceof $&&this.xref?this.xref.fetch(Bt,this.suppressEncryption):Bt}async getAsync(et,nt,pt){let Bt=this._map[et];return Bt===void 0&&nt!==void 0&&(Bt=this._map[nt],Bt===void 0&&pt!==void 0&&(Bt=this._map[pt])),Bt instanceof $&&this.xref?this.xref.fetchAsync(Bt,this.suppressEncryption):Bt}getArray(et,nt,pt){let Bt=this._map[et];if(Bt===void 0&&nt!==void 0&&(Bt=this._map[nt],Bt===void 0&&pt!==void 0&&(Bt=this._map[pt])),Bt instanceof $&&this.xref&&(Bt=this.xref.fetch(Bt,this.suppressEncryption)),Array.isArray(Bt)){Bt=Bt.slice();for(let Pt=0,Rt=Bt.length;Pt<Rt;Pt++)Bt[Pt]instanceof $&&this.xref&&(Bt[Pt]=this.xref.fetch(Bt[Pt],this.suppressEncryption))}return Bt}getRaw(et){return this._map[et]}getKeys(){return Object.keys(this._map)}getRawValues(){return Object.values(this._map)}set(et,nt){this._map[et]=nt}has(et){return this._map[et]!==void 0}forEach(et){for(const nt in this._map)et(nt,this.get(nt))}static get empty(){const et=new _(null);return et.set=(nt,pt)=>{(0,s.unreachable)("Should not call `set` on the empty dictionary.")},(0,s.shadow)(this,"empty",et)}static merge({xref:et,dictArray:nt,mergeSubDicts:pt=!1}){const Bt=new _(et),Pt=new Map;for(const Rt of nt)if(Rt instanceof _)for(const[Ft,lt]of Object.entries(Rt._map)){let ft=Pt.get(Ft);if(ft===void 0)ft=[],Pt.set(Ft,ft);else if(!pt||!(lt instanceof _))continue;ft.push(lt)}for(const[Rt,Ft]of Pt){if(Ft.length===1||!(Ft[0]instanceof _)){Bt._map[Rt]=Ft[0];continue}const lt=new _(et);for(const ft of Ft)for(const[it,at]of Object.entries(ft._map))lt._map[it]===void 0&&(lt._map[it]=at);lt.size>0&&(Bt._map[Rt]=lt)}return Pt.clear(),Bt.size>0?Bt:_.empty}}ct.Dict=_;const $=function(){let et=Object.create(null);class nt{constructor(Bt,Pt){this.num=Bt,this.gen=Pt}toString(){return this.gen===0?`${this.num}R`:`${this.num}R${this.gen}`}static get(Bt,Pt){const Rt=Pt===0?`${Bt}R`:`${Bt}R${Pt}`;return et[Rt]||(et[Rt]=new nt(Bt,Pt))}static _clearCache(){et=Object.create(null)}}return nt}();ct.Ref=$;class d{constructor(et=null){this._set=new Set(et&&et._set)}has(et){return this._set.has(et.toString())}put(et){this._set.add(et.toString())}remove(et){this._set.delete(et.toString())}[Symbol.iterator](){return this._set.values()}clear(){this._set.clear()}}ct.RefSet=d;class j{constructor(){this._map=new Map}get size(){return this._map.size}get(et){return this._map.get(et.toString())}has(et){return this._map.has(et.toString())}put(et,nt){this._map.set(et.toString(),nt)}putAlias(et,nt){this._map.set(et.toString(),this.get(nt))}[Symbol.iterator](){return this._map.values()}clear(){this._map.clear()}}ct.RefSetCache=j;function g(h,et){return h instanceof wt&&(et===void 0||h.name===et)}function o(h,et){return h instanceof e&&(et===void 0||h.cmd===et)}function ut(h,et){return h instanceof _&&(et===void 0||g(h.get("Type"),et))}function dt(h,et){return h.num===et.num&&h.gen===et.gen}function b(){e._clearCache(),wt._clearCache(),$._clearCache()}},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.XRefParseException=ct.XRefEntryException=ct.ParserEOFException=ct.MissingDataException=ct.DocStats=void 0,ct.collectActions=Rt,ct.encodeToXmlString=lt,ct.escapePDFName=Bt,ct.getArrayLookupTableFactory=e,ct.getInheritableProperty=g,ct.getLookupTableFactory=wt,ct.getNewAnnotationsMap=bt,ct.isWhiteSpace=nt,ct.log2=dt,ct.numberToString=at,ct.parseXFAPath=pt,ct.readInt8=b,ct.readUint16=h,ct.readUint32=et,ct.recoverJsURL=it,ct.toRomanNumerals=ut,ct.validateCSSFont=ft;var s=Et(2),st=Et(5),Tt=Et(7);function wt(St){let ht;return function(){return St&&(ht=Object.create(null),St(ht),St=null),ht}}function e(St){let ht;return function(){if(St){let vt=St();St=null,ht=Object.create(null);for(let yt=0,At=vt.length;yt<At;yt+=2)ht[vt[yt]]=vt[yt+1];vt=null}return ht}}class gt extends s.BaseException{constructor(ht,vt){super(`Missing data [${ht}, ${vt})`,"MissingDataException"),this.begin=ht,this.end=vt}}ct.MissingDataException=gt;class _ extends s.BaseException{constructor(ht){super(ht,"ParserEOFException")}}ct.ParserEOFException=_;class $ extends s.BaseException{constructor(ht){super(ht,"XRefEntryException")}}ct.XRefEntryException=$;class d extends s.BaseException{constructor(ht){super(ht,"XRefParseException")}}ct.XRefParseException=d;class j{constructor(ht){this._handler=ht,this._streamTypes=new Set,this._fontTypes=new Set}_send(){const ht=Object.create(null),vt=Object.create(null);for(const yt of this._streamTypes)ht[yt]=!0;for(const yt of this._fontTypes)vt[yt]=!0;this._handler.send("DocStats",{streamTypes:ht,fontTypes:vt})}addStreamType(ht){this._streamTypes.has(ht)||(this._streamTypes.add(ht),this._send())}addFontType(ht){this._fontTypes.has(ht)||(this._fontTypes.add(ht),this._send())}}ct.DocStats=j;function g({dict:St,key:ht,getArray:vt=!1,stopWhenFound:yt=!0}){let At;const Nt=new st.RefSet;for(;St instanceof st.Dict&&!(St.objId&&Nt.has(St.objId));){St.objId&&Nt.put(St.objId);const Ht=vt?St.getArray(ht):St.get(ht);if(Ht!==void 0){if(yt)return Ht;At||(At=[]),At.push(Ht)}St=St.get("Parent")}return At}const o=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function ut(St,ht=!1){(0,s.assert)(Number.isInteger(St)&&St>0,"The number should be a positive integer.");const vt=[];let yt;for(;St>=1e3;)St-=1e3,vt.push("M");yt=St/100|0,St%=100,vt.push(o[yt]),yt=St/10|0,St%=10,vt.push(o[10+yt]),vt.push(o[20+St]);const At=vt.join("");return ht?At.toLowerCase():At}function dt(St){return St<=0?0:Math.ceil(Math.log2(St))}function b(St,ht){return St[ht]<<24>>24}function h(St,ht){return St[ht]<<8|St[ht+1]}function et(St,ht){return(St[ht]<<24|St[ht+1]<<16|St[ht+2]<<8|St[ht+3])>>>0}function nt(St){return St===32||St===9||St===13||St===10}function pt(St){const ht=/(.+)\[(\d+)\]$/;return St.split(".").map(vt=>{const yt=vt.match(ht);return yt?{name:yt[1],pos:parseInt(yt[2],10)}:{name:vt,pos:0}})}function Bt(St){const ht=[];let vt=0;for(let yt=0,At=St.length;yt<At;yt++){const Nt=St.charCodeAt(yt);(Nt<33||Nt>126||Nt===35||Nt===40||Nt===41||Nt===60||Nt===62||Nt===91||Nt===93||Nt===123||Nt===125||Nt===47||Nt===37)&&(vt<yt&&ht.push(St.substring(vt,yt)),ht.push(`#${Nt.toString(16)}`),vt=yt+1)}return ht.length===0?St:(vt<St.length&&ht.push(St.substring(vt,St.length)),ht.join(""))}function Pt(St,ht,vt,yt){if(!St)return;let At=null;if(St instanceof st.Ref){if(yt.has(St))return;At=St,yt.put(At),St=ht.fetch(St)}if(Array.isArray(St))for(const Nt of St)Pt(Nt,ht,vt,yt);else if(St instanceof st.Dict){if((0,st.isName)(St.get("S"),"JavaScript")){const Nt=St.get("JS");let Ht;Nt instanceof Tt.BaseStream?Ht=Nt.getString():typeof Nt=="string"&&(Ht=Nt),Ht=Ht&&(0,s.stringToPDFString)(Ht).replace(/\u0000/g,""),Ht&&vt.push(Ht)}Pt(St.getRaw("Next"),ht,vt,yt)}At&&yt.remove(At)}function Rt(St,ht,vt){const yt=Object.create(null),At=g({dict:ht,key:"AA",stopWhenFound:!1});if(At)for(let Nt=At.length-1;Nt>=0;Nt--){const Ht=At[Nt];if(Ht instanceof st.Dict)for(const xt of Ht.getKeys()){const rt=vt[xt];if(!rt)continue;const mt=Ht.getRaw(xt),Mt=new st.RefSet,_t=[];Pt(mt,St,_t,Mt),_t.length>0&&(yt[rt]=_t)}}if(ht.has("A")){const Nt=ht.get("A"),Ht=new st.RefSet,xt=[];Pt(Nt,St,xt,Ht),xt.length>0&&(yt.Action=xt)}return(0,s.objectSize)(yt)>0?yt:null}const Ft={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"};function lt(St){const ht=[];let vt=0;for(let yt=0,At=St.length;yt<At;yt++){const Nt=St.codePointAt(yt);if(32<=Nt&&Nt<=126){const Ht=Ft[Nt];Ht&&(vt<yt&&ht.push(St.substring(vt,yt)),ht.push(Ht),vt=yt+1)}else vt<yt&&ht.push(St.substring(vt,yt)),ht.push(`&#x${Nt.toString(16).toUpperCase()};`),Nt>55295&&(Nt<57344||Nt>65533)&&yt++,vt=yt+1}return ht.length===0?St:(vt<St.length&&ht.push(St.substring(vt,St.length)),ht.join(""))}function ft(St){const ht="14",vt="400",yt=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),{fontFamily:At,fontWeight:Nt,italicAngle:Ht}=St;if(/^".*"$/.test(At)){if(/[^\\]"/.test(At.slice(1,At.length-1)))return(0,s.warn)(`XFA - FontFamily contains some unescaped ": ${At}.`),!1}else if(/^'.*'$/.test(At)){if(/[^\\]'/.test(At.slice(1,At.length-1)))return(0,s.warn)(`XFA - FontFamily contains some unescaped ': ${At}.`),!1}else for(const mt of At.split(/[ \t]+/))if(/^(\d|(-(\d|-)))/.test(mt)||!/^[\w-\\]+$/.test(mt))return(0,s.warn)(`XFA - FontFamily contains some invalid <custom-ident>: ${At}.`),!1;const xt=Nt?Nt.toString():"";St.fontWeight=yt.has(xt)?xt:vt;const rt=parseFloat(Ht);return St.italicAngle=isNaN(rt)||rt<-90||rt>90?ht:Ht.toString(),!0}function it(St){const ht=["app.launchURL","window.open","xfa.host.gotoURL"],yt=new RegExp("^\\s*("+ht.join("|").split(".").join("\\.")+`)\\((?:'|")([^'"]*)(?:'|")(?:,\\s*(\\w+)\\)|\\))`,"i").exec(St);if(yt&&yt[2]){const At=yt[2];let Nt=!1;return yt[3]==="true"&&yt[1]==="app.launchURL"&&(Nt=!0),{url:At,newWindow:Nt}}return null}function at(St){if(Number.isInteger(St))return St.toString();const ht=Math.round(St*100);return ht%100===0?(ht/100).toString():ht%10===0?St.toFixed(1):St.toFixed(2)}function bt(St){if(!St)return null;const ht=new Map;for(const[vt,yt]of St){if(!vt.startsWith(s.AnnotationEditorPrefix))continue;let At=ht.get(yt.pageIndex);At||(At=[],ht.set(yt.pageIndex,At)),At.push(yt)}return ht.size>0?ht:null}},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.BaseStream=void 0;var s=Et(2);class st{constructor(){this.constructor===st&&(0,s.unreachable)("Cannot initialize BaseStream.")}get length(){(0,s.unreachable)("Abstract getter `length` accessed")}get isEmpty(){(0,s.unreachable)("Abstract getter `isEmpty` accessed")}get isDataLoaded(){return(0,s.shadow)(this,"isDataLoaded",!0)}getByte(){(0,s.unreachable)("Abstract method `getByte` called")}getBytes(wt){(0,s.unreachable)("Abstract method `getBytes` called")}peekByte(){const wt=this.getByte();return wt!==-1&&this.pos--,wt}peekBytes(wt){const e=this.getBytes(wt);return this.pos-=e.length,e}getUint16(){const wt=this.getByte(),e=this.getByte();return wt===-1||e===-1?-1:(wt<<8)+e}getInt32(){const wt=this.getByte(),e=this.getByte(),gt=this.getByte(),_=this.getByte();return(wt<<24)+(e<<16)+(gt<<8)+_}getByteRange(wt,e){(0,s.unreachable)("Abstract method `getByteRange` called")}getString(wt){return(0,s.bytesToString)(this.getBytes(wt))}skip(wt){this.pos+=wt||1}reset(){(0,s.unreachable)("Abstract method `reset` called")}moveStart(){(0,s.unreachable)("Abstract method `moveStart` called")}makeSubStream(wt,e,gt=null){(0,s.unreachable)("Abstract method `makeSubStream` called")}getBaseStreams(){return null}}ct.BaseStream=st},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.NetworkPdfManager=ct.LocalPdfManager=void 0;var s=Et(2),st=Et(9),Tt=Et(6),wt=Et(11),e=Et(10);function gt(j){if(j){const g=(0,s.createValidAbsoluteUrl)(j);if(g)return g.href;(0,s.warn)(`Invalid absolute docBaseUrl: "${j}".`)}return null}class _{constructor(){this.constructor===_&&(0,s.unreachable)("Cannot initialize BasePdfManager.")}get docId(){return this._docId}get password(){return this._password}get docBaseUrl(){const g=this.pdfDocument.catalog;return(0,s.shadow)(this,"docBaseUrl",g.baseUrl||this._docBaseUrl)}onLoadedStream(){(0,s.unreachable)("Abstract method `onLoadedStream` called")}ensureDoc(g,o){return this.ensure(this.pdfDocument,g,o)}ensureXRef(g,o){return this.ensure(this.pdfDocument.xref,g,o)}ensureCatalog(g,o){return this.ensure(this.pdfDocument.catalog,g,o)}getPage(g){return this.pdfDocument.getPage(g)}fontFallback(g,o){return this.pdfDocument.fontFallback(g,o)}loadXfaFonts(g,o){return this.pdfDocument.loadXfaFonts(g,o)}loadXfaImages(){return this.pdfDocument.loadXfaImages()}serializeXfaData(g){return this.pdfDocument.serializeXfaData(g)}cleanup(g=!1){return this.pdfDocument.cleanup(g)}async ensure(g,o,ut){(0,s.unreachable)("Abstract method `ensure` called")}requestRange(g,o){(0,s.unreachable)("Abstract method `requestRange` called")}requestLoadedStream(){(0,s.unreachable)("Abstract method `requestLoadedStream` called")}sendProgressiveData(g){(0,s.unreachable)("Abstract method `sendProgressiveData` called")}updatePassword(g){this._password=g}terminate(g){(0,s.unreachable)("Abstract method `terminate` called")}}class $ extends _{constructor(g,o,ut,dt,b,h,et){super(),this._docId=g,this._password=ut,this._docBaseUrl=gt(et),this.msgHandler=dt,this.evaluatorOptions=b,this.enableXfa=h;const nt=new e.Stream(o);this.pdfDocument=new wt.PDFDocument(this,nt),this._loadedStreamPromise=Promise.resolve(nt)}async ensure(g,o,ut){const dt=g[o];return typeof dt=="function"?dt.apply(g,ut):dt}requestRange(g,o){return Promise.resolve()}requestLoadedStream(){}onLoadedStream(){return this._loadedStreamPromise}terminate(g){}}ct.LocalPdfManager=$;class d extends _{constructor(g,o,ut,dt,b,h){super(),this._docId=g,this._password=ut.password,this._docBaseUrl=gt(h),this.msgHandler=ut.msgHandler,this.evaluatorOptions=dt,this.enableXfa=b,this.streamManager=new st.ChunkedStreamManager(o,{msgHandler:ut.msgHandler,length:ut.length,disableAutoFetch:ut.disableAutoFetch,rangeChunkSize:ut.rangeChunkSize}),this.pdfDocument=new wt.PDFDocument(this,this.streamManager.getStream())}async ensure(g,o,ut){try{const dt=g[o];return typeof dt=="function"?dt.apply(g,ut):dt}catch(dt){if(!(dt instanceof Tt.MissingDataException))throw dt;return await this.requestRange(dt.begin,dt.end),this.ensure(g,o,ut)}}requestRange(g,o){return this.streamManager.requestRange(g,o)}requestLoadedStream(){this.streamManager.requestAllChunks()}sendProgressiveData(g){this.streamManager.onReceiveData({chunk:g})}onLoadedStream(){return this.streamManager.onLoadedStream()}terminate(g){this.streamManager.abort(g)}}ct.NetworkPdfManager=d},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.ChunkedStreamManager=ct.ChunkedStream=void 0;var s=Et(2),st=Et(6),Tt=Et(10);class wt extends Tt.Stream{constructor(_,$,d){super(new Uint8Array(_),0,_,null),this.chunkSize=$,this._loadedChunks=new Set,this.numChunks=Math.ceil(_/$),this.manager=d,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}getMissingChunks(){const _=[];for(let $=0,d=this.numChunks;$<d;++$)this._loadedChunks.has($)||_.push($);return _}get numChunksLoaded(){return this._loadedChunks.size}get isDataLoaded(){return this.numChunksLoaded===this.numChunks}onReceiveData(_,$){const d=this.chunkSize;if(_%d!==0)throw new Error(`Bad begin offset: ${_}`);const j=_+$.byteLength;if(j%d!==0&&j!==this.bytes.length)throw new Error(`Bad end offset: ${j}`);this.bytes.set(new Uint8Array($),_);const g=Math.floor(_/d),o=Math.floor((j-1)/d)+1;for(let ut=g;ut<o;++ut)this._loadedChunks.add(ut)}onReceiveProgressiveData(_){let $=this.progressiveDataLength;const d=Math.floor($/this.chunkSize);this.bytes.set(new Uint8Array(_),$),$+=_.byteLength,this.progressiveDataLength=$;const j=$>=this.end?this.numChunks:Math.floor($/this.chunkSize);for(let g=d;g<j;++g)this._loadedChunks.add(g)}ensureByte(_){if(_<this.progressiveDataLength)return;const $=Math.floor(_/this.chunkSize);if(!($>this.numChunks)&&$!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has($))throw new st.MissingDataException(_,_+1);this.lastSuccessfulEnsureByteChunk=$}}ensureRange(_,$){if(_>=$||$<=this.progressiveDataLength)return;const d=Math.floor(_/this.chunkSize);if(d>this.numChunks)return;const j=Math.min(Math.floor(($-1)/this.chunkSize)+1,this.numChunks);for(let g=d;g<j;++g)if(!this._loadedChunks.has(g))throw new st.MissingDataException(_,$)}nextEmptyChunk(_){const $=this.numChunks;for(let d=0;d<$;++d){const j=(_+d)%$;if(!this._loadedChunks.has(j))return j}return null}hasChunk(_){return this._loadedChunks.has(_)}getByte(){const _=this.pos;return _>=this.end?-1:(_>=this.progressiveDataLength&&this.ensureByte(_),this.bytes[this.pos++])}getBytes(_){const $=this.bytes,d=this.pos,j=this.end;if(!_)return j>this.progressiveDataLength&&this.ensureRange(d,j),$.subarray(d,j);let g=d+_;return g>j&&(g=j),g>this.progressiveDataLength&&this.ensureRange(d,g),this.pos=g,$.subarray(d,g)}getByteRange(_,$){return _<0&&(_=0),$>this.end&&($=this.end),$>this.progressiveDataLength&&this.ensureRange(_,$),this.bytes.subarray(_,$)}makeSubStream(_,$,d=null){$?_+$>this.progressiveDataLength&&this.ensureRange(_,_+$):_>=this.progressiveDataLength&&this.ensureByte(_);function j(){}j.prototype=Object.create(this),j.prototype.getMissingChunks=function(){const o=this.chunkSize,ut=Math.floor(this.start/o),dt=Math.floor((this.end-1)/o)+1,b=[];for(let h=ut;h<dt;++h)this._loadedChunks.has(h)||b.push(h);return b},Object.defineProperty(j.prototype,"isDataLoaded",{get(){return this.numChunksLoaded===this.numChunks?!0:this.getMissingChunks().length===0},configurable:!0});const g=new j;return g.pos=g.start=_,g.end=_+$||this.end,g.dict=d,g}getBaseStreams(){return[this]}}ct.ChunkedStream=wt;class e{constructor(_,$){this.length=$.length,this.chunkSize=$.rangeChunkSize,this.stream=new wt(this.length,this.chunkSize,this),this.pdfNetworkStream=_,this.disableAutoFetch=$.disableAutoFetch,this.msgHandler=$.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=(0,s.createPromiseCapability)()}onLoadedStream(){return this._loadedStreamCapability.promise}sendRequest(_,$){const d=this.pdfNetworkStream.getRangeReader(_,$);d.isStreamingSupported||(d.onProgress=this.onProgress.bind(this));let j=[],g=0;return new Promise((o,ut)=>{const dt=b=>{try{if(!b.done){const et=b.value;j.push(et),g+=(0,s.arrayByteLength)(et),d.isStreamingSupported&&this.onProgress({loaded:g}),d.read().then(dt,ut);return}const h=(0,s.arraysToBytes)(j);j=null,o(h)}catch(h){ut(h)}};d.read().then(dt,ut)}).then(o=>{this.aborted||this.onReceiveData({chunk:o,begin:_})})}requestAllChunks(){const _=this.stream.getMissingChunks();return this._requestChunks(_),this._loadedStreamCapability.promise}_requestChunks(_){const $=this.currRequestId++,d=new Set;this._chunksNeededByRequest.set($,d);for(const o of _)this.stream.hasChunk(o)||d.add(o);if(d.size===0)return Promise.resolve();const j=(0,s.createPromiseCapability)();this._promisesByRequest.set($,j);const g=[];for(const o of d){let ut=this._requestsByChunk.get(o);ut||(ut=[],this._requestsByChunk.set(o,ut),g.push(o)),ut.push($)}if(g.length>0){const o=this.groupChunks(g);for(const ut of o){const dt=ut.beginChunk*this.chunkSize,b=Math.min(ut.endChunk*this.chunkSize,this.length);this.sendRequest(dt,b).catch(j.reject)}}return j.promise.catch(o=>{if(!this.aborted)throw o})}getStream(){return this.stream}requestRange(_,$){$=Math.min($,this.length);const d=this.getBeginChunk(_),j=this.getEndChunk($),g=[];for(let o=d;o<j;++o)g.push(o);return this._requestChunks(g)}requestRanges(_=[]){const $=[];for(const d of _){const j=this.getBeginChunk(d.begin),g=this.getEndChunk(d.end);for(let o=j;o<g;++o)$.includes(o)||$.push(o)}return $.sort(function(d,j){return d-j}),this._requestChunks($)}groupChunks(_){const $=[];let d=-1,j=-1;for(let g=0,o=_.length;g<o;++g){const ut=_[g];d<0&&(d=ut),j>=0&&j+1!==ut&&($.push({beginChunk:d,endChunk:j+1}),d=ut),g+1===_.length&&$.push({beginChunk:d,endChunk:ut+1}),j=ut}return $}onProgress(_){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+_.loaded,total:this.length})}onReceiveData(_){const $=_.chunk,d=_.begin===void 0,j=d?this.progressiveDataLength:_.begin,g=j+$.byteLength,o=Math.floor(j/this.chunkSize),ut=g<this.length?Math.floor(g/this.chunkSize):Math.ceil(g/this.chunkSize);d?(this.stream.onReceiveProgressiveData($),this.progressiveDataLength=g):this.stream.onReceiveData(j,$),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);const dt=[];for(let b=o;b<ut;++b){const h=this._requestsByChunk.get(b);if(h){this._requestsByChunk.delete(b);for(const et of h){const nt=this._chunksNeededByRequest.get(et);nt.has(b)&&nt.delete(b),!(nt.size>0)&&dt.push(et)}}}if(!this.disableAutoFetch&&this._requestsByChunk.size===0){let b;if(this.stream.numChunksLoaded===1){const h=this.stream.numChunks-1;this.stream.hasChunk(h)||(b=h)}else b=this.stream.nextEmptyChunk(ut);Number.isInteger(b)&&this._requestChunks([b])}for(const b of dt){const h=this._promisesByRequest.get(b);this._promisesByRequest.delete(b),h.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}onError(_){this._loadedStreamCapability.reject(_)}getBeginChunk(_){return Math.floor(_/this.chunkSize)}getEndChunk(_){return Math.floor((_-1)/this.chunkSize)+1}abort(_){this.aborted=!0,this.pdfNetworkStream&&this.pdfNetworkStream.cancelAllRequests(_);for(const $ of this._promisesByRequest.values())$.reject(_)}}ct.ChunkedStreamManager=e},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.StringStream=ct.Stream=ct.NullStream=void 0;var s=Et(7),st=Et(2);class Tt extends s.BaseStream{constructor(_,$,d,j){super(),this.bytes=_ instanceof Uint8Array?_:new Uint8Array(_),this.start=$||0,this.pos=this.start,this.end=$+d||this.bytes.length,this.dict=j}get length(){return this.end-this.start}get isEmpty(){return this.length===0}getByte(){return this.pos>=this.end?-1:this.bytes[this.pos++]}getBytes(_){const $=this.bytes,d=this.pos,j=this.end;if(!_)return $.subarray(d,j);let g=d+_;return g>j&&(g=j),this.pos=g,$.subarray(d,g)}getByteRange(_,$){return _<0&&(_=0),$>this.end&&($=this.end),this.bytes.subarray(_,$)}reset(){this.pos=this.start}moveStart(){this.start=this.pos}makeSubStream(_,$,d=null){return new Tt(this.bytes.buffer,_,$,d)}}ct.Stream=Tt;class wt extends Tt{constructor(_){super((0,st.stringToBytes)(_))}}ct.StringStream=wt;class e extends Tt{constructor(){super(new Uint8Array(0))}}ct.NullStream=e},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.Page=ct.PDFDocument=void 0;var s=Et(12),st=Et(2),Tt=Et(6),wt=Et(5),e=Et(51),gt=Et(7),_=Et(67),$=Et(69),d=Et(71),j=Et(100),g=Et(17),o=Et(10),ut=Et(75),dt=Et(62),b=Et(15),h=Et(19),et=Et(74),nt=Et(65),pt=Et(76),Bt=Et(101);const Pt=1,Rt=[0,0,612,792];class Ft{constructor({pdfManager:At,xref:Nt,pageIndex:Ht,pageDict:xt,ref:rt,globalIdFactory:mt,fontCache:Mt,builtInCMapCache:_t,standardFontDataCache:Lt,globalImageCache:It,nonBlendModesSet:Dt,xfaFactory:jt}){this.pdfManager=At,this.pageIndex=Ht,this.pageDict=xt,this.xref=Nt,this.ref=rt,this.fontCache=Mt,this.builtInCMapCache=_t,this.standardFontDataCache=Lt,this.globalImageCache=It,this.nonBlendModesSet=Dt,this.evaluatorOptions=At.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=jt;const Ot={obj:0};this._localIdFactory=class extends mt{static createObjId(){return`p${Ht}_${++Ot.obj}`}static getPageObjId(){return`page${rt.toString()}`}}}_getInheritableProperty(At,Nt=!1){const Ht=(0,Tt.getInheritableProperty)({dict:this.pageDict,key:At,getArray:Nt,stopWhenFound:!1});return Array.isArray(Ht)?Ht.length===1||!(Ht[0]instanceof wt.Dict)?Ht[0]:wt.Dict.merge({xref:this.xref,dictArray:Ht}):Ht}get content(){return this.pageDict.getArray("Contents")}get resources(){const At=this._getInheritableProperty("Resources");return(0,st.shadow)(this,"resources",At instanceof wt.Dict?At:wt.Dict.empty)}_getBoundingBox(At){if(this.xfaData)return this.xfaData.bbox;const Nt=this._getInheritableProperty(At,!0);if(Array.isArray(Nt)&&Nt.length===4){if(Nt[2]-Nt[0]!==0&&Nt[3]-Nt[1]!==0)return Nt;(0,st.warn)(`Empty /${At} entry.`)}return null}get mediaBox(){return(0,st.shadow)(this,"mediaBox",this._getBoundingBox("MediaBox")||Rt)}get cropBox(){return(0,st.shadow)(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}get userUnit(){let At=this.pageDict.get("UserUnit");return(typeof At!="number"||At<=0)&&(At=Pt),(0,st.shadow)(this,"userUnit",At)}get view(){const{cropBox:At,mediaBox:Nt}=this;let Ht;if(At===Nt||(0,st.isArrayEqual)(At,Nt))Ht=Nt;else{const xt=st.Util.intersect(At,Nt);xt&&xt[2]-xt[0]!==0&&xt[3]-xt[1]!==0?Ht=xt:(0,st.warn)("Empty /CropBox and /MediaBox intersection.")}return(0,st.shadow)(this,"view",Ht||Nt)}get rotate(){let At=this._getInheritableProperty("Rotate")||0;return At%90!==0?At=0:At>=360?At%=360:At<0&&(At=(At%360+360)%360),(0,st.shadow)(this,"rotate",At)}_onSubStreamError(At,Nt,Ht){if(this.evaluatorOptions.ignoreErrors){At.send("UnsupportedFeature",{featureId:st.UNSUPPORTED_FEATURES.errorContentSubStream}),(0,st.warn)(`getContentStream - ignoring sub-stream (${Ht}): "${Nt}".`);return}throw Nt}getContentStream(At){return this.pdfManager.ensure(this,"content").then(Nt=>Nt instanceof gt.BaseStream?Nt:Array.isArray(Nt)?new h.StreamsSequenceStream(Nt,this._onSubStreamError.bind(this,At)):new o.NullStream)}get xfaData(){return(0,st.shadow)(this,"xfaData",this.xfaFactory?{bbox:this.xfaFactory.getBoundingBox(this.pageIndex)}:null)}async saveNewAnnotations(At,Nt,Ht){if(this.xfaFactory)throw new Error("XFA: Cannot save new annotations.");const xt=new b.PartialEvaluator({xref:this.xref,handler:At,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}),rt=this.pageDict,mt=this.annotations.slice(),Mt=await s.AnnotationFactory.saveNewAnnotations(xt,Nt,Ht);for(const{ref:jt}of Mt.annotations)mt.push(jt);const _t=rt.get("Annots");rt.set("Annots",mt);const Lt=[];let It=null;this.xref.encrypt&&(It=this.xref.encrypt.createCipherTransform(this.ref.num,this.ref.gen)),(0,nt.writeObject)(this.ref,rt,Lt,It),_t&&rt.set("Annots",_t);const Dt=Mt.dependencies;return Dt.push({ref:this.ref,data:Lt.join("")},...Mt.annotations),Dt}save(At,Nt,Ht){const xt=new b.PartialEvaluator({xref:this.xref,handler:At,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions});return this._parsedAnnotations.then(function(rt){const mt=[];for(const Mt of rt)Mt.mustBePrinted(Ht)&&mt.push(Mt.save(xt,Nt,Ht).catch(function(_t){return(0,st.warn)(`save - ignoring annotation data during "${Nt.name}" task: "${_t}".`),null}));return Promise.all(mt).then(function(Mt){return Mt.filter(_t=>!!_t)})})}loadResources(At){return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then(()=>new ut.ObjectLoader(this.resources,At,this.xref).load())}getOperatorList({handler:At,sink:Nt,task:Ht,intent:xt,cacheKey:rt,annotationStorage:mt=null}){const Mt=this.getContentStream(At),_t=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),Lt=new b.PartialEvaluator({xref:this.xref,handler:At,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}),It=this.xfaFactory?null:(0,Tt.getNewAnnotationsMap)(mt);let Dt=Promise.resolve(null);if(It){const Xt=It.get(this.pageIndex);Xt&&(Dt=s.AnnotationFactory.printNewAnnotations(Lt,Ht,Xt))}const Ot=Promise.all([Mt,_t]).then(([Xt])=>{const Ut=new dt.OperatorList(xt,Nt);return At.send("StartRenderPage",{transparency:Lt.hasBlendModes(this.resources,this.nonBlendModesSet),pageIndex:this.pageIndex,cacheKey:rt}),Lt.getOperatorList({stream:Xt,task:Ht,resources:this.resources,operatorList:Ut}).then(function(){return Ut})});return Promise.all([Ot,this._parsedAnnotations,Dt]).then(function([Xt,Ut,Gt]){if(Gt&&(Ut=Ut.concat(Gt)),Ut.length===0||xt&st.RenderingIntentFlag.ANNOTATIONS_DISABLE)return Xt.flush(!0),{length:Xt.totalLength};const qt=!!(xt&st.RenderingIntentFlag.ANNOTATIONS_FORMS),Kt=!!(xt&st.RenderingIntentFlag.ANY),Vt=!!(xt&st.RenderingIntentFlag.DISPLAY),Yt=!!(xt&st.RenderingIntentFlag.PRINT),Zt=[];for(const Qt of Ut)(Kt||Vt&&Qt.mustBeViewed(mt)||Yt&&Qt.mustBePrinted(mt))&&Zt.push(Qt.getOperatorList(Lt,Ht,xt,qt,mt).catch(function(en){return(0,st.warn)(`getOperatorList - ignoring annotation data during "${Ht.name}" task: "${en}".`),null}));return Promise.all(Zt).then(function(Qt){let en=!1,rn=!1;for(const{opList:an,separateForm:fn,separateCanvas:un}of Qt)Xt.addOpList(an),fn&&(en=fn),un&&(rn=un);return Xt.flush(!0,{form:en,canvas:rn}),{length:Xt.totalLength}})})}extractTextContent({handler:At,task:Nt,includeMarkedContent:Ht,sink:xt,combineTextItems:rt}){const mt=this.getContentStream(At),Mt=this.loadResources(["ExtGState","Font","Properties","XObject"]);return Promise.all([mt,Mt]).then(([Lt])=>new b.PartialEvaluator({xref:this.xref,handler:At,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}).getTextContent({stream:Lt,task:Nt,resources:this.resources,includeMarkedContent:Ht,combineTextItems:rt,sink:xt,viewBox:this.view}))}async getStructTree(){const At=await this.pdfManager.ensureCatalog("structTreeRoot");return At?(await this.pdfManager.ensure(this,"_parseStructTree",[At])).serializable:null}_parseStructTree(At){const Nt=new et.StructTreePage(At,this.pageDict);return Nt.parse(),Nt}async getAnnotationsData(At,Nt,Ht){const xt=await this._parsedAnnotations;if(xt.length===0)return[];const rt=[],mt=[];let Mt;const _t=!!(Ht&st.RenderingIntentFlag.ANY),Lt=!!(Ht&st.RenderingIntentFlag.DISPLAY),It=!!(Ht&st.RenderingIntentFlag.PRINT);for(const Dt of xt){const jt=_t||Lt&&Dt.viewable;(jt||It&&Dt.printable)&&mt.push(Dt.data),Dt.hasTextContent&&jt&&(Mt||(Mt=new b.PartialEvaluator({xref:this.xref,handler:At,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions})),rt.push(Dt.extractTextContent(Mt,Nt,this.view).catch(function(Ot){(0,st.warn)(`getAnnotationsData - ignoring textContent during "${Nt.name}" task: "${Ot}".`)})))}return await Promise.all(rt),mt}get annotations(){const At=this._getInheritableProperty("Annots");return(0,st.shadow)(this,"annotations",Array.isArray(At)?At:[])}get _parsedAnnotations(){const At=this.pdfManager.ensure(this,"annotations").then(()=>{const Nt=[];for(const Ht of this.annotations)Nt.push(s.AnnotationFactory.create(this.xref,Ht,this.pdfManager,this._localIdFactory,!1).catch(function(xt){return(0,st.warn)(`_parsedAnnotations: "${xt}".`),null}));return Promise.all(Nt).then(function(Ht){if(Ht.length===0)return Ht;const xt=[];let rt;for(const mt of Ht)if(mt){if(mt instanceof s.PopupAnnotation){rt||(rt=[]),rt.push(mt);continue}xt.push(mt)}return rt&&xt.push(...rt),xt})});return(0,st.shadow)(this,"_parsedAnnotations",At)}get jsActions(){const At=(0,Tt.collectActions)(this.xref,this.pageDict,st.PageActionEventType);return(0,st.shadow)(this,"jsActions",At)}}ct.Page=Ft;const lt=new Uint8Array([37,80,68,70,45]),ft=new Uint8Array([115,116,97,114,116,120,114,101,102]),it=new Uint8Array([101,110,100,111,98,106]),at=1024,bt="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0",St=/^[1-9]\.\d$/;function ht(yt,At,Nt=1024,Ht=!1){const xt=At.length,rt=yt.peekBytes(Nt),mt=rt.length-xt;if(mt<=0)return!1;if(Ht){const Mt=xt-1;let _t=rt.length-1;for(;_t>=Mt;){let Lt=0;for(;Lt<xt&&rt[_t-Lt]===At[Mt-Lt];)Lt++;if(Lt>=xt)return yt.pos+=_t-Mt,!0;_t--}}else{let Mt=0;for(;Mt<=mt;){let _t=0;for(;_t<xt&&rt[Mt+_t]===At[_t];)_t++;if(_t>=xt)return yt.pos+=Mt,!0;Mt++}}return!1}class vt{constructor(At,Nt){if(Nt.length<=0)throw new st.InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=At,this.stream=Nt,this.xref=new Bt.XRef(Nt,At),this._pagePromises=new Map,this._version=null;const Ht={font:0};this._globalIdFactory=class{static getDocId(){return`g_${At.docId}`}static createFontId(){return`f${++Ht.font}`}static createObjId(){(0,st.unreachable)("Abstract method `createObjId` called.")}static getPageObjId(){(0,st.unreachable)("Abstract method `getPageObjId` called.")}}}parse(At){this.xref.parse(At),this.catalog=new $.Catalog(this.pdfManager,this.xref),this.catalog.version&&(this._version=this.catalog.version)}get linearization(){let At=null;try{At=g.Linearization.create(this.stream)}catch(Nt){if(Nt instanceof Tt.MissingDataException)throw Nt;(0,st.info)(Nt)}return(0,st.shadow)(this,"linearization",At)}get startXRef(){const At=this.stream;let Nt=0;if(this.linearization)At.reset(),ht(At,it)&&(Nt=At.pos+6-At.start);else{const xt=ft.length;let rt=!1,mt=At.end;for(;!rt&&mt>0;)mt-=1024-xt,mt<0&&(mt=0),At.pos=mt,rt=ht(At,ft,1024,!0);if(rt){At.skip(9);let Mt;do Mt=At.getByte();while((0,Tt.isWhiteSpace)(Mt));let _t="";for(;Mt>=32&&Mt<=57;)_t+=String.fromCharCode(Mt),Mt=At.getByte();Nt=parseInt(_t,10),isNaN(Nt)&&(Nt=0)}}return(0,st.shadow)(this,"startXRef",Nt)}checkHeader(){const At=this.stream;if(At.reset(),!ht(At,lt))return;At.moveStart();const Nt=12;let Ht="",xt;for(;(xt=At.getByte())>32&&!(Ht.length>=Nt);)Ht+=String.fromCharCode(xt);this._version||(this._version=Ht.substring(5))}parseStartXRef(){this.xref.setStartXRef(this.startXRef)}get numPages(){let At=0;return this.catalog.hasActualNumPages?At=this.catalog.numPages:this.xfaFactory?At=this.xfaFactory.getNumPages():this.linearization?At=this.linearization.numPages:At=this.catalog.numPages,(0,st.shadow)(this,"numPages",At)}_hasOnlyDocumentSignatures(At,Nt=0){return Array.isArray(At)?At.every(xt=>{if(xt=this.xref.fetchIfRef(xt),!(xt instanceof wt.Dict))return!1;if(xt.has("Kids"))return++Nt>10?((0,st.warn)("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):this._hasOnlyDocumentSignatures(xt.get("Kids"),Nt);const rt=(0,wt.isName)(xt.get("FT"),"Sig"),mt=xt.get("Rect"),Mt=Array.isArray(mt)&&mt.every(_t=>_t===0);return rt&&Mt}):!1}get _xfaStreams(){const At=this.catalog.acroForm;if(!At)return null;const Nt=At.get("XFA"),Ht={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if(Nt instanceof gt.BaseStream&&!Nt.isEmpty)return Ht["xdp:xdp"]=Nt,Ht;if(!Array.isArray(Nt)||Nt.length===0)return null;for(let xt=0,rt=Nt.length;xt<rt;xt+=2){let mt;if(xt===0?mt="xdp:xdp":xt===rt-2?mt="/xdp:xdp":mt=Nt[xt],!Ht.hasOwnProperty(mt))continue;const Mt=this.xref.fetchIfRef(Nt[xt+1]);!(Mt instanceof gt.BaseStream)||Mt.isEmpty||(Ht[mt]=Mt)}return Ht}get xfaDatasets(){const At=this._xfaStreams;if(!At)return(0,st.shadow)(this,"xfaDatasets",null);for(const Nt of["datasets","xdp:xdp"]){const Ht=At[Nt];if(Ht)try{const xt=(0,st.stringToUTF8String)(Ht.getString()),rt={[Nt]:xt};return(0,st.shadow)(this,"xfaDatasets",new j.DatasetReader(rt))}catch{(0,st.warn)("XFA - Invalid utf-8 string.");break}}return(0,st.shadow)(this,"xfaDatasets",null)}get xfaData(){const At=this._xfaStreams;if(!At)return null;const Nt=Object.create(null);for(const[Ht,xt]of Object.entries(At))if(xt)try{Nt[Ht]=(0,st.stringToUTF8String)(xt.getString())}catch{return(0,st.warn)("XFA - Invalid utf-8 string."),null}return Nt}get xfaFactory(){let At;return this.pdfManager.enableXfa&&this.catalog.needsRendering&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm&&(At=this.xfaData),(0,st.shadow)(this,"xfaFactory",At?new pt.XFAFactory(At):null)}get isPureXfa(){return this.xfaFactory?this.xfaFactory.isValid():!1}get htmlForXfa(){return this.xfaFactory?this.xfaFactory.getPages():null}async loadXfaImages(){const At=await this.pdfManager.ensureCatalog("xfaImages");if(!At)return;const Nt=At.getKeys();await new ut.ObjectLoader(At,Nt,this.xref).load();const xt=new Map;for(const rt of Nt){const mt=At.get(rt);mt instanceof gt.BaseStream&&xt.set(rt,mt.getBytes())}this.xfaFactory.setImages(xt)}async loadXfaFonts(At,Nt){const Ht=await this.pdfManager.ensureCatalog("acroForm");if(!Ht)return;const xt=await Ht.getAsync("DR");if(!(xt instanceof wt.Dict))return;await new ut.ObjectLoader(xt,["Font"],this.xref).load();const mt=xt.get("Font");if(!(mt instanceof wt.Dict))return;const Mt=Object.assign(Object.create(null),this.pdfManager.evaluatorOptions);Mt.useSystemFonts=!1;const _t=new b.PartialEvaluator({xref:this.xref,handler:At,pageIndex:-1,idFactory:this._globalIdFactory,fontCache:this.catalog.fontCache,builtInCMapCache:this.catalog.builtInCMapCache,standardFontDataCache:this.catalog.standardFontDataCache,options:Mt}),Lt=new dt.OperatorList,It=[],Dt={get font(){return It.at(-1)},set font(Gt){It.push(Gt)},clone(){return this}},jt=new Map;mt.forEach((Gt,qt)=>{jt.set(Gt,qt)});const Ot=[];for(const[Gt,qt]of jt){const Kt=qt.get("FontDescriptor");if(!(Kt instanceof wt.Dict))continue;let Vt=Kt.get("FontFamily");Vt=Vt.replace(/[ ]+(\d)/g,"$1");const Yt=Kt.get("FontWeight"),Zt=-Kt.get("ItalicAngle"),Qt={fontFamily:Vt,fontWeight:Yt,italicAngle:Zt};(0,Tt.validateCSSFont)(Qt)&&Ot.push(_t.handleSetFont(xt,[wt.Name.get(Gt),1],null,Lt,Nt,Dt,null,Qt).catch(function(en){return(0,st.warn)(`loadXfaFonts: "${en}".`),null}))}await Promise.all(Ot);const Xt=this.xfaFactory.setFonts(It);if(!Xt)return;Mt.ignoreErrors=!0,Ot.length=0,It.length=0;const Ut=new Set;for(const Gt of Xt)(0,e.getXfaFontName)(`${Gt}-Regular`)||Ut.add(Gt);Ut.size&&Xt.push("PdfJS-Fallback");for(const Gt of Xt)if(!Ut.has(Gt))for(const qt of[{name:"Regular",fontWeight:400,italicAngle:0},{name:"Bold",fontWeight:700,italicAngle:0},{name:"Italic",fontWeight:400,italicAngle:12},{name:"BoldItalic",fontWeight:700,italicAngle:12}]){const Kt=`${Gt}-${qt.name}`,Vt=(0,e.getXfaFontDict)(Kt);Ot.push(_t.handleSetFont(xt,[wt.Name.get(Kt),1],null,Lt,Nt,Dt,Vt,{fontFamily:Gt,fontWeight:qt.fontWeight,italicAngle:qt.italicAngle}).catch(function(Yt){return(0,st.warn)(`loadXfaFonts: "${Yt}".`),null}))}await Promise.all(Ot),this.xfaFactory.appendFonts(It,Ut)}async serializeXfaData(At){return this.xfaFactory?this.xfaFactory.serializeData(At):null}get formInfo(){const At={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},Nt=this.catalog.acroForm;if(!Nt)return(0,st.shadow)(this,"formInfo",At);try{const Ht=Nt.get("Fields"),xt=Array.isArray(Ht)&&Ht.length>0;At.hasFields=xt;const rt=Nt.get("XFA");At.hasXfa=Array.isArray(rt)&&rt.length>0||rt instanceof gt.BaseStream&&!rt.isEmpty;const Mt=!!(Nt.get("SigFlags")&1),_t=Mt&&this._hasOnlyDocumentSignatures(Ht);At.hasAcroForm=xt&&!_t,At.hasSignatures=Mt}catch(Ht){if(Ht instanceof Tt.MissingDataException)throw Ht;(0,st.warn)(`Cannot fetch form information: "${Ht}".`)}return(0,st.shadow)(this,"formInfo",At)}get documentInfo(){let At=this._version;(typeof At!="string"||!St.test(At))&&((0,st.warn)(`Invalid PDF header version number: ${At}`),At=null);const Nt={PDFFormatVersion:At,Language:this.catalog.lang,EncryptFilterName:this.xref.encrypt?this.xref.encrypt.filterName:null,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};let Ht;try{Ht=this.xref.trailer.get("Info")}catch(xt){if(xt instanceof Tt.MissingDataException)throw xt;(0,st.info)("The document information dictionary is invalid.")}if(!(Ht instanceof wt.Dict))return(0,st.shadow)(this,"documentInfo",Nt);for(const xt of Ht.getKeys()){const rt=Ht.get(xt);switch(xt){case"Title":case"Author":case"Subject":case"Keywords":case"Creator":case"Producer":case"CreationDate":case"ModDate":if(typeof rt=="string"){Nt[xt]=(0,st.stringToPDFString)(rt);continue}break;case"Trapped":if(rt instanceof wt.Name){Nt[xt]=rt;continue}break;default:let mt;switch(typeof rt){case"string":mt=(0,st.stringToPDFString)(rt);break;case"number":case"boolean":mt=rt;break;default:rt instanceof wt.Name&&(mt=rt);break}if(mt===void 0){(0,st.warn)(`Bad value, for custom key "${xt}", in Info: ${rt}.`);continue}Nt.Custom||(Nt.Custom=Object.create(null)),Nt.Custom[xt]=mt;continue}(0,st.warn)(`Bad value, for key "${xt}", in Info: ${rt}.`)}return(0,st.shadow)(this,"documentInfo",Nt)}get fingerprints(){function At(mt){return typeof mt=="string"&&mt.length>0&&mt!==bt}function Nt(mt){const Mt=[];for(let _t=0,Lt=mt.length;_t<Lt;_t++){const It=mt[_t].toString(16);Mt.push(It.padStart(2,"0"))}return Mt.join("")}const Ht=this.xref.trailer.get("ID");let xt,rt;return Array.isArray(Ht)&&At(Ht[0])?(xt=(0,st.stringToBytes)(Ht[0]),Ht[1]!==Ht[0]&&At(Ht[1])&&(rt=(0,st.stringToBytes)(Ht[1]))):xt=(0,_.calculateMD5)(this.stream.getByteRange(0,at),0,at),(0,st.shadow)(this,"fingerprints",[Nt(xt),rt?Nt(rt):null])}async _getLinearizationPage(At){const{catalog:Nt,linearization:Ht,xref:xt}=this,rt=wt.Ref.get(Ht.objectNumberFirst,0);try{const mt=await xt.fetchAsync(rt);if(mt instanceof wt.Dict){let Mt=mt.getRaw("Type");if(Mt instanceof wt.Ref&&(Mt=await xt.fetchAsync(Mt)),(0,wt.isName)(Mt,"Page")||!mt.has("Type")&&!mt.has("Kids"))return Nt.pageKidsCountCache.has(rt)||Nt.pageKidsCountCache.put(rt,1),Nt.pageIndexCache.has(rt)||Nt.pageIndexCache.put(rt,0),[mt,rt]}throw new st.FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")}catch(mt){return(0,st.warn)(`_getLinearizationPage: "${mt.message}".`),Nt.getPageDict(At)}}getPage(At){const Nt=this._pagePromises.get(At);if(Nt)return Nt;const{catalog:Ht,linearization:xt,xfaFactory:rt}=this;let mt;return rt?mt=Promise.resolve([wt.Dict.empty,null]):xt&&xt.pageFirst===At?mt=this._getLinearizationPage(At):mt=Ht.getPageDict(At),mt=mt.then(([Mt,_t])=>new Ft({pdfManager:this.pdfManager,xref:this.xref,pageIndex:At,pageDict:Mt,ref:_t,globalIdFactory:this._globalIdFactory,fontCache:Ht.fontCache,builtInCMapCache:Ht.builtInCMapCache,standardFontDataCache:Ht.standardFontDataCache,globalImageCache:Ht.globalImageCache,nonBlendModesSet:Ht.nonBlendModesSet,xfaFactory:rt})),this._pagePromises.set(At,mt),mt}async checkFirstPage(At=!1){if(!At)try{await this.getPage(0)}catch(Nt){if(Nt instanceof Tt.XRefEntryException)throw this._pagePromises.delete(0),await this.cleanup(),new Tt.XRefParseException}}async checkLastPage(At=!1){const{catalog:Nt,pdfManager:Ht}=this;Nt.setActualNumPages();let xt;try{if(await Promise.all([Ht.ensureDoc("xfaFactory"),Ht.ensureDoc("linearization"),Ht.ensureCatalog("numPages")]),this.xfaFactory)return;if(this.linearization?xt=this.linearization.numPages:xt=Nt.numPages,Number.isInteger(xt)){if(xt<=1)return}else throw new st.FormatError("Page count is not an integer.");await this.getPage(xt-1)}catch(rt){if(this._pagePromises.delete(xt-1),await this.cleanup(),rt instanceof Tt.XRefEntryException&&!At)throw new Tt.XRefParseException;(0,st.warn)(`checkLastPage - invalid /Pages tree /Count: ${xt}.`);let mt;try{mt=await Nt.getAllPageDicts(At)}catch(Mt){if(Mt instanceof Tt.XRefEntryException&&!At)throw new Tt.XRefParseException;Nt.setActualNumPages(1);return}for(const[Mt,[_t,Lt]]of mt){let It;_t instanceof Error?(It=Promise.reject(_t),It.catch(()=>{})):It=Promise.resolve(new Ft({pdfManager:Ht,xref:this.xref,pageIndex:Mt,pageDict:_t,ref:Lt,globalIdFactory:this._globalIdFactory,fontCache:Nt.fontCache,builtInCMapCache:Nt.builtInCMapCache,standardFontDataCache:Nt.standardFontDataCache,globalImageCache:Nt.globalImageCache,nonBlendModesSet:Nt.nonBlendModesSet,xfaFactory:null})),this._pagePromises.set(Mt,It)}Nt.setActualNumPages(mt.size)}}fontFallback(At,Nt){return this.catalog.fontFallback(At,Nt)}async cleanup(At=!1){return this.catalog?this.catalog.cleanup(At):(0,d.clearGlobalCaches)()}_collectFieldObjects(At,Nt,Ht){const xt=this.xref.fetchIfRef(Nt);if(xt.has("T")){const rt=(0,st.stringToPDFString)(xt.get("T"));At===""?At=rt:At=`${At}.${rt}`}if(Ht.has(At)||Ht.set(At,[]),Ht.get(At).push(s.AnnotationFactory.create(this.xref,Nt,this.pdfManager,this._localIdFactory,!0).then(rt=>rt&&rt.getFieldObject()).catch(function(rt){return(0,st.warn)(`_collectFieldObjects: "${rt}".`),null})),xt.has("Kids")){const rt=xt.get("Kids");for(const mt of rt)this._collectFieldObjects(At,mt,Ht)}}get fieldObjects(){if(!this.formInfo.hasFields)return(0,st.shadow)(this,"fieldObjects",Promise.resolve(null));const At=Object.create(null),Nt=new Map;for(const xt of this.catalog.acroForm.get("Fields"))this._collectFieldObjects("",xt,Nt);const Ht=[];for(const[xt,rt]of Nt)Ht.push(Promise.all(rt).then(mt=>{mt=mt.filter(Mt=>!!Mt),mt.length>0&&(At[xt]=mt)}));return(0,st.shadow)(this,"fieldObjects",Promise.all(Ht).then(()=>At))}get hasJSActions(){const At=this.pdfManager.ensureDoc("_parseHasJSActions");return(0,st.shadow)(this,"hasJSActions",At)}async _parseHasJSActions(){const[At,Nt]=await Promise.all([this.pdfManager.ensureCatalog("jsActions"),this.pdfManager.ensureDoc("fieldObjects")]);return At?!0:Nt?Object.values(Nt).some(Ht=>Ht.some(xt=>xt.actions!==null)):!1}get calculationOrderIds(){const At=this.catalog.acroForm;if(!At||!At.has("CO"))return(0,st.shadow)(this,"calculationOrderIds",null);const Nt=At.get("CO");if(!Array.isArray(Nt)||Nt.length===0)return(0,st.shadow)(this,"calculationOrderIds",null);const Ht=[];for(const xt of Nt)xt instanceof wt.Ref&&Ht.push(xt.toString());return Ht.length===0?(0,st.shadow)(this,"calculationOrderIds",null):(0,st.shadow)(this,"calculationOrderIds",Ht)}}ct.PDFDocument=vt},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.PopupAnnotation=ct.MarkupAnnotation=ct.AnnotationFactory=ct.AnnotationBorderStyle=ct.Annotation=void 0,ct.getQuadPoints=et;var s=Et(2),st=Et(6),Tt=Et(13),wt=Et(5),e=Et(65),gt=Et(7),_=Et(60),$=Et(69),d=Et(14),j=Et(72),g=Et(75),o=Et(62),ut=Et(10),dt=Et(76);class b{static create(Ot,Xt,Ut,Gt,qt){return Promise.all([Ut.ensureCatalog("acroForm"),Ut.ensureCatalog("baseUrl"),Ut.ensureDoc("xfaDatasets"),qt?this._getPageIndex(Ot,Xt,Ut):-1]).then(([Kt,Vt,Yt,Zt])=>Ut.ensure(this,"_create",[Ot,Xt,Ut,Gt,Kt,Yt,qt,Zt]))}static _create(Ot,Xt,Ut,Gt,qt,Kt,Vt,Yt=-1){const Zt=Ot.fetchIfRef(Xt);if(!(Zt instanceof wt.Dict))return;const Qt=Xt instanceof wt.Ref?Xt.toString():`annot_${Gt.createObjId()}`;let en=Zt.get("Subtype");en=en instanceof wt.Name?en.name:null;const rn={xref:Ot,ref:Xt,dict:Zt,subtype:en,id:Qt,pdfManager:Ut,acroForm:qt instanceof wt.Dict?qt:wt.Dict.empty,xfaDatasets:Kt,collectFields:Vt,pageIndex:Yt};switch(en){case"Link":return new bt(rn);case"Text":return new at(rn);case"Widget":let an=(0,st.getInheritableProperty)({dict:Zt,key:"FT"});switch(an=an instanceof wt.Name?an.name:null,an){case"Tx":return new Ft(rn);case"Btn":return new lt(rn);case"Ch":return new ft(rn);case"Sig":return new it(rn)}return(0,s.warn)(`Unimplemented widget field type "${an}", falling back to base field type.`),new Rt(rn);case"Popup":return new St(rn);case"FreeText":return new ht(rn);case"Line":return new vt(rn);case"Square":return new yt(rn);case"Circle":return new At(rn);case"PolyLine":return new Nt(rn);case"Polygon":return new Ht(rn);case"Caret":return new xt(rn);case"Ink":return new rt(rn);case"Highlight":return new mt(rn);case"Underline":return new Mt(rn);case"Squiggly":return new _t(rn);case"StrikeOut":return new Lt(rn);case"Stamp":return new It(rn);case"FileAttachment":return new Dt(rn);default:return Vt||(en?(0,s.warn)(`Unimplemented annotation type "${en}", falling back to base annotation.`):(0,s.warn)("Annotation is missing the required /Subtype.")),new pt(rn)}}static async _getPageIndex(Ot,Xt,Ut){try{const Gt=await Ot.fetchIfRefAsync(Xt);if(!(Gt instanceof wt.Dict))return-1;const qt=Gt.getRaw("P");return qt instanceof wt.Ref?await Ut.ensureCatalog("getPageIndex",[qt]):-1}catch(Gt){return(0,s.warn)(`_getPageIndex: "${Gt}".`),-1}}static async saveNewAnnotations(Ot,Xt,Ut){const Gt=Ot.xref;let qt;const Kt=[],Vt=[];for(const Yt of Ut)switch(Yt.annotationType){case s.AnnotationEditorType.FREETEXT:if(!qt){const Zt=new wt.Dict(Gt);Zt.set("BaseFont",wt.Name.get("Helvetica")),Zt.set("Type",wt.Name.get("Font")),Zt.set("Subtype",wt.Name.get("Type1")),Zt.set("Encoding",wt.Name.get("WinAnsiEncoding"));const Qt=[];qt=Gt.getNewRef(),(0,e.writeObject)(qt,Zt,Qt,null),Kt.push({ref:qt,data:Qt.join("")})}Vt.push(ht.createNewAnnotation(Gt,Yt,Kt,{evaluator:Ot,task:Xt,baseFontRef:qt}));break;case s.AnnotationEditorType.INK:Vt.push(rt.createNewAnnotation(Gt,Yt,Kt))}return{annotations:await Promise.all(Vt),dependencies:Kt}}static async printNewAnnotations(Ot,Xt,Ut){if(!Ut)return null;const Gt=Ot.xref,qt=[];for(const Kt of Ut)switch(Kt.annotationType){case s.AnnotationEditorType.FREETEXT:qt.push(ht.createNewPrintAnnotation(Gt,Kt,{evaluator:Ot,task:Xt}));break;case s.AnnotationEditorType.INK:qt.push(rt.createNewPrintAnnotation(Gt,Kt));break}return Promise.all(qt)}}ct.AnnotationFactory=b;function h(jt,Ot=new Uint8ClampedArray(3)){if(!Array.isArray(jt))return Ot;const Xt=Ot||new Uint8ClampedArray(3);switch(jt.length){case 0:return null;case 1:return d.ColorSpace.singletons.gray.getRgbItem(jt,0,Xt,0),Xt;case 3:return d.ColorSpace.singletons.rgb.getRgbItem(jt,0,Xt,0),Xt;case 4:return d.ColorSpace.singletons.cmyk.getRgbItem(jt,0,Xt,0),Xt;default:return Ot}}function et(jt,Ot){if(!jt.has("QuadPoints"))return null;const Xt=jt.getArray("QuadPoints");if(!Array.isArray(Xt)||Xt.length===0||Xt.length%8>0)return null;const Ut=[];for(let Gt=0,qt=Xt.length/8;Gt<qt;Gt++){Ut.push([]);for(let Kt=Gt*8,Vt=Gt*8+8;Kt<Vt;Kt+=2){const Yt=Xt[Kt],Zt=Xt[Kt+1];if(Ot!==null&&(Yt<Ot[0]||Yt>Ot[2]||Zt<Ot[1]||Zt>Ot[3]))return null;Ut[Gt].push({x:Yt,y:Zt})}}return Ut.map(Gt=>{const[qt,Kt,Vt,Yt]=Gt.reduce(([Zt,Qt,en,rn],an)=>[Math.min(Zt,an.x),Math.max(Qt,an.x),Math.min(en,an.y),Math.max(rn,an.y)],[Number.MAX_VALUE,Number.MIN_VALUE,Number.MAX_VALUE,Number.MIN_VALUE]);return[{x:qt,y:Yt},{x:Kt,y:Yt},{x:qt,y:Vt},{x:Kt,y:Vt}]})}function nt(jt,Ot,Xt){const[Ut,Gt,qt,Kt]=s.Util.getAxialAlignedBoundingBox(Ot,Xt);if(Ut===qt||Gt===Kt)return[1,0,0,1,jt[0],jt[1]];const Vt=(jt[2]-jt[0])/(qt-Ut),Yt=(jt[3]-jt[1])/(Kt-Gt);return[Vt,0,0,Yt,jt[0]-Ut*Vt,jt[1]-Gt*Yt]}class pt{constructor(Ot){const Xt=Ot.dict;this.setTitle(Xt.get("T")),this.setContents(Xt.get("Contents")),this.setModificationDate(Xt.get("M")),this.setFlags(Xt.get("F")),this.setRectangle(Xt.getArray("Rect")),this.setColor(Xt.getArray("C")),this.setBorderStyle(Xt),this.setAppearance(Xt),this.setOptionalContent(Xt);const Ut=Xt.get("MK");if(this.setBorderAndBackgroundColors(Ut),this.setRotation(Ut),this._streams=[],this.appearance&&this._streams.push(this.appearance),this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,backgroundColor:this.backgroundColor,borderColor:this.borderColor,rotation:this.rotation,contentsObj:this._contents,hasAppearance:!!this.appearance,id:Ot.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:Ot.subtype,hasOwnCanvas:!1},Ot.collectFields){const Gt=Xt.get("Kids");if(Array.isArray(Gt)){const qt=[];for(const Kt of Gt)Kt instanceof wt.Ref&&qt.push(Kt.toString());qt.length!==0&&(this.data.kidIds=qt)}this.data.actions=(0,st.collectActions)(Ot.xref,Xt,s.AnnotationActionEventType),this.data.fieldName=this._constructFieldName(Xt),this.data.pageIndex=Ot.pageIndex}this._fallbackFontDict=null}_hasFlag(Ot,Xt){return!!(Ot&Xt)}_isViewable(Ot){return!this._hasFlag(Ot,s.AnnotationFlag.INVISIBLE)&&!this._hasFlag(Ot,s.AnnotationFlag.NOVIEW)}_isPrintable(Ot){return this._hasFlag(Ot,s.AnnotationFlag.PRINT)&&!this._hasFlag(Ot,s.AnnotationFlag.INVISIBLE)}mustBeViewed(Ot){const Xt=Ot&&Ot.get(this.data.id);return Xt&&Xt.hidden!==void 0?!Xt.hidden:this.viewable&&!this._hasFlag(this.flags,s.AnnotationFlag.HIDDEN)}mustBePrinted(Ot){const Xt=Ot&&Ot.get(this.data.id);return Xt&&Xt.print!==void 0?Xt.print:this.printable}get viewable(){return this.data.quadPoints===null?!1:this.flags===0?!0:this._isViewable(this.flags)}get printable(){return this.data.quadPoints===null||this.flags===0?!1:this._isPrintable(this.flags)}_parseStringHelper(Ot){const Xt=typeof Ot=="string"?(0,s.stringToPDFString)(Ot):"",Ut=Xt&&(0,_.bidi)(Xt).dir==="rtl"?"rtl":"ltr";return{str:Xt,dir:Ut}}setTitle(Ot){this._title=this._parseStringHelper(Ot)}setContents(Ot){this._contents=this._parseStringHelper(Ot)}setModificationDate(Ot){this.modificationDate=typeof Ot=="string"?Ot:null}setFlags(Ot){this.flags=Number.isInteger(Ot)&&Ot>0?Ot:0}hasFlag(Ot){return this._hasFlag(this.flags,Ot)}setRectangle(Ot){Array.isArray(Ot)&&Ot.length===4?this.rectangle=s.Util.normalizeRect(Ot):this.rectangle=[0,0,0,0]}setColor(Ot){this.color=h(Ot)}setLineEndings(Ot){if(this.lineEndings=["None","None"],Array.isArray(Ot)&&Ot.length===2)for(let Xt=0;Xt<2;Xt++){const Ut=Ot[Xt];if(Ut instanceof wt.Name)switch(Ut.name){case"None":continue;case"Square":case"Circle":case"Diamond":case"OpenArrow":case"ClosedArrow":case"Butt":case"ROpenArrow":case"RClosedArrow":case"Slash":this.lineEndings[Xt]=Ut.name;continue}(0,s.warn)(`Ignoring invalid lineEnding: ${Ut}`)}}setRotation(Ot){if(this.rotation=0,Ot instanceof wt.Dict){let Xt=Ot.get("R")||0;Number.isInteger(Xt)&&Xt!==0&&(Xt%=360,Xt<0&&(Xt+=360),Xt%90===0&&(this.rotation=Xt))}}setBorderAndBackgroundColors(Ot){Ot instanceof wt.Dict?(this.borderColor=h(Ot.getArray("BC"),null),this.backgroundColor=h(Ot.getArray("BG"),null)):this.borderColor=this.backgroundColor=null}setBorderStyle(Ot){if(this.borderStyle=new Bt,Ot instanceof wt.Dict)if(Ot.has("BS")){const Xt=Ot.get("BS"),Ut=Xt.get("Type");(!Ut||(0,wt.isName)(Ut,"Border"))&&(this.borderStyle.setWidth(Xt.get("W"),this.rectangle),this.borderStyle.setStyle(Xt.get("S")),this.borderStyle.setDashArray(Xt.getArray("D")))}else if(Ot.has("Border")){const Xt=Ot.getArray("Border");Array.isArray(Xt)&&Xt.length>=3&&(this.borderStyle.setHorizontalCornerRadius(Xt[0]),this.borderStyle.setVerticalCornerRadius(Xt[1]),this.borderStyle.setWidth(Xt[2],this.rectangle),Xt.length===4&&this.borderStyle.setDashArray(Xt[3],!0))}else this.borderStyle.setWidth(0)}setAppearance(Ot){this.appearance=null;const Xt=Ot.get("AP");if(!(Xt instanceof wt.Dict))return;const Ut=Xt.get("N");if(Ut instanceof gt.BaseStream){this.appearance=Ut;return}if(!(Ut instanceof wt.Dict))return;const Gt=Ot.get("AS");!(Gt instanceof wt.Name)||!Ut.has(Gt.name)||(this.appearance=Ut.get(Gt.name))}setOptionalContent(Ot){this.oc=null;const Xt=Ot.get("OC");Xt instanceof wt.Name?(0,s.warn)("setOptionalContent: Support for /Name-entry is not implemented."):Xt instanceof wt.Dict&&(this.oc=Xt)}loadResources(Ot,Xt){return Xt.dict.getAsync("Resources").then(Ut=>Ut?new g.ObjectLoader(Ut,Ot,Ut.xref).load().then(function(){return Ut}):void 0)}async getOperatorList(Ot,Xt,Ut,Gt,qt){const Kt=this.data;let Vt=this.appearance;const Yt=!!(this.data.hasOwnCanvas&&Ut&s.RenderingIntentFlag.DISPLAY);if(!Vt){if(!Yt)return{opList:new o.OperatorList,separateForm:!1,separateCanvas:!1};Vt=new ut.StringStream(""),Vt.dict=new wt.Dict}const Zt=Vt.dict,Qt=await this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"],Vt),en=Zt.getArray("BBox")||[0,0,1,1],rn=Zt.getArray("Matrix")||[1,0,0,1,0,0],an=nt(Kt.rect,en,rn),fn=new o.OperatorList;let un;return this.oc&&(un=await Ot.parseMarkedContentProps(this.oc,null)),un!==void 0&&fn.addOp(s.OPS.beginMarkedContentProps,["OC",un]),fn.addOp(s.OPS.beginAnnotation,[Kt.id,Kt.rect,an,rn,Yt]),await Ot.getOperatorList({stream:Vt,task:Xt,resources:Qt,operatorList:fn,fallbackFontDict:this._fallbackFontDict}),fn.addOp(s.OPS.endAnnotation,[]),un!==void 0&&fn.addOp(s.OPS.endMarkedContent,[]),this.reset(),{opList:fn,separateForm:!1,separateCanvas:Yt}}async save(Ot,Xt,Ut){return null}get hasTextContent(){return!1}async extractTextContent(Ot,Xt,Ut){if(!this.appearance)return;const Gt=await this.loadResources(["ExtGState","Font","Properties","XObject"],this.appearance),qt=[],Kt=[],Vt={desiredSize:Math.Infinity,ready:!0,enqueue(Yt,Zt){for(const Qt of Yt.items)Kt.push(Qt.str),Qt.hasEOL&&(qt.push(Kt.join("")),Kt.length=0)}};await Ot.getTextContent({stream:this.appearance,task:Xt,resources:Gt,includeMarkedContent:!0,combineTextItems:!0,sink:Vt,viewBox:Ut}),this.reset(),Kt.length&&qt.push(Kt.join("")),qt.length>0&&(this.data.textContent=qt)}getFieldObject(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex,rotation:this.rotation}:null}reset(){for(const Ot of this._streams)Ot.reset()}_constructFieldName(Ot){if(!Ot.has("T")&&!Ot.has("Parent"))return(0,s.warn)("Unknown field name, falling back to empty field name."),"";if(!Ot.has("Parent"))return(0,s.stringToPDFString)(Ot.get("T"));const Xt=[];Ot.has("T")&&Xt.unshift((0,s.stringToPDFString)(Ot.get("T")));let Ut=Ot;const Gt=new wt.RefSet;for(Ot.objId&&Gt.put(Ot.objId);Ut.has("Parent")&&(Ut=Ut.get("Parent"),!(!(Ut instanceof wt.Dict)||Ut.objId&&Gt.has(Ut.objId)));)Ut.objId&&Gt.put(Ut.objId),Ut.has("T")&&Xt.unshift((0,s.stringToPDFString)(Ut.get("T")));return Xt.join(".")}}ct.Annotation=pt;class Bt{constructor(){this.width=1,this.style=s.AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}setWidth(Ot,Xt=[0,0,0,0]){if(Ot instanceof wt.Name){this.width=0;return}if(typeof Ot=="number"){if(Ot>0){const Ut=(Xt[2]-Xt[0])/2,Gt=(Xt[3]-Xt[1])/2;Ut>0&&Gt>0&&(Ot>Ut||Ot>Gt)&&((0,s.warn)(`AnnotationBorderStyle.setWidth - ignoring width: ${Ot}`),Ot=1)}this.width=Ot}}setStyle(Ot){if(Ot instanceof wt.Name)switch(Ot.name){case"S":this.style=s.AnnotationBorderStyleType.SOLID;break;case"D":this.style=s.AnnotationBorderStyleType.DASHED;break;case"B":this.style=s.AnnotationBorderStyleType.BEVELED;break;case"I":this.style=s.AnnotationBorderStyleType.INSET;break;case"U":this.style=s.AnnotationBorderStyleType.UNDERLINE;break}}setDashArray(Ot,Xt=!1){if(Array.isArray(Ot)&&Ot.length>0){let Ut=!0,Gt=!0;for(const qt of Ot)if(+qt>=0)qt>0&&(Gt=!1);else{Ut=!1;break}Ut&&!Gt?(this.dashArray=Ot,Xt&&this.setStyle(wt.Name.get("D"))):this.width=0}else Ot&&(this.width=0)}setHorizontalCornerRadius(Ot){Number.isInteger(Ot)&&(this.horizontalCornerRadius=Ot)}setVerticalCornerRadius(Ot){Number.isInteger(Ot)&&(this.verticalCornerRadius=Ot)}}ct.AnnotationBorderStyle=Bt;class Pt extends pt{constructor(Ot){super(Ot);const Xt=Ot.dict;if(Xt.has("IRT")){const Ut=Xt.getRaw("IRT");this.data.inReplyTo=Ut instanceof wt.Ref?Ut.toString():null;const Gt=Xt.get("RT");this.data.replyType=Gt instanceof wt.Name?Gt.name:s.AnnotationReplyType.REPLY}if(this.data.replyType===s.AnnotationReplyType.GROUP){const Ut=Xt.get("IRT");this.setTitle(Ut.get("T")),this.data.titleObj=this._title,this.setContents(Ut.get("Contents")),this.data.contentsObj=this._contents,Ut.has("CreationDate")?(this.setCreationDate(Ut.get("CreationDate")),this.data.creationDate=this.creationDate):this.data.creationDate=null,Ut.has("M")?(this.setModificationDate(Ut.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,this.data.hasPopup=Ut.has("Popup"),Ut.has("C")?(this.setColor(Ut.getArray("C")),this.data.color=this.color):this.data.color=null}else this.data.titleObj=this._title,this.setCreationDate(Xt.get("CreationDate")),this.data.creationDate=this.creationDate,this.data.hasPopup=Xt.has("Popup"),Xt.has("C")||(this.data.color=null);Xt.has("RC")&&(this.data.richText=dt.XFAFactory.getRichTextAsHtml(Xt.get("RC")))}setCreationDate(Ot){this.creationDate=typeof Ot=="string"?Ot:null}_setDefaultAppearance({xref:Ot,extra:Xt,strokeColor:Ut,fillColor:Gt,blendMode:qt,strokeAlpha:Kt,fillAlpha:Vt,pointsCallback:Yt}){let Zt=Number.MAX_VALUE,Qt=Number.MAX_VALUE,en=Number.MIN_VALUE,rn=Number.MIN_VALUE;const an=["q"];Xt&&an.push(Xt),Ut&&an.push(`${Ut[0]} ${Ut[1]} ${Ut[2]} RG`),Gt&&an.push(`${Gt[0]} ${Gt[1]} ${Gt[2]} rg`);let fn=this.data.quadPoints;fn||(fn=[[{x:this.rectangle[0],y:this.rectangle[3]},{x:this.rectangle[2],y:this.rectangle[3]},{x:this.rectangle[0],y:this.rectangle[1]},{x:this.rectangle[2],y:this.rectangle[1]}]]);for(const hn of fn){const[on,Dn,Xn,er]=Yt(an,hn);Zt=Math.min(Zt,on),en=Math.max(en,Dn),Qt=Math.min(Qt,Xn),rn=Math.max(rn,er)}an.push("Q");const un=new wt.Dict(Ot),pn=new wt.Dict(Ot);pn.set("Subtype",wt.Name.get("Form"));const yn=new ut.StringStream(an.join(" "));yn.dict=pn,un.set("Fm0",yn);const On=new wt.Dict(Ot);qt&&On.set("BM",wt.Name.get(qt)),typeof Kt=="number"&&On.set("CA",Kt),typeof Vt=="number"&&On.set("ca",Vt);const En=new wt.Dict(Ot);En.set("GS0",On);const An=new wt.Dict(Ot);An.set("ExtGState",En),An.set("XObject",un);const Cn=new wt.Dict(Ot);Cn.set("Resources",An);const gn=this.data.rect=[Zt,Qt,en,rn];Cn.set("BBox",gn),this.appearance=new ut.StringStream("/GS0 gs /Fm0 Do"),this.appearance.dict=Cn,this._streams.push(this.appearance,yn)}static async createNewAnnotation(Ot,Xt,Ut,Gt){const qt=Ot.getNewRef(),Kt=Ot.getNewRef(),Vt=this.createNewDict(Xt,Ot,{apRef:Kt}),Yt=await this.createNewAppearanceStream(Xt,Ot,Gt),Zt=[];let Qt=Ot.encrypt?Ot.encrypt.createCipherTransform(Kt.num,Kt.gen):null;return(0,e.writeObject)(Kt,Yt,Zt,Qt),Ut.push({ref:Kt,data:Zt.join("")}),Zt.length=0,Qt=Ot.encrypt?Ot.encrypt.createCipherTransform(qt.num,qt.gen):null,(0,e.writeObject)(qt,Vt,Zt,Qt),{ref:qt,data:Zt.join("")}}static async createNewPrintAnnotation(Ot,Xt,Ut){const Gt=await this.createNewAppearanceStream(Xt,Ot,Ut),qt=this.createNewDict(Xt,Ot,{ap:Gt});return new this.prototype.constructor({dict:qt,xref:Ot})}}ct.MarkupAnnotation=Pt;class Rt extends pt{constructor(Ot){super(Ot);const Xt=Ot.dict,Ut=this.data;this.ref=Ot.ref,Ut.annotationType=s.AnnotationType.WIDGET,Ut.fieldName===void 0&&(Ut.fieldName=this._constructFieldName(Xt)),Ut.actions===void 0&&(Ut.actions=(0,st.collectActions)(Ot.xref,Xt,s.AnnotationActionEventType));let Gt=(0,st.getInheritableProperty)({dict:Xt,key:"V",getArray:!0});Ut.fieldValue=this._decodeFormValue(Gt);const qt=(0,st.getInheritableProperty)({dict:Xt,key:"DV",getArray:!0});if(Ut.defaultFieldValue=this._decodeFormValue(qt),Gt===void 0&&Ot.xfaDatasets){const en=this._title.str;en&&(this._hasValueFromXFA=!0,Ut.fieldValue=Gt=Ot.xfaDatasets.getValue(en))}Gt===void 0&&Ut.defaultFieldValue!==null&&(Ut.fieldValue=Ut.defaultFieldValue),Ut.alternativeText=(0,s.stringToPDFString)(Xt.get("TU")||"");const Kt=(0,st.getInheritableProperty)({dict:Xt,key:"DA"})||Ot.acroForm.get("DA");this._defaultAppearance=typeof Kt=="string"?Kt:"",Ut.defaultAppearanceData=(0,Tt.parseDefaultAppearance)(this._defaultAppearance);const Vt=(0,st.getInheritableProperty)({dict:Xt,key:"FT"});Ut.fieldType=Vt instanceof wt.Name?Vt.name:null;const Yt=(0,st.getInheritableProperty)({dict:Xt,key:"DR"}),Zt=Ot.acroForm.get("DR"),Qt=this.appearance&&this.appearance.dict.get("Resources");this._fieldResources={localResources:Yt,acroFormResources:Zt,appearanceResources:Qt,mergedResources:wt.Dict.merge({xref:Ot.xref,dictArray:[Yt,Qt,Zt],mergeSubDicts:!0})},Ut.fieldFlags=(0,st.getInheritableProperty)({dict:Xt,key:"Ff"}),(!Number.isInteger(Ut.fieldFlags)||Ut.fieldFlags<0)&&(Ut.fieldFlags=0),Ut.readOnly=this.hasFieldFlag(s.AnnotationFieldFlag.READONLY),Ut.required=this.hasFieldFlag(s.AnnotationFieldFlag.REQUIRED),Ut.hidden=this._hasFlag(Ut.annotationFlags,s.AnnotationFlag.HIDDEN)}_decodeFormValue(Ot){return Array.isArray(Ot)?Ot.filter(Xt=>typeof Xt=="string").map(Xt=>(0,s.stringToPDFString)(Xt)):Ot instanceof wt.Name?(0,s.stringToPDFString)(Ot.name):typeof Ot=="string"?(0,s.stringToPDFString)(Ot):null}hasFieldFlag(Ot){return!!(this.data.fieldFlags&Ot)}static _getRotationMatrix(Ot,Xt,Ut){switch(Ot){case 90:return[0,1,-1,0,Xt,0];case 180:return[-1,0,0,-1,Xt,Ut];case 270:return[0,-1,1,0,0,Ut];default:throw new Error("Invalid rotation")}}getRotationMatrix(Ot){const Xt=Ot?Ot.get(this.data.id):void 0;let Ut=Xt&&Xt.rotation;if(Ut===void 0&&(Ut=this.rotation),Ut===0)return s.IDENTITY_MATRIX;const Gt=this.data.rect[2]-this.data.rect[0],qt=this.data.rect[3]-this.data.rect[1];return Rt._getRotationMatrix(Ut,Gt,qt)}getBorderAndBackgroundAppearances(Ot){const Xt=Ot?Ot.get(this.data.id):void 0;let Ut=Xt&&Xt.rotation;if(Ut===void 0&&(Ut=this.rotation),!this.backgroundColor&&!this.borderColor)return"";const Gt=this.data.rect[2]-this.data.rect[0],qt=this.data.rect[3]-this.data.rect[1],Kt=Ut===0||Ut===180?`0 0 ${Gt} ${qt} re`:`0 0 ${qt} ${Gt} re`;let Vt="";if(this.backgroundColor&&(Vt=`${(0,Tt.getPdfColor)(this.backgroundColor,!0)} ${Kt} f `),this.borderColor){const Yt=this.borderStyle.width||1;Vt+=`${Yt} w ${(0,Tt.getPdfColor)(this.borderColor,!1)} ${Kt} S `}return Vt}async getOperatorList(Ot,Xt,Ut,Gt,qt){if(Gt&&!(this instanceof it))return{opList:new o.OperatorList,separateForm:!0,separateCanvas:!1};if(!this._hasText)return super.getOperatorList(Ot,Xt,Ut,Gt,qt);const Kt=await this._getAppearance(Ot,Xt,qt);if(this.appearance&&Kt===null)return super.getOperatorList(Ot,Xt,Ut,Gt,qt);const Vt=new o.OperatorList;if(!this._defaultAppearance||Kt===null)return{opList:Vt,separateForm:!1,separateCanvas:!1};const Yt=[1,0,0,1,0,0],Zt=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],Qt=nt(this.data.rect,Zt,Yt);let en;this.oc&&(en=await Ot.parseMarkedContentProps(this.oc,null)),en!==void 0&&Vt.addOp(s.OPS.beginMarkedContentProps,["OC",en]),Vt.addOp(s.OPS.beginAnnotation,[this.data.id,this.data.rect,Qt,this.getRotationMatrix(qt),!1]);const rn=new ut.StringStream(Kt);return await Ot.getOperatorList({stream:rn,task:Xt,resources:this._fieldResources.mergedResources,operatorList:Vt}),Vt.addOp(s.OPS.endAnnotation,[]),en!==void 0&&Vt.addOp(s.OPS.endMarkedContent,[]),{opList:Vt,separateForm:!1,separateCanvas:!1}}_getMKDict(Ot){const Xt=new wt.Dict(null);return Ot&&Xt.set("R",Ot),this.borderColor&&Xt.set("BC",Array.from(this.borderColor).map(Ut=>Ut/255)),this.backgroundColor&&Xt.set("BG",Array.from(this.backgroundColor).map(Ut=>Ut/255)),Xt.size>0?Xt:null}async save(Ot,Xt,Ut){const Gt=Ut?Ut.get(this.data.id):void 0;let qt=Gt&&Gt.value,Kt=Gt&&Gt.rotation;if(qt===this.data.fieldValue||qt===void 0){if(!this._hasValueFromXFA&&Kt===void 0)return null;qt=qt||this.data.fieldValue}if(Kt===void 0&&!this._hasValueFromXFA&&Array.isArray(qt)&&Array.isArray(this.data.fieldValue)&&qt.length===this.data.fieldValue.length&&qt.every((hn,on)=>hn===this.data.fieldValue[on]))return null;Kt===void 0&&(Kt=this.rotation);let Vt=await this._getAppearance(Ot,Xt,Ut);if(Vt===null)return null;const{xref:Yt}=Ot,Zt=Yt.fetchIfRef(this.ref);if(!(Zt instanceof wt.Dict))return null;const Qt=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],en={path:(0,s.stringToPDFString)(Zt.get("T")||""),value:qt},rn=Yt.getNewRef(),an=new wt.Dict(Yt);an.set("N",rn);const fn=Yt.encrypt;let un=null,pn=null;fn&&(un=fn.createCipherTransform(this.ref.num,this.ref.gen),pn=fn.createCipherTransform(rn.num,rn.gen),Vt=pn.encryptString(Vt));const yn=hn=>(0,s.isAscii)(hn)?hn:(0,s.stringToUTF16BEString)(hn);Zt.set("V",Array.isArray(qt)?qt.map(yn):yn(qt)),Zt.set("AP",an),Zt.set("M",`D:${(0,s.getModificationDate)()}`);const On=this._getMKDict(Kt);On&&Zt.set("MK",On);const En=new wt.Dict(Yt);En.set("Length",Vt.length),En.set("Subtype",wt.Name.get("Form")),En.set("Resources",this._getSaveFieldResources(Yt)),En.set("BBox",Qt);const An=this.getRotationMatrix(Ut);An!==s.IDENTITY_MATRIX&&En.set("Matrix",An);const Cn=[`${this.ref.num} ${this.ref.gen} obj
`];(0,e.writeDict)(Zt,Cn,un),Cn.push(`
endobj
`);const gn=[`${rn.num} ${rn.gen} obj
`];return(0,e.writeDict)(En,gn,pn),gn.push(` stream
`,Vt,`
endstream
endobj
`),[{ref:this.ref,data:Cn.join(""),xfa:en},{ref:rn,data:gn.join(""),xfa:null}]}async _getAppearance(Ot,Xt,Ut){if(this.hasFieldFlag(s.AnnotationFieldFlag.PASSWORD))return null;const qt=Ut?Ut.get(this.data.id):void 0;let Kt,Vt;if(qt&&(Kt=qt.formattedValue||qt.value,Vt=qt.rotation),Vt===void 0&&Kt===void 0&&(!this._hasValueFromXFA||this.appearance))return null;if(Kt===void 0&&(Kt=this.data.fieldValue,!Kt)||(Array.isArray(Kt)&&Kt.length===1&&(Kt=Kt[0]),(0,s.assert)(typeof Kt=="string","Expected `value` to be a string."),Kt=Kt.trim(),Kt===""))return"";Vt===void 0&&(Vt=this.rotation);let Yt=-1;this.data.multiLine&&(Yt=Kt.split(/\r\n|\r|\n/).length);const Zt=2,Qt=Zt;let en=this.data.rect[3]-this.data.rect[1],rn=this.data.rect[2]-this.data.rect[0];(Vt===90||Vt===270)&&([rn,en]=[en,rn]),this._defaultAppearance||(this.data.defaultAppearanceData=(0,Tt.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const an=await Rt._getFontData(Ot,Xt,this.data.defaultAppearanceData,this._fieldResources.mergedResources),[fn,un]=this._computeFontSize(en-Zt,rn-2*Qt,Kt,an,Yt);let pn=an.descent;isNaN(pn)&&(pn=0);const On=Math.min(Math.floor((en-un)/2),Zt)+Math.abs(pn)*un,En=this.data.textAlignment;if(this.data.multiLine)return this._getMultilineAppearance(fn,Kt,an,un,rn,en,En,Qt,On,Ut);const An=an.encodeString(Kt).join("");if(this.data.comb)return this._getCombAppearance(fn,an,An,rn,Qt,On,Ut);const Cn=this.getBorderAndBackgroundAppearances(Ut);if(En===0||En>2)return`/Tx BMC q ${Cn}BT `+fn+` 1 0 0 1 ${Qt} ${On} Tm (${(0,s.escapeString)(An)}) Tj ET Q EMC`;const gn=this._renderText(An,an,un,rn,En,Qt,On);return`/Tx BMC q ${Cn}BT `+fn+` 1 0 0 1 0 0 Tm ${gn} ET Q EMC`}static async _getFontData(Ot,Xt,Ut,Gt){const qt=new o.OperatorList,Kt={font:null,clone(){return this}},{fontName:Vt,fontSize:Yt}=Ut;return await Ot.handleSetFont(Gt,[Vt&&wt.Name.get(Vt),Yt],null,qt,Xt,Kt,null),Kt.font}_getTextWidth(Ot,Xt){return Xt.charsToGlyphs(Ot).reduce((Ut,Gt)=>Ut+Gt.width,0)/1e3}_computeFontSize(Ot,Xt,Ut,Gt,qt){let{fontSize:Kt}=this.data.defaultAppearanceData;if(!Kt){const Vt=Qt=>Math.floor(Qt*100)/100;if(qt===-1){const Qt=this._getTextWidth(Ut,Gt);Kt=Vt(Math.min(Ot/s.LINE_FACTOR,Xt/Qt))}else{const Qt=Ut.split(/\r\n?|\n/),en=[];for(const un of Qt){const pn=Gt.encodeString(un).join(""),yn=Gt.charsToGlyphs(pn),On=Gt.getCharPositions(pn);en.push({line:pn,glyphs:yn,positions:On})}const rn=un=>{let pn=0;for(const yn of en){const On=this._splitLine(null,Gt,un,Xt,yn);if(pn+=On.length*un,pn>Ot)return!0}return!1};Kt=12;let an=Kt*s.LINE_FACTOR,fn=Math.round(Ot/an);for(fn=Math.max(fn,qt);;){if(an=Ot/fn,Kt=Vt(an/s.LINE_FACTOR),rn(Kt)){fn++;continue}break}}const{fontName:Yt,fontColor:Zt}=this.data.defaultAppearanceData;this._defaultAppearance=(0,Tt.createDefaultAppearance)({fontSize:Kt,fontName:Yt,fontColor:Zt})}return[this._defaultAppearance,Kt]}_renderText(Ot,Xt,Ut,Gt,qt,Kt,Vt){let Yt;if(qt===1){const Zt=this._getTextWidth(Ot,Xt)*Ut;Yt=(Gt-Zt)/2}else if(qt===2){const Zt=this._getTextWidth(Ot,Xt)*Ut;Yt=Gt-Zt-Kt}else Yt=Kt;return Yt=(0,st.numberToString)(Yt),Vt=(0,st.numberToString)(Vt),`${Yt} ${Vt} Td (${(0,s.escapeString)(Ot)}) Tj`}_getSaveFieldResources(Ot){const{localResources:Xt,appearanceResources:Ut,acroFormResources:Gt}=this._fieldResources,qt=this.data.defaultAppearanceData&&this.data.defaultAppearanceData.fontName;if(!qt)return Xt||wt.Dict.empty;for(const Kt of[Xt,Ut])if(Kt instanceof wt.Dict){const Vt=Kt.get("Font");if(Vt instanceof wt.Dict&&Vt.has(qt))return Kt}if(Gt instanceof wt.Dict){const Kt=Gt.get("Font");if(Kt instanceof wt.Dict&&Kt.has(qt)){const Vt=new wt.Dict(Ot);Vt.set(qt,Kt.getRaw(qt));const Yt=new wt.Dict(Ot);return Yt.set("Font",Vt),wt.Dict.merge({xref:Ot,dictArray:[Yt,Xt],mergeSubDicts:!0})}}return Xt||wt.Dict.empty}getFieldObject(){return null}}class Ft extends Rt{constructor(Ot){super(Ot),this._hasText=!0;const Xt=Ot.dict;typeof this.data.fieldValue!="string"&&(this.data.fieldValue="");let Ut=(0,st.getInheritableProperty)({dict:Xt,key:"Q"});(!Number.isInteger(Ut)||Ut<0||Ut>2)&&(Ut=null),this.data.textAlignment=Ut;let Gt=(0,st.getInheritableProperty)({dict:Xt,key:"MaxLen"});(!Number.isInteger(Gt)||Gt<0)&&(Gt=0),this.data.maxLen=Gt,this.data.multiLine=this.hasFieldFlag(s.AnnotationFieldFlag.MULTILINE),this.data.comb=this.hasFieldFlag(s.AnnotationFieldFlag.COMB)&&!this.hasFieldFlag(s.AnnotationFieldFlag.MULTILINE)&&!this.hasFieldFlag(s.AnnotationFieldFlag.PASSWORD)&&!this.hasFieldFlag(s.AnnotationFieldFlag.FILESELECT)&&this.data.maxLen!==0,this.data.doNotScroll=this.hasFieldFlag(s.AnnotationFieldFlag.DONOTSCROLL)}_getCombAppearance(Ot,Xt,Ut,Gt,qt,Kt,Vt){const Yt=(0,st.numberToString)(Gt/this.data.maxLen),Zt=[],Qt=Xt.getCharPositions(Ut);for(const[an,fn]of Qt)Zt.push(`(${(0,s.escapeString)(Ut.substring(an,fn))}) Tj`);const en=this.getBorderAndBackgroundAppearances(Vt),rn=Zt.join(` ${Yt} 0 Td `);return`/Tx BMC q ${en}BT `+Ot+` 1 0 0 1 ${qt} ${Kt} Tm ${rn} ET Q EMC`}_getMultilineAppearance(Ot,Xt,Ut,Gt,qt,Kt,Vt,Yt,Zt,Qt){const en=Xt.split(/\r\n?|\n/),rn=[],an=qt-2*Yt;for(const pn of en){const yn=this._splitLine(pn,Ut,Gt,an);for(const On of yn){const En=rn.length===0?Yt:0;rn.push(this._renderText(On,Ut,Gt,qt,Vt,En,-Gt))}}const fn=rn.join(`
`);return`/Tx BMC q ${this.getBorderAndBackgroundAppearances(Qt)}BT `+Ot+` 1 0 0 1 0 ${Kt} Tm ${fn} ET Q EMC`}_splitLine(Ot,Xt,Ut,Gt,qt={}){Ot=qt.line||Xt.encodeString(Ot).join("");const Kt=qt.glyphs||Xt.charsToGlyphs(Ot);if(Kt.length<=1)return[Ot];const Vt=qt.positions||Xt.getCharPositions(Ot),Yt=Ut/1e3,Zt=[];let Qt=-1,en=-1,rn=-1,an=0,fn=0;for(let un=0,pn=Kt.length;un<pn;un++){const[yn,On]=Vt[un],En=Kt[un],An=En.width*Yt;En.unicode===" "?fn+An>Gt?(Zt.push(Ot.substring(an,yn)),an=yn,fn=An,Qt=-1,rn=-1):(fn+=An,Qt=yn,en=On,rn=un):fn+An>Gt?Qt!==-1?(Zt.push(Ot.substring(an,en)),an=en,un=rn+1,Qt=-1,fn=0):(Zt.push(Ot.substring(an,yn)),an=yn,fn=An):fn+=An}return an<Ot.length&&Zt.push(Ot.substring(an,Ot.length)),Zt}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue||"",multiline:this.data.multiLine,password:this.hasFieldFlag(s.AnnotationFieldFlag.PASSWORD),charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:"text"}}}class lt extends Rt{constructor(Ot){super(Ot),this.checkedAppearance=null,this.uncheckedAppearance=null,this.data.checkBox=!this.hasFieldFlag(s.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(s.AnnotationFieldFlag.PUSHBUTTON),this.data.radioButton=this.hasFieldFlag(s.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(s.AnnotationFieldFlag.PUSHBUTTON),this.data.pushButton=this.hasFieldFlag(s.AnnotationFieldFlag.PUSHBUTTON),this.data.isTooltipOnly=!1,this.data.checkBox?this._processCheckBox(Ot):this.data.radioButton?this._processRadioButton(Ot):this.data.pushButton?(this.data.hasOwnCanvas=!0,this._processPushButton(Ot)):(0,s.warn)("Invalid field flags for button widget annotation")}async getOperatorList(Ot,Xt,Ut,Gt,qt){if(this.data.pushButton)return super.getOperatorList(Ot,Xt,Ut,!1,qt);let Kt=null,Vt=null;if(qt){const Zt=qt.get(this.data.id);Kt=Zt?Zt.value:null,Vt=Zt?Zt.rotation:null}if(Kt===null&&this.appearance)return super.getOperatorList(Ot,Xt,Ut,Gt,qt);Kt==null&&(this.data.checkBox?Kt=this.data.fieldValue===this.data.exportValue:Kt=this.data.fieldValue===this.data.buttonValue);const Yt=Kt?this.checkedAppearance:this.uncheckedAppearance;if(Yt){const Zt=this.appearance,Qt=Yt.dict.getArray("Matrix")||s.IDENTITY_MATRIX;Vt&&Yt.dict.set("Matrix",this.getRotationMatrix(qt)),this.appearance=Yt;const en=super.getOperatorList(Ot,Xt,Ut,Gt,qt);return this.appearance=Zt,Yt.dict.set("Matrix",Qt),en}return{opList:new o.OperatorList,separateForm:!1,separateCanvas:!1}}async save(Ot,Xt,Ut){return this.data.checkBox?this._saveCheckbox(Ot,Xt,Ut):this.data.radioButton?this._saveRadioButton(Ot,Xt,Ut):null}async _saveCheckbox(Ot,Xt,Ut){if(!Ut)return null;const Gt=Ut.get(this.data.id);let qt=Gt&&Gt.rotation,Kt=Gt&&Gt.value;if(qt===void 0&&(Kt===void 0||this.data.fieldValue===this.data.exportValue===Kt))return null;const Vt=Ot.xref.fetchIfRef(this.ref);if(!(Vt instanceof wt.Dict))return null;qt===void 0&&(qt=this.rotation),Kt===void 0&&(Kt=this.data.fieldValue===this.data.exportValue);const Yt={path:(0,s.stringToPDFString)(Vt.get("T")||""),value:Kt?this.data.exportValue:""},Zt=wt.Name.get(Kt?this.data.exportValue:"Off");Vt.set("V",Zt),Vt.set("AS",Zt),Vt.set("M",`D:${(0,s.getModificationDate)()}`);const Qt=this._getMKDict(qt);Qt&&Vt.set("MK",Qt);const en=Ot.xref.encrypt;let rn=null;en&&(rn=en.createCipherTransform(this.ref.num,this.ref.gen));const an=[`${this.ref.num} ${this.ref.gen} obj
`];return(0,e.writeDict)(Vt,an,rn),an.push(`
endobj
`),[{ref:this.ref,data:an.join(""),xfa:Yt}]}async _saveRadioButton(Ot,Xt,Ut){if(!Ut)return null;const Gt=Ut.get(this.data.id);let qt=Gt&&Gt.rotation,Kt=Gt&&Gt.value;if(qt===void 0&&(Kt===void 0||this.data.fieldValue===this.data.buttonValue===Kt))return null;const Vt=Ot.xref.fetchIfRef(this.ref);if(!(Vt instanceof wt.Dict))return null;Kt===void 0&&(Kt=this.data.fieldValue===this.data.buttonValue),qt===void 0&&(qt=this.rotation);const Yt={path:(0,s.stringToPDFString)(Vt.get("T")||""),value:Kt?this.data.buttonValue:""},Zt=wt.Name.get(Kt?this.data.buttonValue:"Off");let Qt=null;const en=Ot.xref.encrypt;if(Kt)if(this.parent instanceof wt.Ref){const pn=Ot.xref.fetch(this.parent);let yn=null;en&&(yn=en.createCipherTransform(this.parent.num,this.parent.gen)),pn.set("V",Zt),Qt=[`${this.parent.num} ${this.parent.gen} obj
`],(0,e.writeDict)(pn,Qt,yn),Qt.push(`
endobj
`)}else this.parent instanceof wt.Dict&&this.parent.set("V",Zt);Vt.set("AS",Zt),Vt.set("M",`D:${(0,s.getModificationDate)()}`);const rn=this._getMKDict(qt);rn&&Vt.set("MK",rn);let an=null;en&&(an=en.createCipherTransform(this.ref.num,this.ref.gen));const fn=[`${this.ref.num} ${this.ref.gen} obj
`];(0,e.writeDict)(Vt,fn,an),fn.push(`
endobj
`);const un=[{ref:this.ref,data:fn.join(""),xfa:Yt}];return Qt!==null&&un.push({ref:this.parent,data:Qt.join(""),xfa:null}),un}_getDefaultCheckedAppearance(Ot,Xt){const Ut=this.data.rect[2]-this.data.rect[0],Gt=this.data.rect[3]-this.data.rect[1],qt=[0,0,Ut,Gt],Vt=Math.min(Ut,Gt)*.8;let Yt,Zt;Xt==="check"?(Yt={width:.755*Vt,height:.705*Vt},Zt="3"):Xt==="disc"?(Yt={width:.791*Vt,height:.705*Vt},Zt="l"):(0,s.unreachable)(`_getDefaultCheckedAppearance - unsupported type: ${Xt}`);const Qt=(0,st.numberToString)((Ut-Yt.width)/2),en=(0,st.numberToString)((Gt-Yt.height)/2),rn=`q BT /PdfJsZaDb ${Vt} Tf 0 g ${Qt} ${en} Td (${Zt}) Tj ET Q`,an=new wt.Dict(Ot.xref);an.set("FormType",1),an.set("Subtype",wt.Name.get("Form")),an.set("Type",wt.Name.get("XObject")),an.set("BBox",qt),an.set("Matrix",[1,0,0,1,0,0]),an.set("Length",rn.length);const fn=new wt.Dict(Ot.xref),un=new wt.Dict(Ot.xref);un.set("PdfJsZaDb",this.fallbackFontDict),fn.set("Font",un),an.set("Resources",fn),this.checkedAppearance=new ut.StringStream(rn),this.checkedAppearance.dict=an,this._streams.push(this.checkedAppearance)}_processCheckBox(Ot){const Xt=Ot.dict.get("AP");if(!(Xt instanceof wt.Dict))return;const Ut=Xt.get("N");if(!(Ut instanceof wt.Dict))return;const Gt=this._decodeFormValue(Ot.dict.get("AS"));typeof Gt=="string"&&(this.data.fieldValue=Gt);const qt=this.data.fieldValue!==null&&this.data.fieldValue!=="Off"?this.data.fieldValue:"Yes",Kt=Ut.getKeys();if(Kt.length===0)Kt.push("Off",qt);else if(Kt.length===1)Kt[0]==="Off"?Kt.push(qt):Kt.unshift("Off");else if(Kt.includes(qt))Kt.length=0,Kt.push("Off",qt);else{const Vt=Kt.find(Yt=>Yt!=="Off");Kt.length=0,Kt.push("Off",Vt)}Kt.includes(this.data.fieldValue)||(this.data.fieldValue="Off"),this.data.exportValue=Kt[1],this.checkedAppearance=Ut.get(this.data.exportValue)||null,this.uncheckedAppearance=Ut.get("Off")||null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(Ot,"check"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict}_processRadioButton(Ot){this.data.fieldValue=this.data.buttonValue=null;const Xt=Ot.dict.get("Parent");if(Xt instanceof wt.Dict){this.parent=Ot.dict.getRaw("Parent");const qt=Xt.get("V");qt instanceof wt.Name&&(this.data.fieldValue=this._decodeFormValue(qt))}const Ut=Ot.dict.get("AP");if(!(Ut instanceof wt.Dict))return;const Gt=Ut.get("N");if(Gt instanceof wt.Dict){for(const qt of Gt.getKeys())if(qt!=="Off"){this.data.buttonValue=this._decodeFormValue(qt);break}this.checkedAppearance=Gt.get(this.data.buttonValue)||null,this.uncheckedAppearance=Gt.get("Off")||null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(Ot,"disc"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict}}_processPushButton(Ot){if(!Ot.dict.has("A")&&!Ot.dict.has("AA")&&!this.data.alternativeText){(0,s.warn)("Push buttons without action dictionaries are not supported");return}this.data.isTooltipOnly=!Ot.dict.has("A")&&!Ot.dict.has("AA"),$.Catalog.parseDestDictionary({destDict:Ot.dict,resultObj:this.data,docBaseUrl:Ot.pdfManager.docBaseUrl})}getFieldObject(){let Ot="button",Xt;return this.data.checkBox?(Ot="checkbox",Xt=this.data.exportValue):this.data.radioButton&&(Ot="radiobutton",Xt=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:Xt,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:Ot}}get fallbackFontDict(){const Ot=new wt.Dict;return Ot.set("BaseFont",wt.Name.get("ZapfDingbats")),Ot.set("Type",wt.Name.get("FallbackType")),Ot.set("Subtype",wt.Name.get("FallbackType")),Ot.set("Encoding",wt.Name.get("ZapfDingbatsEncoding")),(0,s.shadow)(this,"fallbackFontDict",Ot)}}class ft extends Rt{constructor(Ot){super(Ot),this.data.options=[];const Xt=(0,st.getInheritableProperty)({dict:Ot.dict,key:"Opt"});if(Array.isArray(Xt)){const Ut=Ot.xref;for(let Gt=0,qt=Xt.length;Gt<qt;Gt++){const Kt=Ut.fetchIfRef(Xt[Gt]),Vt=Array.isArray(Kt);this.data.options[Gt]={exportValue:this._decodeFormValue(Vt?Ut.fetchIfRef(Kt[0]):Kt),displayValue:this._decodeFormValue(Vt?Ut.fetchIfRef(Kt[1]):Kt)}}}typeof this.data.fieldValue=="string"?this.data.fieldValue=[this.data.fieldValue]:this.data.fieldValue||(this.data.fieldValue=[]),this.data.combo=this.hasFieldFlag(s.AnnotationFieldFlag.COMBO),this.data.multiSelect=this.hasFieldFlag(s.AnnotationFieldFlag.MULTISELECT),this._hasText=!0}getFieldObject(){const Ot=this.data.combo?"combobox":"listbox",Xt=this.data.fieldValue.length>0?this.data.fieldValue[0]:null;return{id:this.data.id,value:Xt,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:Ot}}async _getAppearance(Ot,Xt,Ut){if(this.data.combo)return super._getAppearance(Ot,Xt,Ut);if(!Ut)return null;const Gt=Ut.get(this.data.id);if(!Gt)return null;const qt=Gt.rotation;let Kt=Gt.value;if(qt===void 0&&Kt===void 0)return null;Kt===void 0?Kt=this.data.fieldValue:Array.isArray(Kt)||(Kt=[Kt]);const Vt=2,Yt=Vt;let Zt=this.data.rect[3]-this.data.rect[1],Qt=this.data.rect[2]-this.data.rect[0];(qt===90||qt===270)&&([Qt,Zt]=[Zt,Qt]);const en=this.data.options.length,rn=[];for(let gn=0;gn<en;gn++){const{exportValue:hn}=this.data.options[gn];Kt.includes(hn)&&rn.push(gn)}this._defaultAppearance||(this.data.defaultAppearanceData=(0,Tt.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const an=await Rt._getFontData(Ot,Xt,this.data.defaultAppearanceData,this._fieldResources.mergedResources);let fn,{fontSize:un}=this.data.defaultAppearanceData;if(un)fn=this._defaultAppearance;else{const gn=(Zt-Vt)/en;let hn=-1,on;for(const{displayValue:Dn}of this.data.options){const Xn=this._getTextWidth(Dn,an);Xn>hn&&(hn=Xn,on=Dn)}[fn,un]=this._computeFontSize(gn,Qt-2*Yt,on,an,-1)}const pn=un*s.LINE_FACTOR,yn=(pn-un)/2,On=Math.floor(Zt/pn);let En;if(rn.length===1){const gn=rn[0],hn=gn%On;En=gn-hn}else En=rn.length?rn[0]:0;const An=Math.min(En+On+1,en),Cn=["/Tx BMC q",`1 1 ${Qt} ${Zt} re W n`];if(rn.length){Cn.push("0.600006 0.756866 0.854904 rg");for(const gn of rn)En<=gn&&gn<An&&Cn.push(`1 ${Zt-(gn-En+1)*pn} ${Qt} ${pn} re f`)}Cn.push("BT",fn,`1 0 0 1 0 ${Zt} Tm`);for(let gn=En;gn<An;gn++){const{displayValue:hn}=this.data.options[gn],on=gn===En?Yt:0,Dn=gn===En?yn:0;Cn.push(this._renderText(hn,an,un,Qt,0,on,-pn+Dn))}return Cn.push("ET Q EMC"),Cn.join(`
`)}}class it extends Rt{constructor(Ot){super(Ot),this.data.fieldValue=null}getFieldObject(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}class at extends Pt{constructor(Ot){super(Ot);const Ut=Ot.dict;this.data.annotationType=s.AnnotationType.TEXT,this.data.hasAppearance?this.data.name="NoIcon":(this.data.rect[1]=this.data.rect[3]-22,this.data.rect[2]=this.data.rect[0]+22,this.data.name=Ut.has("Name")?Ut.get("Name").name:"Note"),Ut.has("State")?(this.data.state=Ut.get("State")||null,this.data.stateModel=Ut.get("StateModel")||null):(this.data.state=null,this.data.stateModel=null)}}class bt extends pt{constructor(Ot){super(Ot),this.data.annotationType=s.AnnotationType.LINK;const Xt=et(Ot.dict,this.rectangle);Xt&&(this.data.quadPoints=Xt),this.data.borderColor=this.data.borderColor||this.data.color,$.Catalog.parseDestDictionary({destDict:Ot.dict,resultObj:this.data,docBaseUrl:Ot.pdfManager.docBaseUrl})}}class St extends pt{constructor(Ot){super(Ot),this.data.annotationType=s.AnnotationType.POPUP;let Xt=Ot.dict.get("Parent");if(!Xt){(0,s.warn)("Popup annotation has a missing or invalid parent annotation.");return}const Ut=Xt.get("Subtype");this.data.parentType=Ut instanceof wt.Name?Ut.name:null;const Gt=Ot.dict.getRaw("Parent");this.data.parentId=Gt instanceof wt.Ref?Gt.toString():null;const qt=Xt.getArray("Rect");Array.isArray(qt)&&qt.length===4?this.data.parentRect=s.Util.normalizeRect(qt):this.data.parentRect=[0,0,0,0];const Kt=Xt.get("RT");if((0,wt.isName)(Kt,s.AnnotationReplyType.GROUP)&&(Xt=Xt.get("IRT")),Xt.has("M")?(this.setModificationDate(Xt.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,Xt.has("C")?(this.setColor(Xt.getArray("C")),this.data.color=this.color):this.data.color=null,!this.viewable){const Vt=Xt.get("F");this._isViewable(Vt)&&this.setFlags(Vt)}this.setTitle(Xt.get("T")),this.data.titleObj=this._title,this.setContents(Xt.get("Contents")),this.data.contentsObj=this._contents,Xt.has("RC")&&(this.data.richText=dt.XFAFactory.getRichTextAsHtml(Xt.get("RC")))}}ct.PopupAnnotation=St;class ht extends Pt{constructor(Ot){super(Ot),this.data.annotationType=s.AnnotationType.FREETEXT}get hasTextContent(){return!!this.appearance}static createNewDict(Ot,Xt,{apRef:Ut,ap:Gt}){const{color:qt,fontSize:Kt,rect:Vt,rotation:Yt,user:Zt,value:Qt}=Ot,en=new wt.Dict(Xt);en.set("Type",wt.Name.get("Annot")),en.set("Subtype",wt.Name.get("FreeText")),en.set("CreationDate",`D:${(0,s.getModificationDate)()}`),en.set("Rect",Vt);const rn=`/Helv ${Kt} Tf ${(0,Tt.getPdfColor)(qt,!0)}`;en.set("DA",rn),en.set("Contents",Qt),en.set("F",4),en.set("Border",[0,0,0]),en.set("Rotate",Yt),Zt&&en.set("T",(0,s.stringToUTF8String)(Zt));const an=new wt.Dict(Xt);return en.set("AP",an),Ut?an.set("N",Ut):an.set("N",Gt),en}static async createNewAppearanceStream(Ot,Xt,Ut){const{baseFontRef:Gt,evaluator:qt,task:Kt}=Ut,{color:Vt,fontSize:Yt,rect:Zt,rotation:Qt,value:en}=Ot,rn=new wt.Dict(Xt),an=new wt.Dict(Xt);if(Gt)an.set("Helv",Gt);else{const pr=new wt.Dict(Xt);pr.set("BaseFont",wt.Name.get("Helvetica")),pr.set("Type",wt.Name.get("Font")),pr.set("Subtype",wt.Name.get("Type1")),pr.set("Encoding",wt.Name.get("WinAnsiEncoding")),an.set("Helv",pr)}rn.set("Font",an);const fn=await Rt._getFontData(qt,Kt,{fontName:"Helvetica",fontSize:Yt},rn),[un,pn,yn,On]=Zt;let En=yn-un,An=On-pn;Qt%180!==0&&([En,An]=[An,En]);const Cn=en.split(`
`),gn=Yt/1e3;let hn=-1/0;const on=[];for(let pr of Cn){pr=fn.encodeString(pr).join(""),on.push(pr);let jn=0;const ur=fn.charsToGlyphs(pr);for(const rr of ur)jn+=rr.width*gn;hn=Math.max(hn,jn)}let Dn=1;hn>En&&(Dn=En/hn);let Xn=1;const er=s.LINE_FACTOR*Yt,Sn=s.LINE_DESCENT_FACTOR*Yt,xn=er*Cn.length;xn>An&&(Xn=An/xn);const cn=Math.min(Dn,Xn),qn=Yt*cn,Vn=["q",`0 0 ${(0,st.numberToString)(En)} ${(0,st.numberToString)(An)} re W n`,"BT",`1 0 0 1 0 ${(0,st.numberToString)(An+Sn)} Tm 0 Tc ${(0,Tt.getPdfColor)(Vt,!0)}`,`/Helv ${(0,st.numberToString)(qn)} Tf`],Gn=(0,st.numberToString)(er);for(const pr of on)Vn.push(`0 -${Gn} Td (${(0,s.escapeString)(pr)}) Tj`);Vn.push("ET","Q");const lr=Vn.join(`
`),$n=new wt.Dict(Xt);if($n.set("FormType",1),$n.set("Subtype",wt.Name.get("Form")),$n.set("Type",wt.Name.get("XObject")),$n.set("BBox",[0,0,En,An]),$n.set("Length",lr.length),$n.set("Resources",rn),Qt){const pr=Rt._getRotationMatrix(Qt,En,An);$n.set("Matrix",pr)}const tr=new ut.StringStream(lr);return tr.dict=$n,tr}}class vt extends Pt{constructor(Ot){super(Ot);const{dict:Xt}=Ot;this.data.annotationType=s.AnnotationType.LINE;const Ut=Xt.getArray("L");if(this.data.lineCoordinates=s.Util.normalizeRect(Ut),this.setLineEndings(Xt.getArray("LE")),this.data.lineEndings=this.lineEndings,!this.appearance){const Gt=this.color?Array.from(this.color).map(rn=>rn/255):[0,0,0],qt=Xt.get("CA");let Kt=null,Vt=Xt.getArray("IC");Vt&&(Vt=h(Vt,null),Kt=Vt?Array.from(Vt).map(rn=>rn/255):null);const Yt=Kt?qt:null,Zt=this.borderStyle.width||1,Qt=2*Zt,en=[this.data.lineCoordinates[0]-Qt,this.data.lineCoordinates[1]-Qt,this.data.lineCoordinates[2]+Qt,this.data.lineCoordinates[3]+Qt];s.Util.intersect(this.rectangle,en)||(this.rectangle=en),this._setDefaultAppearance({xref:Ot.xref,extra:`${Zt} w`,strokeColor:Gt,fillColor:Kt,strokeAlpha:qt,fillAlpha:Yt,pointsCallback:(rn,an)=>(rn.push(`${Ut[0]} ${Ut[1]} m`,`${Ut[2]} ${Ut[3]} l`,"S"),[an[0].x-Zt,an[1].x+Zt,an[3].y-Zt,an[1].y+Zt])})}}}class yt extends Pt{constructor(Ot){if(super(Ot),this.data.annotationType=s.AnnotationType.SQUARE,!this.appearance){const Xt=this.color?Array.from(this.color).map(Vt=>Vt/255):[0,0,0],Ut=Ot.dict.get("CA");let Gt=null,qt=Ot.dict.getArray("IC");qt&&(qt=h(qt,null),Gt=qt?Array.from(qt).map(Vt=>Vt/255):null);const Kt=Gt?Ut:null;if(this.borderStyle.width===0&&!Gt)return;this._setDefaultAppearance({xref:Ot.xref,extra:`${this.borderStyle.width} w`,strokeColor:Xt,fillColor:Gt,strokeAlpha:Ut,fillAlpha:Kt,pointsCallback:(Vt,Yt)=>{const Zt=Yt[2].x+this.borderStyle.width/2,Qt=Yt[2].y+this.borderStyle.width/2,en=Yt[3].x-Yt[2].x-this.borderStyle.width,rn=Yt[1].y-Yt[3].y-this.borderStyle.width;return Vt.push(`${Zt} ${Qt} ${en} ${rn} re`),Gt?Vt.push("B"):Vt.push("S"),[Yt[0].x,Yt[1].x,Yt[3].y,Yt[1].y]}})}}}class At extends Pt{constructor(Ot){if(super(Ot),this.data.annotationType=s.AnnotationType.CIRCLE,!this.appearance){const Xt=this.color?Array.from(this.color).map(Yt=>Yt/255):[0,0,0],Ut=Ot.dict.get("CA");let Gt=null,qt=Ot.dict.getArray("IC");qt&&(qt=h(qt,null),Gt=qt?Array.from(qt).map(Yt=>Yt/255):null);const Kt=Gt?Ut:null;if(this.borderStyle.width===0&&!Gt)return;const Vt=4/3*Math.tan(Math.PI/(2*4));this._setDefaultAppearance({xref:Ot.xref,extra:`${this.borderStyle.width} w`,strokeColor:Xt,fillColor:Gt,strokeAlpha:Ut,fillAlpha:Kt,pointsCallback:(Yt,Zt)=>{const Qt=Zt[0].x+this.borderStyle.width/2,en=Zt[0].y-this.borderStyle.width/2,rn=Zt[3].x-this.borderStyle.width/2,an=Zt[3].y+this.borderStyle.width/2,fn=Qt+(rn-Qt)/2,un=en+(an-en)/2,pn=(rn-Qt)/2*Vt,yn=(an-en)/2*Vt;return Yt.push(`${fn} ${an} m`,`${fn+pn} ${an} ${rn} ${un+yn} ${rn} ${un} c`,`${rn} ${un-yn} ${fn+pn} ${en} ${fn} ${en} c`,`${fn-pn} ${en} ${Qt} ${un-yn} ${Qt} ${un} c`,`${Qt} ${un+yn} ${fn-pn} ${an} ${fn} ${an} c`,"h"),Gt?Yt.push("B"):Yt.push("S"),[Zt[0].x,Zt[1].x,Zt[3].y,Zt[1].y]}})}}}class Nt extends Pt{constructor(Ot){super(Ot);const{dict:Xt}=Ot;this.data.annotationType=s.AnnotationType.POLYLINE,this.data.vertices=[],this instanceof Ht||(this.setLineEndings(Xt.getArray("LE")),this.data.lineEndings=this.lineEndings);const Ut=Xt.getArray("Vertices");if(Array.isArray(Ut)){for(let Gt=0,qt=Ut.length;Gt<qt;Gt+=2)this.data.vertices.push({x:Ut[Gt],y:Ut[Gt+1]});if(!this.appearance){const Gt=this.color?Array.from(this.color).map(Zt=>Zt/255):[0,0,0],qt=Xt.get("CA"),Kt=this.borderStyle.width||1,Vt=2*Kt,Yt=[1/0,1/0,-1/0,-1/0];for(const Zt of this.data.vertices)Yt[0]=Math.min(Yt[0],Zt.x-Vt),Yt[1]=Math.min(Yt[1],Zt.y-Vt),Yt[2]=Math.max(Yt[2],Zt.x+Vt),Yt[3]=Math.max(Yt[3],Zt.y+Vt);s.Util.intersect(this.rectangle,Yt)||(this.rectangle=Yt),this._setDefaultAppearance({xref:Ot.xref,extra:`${Kt} w`,strokeColor:Gt,strokeAlpha:qt,pointsCallback:(Zt,Qt)=>{const en=this.data.vertices;for(let rn=0,an=en.length;rn<an;rn++)Zt.push(`${en[rn].x} ${en[rn].y} ${rn===0?"m":"l"}`);return Zt.push("S"),[Qt[0].x,Qt[1].x,Qt[3].y,Qt[1].y]}})}}}}class Ht extends Nt{constructor(Ot){super(Ot),this.data.annotationType=s.AnnotationType.POLYGON}}class xt extends Pt{constructor(Ot){super(Ot),this.data.annotationType=s.AnnotationType.CARET}}class rt extends Pt{constructor(Ot){super(Ot),this.data.annotationType=s.AnnotationType.INK,this.data.inkLists=[];const Xt=Ot.dict.getArray("InkList");if(!Array.isArray(Xt))return;const Ut=Ot.xref;for(let Gt=0,qt=Xt.length;Gt<qt;++Gt){this.data.inkLists.push([]);for(let Kt=0,Vt=Xt[Gt].length;Kt<Vt;Kt+=2)this.data.inkLists[Gt].push({x:Ut.fetchIfRef(Xt[Gt][Kt]),y:Ut.fetchIfRef(Xt[Gt][Kt+1])})}if(!this.appearance){const Gt=this.color?Array.from(this.color).map(Zt=>Zt/255):[0,0,0],qt=Ot.dict.get("CA"),Kt=this.borderStyle.width||1,Vt=2*Kt,Yt=[1/0,1/0,-1/0,-1/0];for(const Zt of this.data.inkLists)for(const Qt of Zt)Yt[0]=Math.min(Yt[0],Qt.x-Vt),Yt[1]=Math.min(Yt[1],Qt.y-Vt),Yt[2]=Math.max(Yt[2],Qt.x+Vt),Yt[3]=Math.max(Yt[3],Qt.y+Vt);s.Util.intersect(this.rectangle,Yt)||(this.rectangle=Yt),this._setDefaultAppearance({xref:Ot.xref,extra:`${Kt} w`,strokeColor:Gt,strokeAlpha:qt,pointsCallback:(Zt,Qt)=>{for(const en of this.data.inkLists){for(let rn=0,an=en.length;rn<an;rn++)Zt.push(`${en[rn].x} ${en[rn].y} ${rn===0?"m":"l"}`);Zt.push("S")}return[Qt[0].x,Qt[1].x,Qt[3].y,Qt[1].y]}})}}static createNewDict(Ot,Xt,{apRef:Ut,ap:Gt}){const{paths:qt,rect:Kt,rotation:Vt}=Ot,Yt=new wt.Dict(Xt);Yt.set("Type",wt.Name.get("Annot")),Yt.set("Subtype",wt.Name.get("Ink")),Yt.set("CreationDate",`D:${(0,s.getModificationDate)()}`),Yt.set("Rect",Kt),Yt.set("InkList",qt.map(Qt=>Qt.points)),Yt.set("F",4),Yt.set("Border",[0,0,0]),Yt.set("Rotate",Vt);const Zt=new wt.Dict(Xt);return Yt.set("AP",Zt),Ut?Zt.set("N",Ut):Zt.set("N",Gt),Yt}static async createNewAppearanceStream(Ot,Xt,Ut){const{color:Gt,rect:qt,rotation:Kt,paths:Vt,thickness:Yt,opacity:Zt}=Ot,[Qt,en,rn,an]=qt;let fn=rn-Qt,un=an-en;Kt%180!==0&&([fn,un]=[un,fn]);const pn=[`${Yt} w 1 J 1 j`,`${(0,Tt.getPdfColor)(Gt,!1)}`];Zt!==1&&pn.push("/R0 gs");const yn=[];for(const{bezier:Cn}of Vt){yn.length=0,yn.push(`${(0,st.numberToString)(Cn[0])} ${(0,st.numberToString)(Cn[1])} m`);for(let gn=2,hn=Cn.length;gn<hn;gn+=6){const on=Cn.slice(gn,gn+6).map(st.numberToString).join(" ");yn.push(`${on} c`)}yn.push("S"),pn.push(yn.join(`
`))}const On=pn.join(`
`),En=new wt.Dict(Xt);if(En.set("FormType",1),En.set("Subtype",wt.Name.get("Form")),En.set("Type",wt.Name.get("XObject")),En.set("BBox",[0,0,fn,un]),En.set("Length",On.length),Kt){const Cn=Rt._getRotationMatrix(Kt,fn,un);En.set("Matrix",Cn)}if(Zt!==1){const Cn=new wt.Dict(Xt),gn=new wt.Dict(Xt),hn=new wt.Dict(Xt);hn.set("CA",Zt),hn.set("Type",wt.Name.get("ExtGState")),gn.set("R0",hn),Cn.set("ExtGState",gn),En.set("Resources",Cn)}const An=new ut.StringStream(On);return An.dict=En,An}}class mt extends Pt{constructor(Ot){if(super(Ot),this.data.annotationType=s.AnnotationType.HIGHLIGHT,this.data.quadPoints=et(Ot.dict,null)){const Ut=this.appearance&&this.appearance.dict.get("Resources");if(!this.appearance||!(Ut&&Ut.has("ExtGState"))){this.appearance&&(0,s.warn)("HighlightAnnotation - ignoring built-in appearance stream.");const Gt=this.color?Array.from(this.color).map(Kt=>Kt/255):[1,1,0],qt=Ot.dict.get("CA");this._setDefaultAppearance({xref:Ot.xref,fillColor:Gt,blendMode:"Multiply",fillAlpha:qt,pointsCallback:(Kt,Vt)=>(Kt.push(`${Vt[0].x} ${Vt[0].y} m`,`${Vt[1].x} ${Vt[1].y} l`,`${Vt[3].x} ${Vt[3].y} l`,`${Vt[2].x} ${Vt[2].y} l`,"f"),[Vt[0].x,Vt[1].x,Vt[3].y,Vt[1].y])})}}else this.data.hasPopup=!1}}class Mt extends Pt{constructor(Ot){if(super(Ot),this.data.annotationType=s.AnnotationType.UNDERLINE,this.data.quadPoints=et(Ot.dict,null)){if(!this.appearance){const Ut=this.color?Array.from(this.color).map(qt=>qt/255):[0,0,0],Gt=Ot.dict.get("CA");this._setDefaultAppearance({xref:Ot.xref,extra:"[] 0 d 1 w",strokeColor:Ut,strokeAlpha:Gt,pointsCallback:(qt,Kt)=>(qt.push(`${Kt[2].x} ${Kt[2].y} m`,`${Kt[3].x} ${Kt[3].y} l`,"S"),[Kt[0].x,Kt[1].x,Kt[3].y,Kt[1].y])})}}else this.data.hasPopup=!1}}class _t extends Pt{constructor(Ot){if(super(Ot),this.data.annotationType=s.AnnotationType.SQUIGGLY,this.data.quadPoints=et(Ot.dict,null)){if(!this.appearance){const Ut=this.color?Array.from(this.color).map(qt=>qt/255):[0,0,0],Gt=Ot.dict.get("CA");this._setDefaultAppearance({xref:Ot.xref,extra:"[] 0 d 1 w",strokeColor:Ut,strokeAlpha:Gt,pointsCallback:(qt,Kt)=>{const Vt=(Kt[0].y-Kt[2].y)/6;let Yt=Vt,Zt=Kt[2].x;const Qt=Kt[2].y,en=Kt[3].x;qt.push(`${Zt} ${Qt+Yt} m`);do Zt+=2,Yt=Yt===0?Vt:0,qt.push(`${Zt} ${Qt+Yt} l`);while(Zt<en);return qt.push("S"),[Kt[2].x,en,Qt-2*Vt,Qt+2*Vt]}})}}else this.data.hasPopup=!1}}class Lt extends Pt{constructor(Ot){if(super(Ot),this.data.annotationType=s.AnnotationType.STRIKEOUT,this.data.quadPoints=et(Ot.dict,null)){if(!this.appearance){const Ut=this.color?Array.from(this.color).map(qt=>qt/255):[0,0,0],Gt=Ot.dict.get("CA");this._setDefaultAppearance({xref:Ot.xref,extra:"[] 0 d 1 w",strokeColor:Ut,strokeAlpha:Gt,pointsCallback:(qt,Kt)=>(qt.push(`${(Kt[0].x+Kt[2].x)/2} ${(Kt[0].y+Kt[2].y)/2} m`,`${(Kt[1].x+Kt[3].x)/2} ${(Kt[1].y+Kt[3].y)/2} l`,"S"),[Kt[0].x,Kt[1].x,Kt[3].y,Kt[1].y])})}}else this.data.hasPopup=!1}}class It extends Pt{constructor(Ot){super(Ot),this.data.annotationType=s.AnnotationType.STAMP}}class Dt extends Pt{constructor(Ot){super(Ot);const Xt=new j.FileSpec(Ot.dict.get("FS"),Ot.xref);this.data.annotationType=s.AnnotationType.FILEATTACHMENT,this.data.file=Xt.serializable}}},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.createDefaultAppearance=j,ct.getPdfColor=d,ct.parseDefaultAppearance=$;var s=Et(6),st=Et(2),Tt=Et(14),wt=Et(15),e=Et(5),gt=Et(10);class _ extends wt.EvaluatorPreprocessor{constructor(o){super(new gt.StringStream(o))}parse(){const o={fn:0,args:[]},ut={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;o.args.length=0,!!this.read(o);){if(this.savedStatesDepth!==0)continue;const{fn:dt,args:b}=o;switch(dt|0){case st.OPS.setFont:const[h,et]=b;h instanceof e.Name&&(ut.fontName=h.name),typeof et=="number"&&et>0&&(ut.fontSize=et);break;case st.OPS.setFillRGBColor:Tt.ColorSpace.singletons.rgb.getRgbItem(b,0,ut.fontColor,0);break;case st.OPS.setFillGray:Tt.ColorSpace.singletons.gray.getRgbItem(b,0,ut.fontColor,0);break;case st.OPS.setFillColorSpace:Tt.ColorSpace.singletons.cmyk.getRgbItem(b,0,ut.fontColor,0);break}}}catch(dt){(0,st.warn)(`parseDefaultAppearance - ignoring errors: "${dt}".`)}return ut}}function $(g){return new _(g).parse()}function d(g,o){if(g[0]===g[1]&&g[1]===g[2]){const ut=g[0]/255;return`${(0,s.numberToString)(ut)} ${o?"g":"G"}`}return Array.from(g).map(ut=>(0,s.numberToString)(ut/255)).join(" ")+` ${o?"rg":"RG"}`}function j({fontSize:g,fontName:o,fontColor:ut}){return`/${(0,s.escapePDFName)(o)} ${g} Tf ${d(ut,!0)}`}},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.ColorSpace=void 0;var s=Et(2),st=Et(5),Tt=Et(7),wt=Et(6);function e(h,et,nt,pt,Bt,Pt,Rt){Rt=Rt!==1?0:Rt;const lt=nt/Bt,ft=pt/Pt;let it=0,at;const bt=new Uint16Array(Bt),St=nt*3;for(let ht=0;ht<Bt;ht++)bt[ht]=Math.floor(ht*lt)*3;for(let ht=0;ht<Pt;ht++){const vt=Math.floor(ht*ft)*St;for(let yt=0;yt<Bt;yt++)at=vt+bt[yt],et[it++]=h[at++],et[it++]=h[at++],et[it++]=h[at++],it+=Rt}}class gt{constructor(et,nt){this.constructor===gt&&(0,s.unreachable)("Cannot initialize ColorSpace."),this.name=et,this.numComps=nt}getRgb(et,nt){const pt=new Uint8ClampedArray(3);return this.getRgbItem(et,nt,pt,0),pt}getRgbItem(et,nt,pt,Bt){(0,s.unreachable)("Should not call ColorSpace.getRgbItem")}getRgbBuffer(et,nt,pt,Bt,Pt,Rt,Ft){(0,s.unreachable)("Should not call ColorSpace.getRgbBuffer")}getOutputLength(et,nt){(0,s.unreachable)("Should not call ColorSpace.getOutputLength")}isPassthrough(et){return!1}isDefaultDecode(et,nt){return gt.isDefaultDecode(et,this.numComps)}fillRgb(et,nt,pt,Bt,Pt,Rt,Ft,lt,ft){const it=nt*pt;let at=null;const bt=1<<Ft,St=pt!==Pt||nt!==Bt;if(this.isPassthrough(Ft))at=lt;else if(this.numComps===1&&it>bt&&this.name!=="DeviceGray"&&this.name!=="DeviceRGB"){const ht=Ft<=8?new Uint8Array(bt):new Uint16Array(bt);for(let yt=0;yt<bt;yt++)ht[yt]=yt;const vt=new Uint8ClampedArray(bt*3);if(this.getRgbBuffer(ht,0,bt,vt,0,Ft,0),St){at=new Uint8Array(it*3);let yt=0;for(let At=0;At<it;++At){const Nt=lt[At]*3;at[yt++]=vt[Nt],at[yt++]=vt[Nt+1],at[yt++]=vt[Nt+2]}}else{let yt=0;for(let At=0;At<it;++At){const Nt=lt[At]*3;et[yt++]=vt[Nt],et[yt++]=vt[Nt+1],et[yt++]=vt[Nt+2],yt+=ft}}}else St?(at=new Uint8ClampedArray(it*3),this.getRgbBuffer(lt,0,it,at,0,Ft,0)):this.getRgbBuffer(lt,0,Bt*Rt,et,0,Ft,ft);if(at)if(St)e(at,et,nt,pt,Bt,Pt,ft);else{let ht=0,vt=0;for(let yt=0,At=Bt*Rt;yt<At;yt++)et[ht++]=at[vt++],et[ht++]=at[vt++],et[ht++]=at[vt++],ht+=ft}}get usesZeroToOneRange(){return(0,s.shadow)(this,"usesZeroToOneRange",!0)}static _cache(et,nt,pt,Bt){if(!pt)throw new Error('ColorSpace._cache - expected "localColorSpaceCache" argument.');if(!Bt)throw new Error('ColorSpace._cache - expected "parsedColorSpace" argument.');let Pt,Rt;et instanceof st.Ref&&(Rt=et,et=nt.fetch(et)),et instanceof st.Name&&(Pt=et.name),(Pt||Rt)&&pt.set(Pt,Rt,Bt)}static getCached(et,nt,pt){if(!pt)throw new Error('ColorSpace.getCached - expected "localColorSpaceCache" argument.');if(et instanceof st.Ref){const Bt=pt.getByRef(et);if(Bt)return Bt;try{et=nt.fetch(et)}catch(Pt){if(Pt instanceof wt.MissingDataException)throw Pt}}if(et instanceof st.Name){const Bt=pt.getByName(et.name);if(Bt)return Bt}return null}static async parseAsync({cs:et,xref:nt,resources:pt=null,pdfFunctionFactory:Bt,localColorSpaceCache:Pt}){const Rt=this._parse(et,nt,pt,Bt);return this._cache(et,nt,Pt,Rt),Rt}static parse({cs:et,xref:nt,resources:pt=null,pdfFunctionFactory:Bt,localColorSpaceCache:Pt}){const Rt=this.getCached(et,nt,Pt);if(Rt)return Rt;const Ft=this._parse(et,nt,pt,Bt);return this._cache(et,nt,Pt,Ft),Ft}static _parse(et,nt,pt=null,Bt){if(et=nt.fetchIfRef(et),et instanceof st.Name)switch(et.name){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"Pattern":return new $(null);default:if(pt instanceof st.Dict){const Pt=pt.get("ColorSpace");if(Pt instanceof st.Dict){const Rt=Pt.get(et.name);if(Rt){if(Rt instanceof st.Name)return this._parse(Rt,nt,pt,Bt);et=Rt;break}}}throw new s.FormatError(`Unrecognized ColorSpace: ${et.name}`)}if(Array.isArray(et)){const Pt=nt.fetchIfRef(et[0]).name;let Rt,Ft,lt,ft,it,at;switch(Pt){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"CalGray":return Rt=nt.fetchIfRef(et[1]),ft=Rt.getArray("WhitePoint"),it=Rt.getArray("BlackPoint"),at=Rt.get("Gamma"),new ut(ft,it,at);case"CalRGB":Rt=nt.fetchIfRef(et[1]),ft=Rt.getArray("WhitePoint"),it=Rt.getArray("BlackPoint"),at=Rt.getArray("Gamma");const bt=Rt.getArray("Matrix");return new dt(ft,it,at,bt);case"ICCBased":const ht=nt.fetchIfRef(et[1]).dict;Ft=ht.get("N");const vt=ht.get("Alternate");if(vt){const rt=this._parse(vt,nt,pt,Bt);if(rt.numComps===Ft)return rt;(0,s.warn)("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(Ft===1)return this.singletons.gray;if(Ft===3)return this.singletons.rgb;if(Ft===4)return this.singletons.cmyk;break;case"Pattern":return lt=et[1]||null,lt&&(lt=this._parse(lt,nt,pt,Bt)),new $(lt);case"I":case"Indexed":lt=this._parse(et[1],nt,pt,Bt);const yt=nt.fetchIfRef(et[2])+1,At=nt.fetchIfRef(et[3]);return new d(lt,yt,At);case"Separation":case"DeviceN":const Nt=nt.fetchIfRef(et[1]);Ft=Array.isArray(Nt)?Nt.length:1,lt=this._parse(et[2],nt,pt,Bt);const Ht=Bt.create(et[3]);return new _(Ft,lt,Ht);case"Lab":Rt=nt.fetchIfRef(et[1]),ft=Rt.getArray("WhitePoint"),it=Rt.getArray("BlackPoint");const xt=Rt.getArray("Range");return new b(ft,it,xt);default:throw new s.FormatError(`Unimplemented ColorSpace object: ${Pt}`)}}throw new s.FormatError(`Unrecognized ColorSpace object: ${et}`)}static isDefaultDecode(et,nt){if(!Array.isArray(et))return!0;if(nt*2!==et.length)return(0,s.warn)("The decode map is not the correct length"),!0;for(let pt=0,Bt=et.length;pt<Bt;pt+=2)if(et[pt]!==0||et[pt+1]!==1)return!1;return!0}static get singletons(){return(0,s.shadow)(this,"singletons",{get gray(){return(0,s.shadow)(this,"gray",new j)},get rgb(){return(0,s.shadow)(this,"rgb",new g)},get cmyk(){return(0,s.shadow)(this,"cmyk",new o)}})}}ct.ColorSpace=gt;class _ extends gt{constructor(et,nt,pt){super("Alternate",et),this.base=nt,this.tintFn=pt,this.tmpBuf=new Float32Array(nt.numComps)}getRgbItem(et,nt,pt,Bt){const Pt=this.tmpBuf;this.tintFn(et,nt,Pt,0),this.base.getRgbItem(Pt,0,pt,Bt)}getRgbBuffer(et,nt,pt,Bt,Pt,Rt,Ft){const lt=this.tintFn,ft=this.base,it=1/((1<<Rt)-1),at=ft.numComps,bt=ft.usesZeroToOneRange,St=(ft.isPassthrough(8)||!bt)&&Ft===0;let ht=St?Pt:0;const vt=St?Bt:new Uint8ClampedArray(at*pt),yt=this.numComps,At=new Float32Array(yt),Nt=new Float32Array(at);let Ht,xt;for(Ht=0;Ht<pt;Ht++){for(xt=0;xt<yt;xt++)At[xt]=et[nt++]*it;if(lt(At,0,Nt,0),bt)for(xt=0;xt<at;xt++)vt[ht++]=Nt[xt]*255;else ft.getRgbItem(Nt,0,vt,ht),ht+=at}St||ft.getRgbBuffer(vt,0,pt,Bt,Pt,8,Ft)}getOutputLength(et,nt){return this.base.getOutputLength(et*this.base.numComps/this.numComps,nt)}}class $ extends gt{constructor(et){super("Pattern",null),this.base=et}isDefaultDecode(et,nt){(0,s.unreachable)("Should not call PatternCS.isDefaultDecode")}}class d extends gt{constructor(et,nt,pt){super("Indexed",1),this.base=et,this.highVal=nt;const Bt=et.numComps*nt;if(this.lookup=new Uint8Array(Bt),pt instanceof Tt.BaseStream){const Pt=pt.getBytes(Bt);this.lookup.set(Pt)}else if(typeof pt=="string")for(let Pt=0;Pt<Bt;++Pt)this.lookup[Pt]=pt.charCodeAt(Pt)&255;else throw new s.FormatError(`IndexedCS - unrecognized lookup table: ${pt}`)}getRgbItem(et,nt,pt,Bt){const Pt=this.base.numComps,Rt=et[nt]*Pt;this.base.getRgbBuffer(this.lookup,Rt,1,pt,Bt,8,0)}getRgbBuffer(et,nt,pt,Bt,Pt,Rt,Ft){const lt=this.base,ft=lt.numComps,it=lt.getOutputLength(ft,Ft),at=this.lookup;for(let bt=0;bt<pt;++bt){const St=et[nt++]*ft;lt.getRgbBuffer(at,St,1,Bt,Pt,8,Ft),Pt+=it}}getOutputLength(et,nt){return this.base.getOutputLength(et*this.base.numComps,nt)}isDefaultDecode(et,nt){return Array.isArray(et)?et.length!==2?((0,s.warn)("Decode map length is not correct"),!0):!Number.isInteger(nt)||nt<1?((0,s.warn)("Bits per component is not correct"),!0):et[0]===0&&et[1]===(1<<nt)-1:!0}}class j extends gt{constructor(){super("DeviceGray",1)}getRgbItem(et,nt,pt,Bt){const Pt=et[nt]*255;pt[Bt]=pt[Bt+1]=pt[Bt+2]=Pt}getRgbBuffer(et,nt,pt,Bt,Pt,Rt,Ft){const lt=255/((1<<Rt)-1);let ft=nt,it=Pt;for(let at=0;at<pt;++at){const bt=lt*et[ft++];Bt[it++]=bt,Bt[it++]=bt,Bt[it++]=bt,it+=Ft}}getOutputLength(et,nt){return et*(3+nt)}}class g extends gt{constructor(){super("DeviceRGB",3)}getRgbItem(et,nt,pt,Bt){pt[Bt]=et[nt]*255,pt[Bt+1]=et[nt+1]*255,pt[Bt+2]=et[nt+2]*255}getRgbBuffer(et,nt,pt,Bt,Pt,Rt,Ft){if(Rt===8&&Ft===0){Bt.set(et.subarray(nt,nt+pt*3),Pt);return}const lt=255/((1<<Rt)-1);let ft=nt,it=Pt;for(let at=0;at<pt;++at)Bt[it++]=lt*et[ft++],Bt[it++]=lt*et[ft++],Bt[it++]=lt*et[ft++],it+=Ft}getOutputLength(et,nt){return et*(3+nt)/3|0}isPassthrough(et){return et===8}}const o=function(){function et(pt,Bt,Pt,Rt,Ft){const lt=pt[Bt]*Pt,ft=pt[Bt+1]*Pt,it=pt[Bt+2]*Pt,at=pt[Bt+3]*Pt;Rt[Ft]=255+lt*(-4.387332384609988*lt+54.48615194189176*ft+18.82290502165302*it+212.25662451639585*at+-285.2331026137004)+ft*(1.7149763477362134*ft-5.6096736904047315*it+-17.873870861415444*at-5.497006427196366)+it*(-2.5217340131683033*it-21.248923337353073*at+17.5119270841813)+at*(-21.86122147463605*at-189.48180835922747),Rt[Ft+1]=255+lt*(8.841041422036149*lt+60.118027045597366*ft+6.871425592049007*it+31.159100130055922*at+-79.2970844816548)+ft*(-15.310361306967817*ft+17.575251261109482*it+131.35250912493976*at-190.9453302588951)+it*(4.444339102852739*it+9.8632861493405*at-24.86741582555878)+at*(-20.737325471181034*at-187.80453709719578),Rt[Ft+2]=255+lt*(.8842522430003296*lt+8.078677503112928*ft+30.89978309703729*it-.23883238689178934*at+-14.183576799673286)+ft*(10.49593273432072*ft+63.02378494754052*it+50.606957656360734*at-112.23884253719248)+it*(.03296041114873217*it+115.60384449646641*at+-193.58209356861505)+at*(-22.33816807309886*at-180.12613974708367)}class nt extends gt{constructor(){super("DeviceCMYK",4)}getRgbItem(Bt,Pt,Rt,Ft){et(Bt,Pt,1,Rt,Ft)}getRgbBuffer(Bt,Pt,Rt,Ft,lt,ft,it){const at=1/((1<<ft)-1);for(let bt=0;bt<Rt;bt++)et(Bt,Pt,at,Ft,lt),Pt+=4,lt+=3+it}getOutputLength(Bt,Pt){return Bt/4*(3+Pt)|0}}return nt}(),ut=function(){function et(pt,Bt,Pt,Rt,Ft,lt){const it=(Bt[Pt]*lt)**pt.G,at=pt.YW*it,bt=Math.max(295.8*at**.3333333333333333-40.8,0);Rt[Ft]=bt,Rt[Ft+1]=bt,Rt[Ft+2]=bt}class nt extends gt{constructor(Bt,Pt,Rt){if(super("CalGray",1),!Bt)throw new s.FormatError("WhitePoint missing - required for color space CalGray");if(Pt=Pt||[0,0,0],Rt=Rt||1,this.XW=Bt[0],this.YW=Bt[1],this.ZW=Bt[2],this.XB=Pt[0],this.YB=Pt[1],this.ZB=Pt[2],this.G=Rt,this.XW<0||this.ZW<0||this.YW!==1)throw new s.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(this.XB<0||this.YB<0||this.ZB<0)&&((0,s.info)(`Invalid BlackPoint for ${this.name}, falling back to default.`),this.XB=this.YB=this.ZB=0),(this.XB!==0||this.YB!==0||this.ZB!==0)&&(0,s.warn)(`${this.name}, BlackPoint: XB: ${this.XB}, YB: ${this.YB}, ZB: ${this.ZB}, only default values are supported.`),this.G<1&&((0,s.info)(`Invalid Gamma: ${this.G} for ${this.name}, falling back to default.`),this.G=1)}getRgbItem(Bt,Pt,Rt,Ft){et(this,Bt,Pt,Rt,Ft,1)}getRgbBuffer(Bt,Pt,Rt,Ft,lt,ft,it){const at=1/((1<<ft)-1);for(let bt=0;bt<Rt;++bt)et(this,Bt,Pt,Ft,lt,at),Pt+=1,lt+=3+it}getOutputLength(Bt,Pt){return Bt*(3+Pt)}}return nt}(),dt=function(){const et=new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),nt=new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867]),pt=new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252]),Bt=new Float32Array([1,1,1]),Pt=new Float32Array(3),Rt=new Float32Array(3),Ft=new Float32Array(3),lt=(24/116)**3/8;function ft(xt,rt,mt){mt[0]=xt[0]*rt[0]+xt[1]*rt[1]+xt[2]*rt[2],mt[1]=xt[3]*rt[0]+xt[4]*rt[1]+xt[5]*rt[2],mt[2]=xt[6]*rt[0]+xt[7]*rt[1]+xt[8]*rt[2]}function it(xt,rt,mt){mt[0]=rt[0]*1/xt[0],mt[1]=rt[1]*1/xt[1],mt[2]=rt[2]*1/xt[2]}function at(xt,rt,mt){mt[0]=rt[0]*.95047/xt[0],mt[1]=rt[1]*1/xt[1],mt[2]=rt[2]*1.08883/xt[2]}function bt(xt){return xt<=.0031308?St(0,1,12.92*xt):xt>=.99554525?1:St(0,1,(1+.055)*xt**(1/2.4)-.055)}function St(xt,rt,mt){return Math.max(xt,Math.min(rt,mt))}function ht(xt){return xt<0?-ht(-xt):xt>8?((xt+16)/116)**3:xt*lt}function vt(xt,rt,mt){if(xt[0]===0&&xt[1]===0&&xt[2]===0){mt[0]=rt[0],mt[1]=rt[1],mt[2]=rt[2];return}const Mt=ht(0),_t=Mt,Lt=ht(xt[0]),It=Mt,Dt=ht(xt[1]),jt=Mt,Ot=ht(xt[2]),Xt=(1-_t)/(1-Lt),Ut=1-Xt,Gt=(1-It)/(1-Dt),qt=1-Gt,Kt=(1-jt)/(1-Ot),Vt=1-Kt;mt[0]=rt[0]*Xt+Ut,mt[1]=rt[1]*Gt+qt,mt[2]=rt[2]*Kt+Vt}function yt(xt,rt,mt){if(xt[0]===1&&xt[2]===1){mt[0]=rt[0],mt[1]=rt[1],mt[2]=rt[2];return}const Mt=mt;ft(et,rt,Mt);const _t=Pt;it(xt,Mt,_t),ft(nt,_t,mt)}function At(xt,rt,mt){const Mt=mt;ft(et,rt,Mt);const _t=Pt;at(xt,Mt,_t),ft(nt,_t,mt)}function Nt(xt,rt,mt,Mt,_t,Lt){const It=St(0,1,rt[mt]*Lt),Dt=St(0,1,rt[mt+1]*Lt),jt=St(0,1,rt[mt+2]*Lt),Ot=It===1?1:It**xt.GR,Xt=Dt===1?1:Dt**xt.GG,Ut=jt===1?1:jt**xt.GB,Gt=xt.MXA*Ot+xt.MXB*Xt+xt.MXC*Ut,qt=xt.MYA*Ot+xt.MYB*Xt+xt.MYC*Ut,Kt=xt.MZA*Ot+xt.MZB*Xt+xt.MZC*Ut,Vt=Rt;Vt[0]=Gt,Vt[1]=qt,Vt[2]=Kt;const Yt=Ft;yt(xt.whitePoint,Vt,Yt);const Zt=Rt;vt(xt.blackPoint,Yt,Zt);const Qt=Ft;At(Bt,Zt,Qt);const en=Rt;ft(pt,Qt,en),Mt[_t]=bt(en[0])*255,Mt[_t+1]=bt(en[1])*255,Mt[_t+2]=bt(en[2])*255}class Ht extends gt{constructor(rt,mt,Mt,_t){if(super("CalRGB",3),!rt)throw new s.FormatError("WhitePoint missing - required for color space CalRGB");mt=mt||new Float32Array(3),Mt=Mt||new Float32Array([1,1,1]),_t=_t||new Float32Array([1,0,0,0,1,0,0,0,1]);const Lt=rt[0],It=rt[1],Dt=rt[2];this.whitePoint=rt;const jt=mt[0],Ot=mt[1],Xt=mt[2];if(this.blackPoint=mt,this.GR=Mt[0],this.GG=Mt[1],this.GB=Mt[2],this.MXA=_t[0],this.MYA=_t[1],this.MZA=_t[2],this.MXB=_t[3],this.MYB=_t[4],this.MZB=_t[5],this.MXC=_t[6],this.MYC=_t[7],this.MZC=_t[8],Lt<0||Dt<0||It!==1)throw new s.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(jt<0||Ot<0||Xt<0)&&((0,s.info)(`Invalid BlackPoint for ${this.name} [${jt}, ${Ot}, ${Xt}], falling back to default.`),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&((0,s.info)(`Invalid Gamma [${this.GR}, ${this.GG}, ${this.GB}] for ${this.name}, falling back to default.`),this.GR=this.GG=this.GB=1)}getRgbItem(rt,mt,Mt,_t){Nt(this,rt,mt,Mt,_t,1)}getRgbBuffer(rt,mt,Mt,_t,Lt,It,Dt){const jt=1/((1<<It)-1);for(let Ot=0;Ot<Mt;++Ot)Nt(this,rt,mt,_t,Lt,jt),mt+=3,Lt+=3+Dt}getOutputLength(rt,mt){return rt*(3+mt)/3|0}}return Ht}(),b=function(){function et(Pt){let Rt;return Pt>=6/29?Rt=Pt**3:Rt=108/841*(Pt-4/29),Rt}function nt(Pt,Rt,Ft,lt){return Ft+Pt*(lt-Ft)/Rt}function pt(Pt,Rt,Ft,lt,ft,it){let at=Rt[Ft],bt=Rt[Ft+1],St=Rt[Ft+2];lt!==!1&&(at=nt(at,lt,0,100),bt=nt(bt,lt,Pt.amin,Pt.amax),St=nt(St,lt,Pt.bmin,Pt.bmax)),bt>Pt.amax?bt=Pt.amax:bt<Pt.amin&&(bt=Pt.amin),St>Pt.bmax?St=Pt.bmax:St<Pt.bmin&&(St=Pt.bmin);const ht=(at+16)/116,vt=ht+bt/500,yt=ht-St/200,At=Pt.XW*et(vt),Nt=Pt.YW*et(ht),Ht=Pt.ZW*et(yt);let xt,rt,mt;Pt.ZW<1?(xt=At*3.1339+Nt*-1.617+Ht*-.4906,rt=At*-.9785+Nt*1.916+Ht*.0333,mt=At*.072+Nt*-.229+Ht*1.4057):(xt=At*3.2406+Nt*-1.5372+Ht*-.4986,rt=At*-.9689+Nt*1.8758+Ht*.0415,mt=At*.0557+Nt*-.204+Ht*1.057),ft[it]=Math.sqrt(xt)*255,ft[it+1]=Math.sqrt(rt)*255,ft[it+2]=Math.sqrt(mt)*255}class Bt extends gt{constructor(Rt,Ft,lt){if(super("Lab",3),!Rt)throw new s.FormatError("WhitePoint missing - required for color space Lab");if(Ft=Ft||[0,0,0],lt=lt||[-100,100,-100,100],this.XW=Rt[0],this.YW=Rt[1],this.ZW=Rt[2],this.amin=lt[0],this.amax=lt[1],this.bmin=lt[2],this.bmax=lt[3],this.XB=Ft[0],this.YB=Ft[1],this.ZB=Ft[2],this.XW<0||this.ZW<0||this.YW!==1)throw new s.FormatError("Invalid WhitePoint components, no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&((0,s.info)("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&((0,s.info)("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}getRgbItem(Rt,Ft,lt,ft){pt(this,Rt,Ft,!1,lt,ft)}getRgbBuffer(Rt,Ft,lt,ft,it,at,bt){const St=(1<<at)-1;for(let ht=0;ht<lt;ht++)pt(this,Rt,Ft,St,ft,it),Ft+=3,it+=3+bt}getOutputLength(Rt,Ft){return Rt*(3+Ft)/3|0}isDefaultDecode(Rt,Ft){return!0}get usesZeroToOneRange(){return(0,s.shadow)(this,"usesZeroToOneRange",!1)}}return Bt}()},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.PartialEvaluator=ct.EvaluatorPreprocessor=void 0;var s=Et(2),st=Et(16),Tt=Et(5),wt=Et(34),e=Et(38),gt=Et(37),_=Et(41),$=Et(40),d=Et(50),j=Et(51),g=Et(42),o=Et(57),ut=Et(17),dt=Et(59),b=Et(10),h=Et(7),et=Et(60),nt=Et(14),pt=Et(19),Bt=Et(39),Pt=Et(6),Rt=Et(45),Ft=Et(61),lt=Et(62),ft=Et(63);const it=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,fontExtraProperties:!1,useSystemFonts:!0,cMapUrl:null,standardFontDataUrl:null}),at={TILING:1,SHADING:2},bt=10,St=Promise.resolve();function ht(Mt,_t=!1){if(Array.isArray(Mt)){for(let Lt=0,It=Mt.length;Lt<It;Lt++){const Dt=ht(Mt[Lt],!0);if(Dt)return Dt}return(0,s.warn)(`Unsupported blend mode Array: ${Mt}`),"source-over"}if(!(Mt instanceof Tt.Name))return _t?null:"source-over";switch(Mt.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return _t?null:((0,s.warn)(`Unsupported blend mode: ${Mt.name}`),"source-over")}function vt(Mt){Mt.fn===s.OPS.paintImageMaskXObject&&Mt.args[0]&&Mt.args[0].count>0&&Mt.args[0].count++}class yt{static get TIME_SLOT_DURATION_MS(){return(0,s.shadow)(this,"TIME_SLOT_DURATION_MS",20)}static get CHECK_TIME_EVERY(){return(0,s.shadow)(this,"CHECK_TIME_EVERY",100)}constructor(){this.reset()}check(){return++this.checked<yt.CHECK_TIME_EVERY?!1:(this.checked=0,this.endTime<=Date.now())}reset(){this.endTime=Date.now()+yt.TIME_SLOT_DURATION_MS,this.checked=0}}class At{constructor({xref:_t,handler:Lt,pageIndex:It,idFactory:Dt,fontCache:jt,builtInCMapCache:Ot,standardFontDataCache:Xt,globalImageCache:Ut,options:Gt=null}){this.xref=_t,this.handler=Lt,this.pageIndex=It,this.idFactory=Dt,this.fontCache=jt,this.builtInCMapCache=Ot,this.standardFontDataCache=Xt,this.globalImageCache=Ut,this.options=Gt||it,this.parsingType3Font=!1,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this)}get _pdfFunctionFactory(){const _t=new o.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return(0,s.shadow)(this,"_pdfFunctionFactory",_t)}clone(_t=null){const Lt=Object.create(this);return Lt.options=Object.assign(Object.create(null),this.options,_t),Lt}hasBlendModes(_t,Lt){if(!(_t instanceof Tt.Dict)||_t.objId&&Lt.has(_t.objId))return!1;const It=new Tt.RefSet(Lt);_t.objId&&It.put(_t.objId);const Dt=[_t],jt=this.xref;for(;Dt.length;){const Ot=Dt.shift(),Xt=Ot.get("ExtGState");if(Xt instanceof Tt.Dict)for(let Gt of Xt.getRawValues()){if(Gt instanceof Tt.Ref){if(It.has(Gt))continue;try{Gt=jt.fetch(Gt)}catch(Kt){It.put(Gt),(0,s.info)(`hasBlendModes - ignoring ExtGState: "${Kt}".`);continue}}if(!(Gt instanceof Tt.Dict))continue;Gt.objId&&It.put(Gt.objId);const qt=Gt.get("BM");if(qt instanceof Tt.Name){if(qt.name!=="Normal")return!0;continue}if(qt!==void 0&&Array.isArray(qt)){for(const Kt of qt)if(Kt instanceof Tt.Name&&Kt.name!=="Normal")return!0}}const Ut=Ot.get("XObject");if(Ut instanceof Tt.Dict)for(let Gt of Ut.getRawValues()){if(Gt instanceof Tt.Ref){if(It.has(Gt))continue;try{Gt=jt.fetch(Gt)}catch(Kt){It.put(Gt),(0,s.info)(`hasBlendModes - ignoring XObject: "${Kt}".`);continue}}if(!(Gt instanceof h.BaseStream))continue;Gt.dict.objId&&It.put(Gt.dict.objId);const qt=Gt.dict.get("Resources");qt instanceof Tt.Dict&&(qt.objId&&It.has(qt.objId)||(Dt.push(qt),qt.objId&&It.put(qt.objId)))}}for(const Ot of It)Lt.put(Ot);return!1}async fetchBuiltInCMap(_t){const Lt=this.builtInCMapCache.get(_t);if(Lt)return Lt;let It;if(this.options.cMapUrl!==null){const Dt=`${this.options.cMapUrl}${_t}.bcmap`,jt=await fetch(Dt);if(!jt.ok)throw new Error(`fetchBuiltInCMap: failed to fetch file "${Dt}" with "${jt.statusText}".`);It={cMapData:new Uint8Array(await jt.arrayBuffer()),compressionType:s.CMapCompressionType.BINARY}}else It=await this.handler.sendWithPromise("FetchBuiltInCMap",{name:_t});return It.compressionType!==s.CMapCompressionType.NONE&&this.builtInCMapCache.set(_t,It),It}async fetchStandardFontData(_t){const Lt=this.standardFontDataCache.get(_t);if(Lt)return new b.Stream(Lt);if(this.options.useSystemFonts&&_t!=="Symbol"&&_t!=="ZapfDingbats")return null;const It=(0,_.getFontNameToFileMap)(),Dt=It[_t];let jt;if(this.options.standardFontDataUrl!==null){const Ot=`${this.options.standardFontDataUrl}${Dt}`,Xt=await fetch(Ot);Xt.ok?jt=await Xt.arrayBuffer():(0,s.warn)(`fetchStandardFontData: failed to fetch file "${Ot}" with "${Xt.statusText}".`)}else try{jt=await this.handler.sendWithPromise("FetchStandardFontData",{filename:Dt})}catch(Ot){(0,s.warn)(`fetchStandardFontData: failed to fetch file "${Dt}" with "${Ot}".`)}return jt?(this.standardFontDataCache.set(_t,jt),new b.Stream(jt)):null}async buildFormXObject(_t,Lt,It,Dt,jt,Ot,Xt){const Ut=Lt.dict,Gt=Ut.getArray("Matrix");let qt=Ut.getArray("BBox");Array.isArray(qt)&&qt.length===4?qt=s.Util.normalizeRect(qt):qt=null;let Kt,Vt;Ut.has("OC")&&(Kt=await this.parseMarkedContentProps(Ut.get("OC"),_t)),Kt!==void 0&&Dt.addOp(s.OPS.beginMarkedContentProps,["OC",Kt]);const Yt=Ut.get("Group");if(Yt){Vt={matrix:Gt,bbox:qt,smask:It,isolated:!1,knockout:!1};const Qt=Yt.get("S");let en=null;if((0,Tt.isName)(Qt,"Transparency")&&(Vt.isolated=Yt.get("I")||!1,Vt.knockout=Yt.get("K")||!1,Yt.has("CS"))){const rn=Yt.getRaw("CS"),an=nt.ColorSpace.getCached(rn,this.xref,Xt);an?en=an:en=await this.parseColorSpace({cs:rn,resources:_t,localColorSpaceCache:Xt})}It&&It.backdrop&&(en=en||nt.ColorSpace.singletons.rgb,It.backdrop=en.getRgb(It.backdrop,0)),Dt.addOp(s.OPS.beginGroup,[Vt])}const Zt=Yt?[Gt,null]:[Gt,qt];return Dt.addOp(s.OPS.paintFormXObjectBegin,Zt),this.getOperatorList({stream:Lt,task:jt,resources:Ut.get("Resources")||_t,operatorList:Dt,initialState:Ot}).then(function(){Dt.addOp(s.OPS.paintFormXObjectEnd,[]),Yt&&Dt.addOp(s.OPS.endGroup,[Vt]),Kt!==void 0&&Dt.addOp(s.OPS.endMarkedContent,[])})}_sendImgData(_t,Lt,It=!1){const Dt=Lt?[Lt.bitmap||Lt.data.buffer]:null;return this.parsingType3Font||It?this.handler.send("commonobj",[_t,"Image",Lt],Dt):this.handler.send("obj",[_t,this.pageIndex,"Image",Lt],Dt)}async buildPaintImageXObject({resources:_t,image:Lt,isInline:It=!1,operatorList:Dt,cacheKey:jt,localImageCache:Ot,localColorSpaceCache:Xt}){const Ut=Lt.dict,Gt=Ut.objId,qt=Ut.get("W","Width"),Kt=Ut.get("H","Height");if(!(qt&&typeof qt=="number")||!(Kt&&typeof Kt=="number")){(0,s.warn)("Image dimensions are missing, or not numbers.");return}const Vt=this.options.maxImageSize;if(Vt!==-1&&qt*Kt>Vt){const yn="Image exceeded maximum allowed size and was removed.";if(this.options.ignoreErrors){(0,s.warn)(yn);return}throw new Error(yn)}let Yt;Ut.has("OC")&&(Yt=await this.parseMarkedContentProps(Ut.get("OC"),_t));const Zt=Ut.get("IM","ImageMask")||!1;let Qt,en;if(Zt){const yn=Ut.get("I","Interpolate"),On=qt+7>>3,En=Lt.getBytes(On*Kt),An=Ut.getArray("D","Decode");if(this.parsingType3Font){Qt=ft.PDFImage.createRawMask({imgArray:En,width:qt,height:Kt,imageIsFromDecodeStream:Lt instanceof pt.DecodeStream,inverseDecode:!!An&&An[0]>0,interpolate:yn}),Qt.cached=!!jt,en=[Qt],Dt.addImageOps(s.OPS.paintImageMaskXObject,en,Yt),jt&&Ot.set(jt,Gt,{fn:s.OPS.paintImageMaskXObject,args:en,optionalContent:Yt});return}if(Qt=ft.PDFImage.createMask({imgArray:En,width:qt,height:Kt,imageIsFromDecodeStream:Lt instanceof pt.DecodeStream,inverseDecode:!!An&&An[0]>0,interpolate:yn}),Qt.isSingleOpaquePixel){Dt.addImageOps(s.OPS.paintSolidColorImageMask,[],Yt),jt&&Ot.set(jt,Gt,{fn:s.OPS.paintSolidColorImageMask,args:[],optionalContent:Yt});return}const Cn=`mask_${this.idFactory.createObjId()}`;Dt.addDependency(Cn),this._sendImgData(Cn,Qt),en=[{data:Cn,width:Qt.width,height:Qt.height,interpolate:Qt.interpolate,count:1}],Dt.addImageOps(s.OPS.paintImageMaskXObject,en,Yt),jt&&Ot.set(jt,Gt,{fn:s.OPS.paintImageMaskXObject,args:en,optionalContent:Yt});return}const rn=Ut.get("SM","SMask")||!1,an=Ut.get("Mask")||!1;if(It&&!rn&&!an&&qt+Kt<200){Qt=new ft.PDFImage({xref:this.xref,res:_t,image:Lt,isInline:It,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:Xt}).createImageData(!0),Dt.addImageOps(s.OPS.paintInlineImageXObject,[Qt],Yt);return}let un=`img_${this.idFactory.createObjId()}`,pn=!1;this.parsingType3Font?un=`${this.idFactory.getDocId()}_type3_${un}`:Gt&&(pn=this.globalImageCache.shouldCache(Gt,this.pageIndex),pn&&(un=`${this.idFactory.getDocId()}_${un}`)),Dt.addDependency(un),en=[un,qt,Kt],ft.PDFImage.buildImage({xref:this.xref,res:_t,image:Lt,isInline:It,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:Xt}).then(yn=>(Qt=yn.createImageData(!1),jt&&Gt&&pn&&this.globalImageCache.addByteSize(Gt,Qt.data.length),this._sendImgData(un,Qt,pn))).catch(yn=>((0,s.warn)(`Unable to decode image "${un}": "${yn}".`),this._sendImgData(un,null,pn))),Dt.addImageOps(s.OPS.paintImageXObject,en,Yt),jt&&(Ot.set(jt,Gt,{fn:s.OPS.paintImageXObject,args:en,optionalContent:Yt}),Gt&&((0,s.assert)(!It,"Cannot cache an inline image globally."),this.globalImageCache.addPageIndex(Gt,this.pageIndex),pn&&this.globalImageCache.setData(Gt,{objId:un,fn:s.OPS.paintImageXObject,args:en,optionalContent:Yt,byteSize:0})))}handleSMask(_t,Lt,It,Dt,jt,Ot){const Xt=_t.get("G"),Ut={subtype:_t.get("S").name,backdrop:_t.get("BC")},Gt=_t.get("TR");if((0,o.isPDFFunction)(Gt)){const qt=this._pdfFunctionFactory.create(Gt),Kt=new Uint8Array(256),Vt=new Float32Array(1);for(let Yt=0;Yt<256;Yt++)Vt[0]=Yt/255,qt(Vt,0,Vt,0),Kt[Yt]=Vt[0]*255|0;Ut.transferMap=Kt}return this.buildFormXObject(Lt,Xt,Ut,It,Dt,jt.state.clone(),Ot)}handleTransferFunction(_t){let Lt;if(Array.isArray(_t))Lt=_t;else if((0,o.isPDFFunction)(_t))Lt=[_t];else return null;const It=[];let Dt=0,jt=0;for(const Ot of Lt){const Xt=this.xref.fetchIfRef(Ot);if(Dt++,(0,Tt.isName)(Xt,"Identity")){It.push(null);continue}else if(!(0,o.isPDFFunction)(Xt))return null;const Ut=this._pdfFunctionFactory.create(Xt),Gt=new Uint8Array(256),qt=new Float32Array(1);for(let Kt=0;Kt<256;Kt++)qt[0]=Kt/255,Ut(qt,0,qt,0),Gt[Kt]=qt[0]*255|0;It.push(Gt),jt++}return!(Dt===1||Dt===4)||jt===0?null:It}handleTilingType(_t,Lt,It,Dt,jt,Ot,Xt,Ut){const Gt=new lt.OperatorList,qt=Tt.Dict.merge({xref:this.xref,dictArray:[jt.get("Resources"),It]});return this.getOperatorList({stream:Dt,task:Xt,resources:qt,operatorList:Gt}).then(function(){const Kt=Gt.getIR(),Vt=(0,d.getTilingPatternIR)(Kt,jt,Lt);Ot.addDependencies(Gt.dependencies),Ot.addOp(_t,Vt),jt.objId&&Ut.set(null,jt.objId,{operatorListIR:Kt,dict:jt})}).catch(Kt=>{if(!(Kt instanceof s.AbortException)){if(this.options.ignoreErrors){this.handler.send("UnsupportedFeature",{featureId:s.UNSUPPORTED_FEATURES.errorTilingPattern}),(0,s.warn)(`handleTilingType - ignoring pattern: "${Kt}".`);return}throw Kt}})}handleSetFont(_t,Lt,It,Dt,jt,Ot,Xt=null,Ut=null){const Gt=Lt&&Lt[0]instanceof Tt.Name?Lt[0].name:null;return this.loadFont(Gt,It,_t,Xt,Ut).then(qt=>qt.font.isType3Font?qt.loadType3Data(this,_t,jt).then(function(){return Dt.addDependencies(qt.type3Dependencies),qt}).catch(Kt=>(this.handler.send("UnsupportedFeature",{featureId:s.UNSUPPORTED_FEATURES.errorFontLoadType3}),new Nt({loadedName:"g_font_error",font:new wt.ErrorFont(`Type3 font load error: ${Kt}`),dict:qt.font,evaluatorOptions:this.options}))):qt).then(qt=>(Ot.font=qt.font,qt.send(this.handler),qt.loadedName))}handleText(_t,Lt){const It=Lt.font,Dt=It.charsToGlyphs(_t);return It.data&&(Lt.textRenderingMode&s.TextRenderingMode.ADD_TO_PATH_FLAG||Lt.fillColorSpace.name==="Pattern"||It.disableFontFace||this.options.disableFontFace)&&At.buildFontPaths(It,Dt,this.handler,this.options),Dt}ensureStateFont(_t){if(_t.font)return;const Lt=new s.FormatError("Missing setFont (Tf) operator before text rendering operator.");if(this.options.ignoreErrors){this.handler.send("UnsupportedFeature",{featureId:s.UNSUPPORTED_FEATURES.errorFontState}),(0,s.warn)(`ensureStateFont: "${Lt}".`);return}throw Lt}async setGState({resources:_t,gState:Lt,operatorList:It,cacheKey:Dt,task:jt,stateManager:Ot,localGStateCache:Xt,localColorSpaceCache:Ut}){const Gt=Lt.objId;let qt=!0;const Kt=[],Vt=Lt.getKeys();let Yt=Promise.resolve();for(let Zt=0,Qt=Vt.length;Zt<Qt;Zt++){const en=Vt[Zt],rn=Lt.get(en);switch(en){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":Kt.push([en,rn]);break;case"Font":qt=!1,Yt=Yt.then(()=>this.handleSetFont(_t,null,rn[0],It,jt,Ot.state).then(function(fn){It.addDependency(fn),Kt.push([en,[fn,rn[1]]])}));break;case"BM":Kt.push([en,ht(rn)]);break;case"SMask":if((0,Tt.isName)(rn,"None")){Kt.push([en,!1]);break}rn instanceof Tt.Dict?(qt=!1,Yt=Yt.then(()=>this.handleSMask(rn,_t,It,jt,Ot,Ut)),Kt.push([en,!0])):(0,s.warn)("Unsupported SMask type");break;case"TR":const an=this.handleTransferFunction(rn);Kt.push([en,an]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":(0,s.info)("graphic state operator "+en);break;default:(0,s.info)("Unknown graphic state operator "+en);break}}return Yt.then(function(){Kt.length>0&&It.addOp(s.OPS.setGState,[Kt]),qt&&Xt.set(Dt,Gt,Kt)})}loadFont(_t,Lt,It,Dt=null,jt=null){const Ot=async()=>new Nt({loadedName:"g_font_error",font:new wt.ErrorFont(`Font "${_t}" is not available.`),dict:Lt,evaluatorOptions:this.options}),Xt=this.xref;let Ut;if(Lt)Lt instanceof Tt.Ref&&(Ut=Lt);else{const Qt=It.get("Font");Qt&&(Ut=Qt.getRaw(_t))}if(!Ut){const Qt=`Font "${_t||Lt&&Lt.toString()}" is not available`;if(!this.options.ignoreErrors&&!this.parsingType3Font)return(0,s.warn)(`${Qt}.`),Ot();this.handler.send("UnsupportedFeature",{featureId:s.UNSUPPORTED_FEATURES.errorFontMissing}),(0,s.warn)(`${Qt} -- attempting to fallback to a default font.`),Dt?Ut=Dt:Ut=At.fallbackFontDict}if(this.parsingType3Font&&this.type3FontRefs.has(Ut))return Ot();if(this.fontCache.has(Ut))return this.fontCache.get(Ut);if(Lt=Xt.fetchIfRef(Ut),!(Lt instanceof Tt.Dict))return Ot();if(Lt.cacheKey&&this.fontCache.has(Lt.cacheKey))return this.fontCache.get(Lt.cacheKey);const Gt=(0,s.createPromiseCapability)();let qt;try{qt=this.preEvaluateFont(Lt),qt.cssFontInfo=jt}catch(Qt){return(0,s.warn)(`loadFont - preEvaluateFont failed: "${Qt}".`),Ot()}const{descriptor:Kt,hash:Vt}=qt,Yt=Ut instanceof Tt.Ref;let Zt;if(Yt&&(Zt=`f${Ut.toString()}`),Vt&&Kt instanceof Tt.Dict){Kt.fontAliases||(Kt.fontAliases=Object.create(null));const Qt=Kt.fontAliases;if(Qt[Vt]){const en=Qt[Vt].aliasRef;if(Yt&&en&&this.fontCache.has(en))return this.fontCache.putAlias(Ut,en),this.fontCache.get(Ut)}else Qt[Vt]={fontID:this.idFactory.createFontId()};Yt&&(Qt[Vt].aliasRef=Ut),Zt=Qt[Vt].fontID}return Yt?this.fontCache.put(Ut,Gt.promise):(Zt||(Zt=this.idFactory.createFontId()),Lt.cacheKey=`cacheKey_${Zt}`,this.fontCache.put(Lt.cacheKey,Gt.promise)),(0,s.assert)(Zt&&Zt.startsWith("f"),'The "fontID" must be (correctly) defined.'),Lt.loadedName=`${this.idFactory.getDocId()}_${Zt}`,this.translateFont(qt).then(Qt=>{Qt.fontType!==void 0&&Xt.stats.addFontType(Qt.fontType),Gt.resolve(new Nt({loadedName:Lt.loadedName,font:Qt,dict:Lt,evaluatorOptions:this.options}))}).catch(Qt=>{this.handler.send("UnsupportedFeature",{featureId:s.UNSUPPORTED_FEATURES.errorFontTranslate}),(0,s.warn)(`loadFont - translateFont failed: "${Qt}".`);try{const en=Kt&&Kt.get("FontFile3"),rn=en&&en.get("Subtype"),an=(0,e.getFontType)(qt.type,rn&&rn.name);an!==void 0&&Xt.stats.addFontType(an)}catch{}Gt.resolve(new Nt({loadedName:Lt.loadedName,font:new wt.ErrorFont(Qt instanceof Error?Qt.message:Qt),dict:Lt,evaluatorOptions:this.options}))}),Gt.promise}buildPath(_t,Lt,It,Dt=!1){const jt=_t.length-1;It||(It=[]);let Ot;if(jt<0||_t.fnArray[jt]!==s.OPS.constructPath)Dt&&((0,s.warn)(`Encountered path operator "${Lt}" inside of a text object.`),_t.addOp(s.OPS.save,null)),Ot=[1/0,-1/0,1/0,-1/0],_t.addOp(s.OPS.constructPath,[[Lt],It,Ot]),Dt&&_t.addOp(s.OPS.restore,null);else{const Xt=_t.argsArray[jt];Xt[0].push(Lt),Array.prototype.push.apply(Xt[1],It),Ot=Xt[2]}switch(Lt){case s.OPS.rectangle:Ot[0]=Math.min(Ot[0],It[0],It[0]+It[2]),Ot[1]=Math.max(Ot[1],It[0],It[0]+It[2]),Ot[2]=Math.min(Ot[2],It[1],It[1]+It[3]),Ot[3]=Math.max(Ot[3],It[1],It[1]+It[3]);break;case s.OPS.moveTo:case s.OPS.lineTo:Ot[0]=Math.min(Ot[0],It[0]),Ot[1]=Math.max(Ot[1],It[0]),Ot[2]=Math.min(Ot[2],It[1]),Ot[3]=Math.max(Ot[3],It[1]);break}}parseColorSpace({cs:_t,resources:Lt,localColorSpaceCache:It}){return nt.ColorSpace.parseAsync({cs:_t,xref:this.xref,resources:Lt,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:It}).catch(Dt=>{if(Dt instanceof s.AbortException)return null;if(this.options.ignoreErrors)return this.handler.send("UnsupportedFeature",{featureId:s.UNSUPPORTED_FEATURES.errorColorSpace}),(0,s.warn)(`parseColorSpace - ignoring ColorSpace: "${Dt}".`),null;throw Dt})}parseShading({shading:_t,resources:Lt,localColorSpaceCache:It,localShadingPatternCache:Dt}){let jt=Dt.get(_t);if(!jt){var Ot=d.Pattern.parseShading(_t,this.xref,Lt,this.handler,this._pdfFunctionFactory,It);const Xt=Ot.getIR();jt=`pattern_${this.idFactory.createObjId()}`,Dt.set(_t,jt),this.handler.send("obj",[jt,this.pageIndex,"Pattern",Xt])}return jt}handleColorN(_t,Lt,It,Dt,jt,Ot,Xt,Ut,Gt,qt){const Kt=It.pop();if(Kt instanceof Tt.Name){const Vt=jt.getRaw(Kt.name),Yt=Vt instanceof Tt.Ref&&Gt.getByRef(Vt);if(Yt)try{const Qt=Dt.base?Dt.base.getRgb(It,0):null,en=(0,d.getTilingPatternIR)(Yt.operatorListIR,Yt.dict,Qt);_t.addOp(Lt,en);return}catch{}const Zt=this.xref.fetchIfRef(Vt);if(Zt){const Qt=Zt instanceof h.BaseStream?Zt.dict:Zt,en=Qt.get("PatternType");if(en===at.TILING){const rn=Dt.base?Dt.base.getRgb(It,0):null;return this.handleTilingType(Lt,rn,Ot,Zt,Qt,_t,Xt,Gt)}else if(en===at.SHADING){const rn=Qt.get("Shading"),an=Qt.getArray("Matrix"),fn=this.parseShading({shading:rn,resources:Ot,localColorSpaceCache:Ut,localShadingPatternCache:qt});_t.addOp(Lt,["Shading",fn,an]);return}throw new s.FormatError(`Unknown PatternType: ${en}`)}}throw new s.FormatError(`Unknown PatternName: ${Kt}`)}_parseVisibilityExpression(_t,Lt,It){if(++Lt>10){(0,s.warn)("Visibility expression is too deeply nested");return}const jt=_t.length,Ot=this.xref.fetchIfRef(_t[0]);if(jt<2||!(Ot instanceof Tt.Name)){(0,s.warn)("Invalid visibility expression");return}switch(Ot.name){case"And":case"Or":case"Not":It.push(Ot.name);break;default:(0,s.warn)(`Invalid operator ${Ot.name} in visibility expression`);return}for(let Xt=1;Xt<jt;Xt++){const Ut=_t[Xt],Gt=this.xref.fetchIfRef(Ut);if(Array.isArray(Gt)){const qt=[];It.push(qt),this._parseVisibilityExpression(Gt,Lt,qt)}else Ut instanceof Tt.Ref&&It.push(Ut.toString())}}async parseMarkedContentProps(_t,Lt){let It;if(_t instanceof Tt.Name)It=Lt.get("Properties").get(_t.name);else if(_t instanceof Tt.Dict)It=_t;else throw new s.FormatError("Optional content properties malformed.");const Dt=It.get("Type").name;if(Dt==="OCG")return{type:Dt,id:It.objId};if(Dt==="OCMD"){const jt=It.get("VE");if(Array.isArray(jt)){const Xt=[];if(this._parseVisibilityExpression(jt,0,Xt),Xt.length>0)return{type:"OCMD",expression:Xt}}const Ot=It.get("OCGs");if(Array.isArray(Ot)||Ot instanceof Tt.Dict){const Xt=[];if(Array.isArray(Ot))for(const Ut of Ot)Xt.push(Ut.toString());else Xt.push(Ot.objId);return{type:Dt,ids:Xt,policy:It.get("P")instanceof Tt.Name?It.get("P").name:null,expression:null}}else if(Ot instanceof Tt.Ref)return{type:Dt,id:Ot.toString()}}return null}getOperatorList({stream:_t,task:Lt,resources:It,operatorList:Dt,initialState:jt=null,fallbackFontDict:Ot=null}){if(It=It||Tt.Dict.empty,jt=jt||new rt,!Dt)throw new Error('getOperatorList: missing "operatorList" parameter');const Xt=this,Ut=this.xref;let Gt=!1;const qt=new dt.LocalImageCache,Kt=new dt.LocalColorSpaceCache,Vt=new dt.LocalGStateCache,Yt=new dt.LocalTilingPatternCache,Zt=new Map,Qt=It.get("XObject")||Tt.Dict.empty,en=It.get("Pattern")||Tt.Dict.empty,rn=new Ht(jt),an=new mt(_t,Ut,rn),fn=new yt;function un(pn){for(let yn=0,On=an.savedStatesDepth;yn<On;yn++)Dt.addOp(s.OPS.restore,[])}return new Promise(function pn(yn,On){const En=function($n){Promise.all([$n,Dt.ready]).then(function(){try{pn(yn,On)}catch(tr){On(tr)}},On)};Lt.ensureNotTerminated(),fn.reset();const An={};let Cn,gn,hn,on,Dn,Xn;for(;!(Cn=fn.check())&&(An.args=null,!!an.read(An));){let $n=An.args,tr=An.fn;switch(tr|0){case s.OPS.paintXObject:if(Xn=$n[0]instanceof Tt.Name,Dn=$n[0].name,Xn){const jn=qt.getByName(Dn);if(jn){Dt.addImageOps(jn.fn,jn.args,jn.optionalContent),vt(jn),$n=null;continue}}En(new Promise(function(jn,ur){if(!Xn)throw new s.FormatError("XObject must be referred to by name.");let rr=Qt.getRaw(Dn);if(rr instanceof Tt.Ref){const br=qt.getByRef(rr);if(br){Dt.addImageOps(br.fn,br.args,br.optionalContent),vt(br),jn();return}const yr=Xt.globalImageCache.getData(rr,Xt.pageIndex);if(yr){Dt.addDependency(yr.objId),Dt.addImageOps(yr.fn,yr.args,yr.optionalContent),jn();return}rr=Ut.fetch(rr)}if(!(rr instanceof h.BaseStream))throw new s.FormatError("XObject should be a stream");const Tr=rr.dict.get("Subtype");if(!(Tr instanceof Tt.Name))throw new s.FormatError("XObject should have a Name subtype");if(Tr.name==="Form"){rn.save(),Xt.buildFormXObject(It,rr,null,Dt,Lt,rn.state.clone(),Kt).then(function(){rn.restore(),jn()},ur);return}else if(Tr.name==="Image"){Xt.buildPaintImageXObject({resources:It,image:rr,operatorList:Dt,cacheKey:Dn,localImageCache:qt,localColorSpaceCache:Kt}).then(jn,ur);return}else if(Tr.name==="PS")(0,s.info)("Ignored XObject subtype PS");else throw new s.FormatError(`Unhandled XObject subtype ${Tr.name}`);jn()}).catch(function(jn){if(!(jn instanceof s.AbortException)){if(Xt.options.ignoreErrors){Xt.handler.send("UnsupportedFeature",{featureId:s.UNSUPPORTED_FEATURES.errorXObject}),(0,s.warn)(`getOperatorList - ignoring XObject: "${jn}".`);return}throw jn}}));return;case s.OPS.setFont:var er=$n[1];En(Xt.handleSetFont(It,$n,null,Dt,Lt,rn.state,Ot).then(function(jn){Dt.addDependency(jn),Dt.addOp(s.OPS.setFont,[jn,er])}));return;case s.OPS.beginText:Gt=!0;break;case s.OPS.endText:Gt=!1;break;case s.OPS.endInlineImage:var Sn=$n[0].cacheKey;if(Sn){const jn=qt.getByName(Sn);if(jn){Dt.addImageOps(jn.fn,jn.args,jn.optionalContent),vt(jn),$n=null;continue}}En(Xt.buildPaintImageXObject({resources:It,image:$n[0],isInline:!0,operatorList:Dt,cacheKey:Sn,localImageCache:qt,localColorSpaceCache:Kt}));return;case s.OPS.showText:if(!rn.state.font){Xt.ensureStateFont(rn.state);continue}$n[0]=Xt.handleText($n[0],rn.state);break;case s.OPS.showSpacedText:if(!rn.state.font){Xt.ensureStateFont(rn.state);continue}var xn=$n[0],cn=[],qn=xn.length,Vn=rn.state;for(gn=0;gn<qn;++gn){const jn=xn[gn];typeof jn=="string"?Array.prototype.push.apply(cn,Xt.handleText(jn,Vn)):typeof jn=="number"&&cn.push(jn)}$n[0]=cn,tr=s.OPS.showText;break;case s.OPS.nextLineShowText:if(!rn.state.font){Xt.ensureStateFont(rn.state);continue}Dt.addOp(s.OPS.nextLine),$n[0]=Xt.handleText($n[0],rn.state),tr=s.OPS.showText;break;case s.OPS.nextLineSetSpacingShowText:if(!rn.state.font){Xt.ensureStateFont(rn.state);continue}Dt.addOp(s.OPS.nextLine),Dt.addOp(s.OPS.setWordSpacing,[$n.shift()]),Dt.addOp(s.OPS.setCharSpacing,[$n.shift()]),$n[0]=Xt.handleText($n[0],rn.state),tr=s.OPS.showText;break;case s.OPS.setTextRenderingMode:rn.state.textRenderingMode=$n[0];break;case s.OPS.setFillColorSpace:{const jn=nt.ColorSpace.getCached($n[0],Ut,Kt);if(jn){rn.state.fillColorSpace=jn;continue}En(Xt.parseColorSpace({cs:$n[0],resources:It,localColorSpaceCache:Kt}).then(function(ur){ur&&(rn.state.fillColorSpace=ur)}));return}case s.OPS.setStrokeColorSpace:{const jn=nt.ColorSpace.getCached($n[0],Ut,Kt);if(jn){rn.state.strokeColorSpace=jn;continue}En(Xt.parseColorSpace({cs:$n[0],resources:It,localColorSpaceCache:Kt}).then(function(ur){ur&&(rn.state.strokeColorSpace=ur)}));return}case s.OPS.setFillColor:on=rn.state.fillColorSpace,$n=on.getRgb($n,0),tr=s.OPS.setFillRGBColor;break;case s.OPS.setStrokeColor:on=rn.state.strokeColorSpace,$n=on.getRgb($n,0),tr=s.OPS.setStrokeRGBColor;break;case s.OPS.setFillGray:rn.state.fillColorSpace=nt.ColorSpace.singletons.gray,$n=nt.ColorSpace.singletons.gray.getRgb($n,0),tr=s.OPS.setFillRGBColor;break;case s.OPS.setStrokeGray:rn.state.strokeColorSpace=nt.ColorSpace.singletons.gray,$n=nt.ColorSpace.singletons.gray.getRgb($n,0),tr=s.OPS.setStrokeRGBColor;break;case s.OPS.setFillCMYKColor:rn.state.fillColorSpace=nt.ColorSpace.singletons.cmyk,$n=nt.ColorSpace.singletons.cmyk.getRgb($n,0),tr=s.OPS.setFillRGBColor;break;case s.OPS.setStrokeCMYKColor:rn.state.strokeColorSpace=nt.ColorSpace.singletons.cmyk,$n=nt.ColorSpace.singletons.cmyk.getRgb($n,0),tr=s.OPS.setStrokeRGBColor;break;case s.OPS.setFillRGBColor:rn.state.fillColorSpace=nt.ColorSpace.singletons.rgb,$n=nt.ColorSpace.singletons.rgb.getRgb($n,0);break;case s.OPS.setStrokeRGBColor:rn.state.strokeColorSpace=nt.ColorSpace.singletons.rgb,$n=nt.ColorSpace.singletons.rgb.getRgb($n,0);break;case s.OPS.setFillColorN:if(on=rn.state.fillColorSpace,on.name==="Pattern"){En(Xt.handleColorN(Dt,s.OPS.setFillColorN,$n,on,en,It,Lt,Kt,Yt,Zt));return}$n=on.getRgb($n,0),tr=s.OPS.setFillRGBColor;break;case s.OPS.setStrokeColorN:if(on=rn.state.strokeColorSpace,on.name==="Pattern"){En(Xt.handleColorN(Dt,s.OPS.setStrokeColorN,$n,on,en,It,Lt,Kt,Yt,Zt));return}$n=on.getRgb($n,0),tr=s.OPS.setStrokeRGBColor;break;case s.OPS.shadingFill:var Gn=It.get("Shading");if(!Gn)throw new s.FormatError("No shading resource found");var lr=Gn.get($n[0].name);if(!lr)throw new s.FormatError("No shading object found");$n=[Xt.parseShading({shading:lr,resources:It,localColorSpaceCache:Kt,localShadingPatternCache:Zt})],tr=s.OPS.shadingFill;break;case s.OPS.setGState:if(Xn=$n[0]instanceof Tt.Name,Dn=$n[0].name,Xn){const jn=Vt.getByName(Dn);if(jn){jn.length>0&&Dt.addOp(s.OPS.setGState,[jn]),$n=null;continue}}En(new Promise(function(jn,ur){if(!Xn)throw new s.FormatError("GState must be referred to by name.");const rr=It.get("ExtGState");if(!(rr instanceof Tt.Dict))throw new s.FormatError("ExtGState should be a dictionary.");const Tr=rr.get(Dn);if(!(Tr instanceof Tt.Dict))throw new s.FormatError("GState should be a dictionary.");Xt.setGState({resources:It,gState:Tr,operatorList:Dt,cacheKey:Dn,task:Lt,stateManager:rn,localGStateCache:Vt,localColorSpaceCache:Kt}).then(jn,ur)}).catch(function(jn){if(!(jn instanceof s.AbortException)){if(Xt.options.ignoreErrors){Xt.handler.send("UnsupportedFeature",{featureId:s.UNSUPPORTED_FEATURES.errorExtGState}),(0,s.warn)(`getOperatorList - ignoring ExtGState: "${jn}".`);return}throw jn}}));return;case s.OPS.moveTo:case s.OPS.lineTo:case s.OPS.curveTo:case s.OPS.curveTo2:case s.OPS.curveTo3:case s.OPS.closePath:case s.OPS.rectangle:Xt.buildPath(Dt,tr,$n,Gt);continue;case s.OPS.markPoint:case s.OPS.markPointProps:case s.OPS.beginCompat:case s.OPS.endCompat:continue;case s.OPS.beginMarkedContentProps:if(!($n[0]instanceof Tt.Name)){(0,s.warn)(`Expected name for beginMarkedContentProps arg0=${$n[0]}`);continue}if($n[0].name==="OC"){En(Xt.parseMarkedContentProps($n[1],It).then(jn=>{Dt.addOp(s.OPS.beginMarkedContentProps,["OC",jn])}).catch(jn=>{if(!(jn instanceof s.AbortException)){if(Xt.options.ignoreErrors){Xt.handler.send("UnsupportedFeature",{featureId:s.UNSUPPORTED_FEATURES.errorMarkedContent}),(0,s.warn)(`getOperatorList - ignoring beginMarkedContentProps: "${jn}".`);return}throw jn}}));return}$n=[$n[0].name,$n[1]instanceof Tt.Dict?$n[1].get("MCID"):null];break;case s.OPS.beginMarkedContent:case s.OPS.endMarkedContent:default:if($n!==null){for(gn=0,hn=$n.length;gn<hn&&!($n[gn]instanceof Tt.Dict);gn++);if(gn<hn){(0,s.warn)("getOperatorList - ignoring operator: "+tr);continue}}}Dt.addOp(tr,$n)}if(Cn){En(St);return}un(),yn()}).catch(pn=>{if(!(pn instanceof s.AbortException)){if(this.options.ignoreErrors){this.handler.send("UnsupportedFeature",{featureId:s.UNSUPPORTED_FEATURES.errorOperatorList}),(0,s.warn)(`getOperatorList - ignoring errors during "${Lt.name}" task: "${pn}".`),un();return}throw pn}})}getTextContent({stream:_t,task:Lt,resources:It,stateManager:Dt=null,combineTextItems:jt=!1,includeMarkedContent:Ot=!1,sink:Xt,seenStyles:Ut=new Set,viewBox:Gt}){It=It||Tt.Dict.empty,Dt=Dt||new Ht(new xt);const qt=(0,$.getNormalizedUnicodes)(),Kt={items:[],styles:Object.create(null)},Vt={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,prevTransform:null,textAdvanceScale:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,negativeSpaceMax:-1/0,notASpace:-1/0,transform:null,fontName:null,hasEOL:!1},Yt=[" "," "];let Zt=0;function Qt(jn){const ur=(Zt+1)%2,rr=Yt[Zt]!==" "&&Yt[ur]===" ";return Yt[Zt]=jn,Zt=ur,rr}function en(){Yt[0]=Yt[1]=" ",Zt=0}const rn=.1,an=.03,fn=-.2,un=.1,pn=.6,yn=this,On=this.xref,En=[];let An=null;const Cn=new dt.LocalImageCache,gn=new dt.LocalGStateCache,hn=new mt(_t,On,Dt);let on;function Dn(){const jn=on.font,ur=[on.fontSize*on.textHScale,0,0,on.fontSize,0,on.textRise];if(jn.isType3Font&&(on.fontSize<=1||jn.isCharBBox)&&!(0,s.isArrayEqual)(on.fontMatrix,s.FONT_IDENTITY_MATRIX)){const rr=jn.bbox[3]-jn.bbox[1];rr>0&&(ur[3]*=rr*on.fontMatrix[3])}return s.Util.transform(on.ctm,s.Util.transform(on.textMatrix,ur))}function Xn(){if(Vt.initialized)return Vt;const jn=on.font,ur=jn.loadedName;Ut.has(ur)||(Ut.add(ur),Kt.styles[ur]={fontFamily:jn.fallbackName,ascent:jn.ascent,descent:jn.descent,vertical:jn.vertical}),Vt.fontName=ur;const rr=Vt.transform=Dn();jn.vertical?(Vt.width=Vt.totalWidth=Math.hypot(rr[0],rr[1]),Vt.height=Vt.totalHeight=0,Vt.vertical=!0):(Vt.width=Vt.totalWidth=0,Vt.height=Vt.totalHeight=Math.hypot(rr[2],rr[3]),Vt.vertical=!1);const Tr=Math.hypot(on.textLineMatrix[0],on.textLineMatrix[1]),br=Math.hypot(on.ctm[0],on.ctm[1]);return Vt.textAdvanceScale=br*Tr,Vt.trackingSpaceMin=on.fontSize*rn,Vt.notASpace=on.fontSize*an,Vt.negativeSpaceMax=on.fontSize*fn,Vt.spaceInFlowMin=on.fontSize*un,Vt.spaceInFlowMax=on.fontSize*pn,Vt.hasEOL=!1,Vt.initialized=!0,Vt}function er(){if(!Vt.initialized)return;const jn=Math.hypot(on.textLineMatrix[0],on.textLineMatrix[1]),rr=Math.hypot(on.ctm[0],on.ctm[1])*jn;rr!==Vt.textAdvanceScale&&(Vt.vertical?(Vt.totalHeight+=Vt.height*Vt.textAdvanceScale,Vt.height=0):(Vt.totalWidth+=Vt.width*Vt.textAdvanceScale,Vt.width=0),Vt.textAdvanceScale=rr)}function Sn(jn){const ur=jn.str.join(""),rr=(0,et.bidi)(ur,-1,jn.vertical);return{str:rr.str,dir:rr.dir,width:Math.abs(jn.totalWidth),height:Math.abs(jn.totalHeight),transform:jn.transform,fontName:jn.fontName,hasEOL:jn.hasEOL}}function xn(jn,ur){return yn.loadFont(jn,ur,It).then(function(rr){return rr.font.isType3Font?rr.loadType3Data(yn,It,Lt).catch(function(){}).then(function(){return rr}):rr}).then(function(rr){on.font=rr.font,on.fontMatrix=rr.font.fontMatrix||s.FONT_IDENTITY_MATRIX})}function cn(jn,ur,rr){const Tr=Math.hypot(rr[0],rr[1]);return[(rr[0]*jn+rr[1]*ur)/Tr,(rr[2]*jn+rr[3]*ur)/Tr]}function qn(){const jn=Dn();let ur=jn[4],rr=jn[5];const Tr=ur-Gt[0],br=rr-Gt[1];if(Tr<0||Tr>Gt[2]||br<0||br>Gt[3])return!1;if(!jt||!on.font||!Vt.prevTransform)return!0;let yr=Vt.prevTransform[4],cr=Vt.prevTransform[5];if(yr===ur&&cr===rr)return!0;let Jr=-1;switch(jn[0]&&jn[1]===0&&jn[2]===0?Jr=jn[0]>0?0:180:jn[1]&&jn[0]===0&&jn[3]===0&&(Jr=jn[1]>0?90:270),Jr){case 0:break;case 90:[ur,rr]=[rr,ur],[yr,cr]=[cr,yr];break;case 180:[ur,rr,yr,cr]=[-ur,-rr,-yr,-cr];break;case 270:[ur,rr]=[-rr,-ur],[yr,cr]=[-cr,-yr];break;default:[ur,rr]=cn(ur,rr,jn),[yr,cr]=cn(yr,cr,Vt.prevTransform)}if(on.font.vertical){const zn=(cr-rr)/Vt.textAdvanceScale,Wn=ur-yr,sr=Math.sign(Vt.height);return zn<sr*Vt.negativeSpaceMax?Math.abs(Wn)>.5*Vt.width?(Gn(),!0):(en(),$n(),!0):Math.abs(Wn)>Vt.width?(Gn(),!0):(zn<=sr*Vt.notASpace&&en(),zn<=sr*Vt.trackingSpaceMin?Vt.height+=zn:lr(zn,Vt.prevTransform,sr)||(Vt.str.length===0?(en(),Kt.items.push({str:" ",dir:"ltr",width:0,height:Math.abs(zn),transform:Vt.prevTransform,fontName:Vt.fontName,hasEOL:!1})):Vt.height+=zn),!0)}const Vr=(ur-yr)/Vt.textAdvanceScale,Un=rr-cr,Mn=Math.sign(Vt.width);return Vr<Mn*Vt.negativeSpaceMax?Math.abs(Un)>.5*Vt.height?(Gn(),!0):(en(),$n(),!0):Math.abs(Un)>Vt.height?(Gn(),!0):(Vr<=Mn*Vt.notASpace&&en(),Vr<=Mn*Vt.trackingSpaceMin?Vt.width+=Vr:lr(Vr,Vt.prevTransform,Mn)||(Vt.str.length===0?(en(),Kt.items.push({str:" ",dir:"ltr",width:Math.abs(Vr),height:0,transform:Vt.prevTransform,fontName:Vt.fontName,hasEOL:!1})):Vt.width+=Vr),!0)}function Vn({chars:jn,extraSpacing:ur}){const rr=on.font;if(!jn){const yr=on.charSpacing+ur;yr&&(rr.vertical?on.translateTextMatrix(0,-yr):on.translateTextMatrix(yr*on.textHScale,0));return}const Tr=rr.charsToGlyphs(jn),br=on.fontMatrix[0]*on.fontSize;for(let yr=0,cr=Tr.length;yr<cr;yr++){const Jr=Tr[yr];if(Jr.isInvisibleFormatMark)continue;let Vr=on.charSpacing+(yr+1===cr?ur:0),Un=Jr.width;rr.vertical&&(Un=Jr.vmetric?Jr.vmetric[0]:-Un);let Mn=Un*br;if(Jr.isWhitespace){rr.vertical?(Vr+=-Mn+on.wordSpacing,on.translateTextMatrix(0,-Vr)):(Vr+=Mn+on.wordSpacing,on.translateTextMatrix(Vr*on.textHScale,0)),Qt(" ");continue}if(!qn())continue;const zn=Xn();Jr.isZeroWidthDiacritic&&(Mn=0),rr.vertical?(on.translateTextMatrix(0,Mn),Mn=Math.abs(Mn),zn.height+=Mn):(Mn*=on.textHScale,on.translateTextMatrix(Mn,0),zn.width+=Mn),Mn&&(zn.prevTransform=Dn());let Wn=Jr.unicode;Wn=qt[Wn]||Wn,Wn=(0,$.reverseIfRtl)(Wn),Qt(Wn)&&zn.str.push(" "),zn.str.push(Wn),Vr&&(rr.vertical?on.translateTextMatrix(0,-Vr):on.translateTextMatrix(Vr*on.textHScale,0))}}function Gn(){en(),Vt.initialized?(Vt.hasEOL=!0,$n()):Kt.items.push({str:"",dir:"ltr",width:0,height:0,transform:Dn(),fontName:on.font.loadedName,hasEOL:!0})}function lr(jn,ur,rr){if(rr*Vt.spaceInFlowMin<=jn&&jn<=rr*Vt.spaceInFlowMax)return Vt.initialized&&(en(),Vt.str.push(" ")),!1;const Tr=Vt.fontName;let br=0;return Vt.vertical&&(br=jn,jn=0),$n(),en(),Kt.items.push({str:" ",dir:"ltr",width:Math.abs(jn),height:Math.abs(br),transform:ur||Dn(),fontName:Tr,hasEOL:!1}),!0}function $n(){!Vt.initialized||!Vt.str||(Vt.vertical?Vt.totalHeight+=Vt.height*Vt.textAdvanceScale:Vt.totalWidth+=Vt.width*Vt.textAdvanceScale,Kt.items.push(Sn(Vt)),Vt.initialized=!1,Vt.str.length=0)}function tr(jn=!1){const ur=Kt.items.length;ur!==0&&(jn&&ur<bt||(Xt.enqueue(Kt,ur),Kt.items=[],Kt.styles=Object.create(null)))}const pr=new yt;return new Promise(function jn(ur,rr){const Tr=function(zn){tr(!0),Promise.all([zn,Xt.ready]).then(function(){try{jn(ur,rr)}catch(Wn){rr(Wn)}},rr)};Lt.ensureNotTerminated(),pr.reset();const br={};let yr,cr=[];for(;!(yr=pr.check())&&(cr.length=0,br.args=cr,!!hn.read(br));){on=Dt.state;const zn=br.fn;switch(cr=br.args,zn|0){case s.OPS.setFont:var Jr=cr[0].name,Vr=cr[1];if(on.font&&Jr===on.fontName&&Vr===on.fontSize)break;$n(),on.fontName=Jr,on.fontSize=Vr,Tr(xn(Jr,null));return;case s.OPS.setTextRise:on.textRise=cr[0];break;case s.OPS.setHScale:on.textHScale=cr[0]/100;break;case s.OPS.setLeading:on.leading=cr[0];break;case s.OPS.moveText:on.translateTextLineMatrix(cr[0],cr[1]),on.textMatrix=on.textLineMatrix.slice();break;case s.OPS.setLeadingMoveText:on.leading=-cr[1],on.translateTextLineMatrix(cr[0],cr[1]),on.textMatrix=on.textLineMatrix.slice();break;case s.OPS.nextLine:on.carriageReturn();break;case s.OPS.setTextMatrix:on.setTextMatrix(cr[0],cr[1],cr[2],cr[3],cr[4],cr[5]),on.setTextLineMatrix(cr[0],cr[1],cr[2],cr[3],cr[4],cr[5]),er();break;case s.OPS.setCharSpacing:on.charSpacing=cr[0];break;case s.OPS.setWordSpacing:on.wordSpacing=cr[0];break;case s.OPS.beginText:on.textMatrix=s.IDENTITY_MATRIX.slice(),on.textLineMatrix=s.IDENTITY_MATRIX.slice();break;case s.OPS.showSpacedText:if(!Dt.state.font){yn.ensureStateFont(Dt.state);continue}const Wn=(on.font.vertical?1:-1)*on.fontSize/1e3,sr=cr[0];for(let ir=0,Jn=sr.length;ir<Jn-1;ir++){const or=sr[ir];if(typeof or=="string")En.push(or);else if(typeof or=="number"&&or!==0){const hr=En.join("");En.length=0,Vn({chars:hr,extraSpacing:or*Wn})}}const gr=sr.at(-1);if(typeof gr=="string"&&En.push(gr),En.length>0){const ir=En.join("");En.length=0,Vn({chars:ir,extraSpacing:0})}break;case s.OPS.showText:if(!Dt.state.font){yn.ensureStateFont(Dt.state);continue}Vn({chars:cr[0],extraSpacing:0});break;case s.OPS.nextLineShowText:if(!Dt.state.font){yn.ensureStateFont(Dt.state);continue}on.carriageReturn(),Vn({chars:cr[0],extraSpacing:0});break;case s.OPS.nextLineSetSpacingShowText:if(!Dt.state.font){yn.ensureStateFont(Dt.state);continue}on.wordSpacing=cr[0],on.charSpacing=cr[1],on.carriageReturn(),Vn({chars:cr[2],extraSpacing:0});break;case s.OPS.paintXObject:$n(),An||(An=It.get("XObject")||Tt.Dict.empty);var Un=cr[0]instanceof Tt.Name,Mn=cr[0].name;if(Un&&Cn.getByName(Mn))break;Tr(new Promise(function(ir,Jn){if(!Un)throw new s.FormatError("XObject must be referred to by name.");let or=An.getRaw(Mn);if(or instanceof Tt.Ref){if(Cn.getByRef(or)){ir();return}if(yn.globalImageCache.getData(or,yn.pageIndex)){ir();return}or=On.fetch(or)}if(!(or instanceof h.BaseStream))throw new s.FormatError("XObject should be a stream");const hr=or.dict.get("Subtype");if(!(hr instanceof Tt.Name))throw new s.FormatError("XObject should have a Name subtype");if(hr.name!=="Form"){Cn.set(Mn,or.dict.objId,!0),ir();return}const kr=Dt.state.clone(),_r=new Ht(kr),dr=or.dict.getArray("Matrix");Array.isArray(dr)&&dr.length===6&&_r.transform(dr),tr();const mn={enqueueInvoked:!1,enqueue(Fn,Bn){this.enqueueInvoked=!0,Xt.enqueue(Fn,Bn)},get desiredSize(){return Xt.desiredSize},get ready(){return Xt.ready}};yn.getTextContent({stream:or,task:Lt,resources:or.dict.get("Resources")||It,stateManager:_r,combineTextItems:jt,includeMarkedContent:Ot,sink:mn,seenStyles:Ut,viewBox:Gt}).then(function(){mn.enqueueInvoked||Cn.set(Mn,or.dict.objId,!0),ir()},Jn)}).catch(function(ir){if(!(ir instanceof s.AbortException)){if(yn.options.ignoreErrors){(0,s.warn)(`getTextContent - ignoring XObject: "${ir}".`);return}throw ir}}));return;case s.OPS.setGState:if(Un=cr[0]instanceof Tt.Name,Mn=cr[0].name,Un&&gn.getByName(Mn))break;Tr(new Promise(function(ir,Jn){if(!Un)throw new s.FormatError("GState must be referred to by name.");const or=It.get("ExtGState");if(!(or instanceof Tt.Dict))throw new s.FormatError("ExtGState should be a dictionary.");const hr=or.get(Mn);if(!(hr instanceof Tt.Dict))throw new s.FormatError("GState should be a dictionary.");const kr=hr.get("Font");if(!kr){gn.set(Mn,hr.objId,!0),ir();return}$n(),on.fontName=null,on.fontSize=kr[1],xn(null,kr[0]).then(ir,Jn)}).catch(function(ir){if(!(ir instanceof s.AbortException)){if(yn.options.ignoreErrors){(0,s.warn)(`getTextContent - ignoring ExtGState: "${ir}".`);return}throw ir}}));return;case s.OPS.beginMarkedContent:$n(),Ot&&Kt.items.push({type:"beginMarkedContent",tag:cr[0]instanceof Tt.Name?cr[0].name:null});break;case s.OPS.beginMarkedContentProps:if($n(),Ot){let ir=null;cr[1]instanceof Tt.Dict&&(ir=cr[1].get("MCID")),Kt.items.push({type:"beginMarkedContentProps",id:Number.isInteger(ir)?`${yn.idFactory.getPageObjId()}_mcid${ir}`:null,tag:cr[0]instanceof Tt.Name?cr[0].name:null})}break;case s.OPS.endMarkedContent:$n(),Ot&&Kt.items.push({type:"endMarkedContent"});break}if(Kt.items.length>=Xt.desiredSize){yr=!0;break}}if(yr){Tr(St);return}$n(),tr(),ur()}).catch(jn=>{if(!(jn instanceof s.AbortException)){if(this.options.ignoreErrors){(0,s.warn)(`getTextContent - ignoring errors during "${Lt.name}" task: "${jn}".`),$n(),tr();return}throw jn}})}extractDataStructures(_t,Lt,It){const Dt=this.xref;let jt;const Ot=this.readToUnicode(It.toUnicode||_t.get("ToUnicode")||Lt.get("ToUnicode"));if(It.composite){const qt=_t.get("CIDSystemInfo");qt instanceof Tt.Dict&&(It.cidSystemInfo={registry:(0,s.stringToPDFString)(qt.get("Registry")),ordering:(0,s.stringToPDFString)(qt.get("Ordering")),supplement:qt.get("Supplement")});try{const Kt=_t.get("CIDToGIDMap");Kt instanceof h.BaseStream&&(jt=Kt.getBytes())}catch(Kt){if(!this.options.ignoreErrors)throw Kt;(0,s.warn)(`extractDataStructures - ignoring CIDToGIDMap data: "${Kt}".`)}}const Xt=[];let Ut=null,Gt;if(_t.has("Encoding")){if(Gt=_t.get("Encoding"),Gt instanceof Tt.Dict){if(Ut=Gt.get("BaseEncoding"),Ut=Ut instanceof Tt.Name?Ut.name:null,Gt.has("Differences")){const qt=Gt.get("Differences");let Kt=0;for(let Vt=0,Yt=qt.length;Vt<Yt;Vt++){const Zt=Dt.fetchIfRef(qt[Vt]);if(typeof Zt=="number")Kt=Zt;else if(Zt instanceof Tt.Name)Xt[Kt++]=Zt.name;else throw new s.FormatError(`Invalid entry in 'Differences' array: ${Zt}`)}}}else if(Gt instanceof Tt.Name)Ut=Gt.name;else{const qt="Encoding is not a Name nor a Dict";if(!this.options.ignoreErrors)throw new s.FormatError(qt);(0,s.warn)(qt)}Ut!=="MacRomanEncoding"&&Ut!=="MacExpertEncoding"&&Ut!=="WinAnsiEncoding"&&(Ut=null)}if(Ut)It.defaultEncoding=(0,gt.getEncoding)(Ut);else{const qt=!!(It.flags&e.FontFlags.Symbolic),Kt=!!(It.flags&e.FontFlags.Nonsymbolic);Gt=gt.StandardEncoding,It.type==="TrueType"&&!Kt&&(Gt=gt.WinAnsiEncoding),qt&&(Gt=gt.MacRomanEncoding,(!It.file||It.isInternalFont)&&(/Symbol/i.test(It.name)?Gt=gt.SymbolSetEncoding:/Dingbats|Wingdings/i.test(It.name)&&(Gt=gt.ZapfDingbatsEncoding))),It.defaultEncoding=Gt}return It.differences=Xt,It.baseEncodingName=Ut,It.hasEncoding=!!Ut||Xt.length>0,It.dict=_t,Ot.then(qt=>(It.toUnicode=qt,this.buildToUnicode(It))).then(qt=>(It.toUnicode=qt,jt&&(It.cidToGidMap=this.readCidToGidMap(jt,qt)),It))}_simpleFontToUnicode(_t,Lt=!1){(0,s.assert)(!_t.composite,"Must be a simple font.");const It=[],Dt=_t.defaultEncoding.slice(),jt=_t.baseEncodingName,Ot=_t.differences;for(const Ut in Ot){const Gt=Ot[Ut];Gt!==".notdef"&&(Dt[Ut]=Gt)}const Xt=(0,Bt.getGlyphsUnicode)();for(const Ut in Dt){let Gt=Dt[Ut];if(Gt!==""){if(Xt[Gt]===void 0){let qt=0;switch(Gt[0]){case"G":Gt.length===3&&(qt=parseInt(Gt.substring(1),16));break;case"g":Gt.length===5&&(qt=parseInt(Gt.substring(1),16));break;case"C":case"c":if(Gt.length>=3&&Gt.length<=4){const Vt=Gt.substring(1);if(Lt){qt=parseInt(Vt,16);break}if(qt=+Vt,Number.isNaN(qt)&&Number.isInteger(parseInt(Vt,16)))return this._simpleFontToUnicode(_t,!0)}break;default:const Kt=(0,$.getUnicodeForGlyph)(Gt,Xt);Kt!==-1&&(qt=Kt)}if(qt>0&&qt<=1114111&&Number.isInteger(qt)){if(jt&&qt===+Ut){const Kt=(0,gt.getEncoding)(jt);if(Kt&&(Gt=Kt[Ut])){It[Ut]=String.fromCharCode(Xt[Gt]);continue}}It[Ut]=String.fromCodePoint(qt)}continue}It[Ut]=String.fromCharCode(Xt[Gt])}}return It}async buildToUnicode(_t){if(_t.hasIncludedToUnicodeMap=!!_t.toUnicode&&_t.toUnicode.length>0,_t.hasIncludedToUnicodeMap)return!_t.composite&&_t.hasEncoding&&(_t.fallbackToUnicode=this._simpleFontToUnicode(_t)),_t.toUnicode;if(!_t.composite)return new g.ToUnicodeMap(this._simpleFontToUnicode(_t));if(_t.composite&&(_t.cMap.builtInCMap&&!(_t.cMap instanceof st.IdentityCMap)||_t.cidSystemInfo.registry==="Adobe"&&(_t.cidSystemInfo.ordering==="GB1"||_t.cidSystemInfo.ordering==="CNS1"||_t.cidSystemInfo.ordering==="Japan1"||_t.cidSystemInfo.ordering==="Korea1"))){const{registry:Lt,ordering:It}=_t.cidSystemInfo,Dt=Tt.Name.get(`${Lt}-${It}-UCS2`),jt=await st.CMapFactory.create({encoding:Dt,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}),Ot=[];return _t.cMap.forEach(function(Xt,Ut){if(Ut>65535)throw new s.FormatError("Max size of CID is 65,535");const Gt=jt.lookup(Ut);Gt&&(Ot[Xt]=String.fromCharCode((Gt.charCodeAt(0)<<8)+Gt.charCodeAt(1)))}),new g.ToUnicodeMap(Ot)}return new g.IdentityToUnicodeMap(_t.firstChar,_t.lastChar)}readToUnicode(_t){return _t?_t instanceof Tt.Name?st.CMapFactory.create({encoding:_t,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(Lt){return Lt instanceof st.IdentityCMap?new g.IdentityToUnicodeMap(0,65535):new g.ToUnicodeMap(Lt.getMap())}):_t instanceof h.BaseStream?st.CMapFactory.create({encoding:_t,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(Lt){if(Lt instanceof st.IdentityCMap)return new g.IdentityToUnicodeMap(0,65535);const It=new Array(Lt.length);return Lt.forEach(function(Dt,jt){if(typeof jt=="number"){It[Dt]=String.fromCodePoint(jt);return}const Ot=[];for(let Xt=0;Xt<jt.length;Xt+=2){const Ut=jt.charCodeAt(Xt)<<8|jt.charCodeAt(Xt+1);if((Ut&63488)!==55296){Ot.push(Ut);continue}Xt+=2;const Gt=jt.charCodeAt(Xt)<<8|jt.charCodeAt(Xt+1);Ot.push(((Ut&1023)<<10)+(Gt&1023)+65536)}It[Dt]=String.fromCodePoint(...Ot)}),new g.ToUnicodeMap(It)},Lt=>{if(Lt instanceof s.AbortException)return null;if(this.options.ignoreErrors)return this.handler.send("UnsupportedFeature",{featureId:s.UNSUPPORTED_FEATURES.errorFontToUnicode}),(0,s.warn)(`readToUnicode - ignoring ToUnicode data: "${Lt}".`),null;throw Lt}):Promise.resolve(null):Promise.resolve(null)}readCidToGidMap(_t,Lt){const It=[];for(let Dt=0,jt=_t.length;Dt<jt;Dt++){const Ot=_t[Dt++]<<8|_t[Dt],Xt=Dt>>1;Ot===0&&!Lt.has(Xt)||(It[Xt]=Ot)}return It}extractWidths(_t,Lt,It){const Dt=this.xref;let jt=[],Ot=0;const Xt=[];let Ut,Gt,qt,Kt,Vt,Yt,Zt,Qt;if(It.composite){if(Ot=_t.has("DW")?_t.get("DW"):1e3,Qt=_t.get("W"),Qt)for(Gt=0,qt=Qt.length;Gt<qt;Gt++)if(Yt=Dt.fetchIfRef(Qt[Gt++]),Zt=Dt.fetchIfRef(Qt[Gt]),Array.isArray(Zt))for(Kt=0,Vt=Zt.length;Kt<Vt;Kt++)jt[Yt++]=Dt.fetchIfRef(Zt[Kt]);else{const an=Dt.fetchIfRef(Qt[++Gt]);for(Kt=Yt;Kt<=Zt;Kt++)jt[Kt]=an}if(It.vertical){let an=_t.getArray("DW2")||[880,-1e3];if(Ut=[an[1],Ot*.5,an[0]],an=_t.get("W2"),an)for(Gt=0,qt=an.length;Gt<qt;Gt++)if(Yt=Dt.fetchIfRef(an[Gt++]),Zt=Dt.fetchIfRef(an[Gt]),Array.isArray(Zt))for(Kt=0,Vt=Zt.length;Kt<Vt;Kt++)Xt[Yt++]=[Dt.fetchIfRef(Zt[Kt++]),Dt.fetchIfRef(Zt[Kt++]),Dt.fetchIfRef(Zt[Kt])];else{const fn=[Dt.fetchIfRef(an[++Gt]),Dt.fetchIfRef(an[++Gt]),Dt.fetchIfRef(an[++Gt])];for(Kt=Yt;Kt<=Zt;Kt++)Xt[Kt]=fn}}}else{const an=It.firstChar;if(Qt=_t.get("Widths"),Qt){for(Kt=an,Gt=0,qt=Qt.length;Gt<qt;Gt++)jt[Kt++]=Dt.fetchIfRef(Qt[Gt]);Ot=parseFloat(Lt.get("MissingWidth"))||0}else{const fn=_t.get("BaseFont");if(fn instanceof Tt.Name){const un=this.getBaseFontMetrics(fn.name);jt=this.buildCharCodeToWidth(un.widths,It),Ot=un.defaultWidth}}}let en=!0,rn=Ot;for(const an in jt){const fn=jt[an];if(fn){if(!rn){rn=fn;continue}if(rn!==fn){en=!1;break}}}en&&(It.flags|=e.FontFlags.FixedPitch),It.defaultWidth=Ot,It.widths=jt,It.defaultVMetrics=Ut,It.vmetrics=Xt}isSerifFont(_t){const Lt=_t.split("-")[0];return Lt in(0,_.getSerifFonts)()||Lt.search(/serif/gi)!==-1}getBaseFontMetrics(_t){let Lt=0,It=Object.create(null),Dt=!1,Ot=(0,_.getStdFontMap)()[_t]||_t;const Xt=(0,Rt.getMetrics)();Ot in Xt||(this.isSerifFont(_t)?Ot="Times-Roman":Ot="Helvetica");const Ut=Xt[Ot];return typeof Ut=="number"?(Lt=Ut,Dt=!0):It=Ut(),{defaultWidth:Lt,monospace:Dt,widths:It}}buildCharCodeToWidth(_t,Lt){const It=Object.create(null),Dt=Lt.differences,jt=Lt.defaultEncoding;for(let Ot=0;Ot<256;Ot++){if(Ot in Dt&&_t[Dt[Ot]]){It[Ot]=_t[Dt[Ot]];continue}if(Ot in jt&&_t[jt[Ot]]){It[Ot]=_t[jt[Ot]];continue}}return It}preEvaluateFont(_t){const Lt=_t;let It=_t.get("Subtype");if(!(It instanceof Tt.Name))throw new s.FormatError("invalid font Subtype");let Dt=!1,jt,Ot;if(It.name==="Type0"){const qt=_t.get("DescendantFonts");if(!qt)throw new s.FormatError("Descendant fonts are not specified");if(_t=Array.isArray(qt)?this.xref.fetchIfRef(qt[0]):qt,!(_t instanceof Tt.Dict))throw new s.FormatError("Descendant font is not a dictionary.");if(It=_t.get("Subtype"),!(It instanceof Tt.Name))throw new s.FormatError("invalid font Subtype");Dt=!0}const Xt=_t.get("FirstChar")||0,Ut=_t.get("LastChar")||(Dt?65535:255),Gt=_t.get("FontDescriptor");if(Gt){jt=new Ft.MurmurHash3_64;const qt=Lt.getRaw("Encoding");if(qt instanceof Tt.Name)jt.update(qt.name);else if(qt instanceof Tt.Ref)jt.update(qt.toString());else if(qt instanceof Tt.Dict){for(const Vt of qt.getRawValues())if(Vt instanceof Tt.Name)jt.update(Vt.name);else if(Vt instanceof Tt.Ref)jt.update(Vt.toString());else if(Array.isArray(Vt)){const Yt=Vt.length,Zt=new Array(Yt);for(let Qt=0;Qt<Yt;Qt++){const en=Vt[Qt];en instanceof Tt.Name?Zt[Qt]=en.name:(typeof en=="number"||en instanceof Tt.Ref)&&(Zt[Qt]=en.toString())}jt.update(Zt.join())}}if(jt.update(`${Xt}-${Ut}`),Ot=_t.get("ToUnicode")||Lt.get("ToUnicode"),Ot instanceof h.BaseStream){const Vt=Ot.str||Ot,Yt=Vt.buffer?new Uint8Array(Vt.buffer.buffer,0,Vt.bufferLength):new Uint8Array(Vt.bytes.buffer,Vt.start,Vt.end-Vt.start);jt.update(Yt)}else Ot instanceof Tt.Name&&jt.update(Ot.name);const Kt=_t.get("Widths")||Lt.get("Widths");if(Array.isArray(Kt)){const Vt=[];for(const Yt of Kt)(typeof Yt=="number"||Yt instanceof Tt.Ref)&&Vt.push(Yt.toString());jt.update(Vt.join())}if(Dt){jt.update("compositeFont");const Vt=_t.get("W")||Lt.get("W");if(Array.isArray(Vt)){const Zt=[];for(const Qt of Vt)if(typeof Qt=="number"||Qt instanceof Tt.Ref)Zt.push(Qt.toString());else if(Array.isArray(Qt)){const en=[];for(const rn of Qt)(typeof rn=="number"||rn instanceof Tt.Ref)&&en.push(rn.toString());Zt.push(`[${en.join()}]`)}jt.update(Zt.join())}const Yt=_t.getRaw("CIDToGIDMap")||Lt.getRaw("CIDToGIDMap");Yt instanceof Tt.Name?jt.update(Yt.name):Yt instanceof Tt.Ref?jt.update(Yt.toString()):Yt instanceof h.BaseStream&&jt.update(Yt.peekBytes())}}return{descriptor:Gt,dict:_t,baseDict:Lt,composite:Dt,type:It.name,firstChar:Xt,lastChar:Ut,toUnicode:Ot,hash:jt?jt.hexdigest():""}}async translateFont({descriptor:_t,dict:Lt,baseDict:It,composite:Dt,type:jt,firstChar:Ot,lastChar:Xt,toUnicode:Ut,cssFontInfo:Gt}){const qt=jt==="Type3";let Kt;if(!_t)if(qt)_t=new Tt.Dict(null),_t.set("FontName",Tt.Name.get(jt)),_t.set("FontBBox",Lt.getArray("FontBBox")||[0,0,0,0]);else{let yn=Lt.get("BaseFont");if(!(yn instanceof Tt.Name))throw new s.FormatError("Base font is not specified");yn=yn.name.replace(/[,_]/g,"-");const On=this.getBaseFontMetrics(yn),En=yn.split("-")[0],An=(this.isSerifFont(En)?e.FontFlags.Serif:0)|(On.monospace?e.FontFlags.FixedPitch:0)|((0,_.getSymbolsFonts)()[En]?e.FontFlags.Symbolic:e.FontFlags.Nonsymbolic);Kt={type:jt,name:yn,loadedName:It.loadedName,widths:On.widths,defaultWidth:On.defaultWidth,isSimulatedFlags:!0,flags:An,firstChar:Ot,lastChar:Xt,toUnicode:Ut,xHeight:0,capHeight:0,italicAngle:0,isType3Font:qt};const Cn=Lt.get("Widths"),gn=(0,_.getStandardFontName)(yn);let hn=null;return gn&&(Kt.isStandardFont=!0,hn=await this.fetchStandardFontData(gn),Kt.isInternalFont=!!hn),this.extractDataStructures(Lt,Lt,Kt).then(on=>{if(Cn){const Dn=[];let Xn=Ot;for(let er=0,Sn=Cn.length;er<Sn;er++)Dn[Xn++]=this.xref.fetchIfRef(Cn[er]);on.widths=Dn}else on.widths=this.buildCharCodeToWidth(On.widths,on);return new wt.Font(yn,hn,on)})}let Vt=_t.get("FontName"),Yt=Lt.get("BaseFont");if(typeof Vt=="string"&&(Vt=Tt.Name.get(Vt)),typeof Yt=="string"&&(Yt=Tt.Name.get(Yt)),!qt){const yn=Vt&&Vt.name,On=Yt&&Yt.name;yn!==On&&((0,s.info)(`The FontDescriptor's FontName is "${yn}" but should be the same as the Font's BaseFont "${On}".`),yn&&On&&On.startsWith(yn)&&(Vt=Yt))}if(Vt=Vt||Yt,!(Vt instanceof Tt.Name))throw new s.FormatError("invalid font name");let Zt,Qt,en,rn,an;try{Zt=_t.get("FontFile","FontFile2","FontFile3")}catch(yn){if(!this.options.ignoreErrors)throw yn;(0,s.warn)(`translateFont - fetching "${Vt.name}" font file: "${yn}".`),Zt=new b.NullStream}let fn=!1,un=!1,pn=null;if(Zt){if(Zt.dict){const yn=Zt.dict.get("Subtype");yn instanceof Tt.Name&&(Qt=yn.name),en=Zt.dict.get("Length1"),rn=Zt.dict.get("Length2"),an=Zt.dict.get("Length3")}}else if(Gt){const yn=(0,j.getXfaFontName)(Vt.name);yn&&(Gt.fontFamily=`${Gt.fontFamily}-PdfJS-XFA`,Gt.metrics=yn.metrics||null,pn=yn.factors||null,Zt=await this.fetchStandardFontData(yn.name),un=!!Zt,It=Lt=(0,j.getXfaFontDict)(Vt.name),Dt=!0)}else if(!qt){const yn=(0,_.getStandardFontName)(Vt.name);yn&&(fn=!0,Zt=await this.fetchStandardFontData(yn),un=!!Zt)}if(Kt={type:jt,name:Vt.name,subtype:Qt,file:Zt,length1:en,length2:rn,length3:an,isStandardFont:fn,isInternalFont:un,loadedName:It.loadedName,composite:Dt,fixedPitch:!1,fontMatrix:Lt.getArray("FontMatrix")||s.FONT_IDENTITY_MATRIX,firstChar:Ot,lastChar:Xt,toUnicode:Ut,bbox:_t.getArray("FontBBox")||Lt.getArray("FontBBox"),ascent:_t.get("Ascent"),descent:_t.get("Descent"),xHeight:_t.get("XHeight")||0,capHeight:_t.get("CapHeight")||0,flags:_t.get("Flags"),italicAngle:_t.get("ItalicAngle")||0,isType3Font:qt,cssFontInfo:Gt,scaleFactors:pn},Dt){const yn=It.get("Encoding");yn instanceof Tt.Name&&(Kt.cidEncoding=yn.name);const On=await st.CMapFactory.create({encoding:yn,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});Kt.cMap=On,Kt.vertical=Kt.cMap.vertical}return this.extractDataStructures(Lt,It,Kt).then(yn=>(this.extractWidths(Lt,_t,yn),new wt.Font(Vt.name,Zt,yn)))}static buildFontPaths(_t,Lt,It,Dt){function jt(Ot){const Xt=`${_t.loadedName}_path_${Ot}`;try{if(_t.renderer.hasBuiltPath(Ot))return;It.send("commonobj",[Xt,"FontPath",_t.renderer.getPathJs(Ot)])}catch(Ut){if(Dt.ignoreErrors){It.send("UnsupportedFeature",{featureId:s.UNSUPPORTED_FEATURES.errorFontBuildPath}),(0,s.warn)(`buildFontPaths - ignoring ${Xt} glyph: "${Ut}".`);return}throw Ut}}for(const Ot of Lt){jt(Ot.fontChar);const Xt=Ot.accent;Xt&&Xt.fontChar&&jt(Xt.fontChar)}}static get fallbackFontDict(){const _t=new Tt.Dict;return _t.set("BaseFont",Tt.Name.get("PDFJS-FallbackFont")),_t.set("Type",Tt.Name.get("FallbackType")),_t.set("Subtype",Tt.Name.get("FallbackType")),_t.set("Encoding",Tt.Name.get("WinAnsiEncoding")),(0,s.shadow)(this,"fallbackFontDict",_t)}}ct.PartialEvaluator=At;class Nt{constructor({loadedName:_t,font:Lt,dict:It,evaluatorOptions:Dt}){this.loadedName=_t,this.font=Lt,this.dict=It,this._evaluatorOptions=Dt||it,this.type3Loaded=null,this.type3Dependencies=Lt.isType3Font?new Set:null,this.sent=!1}send(_t){this.sent||(this.sent=!0,_t.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._evaluatorOptions.fontExtraProperties)]))}fallback(_t){this.font.data&&(this.font.disableFontFace=!0,At.buildFontPaths(this.font,this.font.glyphCacheValues,_t,this._evaluatorOptions))}loadType3Data(_t,Lt,It){if(this.type3Loaded)return this.type3Loaded;if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");const Dt=_t.clone({ignoreErrors:!1});Dt.parsingType3Font=!0;const jt=new Tt.RefSet(_t.type3FontRefs);this.dict.objId&&!jt.has(this.dict.objId)&&jt.put(this.dict.objId),Dt.type3FontRefs=jt;const Ot=this.font,Xt=this.type3Dependencies;let Ut=Promise.resolve();const Gt=this.dict.get("CharProcs"),qt=this.dict.get("Resources")||Lt,Kt=Object.create(null),Vt=s.Util.normalizeRect(Ot.bbox||[0,0,0,0]),Yt=Vt[2]-Vt[0],Zt=Vt[3]-Vt[1],Qt=Math.hypot(Yt,Zt);for(const en of Gt.getKeys())Ut=Ut.then(()=>{const rn=Gt.get(en),an=new lt.OperatorList;return Dt.getOperatorList({stream:rn,task:It,resources:qt,operatorList:an}).then(()=>{an.fnArray[0]===s.OPS.setCharWidthAndBounds&&this._removeType3ColorOperators(an,Qt),Kt[en]=an.getIR();for(const fn of an.dependencies)Xt.add(fn)}).catch(function(fn){(0,s.warn)(`Type3 font resource "${en}" is not available.`);const un=new lt.OperatorList;Kt[en]=un.getIR()})});return this.type3Loaded=Ut.then(()=>{Ot.charProcOperatorList=Kt,this._bbox&&(Ot.isCharBBox=!0,Ot.bbox=this._bbox)}),this.type3Loaded}_removeType3ColorOperators(_t,Lt=NaN){const It=s.Util.normalizeRect(_t.argsArray[0].slice(2)),Dt=It[2]-It[0],jt=It[3]-It[1],Ot=Math.hypot(Dt,jt);Dt===0||jt===0?(_t.fnArray.splice(0,1),_t.argsArray.splice(0,1)):(Lt===0||Math.round(Ot/Lt)>=10)&&(this._bbox||(this._bbox=[1/0,1/0,-1/0,-1/0]),this._bbox[0]=Math.min(this._bbox[0],It[0]),this._bbox[1]=Math.min(this._bbox[1],It[1]),this._bbox[2]=Math.max(this._bbox[2],It[2]),this._bbox[3]=Math.max(this._bbox[3],It[3]));let Xt=0,Ut=_t.length;for(;Xt<Ut;){switch(_t.fnArray[Xt]){case s.OPS.setCharWidthAndBounds:break;case s.OPS.setStrokeColorSpace:case s.OPS.setFillColorSpace:case s.OPS.setStrokeColor:case s.OPS.setStrokeColorN:case s.OPS.setFillColor:case s.OPS.setFillColorN:case s.OPS.setStrokeGray:case s.OPS.setFillGray:case s.OPS.setStrokeRGBColor:case s.OPS.setFillRGBColor:case s.OPS.setStrokeCMYKColor:case s.OPS.setFillCMYKColor:case s.OPS.shadingFill:case s.OPS.setRenderingIntent:_t.fnArray.splice(Xt,1),_t.argsArray.splice(Xt,1),Ut--;continue;case s.OPS.setGState:const[Gt]=_t.argsArray[Xt];let qt=0,Kt=Gt.length;for(;qt<Kt;){const[Vt]=Gt[qt];switch(Vt){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":Gt.splice(qt,1),Kt--;continue}qt++}break}Xt++}}}class Ht{constructor(_t=new rt){this.state=_t,this.stateStack=[]}save(){const _t=this.state;this.stateStack.push(this.state),this.state=_t.clone()}restore(){const _t=this.stateStack.pop();_t&&(this.state=_t)}transform(_t){this.state.ctm=s.Util.transform(this.state.ctm,_t)}}class xt{constructor(){this.ctm=new Float32Array(s.IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.font=null,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.textMatrix=s.IDENTITY_MATRIX.slice(),this.textLineMatrix=s.IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}setTextMatrix(_t,Lt,It,Dt,jt,Ot){const Xt=this.textMatrix;Xt[0]=_t,Xt[1]=Lt,Xt[2]=It,Xt[3]=Dt,Xt[4]=jt,Xt[5]=Ot}setTextLineMatrix(_t,Lt,It,Dt,jt,Ot){const Xt=this.textLineMatrix;Xt[0]=_t,Xt[1]=Lt,Xt[2]=It,Xt[3]=Dt,Xt[4]=jt,Xt[5]=Ot}translateTextMatrix(_t,Lt){const It=this.textMatrix;It[4]=It[0]*_t+It[2]*Lt+It[4],It[5]=It[1]*_t+It[3]*Lt+It[5]}translateTextLineMatrix(_t,Lt){const It=this.textLineMatrix;It[4]=It[0]*_t+It[2]*Lt+It[4],It[5]=It[1]*_t+It[3]*Lt+It[5]}carriageReturn(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}clone(){const _t=Object.create(this);return _t.textMatrix=this.textMatrix.slice(),_t.textLineMatrix=this.textLineMatrix.slice(),_t.fontMatrix=this.fontMatrix.slice(),_t}}class rt{constructor(){this.ctm=new Float32Array(s.IDENTITY_MATRIX),this.font=null,this.textRenderingMode=s.TextRenderingMode.FILL,this.fillColorSpace=nt.ColorSpace.singletons.gray,this.strokeColorSpace=nt.ColorSpace.singletons.gray}clone(){return Object.create(this)}}class mt{static get opMap(){const _t=(0,Pt.getLookupTableFactory)(function(Lt){Lt.w={id:s.OPS.setLineWidth,numArgs:1,variableArgs:!1},Lt.J={id:s.OPS.setLineCap,numArgs:1,variableArgs:!1},Lt.j={id:s.OPS.setLineJoin,numArgs:1,variableArgs:!1},Lt.M={id:s.OPS.setMiterLimit,numArgs:1,variableArgs:!1},Lt.d={id:s.OPS.setDash,numArgs:2,variableArgs:!1},Lt.ri={id:s.OPS.setRenderingIntent,numArgs:1,variableArgs:!1},Lt.i={id:s.OPS.setFlatness,numArgs:1,variableArgs:!1},Lt.gs={id:s.OPS.setGState,numArgs:1,variableArgs:!1},Lt.q={id:s.OPS.save,numArgs:0,variableArgs:!1},Lt.Q={id:s.OPS.restore,numArgs:0,variableArgs:!1},Lt.cm={id:s.OPS.transform,numArgs:6,variableArgs:!1},Lt.m={id:s.OPS.moveTo,numArgs:2,variableArgs:!1},Lt.l={id:s.OPS.lineTo,numArgs:2,variableArgs:!1},Lt.c={id:s.OPS.curveTo,numArgs:6,variableArgs:!1},Lt.v={id:s.OPS.curveTo2,numArgs:4,variableArgs:!1},Lt.y={id:s.OPS.curveTo3,numArgs:4,variableArgs:!1},Lt.h={id:s.OPS.closePath,numArgs:0,variableArgs:!1},Lt.re={id:s.OPS.rectangle,numArgs:4,variableArgs:!1},Lt.S={id:s.OPS.stroke,numArgs:0,variableArgs:!1},Lt.s={id:s.OPS.closeStroke,numArgs:0,variableArgs:!1},Lt.f={id:s.OPS.fill,numArgs:0,variableArgs:!1},Lt.F={id:s.OPS.fill,numArgs:0,variableArgs:!1},Lt["f*"]={id:s.OPS.eoFill,numArgs:0,variableArgs:!1},Lt.B={id:s.OPS.fillStroke,numArgs:0,variableArgs:!1},Lt["B*"]={id:s.OPS.eoFillStroke,numArgs:0,variableArgs:!1},Lt.b={id:s.OPS.closeFillStroke,numArgs:0,variableArgs:!1},Lt["b*"]={id:s.OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},Lt.n={id:s.OPS.endPath,numArgs:0,variableArgs:!1},Lt.W={id:s.OPS.clip,numArgs:0,variableArgs:!1},Lt["W*"]={id:s.OPS.eoClip,numArgs:0,variableArgs:!1},Lt.BT={id:s.OPS.beginText,numArgs:0,variableArgs:!1},Lt.ET={id:s.OPS.endText,numArgs:0,variableArgs:!1},Lt.Tc={id:s.OPS.setCharSpacing,numArgs:1,variableArgs:!1},Lt.Tw={id:s.OPS.setWordSpacing,numArgs:1,variableArgs:!1},Lt.Tz={id:s.OPS.setHScale,numArgs:1,variableArgs:!1},Lt.TL={id:s.OPS.setLeading,numArgs:1,variableArgs:!1},Lt.Tf={id:s.OPS.setFont,numArgs:2,variableArgs:!1},Lt.Tr={id:s.OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},Lt.Ts={id:s.OPS.setTextRise,numArgs:1,variableArgs:!1},Lt.Td={id:s.OPS.moveText,numArgs:2,variableArgs:!1},Lt.TD={id:s.OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},Lt.Tm={id:s.OPS.setTextMatrix,numArgs:6,variableArgs:!1},Lt["T*"]={id:s.OPS.nextLine,numArgs:0,variableArgs:!1},Lt.Tj={id:s.OPS.showText,numArgs:1,variableArgs:!1},Lt.TJ={id:s.OPS.showSpacedText,numArgs:1,variableArgs:!1},Lt["'"]={id:s.OPS.nextLineShowText,numArgs:1,variableArgs:!1},Lt['"']={id:s.OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},Lt.d0={id:s.OPS.setCharWidth,numArgs:2,variableArgs:!1},Lt.d1={id:s.OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},Lt.CS={id:s.OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},Lt.cs={id:s.OPS.setFillColorSpace,numArgs:1,variableArgs:!1},Lt.SC={id:s.OPS.setStrokeColor,numArgs:4,variableArgs:!0},Lt.SCN={id:s.OPS.setStrokeColorN,numArgs:33,variableArgs:!0},Lt.sc={id:s.OPS.setFillColor,numArgs:4,variableArgs:!0},Lt.scn={id:s.OPS.setFillColorN,numArgs:33,variableArgs:!0},Lt.G={id:s.OPS.setStrokeGray,numArgs:1,variableArgs:!1},Lt.g={id:s.OPS.setFillGray,numArgs:1,variableArgs:!1},Lt.RG={id:s.OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},Lt.rg={id:s.OPS.setFillRGBColor,numArgs:3,variableArgs:!1},Lt.K={id:s.OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},Lt.k={id:s.OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},Lt.sh={id:s.OPS.shadingFill,numArgs:1,variableArgs:!1},Lt.BI={id:s.OPS.beginInlineImage,numArgs:0,variableArgs:!1},Lt.ID={id:s.OPS.beginImageData,numArgs:0,variableArgs:!1},Lt.EI={id:s.OPS.endInlineImage,numArgs:1,variableArgs:!1},Lt.Do={id:s.OPS.paintXObject,numArgs:1,variableArgs:!1},Lt.MP={id:s.OPS.markPoint,numArgs:1,variableArgs:!1},Lt.DP={id:s.OPS.markPointProps,numArgs:2,variableArgs:!1},Lt.BMC={id:s.OPS.beginMarkedContent,numArgs:1,variableArgs:!1},Lt.BDC={id:s.OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},Lt.EMC={id:s.OPS.endMarkedContent,numArgs:0,variableArgs:!1},Lt.BX={id:s.OPS.beginCompat,numArgs:0,variableArgs:!1},Lt.EX={id:s.OPS.endCompat,numArgs:0,variableArgs:!1},Lt.BM=null,Lt.BD=null,Lt.true=null,Lt.fa=null,Lt.fal=null,Lt.fals=null,Lt.false=null,Lt.nu=null,Lt.nul=null,Lt.null=null});return(0,s.shadow)(this,"opMap",_t())}static get MAX_INVALID_PATH_OPS(){return(0,s.shadow)(this,"MAX_INVALID_PATH_OPS",10)}constructor(_t,Lt,It=new Ht){this.parser=new ut.Parser({lexer:new ut.Lexer(_t,mt.opMap),xref:Lt}),this.stateManager=It,this.nonProcessedArgs=[],this._isPathOp=!1,this._numInvalidPathOPS=0}get savedStatesDepth(){return this.stateManager.stateStack.length}read(_t){let Lt=_t.args;for(;;){const It=this.parser.getObj();if(It instanceof Tt.Cmd){const Dt=It.cmd,jt=mt.opMap[Dt];if(!jt){(0,s.warn)(`Unknown command "${Dt}".`);continue}const Ot=jt.id,Xt=jt.numArgs;let Ut=Lt!==null?Lt.length:0;if(this._isPathOp||(this._numInvalidPathOPS=0),this._isPathOp=Ot>=s.OPS.moveTo&&Ot<=s.OPS.endPath,jt.variableArgs)Ut>Xt&&(0,s.info)(`Command ${Dt}: expected [0, ${Xt}] args, but received ${Ut} args.`);else{if(Ut!==Xt){const Gt=this.nonProcessedArgs;for(;Ut>Xt;)Gt.push(Lt.shift()),Ut--;for(;Ut<Xt&&Gt.length!==0;)Lt===null&&(Lt=[]),Lt.unshift(Gt.pop()),Ut++}if(Ut<Xt){const Gt=`command ${Dt}: expected ${Xt} args, but received ${Ut} args.`;if(this._isPathOp&&++this._numInvalidPathOPS>mt.MAX_INVALID_PATH_OPS)throw new s.FormatError(`Invalid ${Gt}`);(0,s.warn)(`Skipping ${Gt}`),Lt!==null&&(Lt.length=0);continue}}return this.preprocessCommand(Ot,Lt),_t.fn=Ot,_t.args=Lt,!0}if(It===Tt.EOF)return!1;if(It!==null&&(Lt===null&&(Lt=[]),Lt.push(It),Lt.length>33))throw new s.FormatError("Too many arguments")}}preprocessCommand(_t,Lt){switch(_t|0){case s.OPS.save:this.stateManager.save();break;case s.OPS.restore:this.stateManager.restore();break;case s.OPS.transform:this.stateManager.transform(Lt);break}}}ct.EvaluatorPreprocessor=mt},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.IdentityCMap=ct.CMapFactory=ct.CMap=void 0;var s=Et(2),st=Et(5),Tt=Et(7),wt=Et(17),e=Et(6),gt=Et(10);const _=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],$=2**24-1;class d{constructor(dt=!1){this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=dt}addCodespaceRange(dt,b,h){this.codespaceRanges[dt-1].push(b,h),this.numCodespaceRanges++}mapCidRange(dt,b,h){if(b-dt>$)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;dt<=b;)this._map[dt++]=h++}mapBfRange(dt,b,h){if(b-dt>$)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");const et=h.length-1;for(;dt<=b;){this._map[dt++]=h;const nt=h.charCodeAt(et)+1;if(nt>255){h=h.substring(0,et-1)+String.fromCharCode(h.charCodeAt(et-1)+1)+"\0";continue}h=h.substring(0,et)+String.fromCharCode(nt)}}mapBfRangeToArray(dt,b,h){if(b-dt>$)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");const et=h.length;let nt=0;for(;dt<=b&&nt<et;)this._map[dt]=h[nt++],++dt}mapOne(dt,b){this._map[dt]=b}lookup(dt){return this._map[dt]}contains(dt){return this._map[dt]!==void 0}forEach(dt){const b=this._map,h=b.length;if(h<=65536)for(let et=0;et<h;et++)b[et]!==void 0&&dt(et,b[et]);else for(const et in b)dt(et,b[et])}charCodeOf(dt){const b=this._map;if(b.length<=65536)return b.indexOf(dt);for(const h in b)if(b[h]===dt)return h|0;return-1}getMap(){return this._map}readCharCode(dt,b,h){let et=0;const nt=this.codespaceRanges;for(let pt=0,Bt=nt.length;pt<Bt;pt++){et=(et<<8|dt.charCodeAt(b+pt))>>>0;const Pt=nt[pt];for(let Rt=0,Ft=Pt.length;Rt<Ft;){const lt=Pt[Rt++],ft=Pt[Rt++];if(et>=lt&&et<=ft){h.charcode=et,h.length=pt+1;return}}}h.charcode=0,h.length=1}getCharCodeLength(dt){const b=this.codespaceRanges;for(let h=0,et=b.length;h<et;h++){const nt=b[h];for(let pt=0,Bt=nt.length;pt<Bt;){const Pt=nt[pt++],Rt=nt[pt++];if(dt>=Pt&&dt<=Rt)return h+1}}return 1}get length(){return this._map.length}get isIdentityCMap(){if(!(this.name==="Identity-H"||this.name==="Identity-V")||this._map.length!==65536)return!1;for(let dt=0;dt<65536;dt++)if(this._map[dt]!==dt)return!1;return!0}}ct.CMap=d;class j extends d{constructor(dt,b){super(),this.vertical=dt,this.addCodespaceRange(b,0,65535)}mapCidRange(dt,b,h){(0,s.unreachable)("should not call mapCidRange")}mapBfRange(dt,b,h){(0,s.unreachable)("should not call mapBfRange")}mapBfRangeToArray(dt,b,h){(0,s.unreachable)("should not call mapBfRangeToArray")}mapOne(dt,b){(0,s.unreachable)("should not call mapCidOne")}lookup(dt){return Number.isInteger(dt)&&dt<=65535?dt:void 0}contains(dt){return Number.isInteger(dt)&&dt<=65535}forEach(dt){for(let b=0;b<=65535;b++)dt(b,b)}charCodeOf(dt){return Number.isInteger(dt)&&dt<=65535?dt:-1}getMap(){const dt=new Array(65536);for(let b=0;b<=65535;b++)dt[b]=b;return dt}get length(){return 65536}get isIdentityCMap(){(0,s.unreachable)("should not access .isIdentityCMap")}}ct.IdentityCMap=j;const g=function(){function dt(Rt,Ft){let lt=0;for(let ft=0;ft<=Ft;ft++)lt=lt<<8|Rt[ft];return lt>>>0}function b(Rt,Ft){return Ft===1?String.fromCharCode(Rt[0],Rt[1]):Ft===3?String.fromCharCode(Rt[0],Rt[1],Rt[2],Rt[3]):String.fromCharCode.apply(null,Rt.subarray(0,Ft+1))}function h(Rt,Ft,lt){let ft=0;for(let it=lt;it>=0;it--)ft+=Rt[it]+Ft[it],Rt[it]=ft&255,ft>>=8}function et(Rt,Ft){let lt=1;for(let ft=Ft;ft>=0&&lt>0;ft--)lt+=Rt[ft],Rt[ft]=lt&255,lt>>=8}const nt=16,pt=19;class Bt{constructor(Ft){this.buffer=Ft,this.pos=0,this.end=Ft.length,this.tmpBuf=new Uint8Array(pt)}readByte(){return this.pos>=this.end?-1:this.buffer[this.pos++]}readNumber(){let Ft=0,lt;do{const ft=this.readByte();if(ft<0)throw new s.FormatError("unexpected EOF in bcmap");lt=!(ft&128),Ft=Ft<<7|ft&127}while(!lt);return Ft}readSigned(){const Ft=this.readNumber();return Ft&1?~(Ft>>>1):Ft>>>1}readHex(Ft,lt){Ft.set(this.buffer.subarray(this.pos,this.pos+lt+1)),this.pos+=lt+1}readHexNumber(Ft,lt){let ft;const it=this.tmpBuf;let at=0;do{const vt=this.readByte();if(vt<0)throw new s.FormatError("unexpected EOF in bcmap");ft=!(vt&128),it[at++]=vt&127}while(!ft);let bt=lt,St=0,ht=0;for(;bt>=0;){for(;ht<8&&it.length>0;)St|=it[--at]<<ht,ht+=7;Ft[bt]=St&255,bt--,St>>=8,ht-=8}}readHexSigned(Ft,lt){this.readHexNumber(Ft,lt);const ft=Ft[lt]&1?255:0;let it=0;for(let at=0;at<=lt;at++)it=(it&1)<<8|Ft[at],Ft[at]=it>>1^ft}readString(){const Ft=this.readNumber();let lt="";for(let ft=0;ft<Ft;ft++)lt+=String.fromCharCode(this.readNumber());return lt}}class Pt{async process(Ft,lt,ft){const it=new Bt(Ft),at=it.readByte();lt.vertical=!!(at&1);let bt=null;const St=new Uint8Array(nt),ht=new Uint8Array(nt),vt=new Uint8Array(nt),yt=new Uint8Array(nt),At=new Uint8Array(nt);let Nt,Ht;for(;(Ht=it.readByte())>=0;){const xt=Ht>>5;if(xt===7){switch(Ht&31){case 0:it.readString();break;case 1:bt=it.readString();break}continue}const rt=!!(Ht&16),mt=Ht&15;if(mt+1>nt)throw new Error("BinaryCMapReader.process: Invalid dataSize.");const Mt=1,_t=it.readNumber();switch(xt){case 0:it.readHex(St,mt),it.readHexNumber(ht,mt),h(ht,St,mt),lt.addCodespaceRange(mt+1,dt(St,mt),dt(ht,mt));for(let Lt=1;Lt<_t;Lt++)et(ht,mt),it.readHexNumber(St,mt),h(St,ht,mt),it.readHexNumber(ht,mt),h(ht,St,mt),lt.addCodespaceRange(mt+1,dt(St,mt),dt(ht,mt));break;case 1:it.readHex(St,mt),it.readHexNumber(ht,mt),h(ht,St,mt),it.readNumber();for(let Lt=1;Lt<_t;Lt++)et(ht,mt),it.readHexNumber(St,mt),h(St,ht,mt),it.readHexNumber(ht,mt),h(ht,St,mt),it.readNumber();break;case 2:it.readHex(vt,mt),Nt=it.readNumber(),lt.mapOne(dt(vt,mt),Nt);for(let Lt=1;Lt<_t;Lt++)et(vt,mt),rt||(it.readHexNumber(At,mt),h(vt,At,mt)),Nt=it.readSigned()+(Nt+1),lt.mapOne(dt(vt,mt),Nt);break;case 3:it.readHex(St,mt),it.readHexNumber(ht,mt),h(ht,St,mt),Nt=it.readNumber(),lt.mapCidRange(dt(St,mt),dt(ht,mt),Nt);for(let Lt=1;Lt<_t;Lt++)et(ht,mt),rt?St.set(ht):(it.readHexNumber(St,mt),h(St,ht,mt)),it.readHexNumber(ht,mt),h(ht,St,mt),Nt=it.readNumber(),lt.mapCidRange(dt(St,mt),dt(ht,mt),Nt);break;case 4:it.readHex(vt,Mt),it.readHex(yt,mt),lt.mapOne(dt(vt,Mt),b(yt,mt));for(let Lt=1;Lt<_t;Lt++)et(vt,Mt),rt||(it.readHexNumber(At,Mt),h(vt,At,Mt)),et(yt,mt),it.readHexSigned(At,mt),h(yt,At,mt),lt.mapOne(dt(vt,Mt),b(yt,mt));break;case 5:it.readHex(St,Mt),it.readHexNumber(ht,Mt),h(ht,St,Mt),it.readHex(yt,mt),lt.mapBfRange(dt(St,Mt),dt(ht,Mt),b(yt,mt));for(let Lt=1;Lt<_t;Lt++)et(ht,Mt),rt?St.set(ht):(it.readHexNumber(St,Mt),h(St,ht,Mt)),it.readHexNumber(ht,Mt),h(ht,St,Mt),it.readHex(yt,mt),lt.mapBfRange(dt(St,Mt),dt(ht,Mt),b(yt,mt));break;default:throw new Error(`BinaryCMapReader.process - unknown type: ${xt}`)}}return bt?ft(bt):lt}}return Pt}(),o=function(){function dt(at){let bt=0;for(let St=0;St<at.length;St++)bt=bt<<8|at.charCodeAt(St);return bt>>>0}function b(at){if(typeof at!="string")throw new s.FormatError("Malformed CMap: expected string.")}function h(at){if(!Number.isInteger(at))throw new s.FormatError("Malformed CMap: expected int.")}function et(at,bt){for(;;){let St=bt.getObj();if(St===st.EOF)break;if((0,st.isCmd)(St,"endbfchar"))return;b(St);const ht=dt(St);St=bt.getObj(),b(St);const vt=St;at.mapOne(ht,vt)}}function nt(at,bt){for(;;){let St=bt.getObj();if(St===st.EOF)break;if((0,st.isCmd)(St,"endbfrange"))return;b(St);const ht=dt(St);St=bt.getObj(),b(St);const vt=dt(St);if(St=bt.getObj(),Number.isInteger(St)||typeof St=="string"){const yt=Number.isInteger(St)?String.fromCharCode(St):St;at.mapBfRange(ht,vt,yt)}else if((0,st.isCmd)(St,"[")){St=bt.getObj();const yt=[];for(;!(0,st.isCmd)(St,"]")&&St!==st.EOF;)yt.push(St),St=bt.getObj();at.mapBfRangeToArray(ht,vt,yt)}else break}throw new s.FormatError("Invalid bf range.")}function pt(at,bt){for(;;){let St=bt.getObj();if(St===st.EOF)break;if((0,st.isCmd)(St,"endcidchar"))return;b(St);const ht=dt(St);St=bt.getObj(),h(St);const vt=St;at.mapOne(ht,vt)}}function Bt(at,bt){for(;;){let St=bt.getObj();if(St===st.EOF)break;if((0,st.isCmd)(St,"endcidrange"))return;b(St);const ht=dt(St);St=bt.getObj(),b(St);const vt=dt(St);St=bt.getObj(),h(St);const yt=St;at.mapCidRange(ht,vt,yt)}}function Pt(at,bt){for(;;){let St=bt.getObj();if(St===st.EOF)break;if((0,st.isCmd)(St,"endcodespacerange"))return;if(typeof St!="string")break;const ht=dt(St);if(St=bt.getObj(),typeof St!="string")break;const vt=dt(St);at.addCodespaceRange(St.length,ht,vt)}throw new s.FormatError("Invalid codespace range.")}function Rt(at,bt){const St=bt.getObj();Number.isInteger(St)&&(at.vertical=!!St)}function Ft(at,bt){const St=bt.getObj();St instanceof st.Name&&(at.name=St.name)}async function lt(at,bt,St,ht){let vt,yt;e:for(;;)try{const At=bt.getObj();if(At===st.EOF)break;if(At instanceof st.Name)At.name==="WMode"?Rt(at,bt):At.name==="CMapName"&&Ft(at,bt),vt=At;else if(At instanceof st.Cmd)switch(At.cmd){case"endcmap":break e;case"usecmap":vt instanceof st.Name&&(yt=vt.name);break;case"begincodespacerange":Pt(at,bt);break;case"beginbfchar":et(at,bt);break;case"begincidchar":pt(at,bt);break;case"beginbfrange":nt(at,bt);break;case"begincidrange":Bt(at,bt);break}}catch(At){if(At instanceof e.MissingDataException)throw At;(0,s.warn)("Invalid cMap data: "+At);continue}return!ht&&yt&&(ht=yt),ht?ft(at,St,ht):at}async function ft(at,bt,St){if(at.useCMap=await it(St,bt),at.numCodespaceRanges===0){const ht=at.useCMap.codespaceRanges;for(let vt=0;vt<ht.length;vt++)at.codespaceRanges[vt]=ht[vt].slice();at.numCodespaceRanges=at.useCMap.numCodespaceRanges}return at.useCMap.forEach(function(ht,vt){at.contains(ht)||at.mapOne(ht,at.useCMap.lookup(ht))}),at}async function it(at,bt){if(at==="Identity-H")return new j(!1,2);if(at==="Identity-V")return new j(!0,2);if(!_.includes(at))throw new Error("Unknown CMap name: "+at);if(!bt)throw new Error("Built-in CMap parameters are not provided.");const{cMapData:St,compressionType:ht}=await bt(at),vt=new d(!0);if(ht===s.CMapCompressionType.BINARY)return new g().process(St,vt,yt=>ft(vt,bt,yt));if(ht===s.CMapCompressionType.NONE){const yt=new wt.Lexer(new gt.Stream(St));return lt(vt,yt,bt,null)}throw new Error("TODO: Only BINARY/NONE CMap compression is currently supported.")}return{async create(at){const bt=at.encoding,St=at.fetchBuiltInCMap,ht=at.useCMap;if(bt instanceof st.Name)return it(bt.name,St);if(bt instanceof Tt.BaseStream){const vt=await lt(new d,new wt.Lexer(bt),St,ht);return vt.isIdentityCMap?it(vt.name,St):vt}throw new Error("Encoding required.")}}}();ct.CMapFactory=o},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.Parser=ct.Linearization=ct.Lexer=void 0;var s=Et(2),st=Et(5),Tt=Et(6),wt=Et(18),e=Et(20),gt=Et(21),_=Et(23),$=Et(24),d=Et(27),j=Et(29),g=Et(31),o=Et(10),ut=Et(32),dt=Et(33);const b=1e3,h=5552;function et(Ft){const lt=Ft.length;let ft=1,it=0;for(let at=0;at<lt;++at)ft+=Ft[at]&255,it+=ft;return it%65521<<16|ft%65521}class nt{constructor({lexer:lt,xref:ft,allowStreams:it=!1,recoveryMode:at=!1}){this.lexer=lt,this.xref=ft,this.allowStreams=it,this.recoveryMode=at,this.imageCache=Object.create(null),this.refill()}refill(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}shift(){this.buf2 instanceof st.Cmd&&this.buf2.cmd==="ID"?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}tryShift(){try{return this.shift(),!0}catch(lt){if(lt instanceof Tt.MissingDataException)throw lt;return!1}}getObj(lt=null){const ft=this.buf1;if(this.shift(),ft instanceof st.Cmd)switch(ft.cmd){case"BI":return this.makeInlineImage(lt);case"[":const it=[];for(;!(0,st.isCmd)(this.buf1,"]")&&this.buf1!==st.EOF;)it.push(this.getObj(lt));if(this.buf1===st.EOF){if(this.recoveryMode)return it;throw new Tt.ParserEOFException("End of file inside array.")}return this.shift(),it;case"<<":const at=new st.Dict(this.xref);for(;!(0,st.isCmd)(this.buf1,">>")&&this.buf1!==st.EOF;){if(!(this.buf1 instanceof st.Name)){(0,s.info)("Malformed dictionary: key must be a name object"),this.shift();continue}const bt=this.buf1.name;if(this.shift(),this.buf1===st.EOF)break;at.set(bt,this.getObj(lt))}if(this.buf1===st.EOF){if(this.recoveryMode)return at;throw new Tt.ParserEOFException("End of file inside dictionary.")}return(0,st.isCmd)(this.buf2,"stream")?this.allowStreams?this.makeStream(at,lt):at:(this.shift(),at);default:return ft}if(Number.isInteger(ft)){if(Number.isInteger(this.buf1)&&(0,st.isCmd)(this.buf2,"R")){const it=st.Ref.get(ft,this.buf1);return this.shift(),this.shift(),it}return ft}return typeof ft=="string"&&lt?lt.decryptString(ft):ft}findDefaultInlineStreamEnd(lt){const vt=this.lexer,yt=lt.pos,At=10;let Nt=0,Ht,xt;for(;(Ht=lt.getByte())!==-1;)if(Nt===0)Nt=Ht===69?1:0;else if(Nt===1)Nt=Ht===73?2:0;else if((0,s.assert)(Nt===2,"findDefaultInlineStreamEnd - invalid state."),Ht===32||Ht===10||Ht===13){xt=lt.pos;const mt=lt.peekBytes(At);for(let Mt=0,_t=mt.length;Mt<_t;Mt++)if(Ht=mt[Mt],!(Ht===0&&mt[Mt+1]!==0)&&Ht!==10&&Ht!==13&&(Ht<32||Ht>127)){Nt=0;break}if(Nt!==2)continue;if(vt.knownCommands){const Mt=vt.peekObj();Mt instanceof st.Cmd&&!vt.knownCommands[Mt.cmd]&&(Nt=0)}else(0,s.warn)("findDefaultInlineStreamEnd - `lexer.knownCommands` is undefined.");if(Nt===2)break}else Nt=0;Ht===-1&&((0,s.warn)("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),xt&&((0,s.warn)('... trying to recover by using the last "EI" occurrence.'),lt.skip(-(lt.pos-xt))));let rt=4;return lt.skip(-rt),Ht=lt.peekByte(),lt.skip(rt),(0,Tt.isWhiteSpace)(Ht)||rt--,lt.pos-rt-yt}findDCTDecodeInlineStreamEnd(lt){const ft=lt.pos;let it=!1,at,bt;for(;(at=lt.getByte())!==-1;)if(at===255){switch(lt.getByte()){case 0:break;case 255:lt.skip(-1);break;case 217:it=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:bt=lt.getUint16(),bt>2?lt.skip(bt-2):lt.skip(-2);break}if(it)break}const St=lt.pos-ft;return at===-1?((0,s.warn)("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),lt.skip(-St),this.findDefaultInlineStreamEnd(lt)):(this.inlineStreamSkipEI(lt),St)}findASCII85DecodeInlineStreamEnd(lt){const at=lt.pos;let bt;for(;(bt=lt.getByte())!==-1;)if(bt===126){const ht=lt.pos;for(bt=lt.peekByte();(0,Tt.isWhiteSpace)(bt);)lt.skip(),bt=lt.peekByte();if(bt===62){lt.skip();break}if(lt.pos>ht){const vt=lt.peekBytes(2);if(vt[0]===69&&vt[1]===73)break}}const St=lt.pos-at;return bt===-1?((0,s.warn)("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),lt.skip(-St),this.findDefaultInlineStreamEnd(lt)):(this.inlineStreamSkipEI(lt),St)}findASCIIHexDecodeInlineStreamEnd(lt){const it=lt.pos;let at;for(;(at=lt.getByte())!==-1&&at!==62;);const bt=lt.pos-it;return at===-1?((0,s.warn)("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),lt.skip(-bt),this.findDefaultInlineStreamEnd(lt)):(this.inlineStreamSkipEI(lt),bt)}inlineStreamSkipEI(lt){let at=0,bt;for(;(bt=lt.getByte())!==-1;)if(at===0)at=bt===69?1:0;else if(at===1)at=bt===73?2:0;else if(at===2)break}makeInlineImage(lt){const ft=this.lexer,it=ft.stream,at=new st.Dict(this.xref);let bt;for(;!(0,st.isCmd)(this.buf1,"ID")&&this.buf1!==st.EOF;){if(!(this.buf1 instanceof st.Name))throw new s.FormatError("Dictionary key must be a name object");const Ht=this.buf1.name;if(this.shift(),this.buf1===st.EOF)break;at.set(Ht,this.getObj(lt))}ft.beginInlineImagePos!==-1&&(bt=it.pos-ft.beginInlineImagePos);const St=at.get("F","Filter");let ht;if(St instanceof st.Name)ht=St.name;else if(Array.isArray(St)){const Ht=this.xref.fetchIfRef(St[0]);Ht instanceof st.Name&&(ht=Ht.name)}const vt=it.pos;let yt;switch(ht){case"DCT":case"DCTDecode":yt=this.findDCTDecodeInlineStreamEnd(it);break;case"A85":case"ASCII85Decode":yt=this.findASCII85DecodeInlineStreamEnd(it);break;case"AHx":case"ASCIIHexDecode":yt=this.findASCIIHexDecodeInlineStreamEnd(it);break;default:yt=this.findDefaultInlineStreamEnd(it)}let At=it.makeSubStream(vt,yt,at),Nt;if(yt<b&&bt<h){const Ht=At.getBytes();At.reset();const xt=it.pos;it.pos=ft.beginInlineImagePos;const rt=it.getBytes(bt);it.pos=xt,Nt=et(Ht)+"_"+et(rt);const mt=this.imageCache[Nt];if(mt!==void 0)return this.buf2=st.Cmd.get("EI"),this.shift(),mt.reset(),mt}return lt&&(At=lt.createStream(At,yt)),At=this.filter(At,at,yt),At.dict=at,Nt!==void 0&&(At.cacheKey=`inline_${yt}_${Nt}`,this.imageCache[Nt]=At),this.buf2=st.Cmd.get("EI"),this.shift(),At}_findStreamLength(lt,ft){const{stream:it}=this.lexer;it.pos=lt;const at=2048,bt=ft.length;for(;it.pos<it.end;){const St=it.peekBytes(at),ht=St.length-bt;if(ht<=0)break;let vt=0;for(;vt<ht;){let yt=0;for(;yt<bt&&St[vt+yt]===ft[yt];)yt++;if(yt>=bt)return it.pos+=vt,it.pos-lt;vt++}it.pos+=ht}return-1}makeStream(lt,ft){const it=this.lexer;let at=it.stream;it.skipToNextLine();const bt=at.pos-1;let St=lt.get("Length");if(Number.isInteger(St)||((0,s.info)(`Bad length "${St&&St.toString()}" in stream.`),St=0),at.pos=bt+St,it.nextChar(),this.tryShift()&&(0,st.isCmd)(this.buf2,"endstream"))this.shift();else{const ht=new Uint8Array([101,110,100,115,116,114,101,97,109]);let vt=this._findStreamLength(bt,ht);if(vt<0){for(let At=1;At<=1;At++){const Nt=ht.length-At,Ht=ht.slice(0,Nt),xt=this._findStreamLength(bt,Ht);if(xt>=0){const rt=at.peekBytes(Nt+1)[Nt];if(!(0,Tt.isWhiteSpace)(rt))break;(0,s.info)(`Found "${(0,s.bytesToString)(Ht)}" when searching for endstream command.`),vt=xt;break}}if(vt<0)throw new s.FormatError("Missing endstream command.")}St=vt,it.nextChar(),this.shift(),this.shift()}return this.shift(),at=at.makeSubStream(bt,St,lt),ft&&(at=ft.createStream(at,St)),at=this.filter(at,lt,St),at.dict=lt,at}filter(lt,ft,it){let at=ft.get("F","Filter"),bt=ft.get("DP","DecodeParms");if(at instanceof st.Name)return Array.isArray(bt)&&(0,s.warn)("/DecodeParms should not be an Array, when /Filter is a Name."),this.makeFilter(lt,at.name,it,bt);let St=it;if(Array.isArray(at)){const ht=at,vt=bt;for(let yt=0,At=ht.length;yt<At;++yt){if(at=this.xref.fetchIfRef(ht[yt]),!(at instanceof st.Name))throw new s.FormatError(`Bad filter name "${at}"`);bt=null,Array.isArray(vt)&&yt in vt&&(bt=this.xref.fetchIfRef(vt[yt])),lt=this.makeFilter(lt,at.name,St,bt),St=null}}return lt}makeFilter(lt,ft,it,at){if(it===0)return(0,s.warn)(`Empty "${ft}" stream.`),new o.NullStream;const bt=this.xref.stats;try{switch(ft){case"Fl":case"FlateDecode":return bt.addStreamType(s.StreamType.FLATE),at?new ut.PredictorStream(new _.FlateStream(lt,it),it,at):new _.FlateStream(lt,it);case"LZW":case"LZWDecode":bt.addStreamType(s.StreamType.LZW);let St=1;return at?(at.has("EarlyChange")&&(St=at.get("EarlyChange")),new ut.PredictorStream(new g.LZWStream(lt,it,St),it,at)):new g.LZWStream(lt,it,St);case"DCT":case"DCTDecode":return bt.addStreamType(s.StreamType.DCT),new d.JpegStream(lt,it,at);case"JPX":case"JPXDecode":return bt.addStreamType(s.StreamType.JPX),new j.JpxStream(lt,it,at);case"A85":case"ASCII85Decode":return bt.addStreamType(s.StreamType.A85),new wt.Ascii85Stream(lt,it);case"AHx":case"ASCIIHexDecode":return bt.addStreamType(s.StreamType.AHX),new e.AsciiHexStream(lt,it);case"CCF":case"CCITTFaxDecode":return bt.addStreamType(s.StreamType.CCF),new gt.CCITTFaxStream(lt,it,at);case"RL":case"RunLengthDecode":return bt.addStreamType(s.StreamType.RLX),new dt.RunLengthStream(lt,it);case"JBIG2Decode":return bt.addStreamType(s.StreamType.JBIG),new $.Jbig2Stream(lt,it,at)}return(0,s.warn)(`Filter "${ft}" is not supported.`),lt}catch(St){if(St instanceof Tt.MissingDataException)throw St;return(0,s.warn)(`Invalid stream: "${St}"`),new o.NullStream}}}ct.Parser=nt;const pt=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function Bt(Ft){return Ft>=48&&Ft<=57?Ft&15:Ft>=65&&Ft<=70||Ft>=97&&Ft<=102?(Ft&15)+9:-1}class Pt{constructor(lt,ft=null){this.stream=lt,this.nextChar(),this.strBuf=[],this.knownCommands=ft,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}nextChar(){return this.currentChar=this.stream.getByte()}peekChar(){return this.stream.peekByte()}getNumber(){let lt=this.currentChar,ft=!1,it=0,at=0;if(lt===45?(at=-1,lt=this.nextChar(),lt===45&&(lt=this.nextChar())):lt===43&&(at=1,lt=this.nextChar()),lt===10||lt===13)do lt=this.nextChar();while(lt===10||lt===13);if(lt===46&&(it=10,lt=this.nextChar()),lt<48||lt>57){if((0,Tt.isWhiteSpace)(lt)||lt===-1){if(it===10&&at===0)return(0,s.warn)("Lexer.getNumber - treating a single decimal point as zero."),0;if(it===0&&at===-1)return(0,s.warn)("Lexer.getNumber - treating a single minus sign as zero."),0}throw new s.FormatError(`Invalid number: ${String.fromCharCode(lt)} (charCode ${lt})`)}at=at||1;let bt=lt-48,St=0,ht=1;for(;(lt=this.nextChar())>=0;)if(lt>=48&&lt<=57){const vt=lt-48;ft?St=St*10+vt:(it!==0&&(it*=10),bt=bt*10+vt)}else if(lt===46)if(it===0)it=1;else break;else if(lt===45)(0,s.warn)("Badly formatted number: minus sign in the middle");else if(lt===69||lt===101){if(lt=this.peekChar(),lt===43||lt===45)ht=lt===45?-1:1,this.nextChar();else if(lt<48||lt>57)break;ft=!0}else break;return it!==0&&(bt/=it),ft&&(bt*=10**(ht*St)),at*bt}getString(){let lt=1,ft=!1;const it=this.strBuf;it.length=0;let at=this.nextChar();for(;;){let bt=!1;switch(at|0){case-1:(0,s.warn)("Unterminated string"),ft=!0;break;case 40:++lt,it.push("(");break;case 41:--lt===0?(this.nextChar(),ft=!0):it.push(")");break;case 92:switch(at=this.nextChar(),at){case-1:(0,s.warn)("Unterminated string"),ft=!0;break;case 110:it.push(`
`);break;case 114:it.push("\r");break;case 116:it.push("	");break;case 98:it.push("\b");break;case 102:it.push("\f");break;case 92:case 40:case 41:it.push(String.fromCharCode(at));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:let St=at&15;at=this.nextChar(),bt=!0,at>=48&&at<=55&&(St=(St<<3)+(at&15),at=this.nextChar(),at>=48&&at<=55&&(bt=!1,St=(St<<3)+(at&15))),it.push(String.fromCharCode(St));break;case 13:this.peekChar()===10&&this.nextChar();break;case 10:break;default:it.push(String.fromCharCode(at));break}break;default:it.push(String.fromCharCode(at));break}if(ft)break;bt||(at=this.nextChar())}return it.join("")}getName(){let lt,ft;const it=this.strBuf;for(it.length=0;(lt=this.nextChar())>=0&&!pt[lt];)if(lt===35){if(lt=this.nextChar(),pt[lt]){(0,s.warn)("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),it.push("#");break}const at=Bt(lt);if(at!==-1){ft=lt,lt=this.nextChar();const bt=Bt(lt);if(bt===-1){if((0,s.warn)(`Lexer_getName: Illegal digit (${String.fromCharCode(lt)}) in hexadecimal number.`),it.push("#",String.fromCharCode(ft)),pt[lt])break;it.push(String.fromCharCode(lt));continue}it.push(String.fromCharCode(at<<4|bt))}else it.push("#",String.fromCharCode(lt))}else it.push(String.fromCharCode(lt));return it.length>127&&(0,s.warn)(`Name token is longer than allowed by the spec: ${it.length}`),st.Name.get(it.join(""))}_hexStringWarn(lt){if(this._hexStringNumWarn++===5){(0,s.warn)("getHexString - ignoring additional invalid characters.");return}this._hexStringNumWarn>5||(0,s.warn)(`getHexString - ignoring invalid character: ${lt}`)}getHexString(){const lt=this.strBuf;lt.length=0;let ft=this.currentChar,it=!0,at,bt;for(this._hexStringNumWarn=0;;)if(ft<0){(0,s.warn)("Unterminated hex string");break}else if(ft===62){this.nextChar();break}else if(pt[ft]===1){ft=this.nextChar();continue}else{if(it){if(at=Bt(ft),at===-1){this._hexStringWarn(ft),ft=this.nextChar();continue}}else{if(bt=Bt(ft),bt===-1){this._hexStringWarn(ft),ft=this.nextChar();continue}lt.push(String.fromCharCode(at<<4|bt))}it=!it,ft=this.nextChar()}return lt.join("")}getObj(){let lt=!1,ft=this.currentChar;for(;;){if(ft<0)return st.EOF;if(lt)(ft===10||ft===13)&&(lt=!1);else if(ft===37)lt=!0;else if(pt[ft]!==1)break;ft=this.nextChar()}switch(ft|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),st.Cmd.get("[");case 93:return this.nextChar(),st.Cmd.get("]");case 60:return ft=this.nextChar(),ft===60?(this.nextChar(),st.Cmd.get("<<")):this.getHexString();case 62:return ft=this.nextChar(),ft===62?(this.nextChar(),st.Cmd.get(">>")):st.Cmd.get(">");case 123:return this.nextChar(),st.Cmd.get("{");case 125:return this.nextChar(),st.Cmd.get("}");case 41:throw this.nextChar(),new s.FormatError(`Illegal character: ${ft}`)}let it=String.fromCharCode(ft);if(ft<32||ft>127){const St=this.peekChar();if(St>=32&&St<=127)return this.nextChar(),st.Cmd.get(it)}const at=this.knownCommands;let bt=at&&at[it]!==void 0;for(;(ft=this.nextChar())>=0&&!pt[ft];){const St=it+String.fromCharCode(ft);if(bt&&at[St]===void 0)break;if(it.length===128)throw new s.FormatError(`Command token too long: ${it.length}`);it=St,bt=at&&at[it]!==void 0}return it==="true"?!0:it==="false"?!1:it==="null"?null:(it==="BI"&&(this.beginInlineImagePos=this.stream.pos),st.Cmd.get(it))}peekObj(){const lt=this.stream.pos,ft=this.currentChar,it=this.beginInlineImagePos;let at;try{at=this.getObj()}catch(bt){if(bt instanceof Tt.MissingDataException)throw bt;(0,s.warn)(`peekObj: ${bt}`)}return this.stream.pos=lt,this.currentChar=ft,this.beginInlineImagePos=it,at}skipToNextLine(){let lt=this.currentChar;for(;lt>=0;){if(lt===13){lt=this.nextChar(),lt===10&&this.nextChar();break}else if(lt===10){this.nextChar();break}lt=this.nextChar()}}}ct.Lexer=Pt;class Rt{static create(lt){function ft(Nt,Ht,xt=!1){const rt=Nt.get(Ht);if(Number.isInteger(rt)&&(xt?rt>=0:rt>0))return rt;throw new Error(`The "${Ht}" parameter in the linearization dictionary is invalid.`)}function it(Nt){const Ht=Nt.get("H");let xt;if(Array.isArray(Ht)&&((xt=Ht.length)===2||xt===4)){for(let rt=0;rt<xt;rt++){const mt=Ht[rt];if(!(Number.isInteger(mt)&&mt>0))throw new Error(`Hint (${rt}) in the linearization dictionary is invalid.`)}return Ht}throw new Error("Hint array in the linearization dictionary is invalid.")}const at=new nt({lexer:new Pt(lt),xref:null}),bt=at.getObj(),St=at.getObj(),ht=at.getObj(),vt=at.getObj();let yt,At;if(Number.isInteger(bt)&&Number.isInteger(St)&&(0,st.isCmd)(ht,"obj")&&vt instanceof st.Dict&&typeof(yt=vt.get("Linearized"))=="number"&&yt>0){if((At=ft(vt,"L"))!==lt.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.')}else return null;return{length:At,hints:it(vt),objectNumberFirst:ft(vt,"O"),endFirst:ft(vt,"E"),numPages:ft(vt,"N"),mainXRefEntriesOffset:ft(vt,"T"),pageFirst:vt.has("P")?ft(vt,"P",!0):0}}}ct.Linearization=Rt},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.Ascii85Stream=void 0;var s=Et(19),st=Et(6);class Tt extends s.DecodeStream{constructor(e,gt){gt&&(gt*=.8),super(gt),this.str=e,this.dict=e.dict,this.input=new Uint8Array(5)}readBlock(){const $=this.str;let d=$.getByte();for(;(0,st.isWhiteSpace)(d);)d=$.getByte();if(d===-1||d===126){this.eof=!0;return}const j=this.bufferLength;let g,o;if(d===122){for(g=this.ensureBuffer(j+4),o=0;o<4;++o)g[j+o]=0;this.bufferLength+=4}else{const ut=this.input;for(ut[0]=d,o=1;o<5;++o){for(d=$.getByte();(0,st.isWhiteSpace)(d);)d=$.getByte();if(ut[o]=d,d===-1||d===126)break}if(g=this.ensureBuffer(j+o-1),this.bufferLength+=o-1,o<5){for(;o<5;++o)ut[o]=117;this.eof=!0}let dt=0;for(o=0;o<5;++o)dt=dt*85+(ut[o]-33);for(o=3;o>=0;--o)g[j+o]=dt&255,dt>>=8}}}ct.Ascii85Stream=Tt},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.StreamsSequenceStream=ct.DecodeStream=void 0;var s=Et(7),st=Et(10);const Tt=new Uint8Array(0);class wt extends s.BaseStream{constructor(_){if(super(),this._rawMinBufferLength=_||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=Tt,this.minBufferLength=512,_)for(;this.minBufferLength<_;)this.minBufferLength*=2}get isEmpty(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0}ensureBuffer(_){const $=this.buffer;if(_<=$.byteLength)return $;let d=this.minBufferLength;for(;d<_;)d*=2;const j=new Uint8Array(d);return j.set($),this.buffer=j}getByte(){const _=this.pos;for(;this.bufferLength<=_;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}getBytes(_){const $=this.pos;let d;if(_){for(this.ensureBuffer($+_),d=$+_;!this.eof&&this.bufferLength<d;)this.readBlock();const j=this.bufferLength;d>j&&(d=j)}else{for(;!this.eof;)this.readBlock();d=this.bufferLength}return this.pos=d,this.buffer.subarray($,d)}reset(){this.pos=0}makeSubStream(_,$,d=null){if($===void 0)for(;!this.eof;)this.readBlock();else{const j=_+$;for(;this.bufferLength<=j&&!this.eof;)this.readBlock()}return new st.Stream(this.buffer,_,$,d)}getBaseStreams(){return this.str?this.str.getBaseStreams():null}}ct.DecodeStream=wt;class e extends wt{constructor(_,$=null){let d=0;for(const j of _)d+=j instanceof wt?j._rawMinBufferLength:j.length;super(d),this.streams=_,this._onError=$}readBlock(){const _=this.streams;if(_.length===0){this.eof=!0;return}const $=_.shift();let d;try{d=$.getBytes()}catch(ut){if(this._onError){this._onError(ut,$.dict&&$.dict.objId);return}throw ut}const j=this.bufferLength,g=j+d.length;this.ensureBuffer(g).set(d,j),this.bufferLength=g}getBaseStreams(){const _=[];for(const $ of this.streams){const d=$.getBaseStreams();d&&_.push(...d)}return _.length>0?_:null}}ct.StreamsSequenceStream=e},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.AsciiHexStream=void 0;var s=Et(19);class st extends s.DecodeStream{constructor(wt,e){e&&(e*=.5),super(e),this.str=wt,this.dict=wt.dict,this.firstDigit=-1}readBlock(){const e=this.str.getBytes(8e3);if(!e.length){this.eof=!0;return}const gt=e.length+1>>1,_=this.ensureBuffer(this.bufferLength+gt);let $=this.bufferLength,d=this.firstDigit;for(const j of e){let g;if(j>=48&&j<=57)g=j&15;else if(j>=65&&j<=70||j>=97&&j<=102)g=(j&15)+9;else if(j===62){this.eof=!0;break}else continue;d<0?d=g:(_[$++]=d<<4|g,d=-1)}d>=0&&this.eof&&(_[$++]=d<<4,d=-1),this.firstDigit=d,this.bufferLength=$}}ct.AsciiHexStream=st},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.CCITTFaxStream=void 0;var s=Et(22),st=Et(19),Tt=Et(5);class wt extends st.DecodeStream{constructor(gt,_,$){super(_),this.str=gt,this.dict=gt.dict,$ instanceof Tt.Dict||($=Tt.Dict.empty);const d={next(){return gt.getByte()}};this.ccittFaxDecoder=new s.CCITTFaxDecoder(d,{K:$.get("K"),EndOfLine:$.get("EndOfLine"),EncodedByteAlign:$.get("EncodedByteAlign"),Columns:$.get("Columns"),Rows:$.get("Rows"),EndOfBlock:$.get("EndOfBlock"),BlackIs1:$.get("BlackIs1")})}readBlock(){for(;!this.eof;){const gt=this.ccittFaxDecoder.readNextChar();if(gt===-1){this.eof=!0;return}this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=gt}}}ct.CCITTFaxStream=wt},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.CCITTFaxDecoder=void 0;var s=Et(2);const st=-2,Tt=-1,wt=0,e=1,gt=2,_=3,$=4,d=5,j=6,g=7,o=8,ut=[[-1,-1],[-1,-1],[7,o],[7,g],[6,j],[6,j],[6,d],[6,d],[4,wt],[4,wt],[4,wt],[4,wt],[4,wt],[4,wt],[4,wt],[4,wt],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,$],[3,$],[3,$],[3,$],[3,$],[3,$],[3,$],[3,$],[3,$],[3,$],[3,$],[3,$],[3,$],[3,$],[3,$],[3,$],[3,_],[3,_],[3,_],[3,_],[3,_],[3,_],[3,_],[3,_],[3,_],[3,_],[3,_],[3,_],[3,_],[3,_],[3,_],[3,_],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt],[1,gt]],dt=[[-1,-1],[12,st],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],b=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],h=[[-1,-1],[-1,-1],[12,st],[12,st],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],et=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],nt=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];class pt{constructor(Pt,Rt={}){if(!Pt||typeof Pt.next!="function")throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=Pt,this.eof=!1,this.encoding=Rt.K||0,this.eoline=Rt.EndOfLine||!1,this.byteAlign=Rt.EncodedByteAlign||!1,this.columns=Rt.Columns||1728,this.rows=Rt.Rows||0;let Ft=Rt.EndOfBlock;Ft==null&&(Ft=!0),this.eoblock=Ft,this.black=Rt.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;let lt;for(;(lt=this._lookBits(12))===0;)this._eatBits(1);lt===1&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}readNextChar(){if(this.eof)return-1;const Pt=this.refLine,Rt=this.codingLine,Ft=this.columns;let lt,ft,it,at;if(this.outputBits===0){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;this.err=!1;let St,ht,vt;if(this.nextLine2D){for(at=0;Rt[at]<Ft;++at)Pt[at]=Rt[at];for(Pt[at++]=Ft,Pt[at]=Ft,Rt[0]=0,this.codingPos=0,lt=0,ft=0;Rt[this.codingPos]<Ft;)switch(St=this._getTwoDimCode(),St){case wt:this._addPixels(Pt[lt+1],ft),Pt[lt+1]<Ft&&(lt+=2);break;case e:if(St=ht=0,ft){do St+=vt=this._getBlackCode();while(vt>=64);do ht+=vt=this._getWhiteCode();while(vt>=64)}else{do St+=vt=this._getWhiteCode();while(vt>=64);do ht+=vt=this._getBlackCode();while(vt>=64)}for(this._addPixels(Rt[this.codingPos]+St,ft),Rt[this.codingPos]<Ft&&this._addPixels(Rt[this.codingPos]+ht,ft^1);Pt[lt]<=Rt[this.codingPos]&&Pt[lt]<Ft;)lt+=2;break;case g:if(this._addPixels(Pt[lt]+3,ft),ft^=1,Rt[this.codingPos]<Ft)for(++lt;Pt[lt]<=Rt[this.codingPos]&&Pt[lt]<Ft;)lt+=2;break;case d:if(this._addPixels(Pt[lt]+2,ft),ft^=1,Rt[this.codingPos]<Ft)for(++lt;Pt[lt]<=Rt[this.codingPos]&&Pt[lt]<Ft;)lt+=2;break;case _:if(this._addPixels(Pt[lt]+1,ft),ft^=1,Rt[this.codingPos]<Ft)for(++lt;Pt[lt]<=Rt[this.codingPos]&&Pt[lt]<Ft;)lt+=2;break;case gt:if(this._addPixels(Pt[lt],ft),ft^=1,Rt[this.codingPos]<Ft)for(++lt;Pt[lt]<=Rt[this.codingPos]&&Pt[lt]<Ft;)lt+=2;break;case o:if(this._addPixelsNeg(Pt[lt]-3,ft),ft^=1,Rt[this.codingPos]<Ft)for(lt>0?--lt:++lt;Pt[lt]<=Rt[this.codingPos]&&Pt[lt]<Ft;)lt+=2;break;case j:if(this._addPixelsNeg(Pt[lt]-2,ft),ft^=1,Rt[this.codingPos]<Ft)for(lt>0?--lt:++lt;Pt[lt]<=Rt[this.codingPos]&&Pt[lt]<Ft;)lt+=2;break;case $:if(this._addPixelsNeg(Pt[lt]-1,ft),ft^=1,Rt[this.codingPos]<Ft)for(lt>0?--lt:++lt;Pt[lt]<=Rt[this.codingPos]&&Pt[lt]<Ft;)lt+=2;break;case Tt:this._addPixels(Ft,0),this.eof=!0;break;default:(0,s.info)("bad 2d code"),this._addPixels(Ft,0),this.err=!0}}else for(Rt[0]=0,this.codingPos=0,ft=0;Rt[this.codingPos]<Ft;){if(St=0,ft)do St+=vt=this._getBlackCode();while(vt>=64);else do St+=vt=this._getWhiteCode();while(vt>=64);this._addPixels(Rt[this.codingPos]+St,ft),ft^=1}let yt=!1;if(this.byteAlign&&(this.inputBits&=-8),!this.eoblock&&this.row===this.rows-1)this.rowsDone=!0;else{if(St=this._lookBits(12),this.eoline)for(;St!==Tt&&St!==1;)this._eatBits(1),St=this._lookBits(12);else for(;St===0;)this._eatBits(1),St=this._lookBits(12);St===1?(this._eatBits(12),yt=!0):St===Tt&&(this.eof=!0)}if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&yt&&this.byteAlign){if(St=this._lookBits(12),St===1){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(at=0;at<4;++at)St=this._lookBits(12),St!==1&&(0,s.info)("bad rtc code: "+St),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(St=this._lookBits(13),St===Tt)return this.eof=!0,-1;if(St>>1===1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(St&1))}Rt[0]>0?this.outputBits=Rt[this.codingPos=0]:this.outputBits=Rt[this.codingPos=1],this.row++}let bt;if(this.outputBits>=8)bt=this.codingPos&1?0:255,this.outputBits-=8,this.outputBits===0&&Rt[this.codingPos]<Ft&&(this.codingPos++,this.outputBits=Rt[this.codingPos]-Rt[this.codingPos-1]);else{it=8,bt=0;do{if(typeof this.outputBits!="number")throw new s.FormatError('Invalid /CCITTFaxDecode data, "outputBits" must be a number.');this.outputBits>it?(bt<<=it,this.codingPos&1||(bt|=255>>8-it),this.outputBits-=it,it=0):(bt<<=this.outputBits,this.codingPos&1||(bt|=255>>8-this.outputBits),it-=this.outputBits,this.outputBits=0,Rt[this.codingPos]<Ft?(this.codingPos++,this.outputBits=Rt[this.codingPos]-Rt[this.codingPos-1]):it>0&&(bt<<=it,it=0))}while(it)}return this.black&&(bt^=255),bt}_addPixels(Pt,Rt){const Ft=this.codingLine;let lt=this.codingPos;Pt>Ft[lt]&&(Pt>this.columns&&((0,s.info)("row is wrong length"),this.err=!0,Pt=this.columns),lt&1^Rt&&++lt,Ft[lt]=Pt),this.codingPos=lt}_addPixelsNeg(Pt,Rt){const Ft=this.codingLine;let lt=this.codingPos;if(Pt>Ft[lt])Pt>this.columns&&((0,s.info)("row is wrong length"),this.err=!0,Pt=this.columns),lt&1^Rt&&++lt,Ft[lt]=Pt;else if(Pt<Ft[lt]){for(Pt<0&&((0,s.info)("invalid code"),this.err=!0,Pt=0);lt>0&&Pt<Ft[lt-1];)--lt;Ft[lt]=Pt}this.codingPos=lt}_findTableCode(Pt,Rt,Ft,lt){const ft=lt||0;for(let it=Pt;it<=Rt;++it){let at=this._lookBits(it);if(at===Tt)return[!0,1,!1];if(it<Rt&&(at<<=Rt-it),!ft||at>=ft){const bt=Ft[at-ft];if(bt[0]===it)return this._eatBits(it),[!0,bt[1],!0]}}return[!1,0,!1]}_getTwoDimCode(){let Pt=0,Rt;if(this.eoblock){if(Pt=this._lookBits(7),Rt=ut[Pt],Rt&&Rt[0]>0)return this._eatBits(Rt[0]),Rt[1]}else{const Ft=this._findTableCode(1,7,ut);if(Ft[0]&&Ft[2])return Ft[1]}return(0,s.info)("Bad two dim code"),Tt}_getWhiteCode(){let Pt=0,Rt;if(this.eoblock){if(Pt=this._lookBits(12),Pt===Tt)return 1;if(Pt>>5?Rt=b[Pt>>3]:Rt=dt[Pt],Rt[0]>0)return this._eatBits(Rt[0]),Rt[1]}else{let Ft=this._findTableCode(1,9,b);if(Ft[0]||(Ft=this._findTableCode(11,12,dt),Ft[0]))return Ft[1]}return(0,s.info)("bad white code"),this._eatBits(1),1}_getBlackCode(){let Pt,Rt;if(this.eoblock){if(Pt=this._lookBits(13),Pt===Tt)return 1;if(Pt>>7?!(Pt>>9)&&Pt>>7?Rt=et[(Pt>>1)-64]:Rt=nt[Pt>>7]:Rt=h[Pt],Rt[0]>0)return this._eatBits(Rt[0]),Rt[1]}else{let Ft=this._findTableCode(2,6,nt);if(Ft[0]||(Ft=this._findTableCode(7,12,et,64),Ft[0])||(Ft=this._findTableCode(10,13,h),Ft[0]))return Ft[1]}return(0,s.info)("bad black code"),this._eatBits(1),1}_lookBits(Pt){let Rt;for(;this.inputBits<Pt;){if((Rt=this.source.next())===-1)return this.inputBits===0?Tt:this.inputBuf<<Pt-this.inputBits&65535>>16-Pt;this.inputBuf=this.inputBuf<<8|Rt,this.inputBits+=8}return this.inputBuf>>this.inputBits-Pt&65535>>16-Pt}_eatBits(Pt){(this.inputBits-=Pt)<0&&(this.inputBits=0)}}ct.CCITTFaxDecoder=pt},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.FlateStream=void 0;var s=Et(19),st=Et(2);const Tt=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),wt=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),e=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),gt=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],_=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];class $ extends s.DecodeStream{constructor(j,g){super(g),this.str=j,this.dict=j.dict;const o=j.getByte(),ut=j.getByte();if(o===-1||ut===-1)throw new st.FormatError(`Invalid header in flate stream: ${o}, ${ut}`);if((o&15)!==8)throw new st.FormatError(`Unknown compression method in flate stream: ${o}, ${ut}`);if(((o<<8)+ut)%31!==0)throw new st.FormatError(`Bad FCHECK in flate stream: ${o}, ${ut}`);if(ut&32)throw new st.FormatError(`FDICT bit set in flate stream: ${o}, ${ut}`);this.codeSize=0,this.codeBuf=0}getBits(j){const g=this.str;let o=this.codeSize,ut=this.codeBuf,dt;for(;o<j;){if((dt=g.getByte())===-1)throw new st.FormatError("Bad encoding in flate stream");ut|=dt<<o,o+=8}return dt=ut&(1<<j)-1,this.codeBuf=ut>>j,this.codeSize=o-=j,dt}getCode(j){const g=this.str,o=j[0],ut=j[1];let dt=this.codeSize,b=this.codeBuf,h;for(;dt<ut&&(h=g.getByte())!==-1;)b|=h<<dt,dt+=8;const et=o[b&(1<<ut)-1],nt=et>>16,pt=et&65535;if(nt<1||dt<nt)throw new st.FormatError("Bad encoding in flate stream");return this.codeBuf=b>>nt,this.codeSize=dt-nt,pt}generateHuffmanTable(j){const g=j.length;let o=0,ut;for(ut=0;ut<g;++ut)j[ut]>o&&(o=j[ut]);const dt=1<<o,b=new Int32Array(dt);for(let h=1,et=0,nt=2;h<=o;++h,et<<=1,nt<<=1)for(let pt=0;pt<g;++pt)if(j[pt]===h){let Bt=0,Pt=et;for(ut=0;ut<h;++ut)Bt=Bt<<1|Pt&1,Pt>>=1;for(ut=Bt;ut<dt;ut+=nt)b[ut]=h<<16|pt;++et}return[b,o]}readBlock(){let j,g;const o=this.str;let ut=this.getBits(3);if(ut&1&&(this.eof=!0),ut>>=1,ut===0){let nt;if((nt=o.getByte())===-1)throw new st.FormatError("Bad block header in flate stream");let pt=nt;if((nt=o.getByte())===-1)throw new st.FormatError("Bad block header in flate stream");if(pt|=nt<<8,(nt=o.getByte())===-1)throw new st.FormatError("Bad block header in flate stream");let Bt=nt;if((nt=o.getByte())===-1)throw new st.FormatError("Bad block header in flate stream");if(Bt|=nt<<8,Bt!==(~pt&65535)&&(pt!==0||Bt!==0))throw new st.FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;const Pt=this.bufferLength,Rt=Pt+pt;if(j=this.ensureBuffer(Rt),this.bufferLength=Rt,pt===0)o.peekByte()===-1&&(this.eof=!0);else{const Ft=o.getBytes(pt);j.set(Ft,Pt),Ft.length<pt&&(this.eof=!0)}return}let dt,b;if(ut===1)dt=gt,b=_;else if(ut===2){const nt=this.getBits(5)+257,pt=this.getBits(5)+1,Bt=this.getBits(4)+4,Pt=new Uint8Array(Tt.length);let Rt;for(Rt=0;Rt<Bt;++Rt)Pt[Tt[Rt]]=this.getBits(3);const Ft=this.generateHuffmanTable(Pt);g=0,Rt=0;const lt=nt+pt,ft=new Uint8Array(lt);let it,at,bt;for(;Rt<lt;){const St=this.getCode(Ft);if(St===16)it=2,at=3,bt=g;else if(St===17)it=3,at=3,bt=g=0;else if(St===18)it=7,at=11,bt=g=0;else{ft[Rt++]=g=St;continue}let ht=this.getBits(it)+at;for(;ht-- >0;)ft[Rt++]=bt}dt=this.generateHuffmanTable(ft.subarray(0,nt)),b=this.generateHuffmanTable(ft.subarray(nt,lt))}else throw new st.FormatError("Unknown block type in flate stream");j=this.buffer;let h=j?j.length:0,et=this.bufferLength;for(;;){let nt=this.getCode(dt);if(nt<256){et+1>=h&&(j=this.ensureBuffer(et+1),h=j.length),j[et++]=nt;continue}if(nt===256){this.bufferLength=et;return}nt-=257,nt=wt[nt];let pt=nt>>16;pt>0&&(pt=this.getBits(pt)),g=(nt&65535)+pt,nt=this.getCode(b),nt=e[nt],pt=nt>>16,pt>0&&(pt=this.getBits(pt));const Bt=(nt&65535)+pt;et+g>=h&&(j=this.ensureBuffer(et+g),h=j.length);for(let Pt=0;Pt<g;++Pt,++et)j[et]=j[et-Bt]}}}ct.FlateStream=$},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.Jbig2Stream=void 0;var s=Et(7),st=Et(19),Tt=Et(5),wt=Et(25),e=Et(2);class gt extends st.DecodeStream{constructor($,d,j){super(d),this.stream=$,this.dict=$.dict,this.maybeLength=d,this.params=j}get bytes(){return(0,e.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer($){}readBlock(){if(this.eof)return;const $=new wt.Jbig2Image,d=[];if(this.params instanceof Tt.Dict){const o=this.params.get("JBIG2Globals");if(o instanceof s.BaseStream){const ut=o.getBytes();d.push({data:ut,start:0,end:ut.length})}}d.push({data:this.bytes,start:0,end:this.bytes.length});const j=$.parseChunks(d),g=j.length;for(let o=0;o<g;o++)j[o]^=255;this.buffer=j,this.bufferLength=g,this.eof=!0}}ct.Jbig2Stream=gt},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.Jbig2Image=void 0;var s=Et(2),st=Et(6),Tt=Et(26),wt=Et(22);class e extends s.BaseException{constructor(Dt){super(`JBIG2 error: ${Dt}`,"Jbig2Error")}}class gt{getContexts(Dt){return Dt in this?this[Dt]:this[Dt]=new Int8Array(65536)}}class _{constructor(Dt,jt,Ot){this.data=Dt,this.start=jt,this.end=Ot}get decoder(){const Dt=new Tt.ArithmeticDecoder(this.data,this.start,this.end);return(0,s.shadow)(this,"decoder",Dt)}get contextCache(){const Dt=new gt;return(0,s.shadow)(this,"contextCache",Dt)}}function $(It,Dt,jt){const Ot=It.getContexts(Dt);let Xt=1;function Ut(Kt){let Vt=0;for(let Yt=0;Yt<Kt;Yt++){const Zt=jt.readBit(Ot,Xt);Xt=Xt<256?Xt<<1|Zt:(Xt<<1|Zt)&511|256,Vt=Vt<<1|Zt}return Vt>>>0}const Gt=Ut(1),qt=Ut(1)?Ut(1)?Ut(1)?Ut(1)?Ut(1)?Ut(32)+4436:Ut(12)+340:Ut(8)+84:Ut(6)+20:Ut(4)+4:Ut(2);return Gt===0?qt:qt>0?-qt:null}function d(It,Dt,jt){const Ot=It.getContexts("IAID");let Xt=1;for(let Ut=0;Ut<jt;Ut++){const Gt=Dt.readBit(Ot,Xt);Xt=Xt<<1|Gt}return jt<31?Xt&(1<<jt)-1:Xt&2147483647}const j=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],g=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],o=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],ut=[39717,1941,229,405];function dt(It,Dt,jt){const Ot=jt.decoder,Xt=jt.contextCache.getContexts("GB"),Ut=[];let Gt,qt,Kt,Vt,Yt,Zt,Qt;const en=31735;for(qt=0;qt<Dt;qt++)for(Yt=Ut[qt]=new Uint8Array(It),Zt=qt<1?Yt:Ut[qt-1],Qt=qt<2?Yt:Ut[qt-2],Gt=Qt[0]<<13|Qt[1]<<12|Qt[2]<<11|Zt[0]<<7|Zt[1]<<6|Zt[2]<<5|Zt[3]<<4,Kt=0;Kt<It;Kt++)Yt[Kt]=Vt=Ot.readBit(Xt,Gt),Gt=(Gt&en)<<1|(Kt+3<It?Qt[Kt+3]<<11:0)|(Kt+4<It?Zt[Kt+4]<<4:0)|Vt;return Ut}function b(It,Dt,jt,Ot,Xt,Ut,Gt,qt){if(It){const tr=new Ht(qt.data,qt.start,qt.end);return _t(tr,Dt,jt,!1)}if(Ot===0&&!Xt&&Gt.length===4&&Gt[0].x===3&&Gt[0].y===-1&&Gt[1].x===-3&&Gt[1].y===-1&&Gt[2].x===2&&Gt[2].y===-2&&Gt[3].x===-2&&Gt[3].y===-2)return dt(Dt,jt,qt);const Kt=g[Ot].concat(Gt);Kt.sort(function(tr,pr){return tr.y-pr.y||tr.x-pr.x});const Vt=Kt.length,Yt=new Int8Array(Vt),Zt=new Int8Array(Vt),Qt=[];let en=0,rn=0,an=0,fn=0,un,pn;for(pn=0;pn<Vt;pn++)Yt[pn]=Kt[pn].x,Zt[pn]=Kt[pn].y,rn=Math.min(rn,Kt[pn].x),an=Math.max(an,Kt[pn].x),fn=Math.min(fn,Kt[pn].y),pn<Vt-1&&Kt[pn].y===Kt[pn+1].y&&Kt[pn].x===Kt[pn+1].x-1?en|=1<<Vt-1-pn:Qt.push(pn);const yn=Qt.length,On=new Int8Array(yn),En=new Int8Array(yn),An=new Uint16Array(yn);for(un=0;un<yn;un++)pn=Qt[un],On[un]=Kt[pn].x,En[un]=Kt[pn].y,An[un]=1<<Vt-1-pn;const Cn=-rn,gn=-fn,hn=Dt-an,on=ut[Ot];let Dn=new Uint8Array(Dt);const Xn=[],er=qt.decoder,Sn=qt.contextCache.getContexts("GB");let xn=0,cn,qn,Vn,Gn=0,lr,$n;for(let tr=0;tr<jt;tr++){if(Xt){const pr=er.readBit(Sn,on);if(xn^=pr,xn){Xn.push(Dn);continue}}for(Dn=new Uint8Array(Dn),Xn.push(Dn),cn=0;cn<Dt;cn++){if(cn>=Cn&&cn<hn&&tr>=gn)for(Gn=Gn<<1&en,pn=0;pn<yn;pn++)qn=tr+En[pn],Vn=cn+On[pn],lr=Xn[qn][Vn],lr&&(lr=An[pn],Gn|=lr);else for(Gn=0,$n=Vt-1,pn=0;pn<Vt;pn++,$n--)Vn=cn+Yt[pn],Vn>=0&&Vn<Dt&&(qn=tr+Zt[pn],qn>=0&&(lr=Xn[qn][Vn],lr&&(Gn|=lr<<$n)));const pr=er.readBit(Sn,Gn);Dn[cn]=pr}}return Xn}function h(It,Dt,jt,Ot,Xt,Ut,Gt,qt,Kt){let Vt=o[jt].coding;jt===0&&(Vt=Vt.concat([qt[0]]));const Yt=Vt.length,Zt=new Int32Array(Yt),Qt=new Int32Array(Yt);let en;for(en=0;en<Yt;en++)Zt[en]=Vt[en].x,Qt[en]=Vt[en].y;let rn=o[jt].reference;jt===0&&(rn=rn.concat([qt[1]]));const an=rn.length,fn=new Int32Array(an),un=new Int32Array(an);for(en=0;en<an;en++)fn[en]=rn[en].x,un[en]=rn[en].y;const pn=Ot[0].length,yn=Ot.length,On=[],En=Kt.decoder,An=Kt.contextCache.getContexts("GR");for(let Cn=0;Cn<Dt;Cn++){const gn=new Uint8Array(It);On.push(gn);for(let hn=0;hn<It;hn++){let on,Dn,Xn=0;for(en=0;en<Yt;en++)on=Cn+Qt[en],Dn=hn+Zt[en],on<0||Dn<0||Dn>=It?Xn<<=1:Xn=Xn<<1|On[on][Dn];for(en=0;en<an;en++)on=Cn+un[en]-Ut,Dn=hn+fn[en]-Xt,on<0||on>=yn||Dn<0||Dn>=pn?Xn<<=1:Xn=Xn<<1|Ot[on][Dn];const er=En.readBit(An,Xn);gn[hn]=er}}return On}function et(It,Dt,jt,Ot,Xt,Ut,Gt,qt,Kt,Vt,Yt,Zt){if(It&&Dt)throw new e("symbol refinement with Huffman is not supported");const Qt=[];let en=0,rn=(0,st.log2)(jt.length+Ot);const an=Yt.decoder,fn=Yt.contextCache;let un,pn;for(It&&(un=Nt(1),pn=[],rn=Math.max(rn,1));Qt.length<Ot;){const hn=It?Ut.tableDeltaHeight.decode(Zt):$(fn,"IADH",an);en+=hn;let on=0,Dn=0;const Xn=It?pn.length:0;for(;;){const er=It?Ut.tableDeltaWidth.decode(Zt):$(fn,"IADW",an);if(er===null)break;on+=er,Dn+=on;let Sn;if(Dt){const xn=$(fn,"IAAI",an);if(xn>1)Sn=nt(It,Dt,on,en,0,xn,1,jt.concat(Qt),rn,0,0,1,0,Ut,Kt,Vt,Yt,0,Zt);else{const cn=d(fn,an,rn),qn=$(fn,"IARDX",an),Vn=$(fn,"IARDY",an),Gn=cn<jt.length?jt[cn]:Qt[cn-jt.length];Sn=h(on,en,Kt,Gn,qn,Vn,!1,Vt,Yt)}Qt.push(Sn)}else It?pn.push(on):(Sn=b(!1,on,en,Gt,!1,null,qt,Yt),Qt.push(Sn))}if(It&&!Dt){const er=Ut.tableBitmapSize.decode(Zt);Zt.byteAlign();let Sn;if(er===0)Sn=Mt(Zt,Dn,en);else{const cn=Zt.end,qn=Zt.position+er;Zt.end=qn,Sn=_t(Zt,Dn,en,!1),Zt.end=cn,Zt.position=qn}const xn=pn.length;if(Xn===xn-1)Qt.push(Sn);else{let cn,qn,Vn=0,Gn,lr,$n;for(cn=Xn;cn<xn;cn++){for(lr=pn[cn],Gn=Vn+lr,$n=[],qn=0;qn<en;qn++)$n.push(Sn[qn].subarray(Vn,Gn));Qt.push($n),Vn=Gn}}}}const yn=[],On=[];let En=!1,An,Cn;const gn=jt.length+Ot;for(;On.length<gn;){let hn=It?un.decode(Zt):$(fn,"IAEX",an);for(;hn--;)On.push(En);En=!En}for(An=0,Cn=jt.length;An<Cn;An++)On[An]&&yn.push(jt[An]);for(let hn=0;hn<Ot;An++,hn++)On[An]&&yn.push(Qt[hn]);return yn}function nt(It,Dt,jt,Ot,Xt,Ut,Gt,qt,Kt,Vt,Yt,Zt,Qt,en,rn,an,fn,un,pn){if(It&&Dt)throw new e("refinement with Huffman is not supported");const yn=[];let On,En;for(On=0;On<Ot;On++){if(En=new Uint8Array(jt),Xt)for(let on=0;on<jt;on++)En[on]=Xt;yn.push(En)}const An=fn.decoder,Cn=fn.contextCache;let gn=It?-en.tableDeltaT.decode(pn):-$(Cn,"IADT",An),hn=0;for(On=0;On<Ut;){const on=It?en.tableDeltaT.decode(pn):$(Cn,"IADT",An);gn+=on;const Dn=It?en.tableFirstS.decode(pn):$(Cn,"IAFS",An);hn+=Dn;let Xn=hn;do{let er=0;Gt>1&&(er=It?pn.readBits(un):$(Cn,"IAIT",An));const Sn=Gt*gn+er,xn=It?en.symbolIDTable.decode(pn):d(Cn,An,Kt),cn=Dt&&(It?pn.readBit():$(Cn,"IARI",An));let qn=qt[xn],Vn=qn[0].length,Gn=qn.length;if(cn){const rr=$(Cn,"IARDW",An),Tr=$(Cn,"IARDH",An),br=$(Cn,"IARDX",An),yr=$(Cn,"IARDY",An);Vn+=rr,Gn+=Tr,qn=h(Vn,Gn,rn,qn,(rr>>1)+br,(Tr>>1)+yr,!1,an,fn)}const lr=Sn-(Zt&1?0:Gn-1),$n=Xn-(Zt&2?Vn-1:0);let tr,pr,jn;if(Vt){for(tr=0;tr<Gn;tr++){if(En=yn[$n+tr],!En)continue;jn=qn[tr];const rr=Math.min(jt-lr,Vn);switch(Qt){case 0:for(pr=0;pr<rr;pr++)En[lr+pr]|=jn[pr];break;case 2:for(pr=0;pr<rr;pr++)En[lr+pr]^=jn[pr];break;default:throw new e(`operator ${Qt} is not supported`)}}Xn+=Gn-1}else{for(pr=0;pr<Gn;pr++)if(En=yn[lr+pr],!!En)switch(jn=qn[pr],Qt){case 0:for(tr=0;tr<Vn;tr++)En[$n+tr]|=jn[tr];break;case 2:for(tr=0;tr<Vn;tr++)En[$n+tr]^=jn[tr];break;default:throw new e(`operator ${Qt} is not supported`)}Xn+=Vn-1}On++;const ur=It?en.tableDeltaS.decode(pn):$(Cn,"IADS",An);if(ur===null)break;Xn+=ur+Yt}while(!0)}return yn}function pt(It,Dt,jt,Ot,Xt,Ut){const Gt=[];It||(Gt.push({x:-Dt,y:0}),Xt===0&&Gt.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const qt=(Ot+1)*Dt,Kt=b(It,qt,jt,Xt,!1,null,Gt,Ut),Vt=[];for(let Yt=0;Yt<=Ot;Yt++){const Zt=[],Qt=Dt*Yt,en=Qt+Dt;for(let rn=0;rn<jt;rn++)Zt.push(Kt[rn].subarray(Qt,en));Vt.push(Zt)}return Vt}function Bt(It,Dt,jt,Ot,Xt,Ut,Gt,qt,Kt,Vt,Yt,Zt,Qt,en,rn){if(Gt)throw new e("skip is not supported");if(qt!==0)throw new e(`operator "${qt}" is not supported in halftone region`);const fn=[];let un,pn,yn;for(un=0;un<Xt;un++){if(yn=new Uint8Array(Ot),Ut)for(pn=0;pn<Ot;pn++)yn[pn]=Ut;fn.push(yn)}const On=Dt.length,En=Dt[0],An=En[0].length,Cn=En.length,gn=(0,st.log2)(On),hn=[];It||(hn.push({x:jt<=1?3:2,y:-1}),jt===0&&hn.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const on=[];let Dn,Xn;for(It&&(Dn=new Ht(rn.data,rn.start,rn.end)),un=gn-1;un>=0;un--)It?Xn=_t(Dn,Kt,Vt,!0):Xn=b(!1,Kt,Vt,jt,!1,null,hn,rn),on[un]=Xn;let er,Sn,xn,cn,qn,Vn,Gn,lr,$n;for(er=0;er<Vt;er++)for(Sn=0;Sn<Kt;Sn++){for(xn=0,cn=0,pn=gn-1;pn>=0;pn--)xn^=on[pn][er][Sn],cn|=xn<<pn;if(qn=Dt[cn],Vn=Yt+er*en+Sn*Qt>>8,Gn=Zt+er*Qt-Sn*en>>8,Vn>=0&&Vn+An<=Ot&&Gn>=0&&Gn+Cn<=Xt)for(un=0;un<Cn;un++)for($n=fn[Gn+un],lr=qn[un],pn=0;pn<An;pn++)$n[Vn+pn]|=lr[pn];else{let tr,pr;for(un=0;un<Cn;un++)if(pr=Gn+un,!(pr<0||pr>=Xt))for($n=fn[pr],lr=qn[un],pn=0;pn<An;pn++)tr=Vn+pn,tr>=0&&tr<Ot&&($n[tr]|=lr[pn])}}return fn}function Pt(It,Dt){const jt={};jt.number=(0,st.readUint32)(It,Dt);const Ot=It[Dt+4],Xt=Ot&63;if(!j[Xt])throw new e("invalid segment type: "+Xt);jt.type=Xt,jt.typeName=j[Xt],jt.deferredNonRetain=!!(Ot&128);const Ut=!!(Ot&64),Gt=It[Dt+5];let qt=Gt>>5&7;const Kt=[Gt&31];let Vt=Dt+6;if(Gt===7){qt=(0,st.readUint32)(It,Vt-1)&536870911,Vt+=3;let rn=qt+7>>3;for(Kt[0]=It[Vt++];--rn>0;)Kt.push(It[Vt++])}else if(Gt===5||Gt===6)throw new e("invalid referred-to flags");jt.retainBits=Kt;let Yt=4;jt.number<=256?Yt=1:jt.number<=65536&&(Yt=2);const Zt=[];let Qt,en;for(Qt=0;Qt<qt;Qt++){let rn;Yt===1?rn=It[Vt]:Yt===2?rn=(0,st.readUint16)(It,Vt):rn=(0,st.readUint32)(It,Vt),Zt.push(rn),Vt+=Yt}if(jt.referredTo=Zt,Ut?(jt.pageAssociation=(0,st.readUint32)(It,Vt),Vt+=4):jt.pageAssociation=It[Vt++],jt.length=(0,st.readUint32)(It,Vt),Vt+=4,jt.length===4294967295)if(Xt===38){const rn=Ft(It,Vt),fn=!!(It[Vt+lt]&1),un=6,pn=new Uint8Array(un);for(fn||(pn[0]=255,pn[1]=172),pn[2]=rn.height>>>24&255,pn[3]=rn.height>>16&255,pn[4]=rn.height>>8&255,pn[5]=rn.height&255,Qt=Vt,en=It.length;Qt<en;Qt++){let yn=0;for(;yn<un&&pn[yn]===It[Qt+yn];)yn++;if(yn===un){jt.length=Qt+un;break}}if(jt.length===4294967295)throw new e("segment end was not found")}else throw new e("invalid unknown segment length");return jt.headerEnd=Vt,jt}function Rt(It,Dt,jt,Ot){const Xt=[];let Ut=jt;for(;Ut<Ot;){const Gt=Pt(Dt,Ut);Ut=Gt.headerEnd;const qt={header:Gt,data:Dt};if(It.randomAccess||(qt.start=Ut,Ut+=Gt.length,qt.end=Ut),Xt.push(qt),Gt.type===51)break}if(It.randomAccess)for(let Gt=0,qt=Xt.length;Gt<qt;Gt++)Xt[Gt].start=Ut,Ut+=Xt[Gt].header.length,Xt[Gt].end=Ut;return Xt}function Ft(It,Dt){return{width:(0,st.readUint32)(It,Dt),height:(0,st.readUint32)(It,Dt+4),x:(0,st.readUint32)(It,Dt+8),y:(0,st.readUint32)(It,Dt+12),combinationOperator:It[Dt+16]&7}}const lt=17;function ft(It,Dt){const jt=It.header,Ot=It.data,Xt=It.end;let Ut=It.start,Gt,qt,Kt,Vt;switch(jt.type){case 0:const Zt={},Qt=(0,st.readUint16)(Ot,Ut);if(Zt.huffman=!!(Qt&1),Zt.refinement=!!(Qt&2),Zt.huffmanDHSelector=Qt>>2&3,Zt.huffmanDWSelector=Qt>>4&3,Zt.bitmapSizeSelector=Qt>>6&1,Zt.aggregationInstancesSelector=Qt>>7&1,Zt.bitmapCodingContextUsed=!!(Qt&256),Zt.bitmapCodingContextRetained=!!(Qt&512),Zt.template=Qt>>10&3,Zt.refinementTemplate=Qt>>12&1,Ut+=2,!Zt.huffman){for(Vt=Zt.template===0?4:1,qt=[],Kt=0;Kt<Vt;Kt++)qt.push({x:(0,st.readInt8)(Ot,Ut),y:(0,st.readInt8)(Ot,Ut+1)}),Ut+=2;Zt.at=qt}if(Zt.refinement&&!Zt.refinementTemplate){for(qt=[],Kt=0;Kt<2;Kt++)qt.push({x:(0,st.readInt8)(Ot,Ut),y:(0,st.readInt8)(Ot,Ut+1)}),Ut+=2;Zt.refinementAt=qt}Zt.numberOfExportedSymbols=(0,st.readUint32)(Ot,Ut),Ut+=4,Zt.numberOfNewSymbols=(0,st.readUint32)(Ot,Ut),Ut+=4,Gt=[Zt,jt.number,jt.referredTo,Ot,Ut,Xt];break;case 6:case 7:const en={};en.info=Ft(Ot,Ut),Ut+=lt;const rn=(0,st.readUint16)(Ot,Ut);if(Ut+=2,en.huffman=!!(rn&1),en.refinement=!!(rn&2),en.logStripSize=rn>>2&3,en.stripSize=1<<en.logStripSize,en.referenceCorner=rn>>4&3,en.transposed=!!(rn&64),en.combinationOperator=rn>>7&3,en.defaultPixelValue=rn>>9&1,en.dsOffset=rn<<17>>27,en.refinementTemplate=rn>>15&1,en.huffman){const Cn=(0,st.readUint16)(Ot,Ut);Ut+=2,en.huffmanFS=Cn&3,en.huffmanDS=Cn>>2&3,en.huffmanDT=Cn>>4&3,en.huffmanRefinementDW=Cn>>6&3,en.huffmanRefinementDH=Cn>>8&3,en.huffmanRefinementDX=Cn>>10&3,en.huffmanRefinementDY=Cn>>12&3,en.huffmanRefinementSizeSelector=!!(Cn&16384)}if(en.refinement&&!en.refinementTemplate){for(qt=[],Kt=0;Kt<2;Kt++)qt.push({x:(0,st.readInt8)(Ot,Ut),y:(0,st.readInt8)(Ot,Ut+1)}),Ut+=2;en.refinementAt=qt}en.numberOfSymbolInstances=(0,st.readUint32)(Ot,Ut),Ut+=4,Gt=[en,jt.referredTo,Ot,Ut,Xt];break;case 16:const an={},fn=Ot[Ut++];an.mmr=!!(fn&1),an.template=fn>>1&3,an.patternWidth=Ot[Ut++],an.patternHeight=Ot[Ut++],an.maxPatternIndex=(0,st.readUint32)(Ot,Ut),Ut+=4,Gt=[an,jt.number,Ot,Ut,Xt];break;case 22:case 23:const un={};un.info=Ft(Ot,Ut),Ut+=lt;const pn=Ot[Ut++];un.mmr=!!(pn&1),un.template=pn>>1&3,un.enableSkip=!!(pn&8),un.combinationOperator=pn>>4&7,un.defaultPixelValue=pn>>7&1,un.gridWidth=(0,st.readUint32)(Ot,Ut),Ut+=4,un.gridHeight=(0,st.readUint32)(Ot,Ut),Ut+=4,un.gridOffsetX=(0,st.readUint32)(Ot,Ut)&4294967295,Ut+=4,un.gridOffsetY=(0,st.readUint32)(Ot,Ut)&4294967295,Ut+=4,un.gridVectorX=(0,st.readUint16)(Ot,Ut),Ut+=2,un.gridVectorY=(0,st.readUint16)(Ot,Ut),Ut+=2,Gt=[un,jt.referredTo,Ot,Ut,Xt];break;case 38:case 39:const yn={};yn.info=Ft(Ot,Ut),Ut+=lt;const On=Ot[Ut++];if(yn.mmr=!!(On&1),yn.template=On>>1&3,yn.prediction=!!(On&8),!yn.mmr){for(Vt=yn.template===0?4:1,qt=[],Kt=0;Kt<Vt;Kt++)qt.push({x:(0,st.readInt8)(Ot,Ut),y:(0,st.readInt8)(Ot,Ut+1)}),Ut+=2;yn.at=qt}Gt=[yn,Ot,Ut,Xt];break;case 48:const En={width:(0,st.readUint32)(Ot,Ut),height:(0,st.readUint32)(Ot,Ut+4),resolutionX:(0,st.readUint32)(Ot,Ut+8),resolutionY:(0,st.readUint32)(Ot,Ut+12)};En.height===4294967295&&delete En.height;const An=Ot[Ut+16];(0,st.readUint16)(Ot,Ut+17),En.lossless=!!(An&1),En.refinement=!!(An&2),En.defaultPixelValue=An>>2&1,En.combinationOperator=An>>3&3,En.requiresBuffer=!!(An&32),En.combinationOperatorOverride=!!(An&64),Gt=[En];break;case 49:break;case 50:break;case 51:break;case 53:Gt=[jt.number,Ot,Ut,Xt];break;case 62:break;default:throw new e(`segment type ${jt.typeName}(${jt.type}) is not implemented`)}const Yt="on"+jt.typeName;Yt in Dt&&Dt[Yt].apply(Dt,Gt)}function it(It,Dt){for(let jt=0,Ot=It.length;jt<Ot;jt++)ft(It[jt],Dt)}function at(It){const Dt=new bt;for(let jt=0,Ot=It.length;jt<Ot;jt++){const Xt=It[jt],Ut=Rt({},Xt.data,Xt.start,Xt.end);it(Ut,Dt)}return Dt.buffer}class bt{onPageInformation(Dt){this.currentPageInfo=Dt;const jt=Dt.width+7>>3,Ot=new Uint8ClampedArray(jt*Dt.height);Dt.defaultPixelValue&&Ot.fill(255),this.buffer=Ot}drawBitmap(Dt,jt){const Ot=this.currentPageInfo,Xt=Dt.width,Ut=Dt.height,Gt=Ot.width+7>>3,qt=Ot.combinationOperatorOverride?Dt.combinationOperator:Ot.combinationOperator,Kt=this.buffer,Vt=128>>(Dt.x&7);let Yt=Dt.y*Gt+(Dt.x>>3),Zt,Qt,en,rn;switch(qt){case 0:for(Zt=0;Zt<Ut;Zt++){for(en=Vt,rn=Yt,Qt=0;Qt<Xt;Qt++)jt[Zt][Qt]&&(Kt[rn]|=en),en>>=1,en||(en=128,rn++);Yt+=Gt}break;case 2:for(Zt=0;Zt<Ut;Zt++){for(en=Vt,rn=Yt,Qt=0;Qt<Xt;Qt++)jt[Zt][Qt]&&(Kt[rn]^=en),en>>=1,en||(en=128,rn++);Yt+=Gt}break;default:throw new e(`operator ${qt} is not supported`)}}onImmediateGenericRegion(Dt,jt,Ot,Xt){const Ut=Dt.info,Gt=new _(jt,Ot,Xt),qt=b(Dt.mmr,Ut.width,Ut.height,Dt.template,Dt.prediction,null,Dt.at,Gt);this.drawBitmap(Ut,qt)}onImmediateLosslessGenericRegion(){this.onImmediateGenericRegion(...arguments)}onSymbolDictionary(Dt,jt,Ot,Xt,Ut,Gt){let qt,Kt;Dt.huffman&&(qt=mt(Dt,Ot,this.customTables),Kt=new Ht(Xt,Ut,Gt));let Vt=this.symbols;Vt||(this.symbols=Vt={});const Yt=[];for(const Qt of Ot){const en=Vt[Qt];en&&Yt.push(...en)}const Zt=new _(Xt,Ut,Gt);Vt[jt]=et(Dt.huffman,Dt.refinement,Yt,Dt.numberOfNewSymbols,Dt.numberOfExportedSymbols,qt,Dt.template,Dt.at,Dt.refinementTemplate,Dt.refinementAt,Zt,Kt)}onImmediateTextRegion(Dt,jt,Ot,Xt,Ut){const Gt=Dt.info;let qt,Kt;const Vt=this.symbols,Yt=[];for(const rn of jt){const an=Vt[rn];an&&Yt.push(...an)}const Zt=(0,st.log2)(Yt.length);Dt.huffman&&(Kt=new Ht(Ot,Xt,Ut),qt=rt(Dt,jt,this.customTables,Yt.length,Kt));const Qt=new _(Ot,Xt,Ut),en=nt(Dt.huffman,Dt.refinement,Gt.width,Gt.height,Dt.defaultPixelValue,Dt.numberOfSymbolInstances,Dt.stripSize,Yt,Zt,Dt.transposed,Dt.dsOffset,Dt.referenceCorner,Dt.combinationOperator,qt,Dt.refinementTemplate,Dt.refinementAt,Qt,Dt.logStripSize,Kt);this.drawBitmap(Gt,en)}onImmediateLosslessTextRegion(){this.onImmediateTextRegion(...arguments)}onPatternDictionary(Dt,jt,Ot,Xt,Ut){let Gt=this.patterns;Gt||(this.patterns=Gt={});const qt=new _(Ot,Xt,Ut);Gt[jt]=pt(Dt.mmr,Dt.patternWidth,Dt.patternHeight,Dt.maxPatternIndex,Dt.template,qt)}onImmediateHalftoneRegion(Dt,jt,Ot,Xt,Ut){const Gt=this.patterns[jt[0]],qt=Dt.info,Kt=new _(Ot,Xt,Ut),Vt=Bt(Dt.mmr,Gt,Dt.template,qt.width,qt.height,Dt.defaultPixelValue,Dt.enableSkip,Dt.combinationOperator,Dt.gridWidth,Dt.gridHeight,Dt.gridOffsetX,Dt.gridOffsetY,Dt.gridVectorX,Dt.gridVectorY,Kt);this.drawBitmap(qt,Vt)}onImmediateLosslessHalftoneRegion(){this.onImmediateHalftoneRegion(...arguments)}onTables(Dt,jt,Ot,Xt){let Ut=this.customTables;Ut||(this.customTables=Ut={}),Ut[Dt]=yt(jt,Ot,Xt)}}class St{constructor(Dt){Dt.length===2?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=Dt[0],this.rangeLength=0,this.prefixCode=Dt[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=Dt[0],this.prefixLength=Dt[1],this.rangeLength=Dt[2],this.prefixCode=Dt[3],this.isLowerRange=Dt[4]==="lower")}}class ht{constructor(Dt){this.children=[],Dt?(this.isLeaf=!0,this.rangeLength=Dt.rangeLength,this.rangeLow=Dt.rangeLow,this.isLowerRange=Dt.isLowerRange,this.isOOB=Dt.isOOB):this.isLeaf=!1}buildTree(Dt,jt){const Ot=Dt.prefixCode>>jt&1;if(jt<=0)this.children[Ot]=new ht(Dt);else{let Xt=this.children[Ot];Xt||(this.children[Ot]=Xt=new ht(null)),Xt.buildTree(Dt,jt-1)}}decodeNode(Dt){if(this.isLeaf){if(this.isOOB)return null;const Ot=Dt.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-Ot:Ot)}const jt=this.children[Dt.readBit()];if(!jt)throw new e("invalid Huffman data");return jt.decodeNode(Dt)}}class vt{constructor(Dt,jt){jt||this.assignPrefixCodes(Dt),this.rootNode=new ht(null);for(let Ot=0,Xt=Dt.length;Ot<Xt;Ot++){const Ut=Dt[Ot];Ut.prefixLength>0&&this.rootNode.buildTree(Ut,Ut.prefixLength-1)}}decode(Dt){return this.rootNode.decodeNode(Dt)}assignPrefixCodes(Dt){const jt=Dt.length;let Ot=0;for(let Yt=0;Yt<jt;Yt++)Ot=Math.max(Ot,Dt[Yt].prefixLength);const Xt=new Uint32Array(Ot+1);for(let Yt=0;Yt<jt;Yt++)Xt[Dt[Yt].prefixLength]++;let Ut=1,Gt=0,qt,Kt,Vt;for(Xt[0]=0;Ut<=Ot;){for(Gt=Gt+Xt[Ut-1]<<1,qt=Gt,Kt=0;Kt<jt;)Vt=Dt[Kt],Vt.prefixLength===Ut&&(Vt.prefixCode=qt,qt++),Kt++;Ut++}}}function yt(It,Dt,jt){const Ot=It[Dt],Xt=(0,st.readUint32)(It,Dt+1)&4294967295,Ut=(0,st.readUint32)(It,Dt+5)&4294967295,Gt=new Ht(It,Dt+9,jt),qt=(Ot>>1&7)+1,Kt=(Ot>>4&7)+1,Vt=[];let Yt,Zt,Qt=Xt;do Yt=Gt.readBits(qt),Zt=Gt.readBits(Kt),Vt.push(new St([Qt,Yt,Zt,0])),Qt+=1<<Zt;while(Qt<Ut);return Yt=Gt.readBits(qt),Vt.push(new St([Xt-1,Yt,32,0,"lower"])),Yt=Gt.readBits(qt),Vt.push(new St([Ut,Yt,32,0])),Ot&1&&(Yt=Gt.readBits(qt),Vt.push(new St([Yt,0]))),new vt(Vt,!1)}const At={};function Nt(It){let Dt=At[It];if(Dt)return Dt;let jt;switch(It){case 1:jt=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:jt=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:jt=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:jt=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:jt=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:jt=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:jt=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:jt=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:jt=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:jt=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:jt=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:jt=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:jt=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:jt=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:jt=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new e(`standard table B.${It} does not exist`)}for(let Ot=0,Xt=jt.length;Ot<Xt;Ot++)jt[Ot]=new St(jt[Ot]);return Dt=new vt(jt,!0),At[It]=Dt,Dt}class Ht{constructor(Dt,jt,Ot){this.data=Dt,this.start=jt,this.end=Ot,this.position=jt,this.shift=-1,this.currentByte=0}readBit(){if(this.shift<0){if(this.position>=this.end)throw new e("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}const Dt=this.currentByte>>this.shift&1;return this.shift--,Dt}readBits(Dt){let jt=0,Ot;for(Ot=Dt-1;Ot>=0;Ot--)jt|=this.readBit()<<Ot;return jt}byteAlign(){this.shift=-1}next(){return this.position>=this.end?-1:this.data[this.position++]}}function xt(It,Dt,jt){let Ot=0;for(let Xt=0,Ut=Dt.length;Xt<Ut;Xt++){const Gt=jt[Dt[Xt]];if(Gt){if(It===Ot)return Gt;Ot++}}throw new e("can't find custom Huffman table")}function rt(It,Dt,jt,Ot,Xt){const Ut=[];for(let Qt=0;Qt<=34;Qt++){const en=Xt.readBits(4);Ut.push(new St([Qt,en,0,0]))}const Gt=new vt(Ut,!1);Ut.length=0;for(let Qt=0;Qt<Ot;){const en=Gt.decode(Xt);if(en>=32){let rn,an,fn;switch(en){case 32:if(Qt===0)throw new e("no previous value in symbol ID table");an=Xt.readBits(2)+3,rn=Ut[Qt-1].prefixLength;break;case 33:an=Xt.readBits(3)+3,rn=0;break;case 34:an=Xt.readBits(7)+11,rn=0;break;default:throw new e("invalid code length in symbol ID table")}for(fn=0;fn<an;fn++)Ut.push(new St([Qt,rn,0,0])),Qt++}else Ut.push(new St([Qt,en,0,0])),Qt++}Xt.byteAlign();const qt=new vt(Ut,!1);let Kt=0,Vt,Yt,Zt;switch(It.huffmanFS){case 0:case 1:Vt=Nt(It.huffmanFS+6);break;case 3:Vt=xt(Kt,Dt,jt),Kt++;break;default:throw new e("invalid Huffman FS selector")}switch(It.huffmanDS){case 0:case 1:case 2:Yt=Nt(It.huffmanDS+8);break;case 3:Yt=xt(Kt,Dt,jt),Kt++;break;default:throw new e("invalid Huffman DS selector")}switch(It.huffmanDT){case 0:case 1:case 2:Zt=Nt(It.huffmanDT+11);break;case 3:Zt=xt(Kt,Dt,jt),Kt++;break;default:throw new e("invalid Huffman DT selector")}if(It.refinement)throw new e("refinement with Huffman is not supported");return{symbolIDTable:qt,tableFirstS:Vt,tableDeltaS:Yt,tableDeltaT:Zt}}function mt(It,Dt,jt){let Ot=0,Xt,Ut;switch(It.huffmanDHSelector){case 0:case 1:Xt=Nt(It.huffmanDHSelector+4);break;case 3:Xt=xt(Ot,Dt,jt),Ot++;break;default:throw new e("invalid Huffman DH selector")}switch(It.huffmanDWSelector){case 0:case 1:Ut=Nt(It.huffmanDWSelector+2);break;case 3:Ut=xt(Ot,Dt,jt),Ot++;break;default:throw new e("invalid Huffman DW selector")}let Gt,qt;return It.bitmapSizeSelector?(Gt=xt(Ot,Dt,jt),Ot++):Gt=Nt(1),It.aggregationInstancesSelector?qt=xt(Ot,Dt,jt):qt=Nt(1),{tableDeltaHeight:Xt,tableDeltaWidth:Ut,tableBitmapSize:Gt,tableAggregateInstances:qt}}function Mt(It,Dt,jt){const Ot=[];for(let Xt=0;Xt<jt;Xt++){const Ut=new Uint8Array(Dt);Ot.push(Ut);for(let Gt=0;Gt<Dt;Gt++)Ut[Gt]=It.readBit();It.byteAlign()}return Ot}function _t(It,Dt,jt,Ot){const Xt={K:-1,Columns:Dt,Rows:jt,BlackIs1:!0,EndOfBlock:Ot},Ut=new wt.CCITTFaxDecoder(It,Xt),Gt=[];let qt,Kt=!1;for(let Vt=0;Vt<jt;Vt++){const Yt=new Uint8Array(Dt);Gt.push(Yt);let Zt=-1;for(let Qt=0;Qt<Dt;Qt++)Zt<0&&(qt=Ut.readNextChar(),qt===-1&&(qt=0,Kt=!0),Zt=7),Yt[Qt]=qt>>Zt&1,Zt--}if(Ot&&!Kt)for(let Yt=0;Yt<5&&Ut.readNextChar()!==-1;Yt++);return Gt}class Lt{parseChunks(Dt){return at(Dt)}parse(Dt){throw new Error("Not implemented: Jbig2Image.parse")}}ct.Jbig2Image=Lt},(zt,ct)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.ArithmeticDecoder=void 0;const Et=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];class s{constructor(Tt,wt,e){this.data=Tt,this.bp=wt,this.dataEnd=e,this.chigh=Tt[wt],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}byteIn(){const Tt=this.data;let wt=this.bp;Tt[wt]===255?Tt[wt+1]>143?(this.clow+=65280,this.ct=8):(wt++,this.clow+=Tt[wt]<<9,this.ct=7,this.bp=wt):(wt++,this.clow+=wt<this.dataEnd?Tt[wt]<<8:65280,this.ct=8,this.bp=wt),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}readBit(Tt,wt){let e=Tt[wt]>>1,gt=Tt[wt]&1;const _=Et[e],$=_.qe;let d,j=this.a-$;if(this.chigh<$)j<$?(j=$,d=gt,e=_.nmps):(j=$,d=1^gt,_.switchFlag===1&&(gt=d),e=_.nlps);else{if(this.chigh-=$,j&32768)return this.a=j,gt;j<$?(d=1^gt,_.switchFlag===1&&(gt=d),e=_.nlps):(d=gt,e=_.nmps)}do this.ct===0&&this.byteIn(),j<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--;while(!(j&32768));return this.a=j,Tt[wt]=e<<1|gt,d}}ct.ArithmeticDecoder=s},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.JpegStream=void 0;var s=Et(19),st=Et(5),Tt=Et(28),wt=Et(2);class e extends s.DecodeStream{constructor(_,$,d){let j;for(;(j=_.getByte())!==-1;)if(j===255){_.skip(-1);break}super($),this.stream=_,this.dict=_.dict,this.maybeLength=$,this.params=d}get bytes(){return(0,wt.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(_){}readBlock(){if(this.eof)return;const _={decodeTransform:void 0,colorTransform:void 0},$=this.dict.getArray("D","Decode");if(this.forceRGB&&Array.isArray($)){const g=this.dict.get("BPC","BitsPerComponent")||8,o=$.length,ut=new Int32Array(o);let dt=!1;const b=(1<<g)-1;for(let h=0;h<o;h+=2)ut[h]=($[h+1]-$[h])*256|0,ut[h+1]=$[h]*b|0,(ut[h]!==256||ut[h+1]!==0)&&(dt=!0);dt&&(_.decodeTransform=ut)}if(this.params instanceof st.Dict){const g=this.params.get("ColorTransform");Number.isInteger(g)&&(_.colorTransform=g)}const d=new Tt.JpegImage(_);d.parse(this.bytes);const j=d.getData({width:this.drawWidth,height:this.drawHeight,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=j,this.bufferLength=j.length,this.eof=!0}}ct.JpegStream=e},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.JpegImage=void 0;var s=Et(2),st=Et(6);class Tt extends s.BaseException{constructor(Ft){super(`JPEG error: ${Ft}`,"JpegError")}}class wt extends s.BaseException{constructor(Ft,lt){super(Ft,"DNLMarkerError"),this.scanLines=lt}}class e extends s.BaseException{constructor(Ft){super(Ft,"EOIMarkerError")}}const gt=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),_=4017,$=799,d=3406,j=2276,g=1567,o=3784,ut=5793,dt=2896;function b(Rt,Ft){let lt=0,ft,it,at=16;for(;at>0&&!Rt[at-1];)at--;const bt=[{children:[],index:0}];let St=bt[0],ht;for(ft=0;ft<at;ft++){for(it=0;it<Rt[ft];it++){for(St=bt.pop(),St.children[St.index]=Ft[lt];St.index>0;)St=bt.pop();for(St.index++,bt.push(St);bt.length<=ft;)bt.push(ht={children:[],index:0}),St.children[St.index]=ht.children,St=ht;lt++}ft+1<at&&(bt.push(ht={children:[],index:0}),St.children[St.index]=ht.children,St=ht)}return bt[0].children}function h(Rt,Ft,lt){return 64*((Rt.blocksPerLine+1)*Ft+lt)}function et(Rt,Ft,lt,ft,it,at,bt,St,ht,vt=!1){const yt=lt.mcusPerLine,At=lt.progressive,Nt=Ft;let Ht=0,xt=0;function rt(){if(xt>0)return xt--,Ht>>xt&1;if(Ht=Rt[Ft++],Ht===255){const An=Rt[Ft++];if(An){if(An===220&&vt){Ft+=2;const Cn=(0,st.readUint16)(Rt,Ft);if(Ft+=2,Cn>0&&Cn!==lt.scanLines)throw new wt("Found DNL marker (0xFFDC) while parsing scan data",Cn)}else if(An===217){if(vt){const Cn=qt*(lt.precision===8?8:0);if(Cn>0&&Math.round(lt.scanLines/Cn)>=10)throw new wt("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",Cn)}throw new e("Found EOI marker (0xFFD9) while parsing scan data")}throw new Tt(`unexpected marker ${(Ht<<8|An).toString(16)}`)}}return xt=7,Ht>>>7}function mt(An){let Cn=An;for(;;){switch(Cn=Cn[rt()],typeof Cn){case"number":return Cn;case"object":continue}throw new Tt("invalid huffman sequence")}}function Mt(An){let Cn=0;for(;An>0;)Cn=Cn<<1|rt(),An--;return Cn}function _t(An){if(An===1)return rt()===1?1:-1;const Cn=Mt(An);return Cn>=1<<An-1?Cn:Cn+(-1<<An)+1}function Lt(An,Cn){const gn=mt(An.huffmanTableDC),hn=gn===0?0:_t(gn);An.blockData[Cn]=An.pred+=hn;let on=1;for(;on<64;){const Dn=mt(An.huffmanTableAC),Xn=Dn&15,er=Dn>>4;if(Xn===0){if(er<15)break;on+=16;continue}on+=er;const Sn=gt[on];An.blockData[Cn+Sn]=_t(Xn),on++}}function It(An,Cn){const gn=mt(An.huffmanTableDC),hn=gn===0?0:_t(gn)<<ht;An.blockData[Cn]=An.pred+=hn}function Dt(An,Cn){An.blockData[Cn]|=rt()<<ht}let jt=0;function Ot(An,Cn){if(jt>0){jt--;return}let gn=at;const hn=bt;for(;gn<=hn;){const on=mt(An.huffmanTableAC),Dn=on&15,Xn=on>>4;if(Dn===0){if(Xn<15){jt=Mt(Xn)+(1<<Xn)-1;break}gn+=16;continue}gn+=Xn;const er=gt[gn];An.blockData[Cn+er]=_t(Dn)*(1<<ht),gn++}}let Xt=0,Ut;function Gt(An,Cn){let gn=at;const hn=bt;let on=0,Dn,Xn;for(;gn<=hn;){const er=Cn+gt[gn],Sn=An.blockData[er]<0?-1:1;switch(Xt){case 0:if(Xn=mt(An.huffmanTableAC),Dn=Xn&15,on=Xn>>4,Dn===0)on<15?(jt=Mt(on)+(1<<on),Xt=4):(on=16,Xt=1);else{if(Dn!==1)throw new Tt("invalid ACn encoding");Ut=_t(Dn),Xt=on?2:3}continue;case 1:case 2:An.blockData[er]?An.blockData[er]+=Sn*(rt()<<ht):(on--,on===0&&(Xt=Xt===2?3:0));break;case 3:An.blockData[er]?An.blockData[er]+=Sn*(rt()<<ht):(An.blockData[er]=Ut<<ht,Xt=0);break;case 4:An.blockData[er]&&(An.blockData[er]+=Sn*(rt()<<ht));break}gn++}Xt===4&&(jt--,jt===0&&(Xt=0))}let qt=0;function Kt(An,Cn,gn,hn,on){const Dn=gn/yt|0,Xn=gn%yt;qt=Dn*An.v+hn;const er=Xn*An.h+on,Sn=h(An,qt,er);Cn(An,Sn)}function Vt(An,Cn,gn){qt=gn/An.blocksPerLine|0;const hn=gn%An.blocksPerLine,on=h(An,qt,hn);Cn(An,on)}const Yt=ft.length;let Zt,Qt,en,rn,an,fn;At?at===0?fn=St===0?It:Dt:fn=St===0?Ot:Gt:fn=Lt;let un=0,pn,yn;Yt===1?yn=ft[0].blocksPerLine*ft[0].blocksPerColumn:yn=yt*lt.mcusPerColumn;let On,En;for(;un<=yn;){const An=it?Math.min(yn-un,it):yn;if(An>0){for(Qt=0;Qt<Yt;Qt++)ft[Qt].pred=0;if(jt=0,Yt===1)for(Zt=ft[0],an=0;an<An;an++)Vt(Zt,fn,un),un++;else for(an=0;an<An;an++){for(Qt=0;Qt<Yt;Qt++)for(Zt=ft[Qt],On=Zt.h,En=Zt.v,en=0;en<En;en++)for(rn=0;rn<On;rn++)Kt(Zt,fn,un,en,rn);un++}}if(xt=0,pn=Bt(Rt,Ft),!pn)break;if(pn.invalid){const Cn=An>0?"unexpected":"excessive";(0,s.warn)(`decodeScan - ${Cn} MCU data, current marker is: ${pn.invalid}`),Ft=pn.offset}if(pn.marker>=65488&&pn.marker<=65495)Ft+=2;else break}return Ft-Nt}function nt(Rt,Ft,lt){const ft=Rt.quantizationTable,it=Rt.blockData;let at,bt,St,ht,vt,yt,At,Nt,Ht,xt,rt,mt,Mt,_t,Lt,It,Dt;if(!ft)throw new Tt("missing required Quantization Table.");for(let jt=0;jt<64;jt+=8){if(Ht=it[Ft+jt],xt=it[Ft+jt+1],rt=it[Ft+jt+2],mt=it[Ft+jt+3],Mt=it[Ft+jt+4],_t=it[Ft+jt+5],Lt=it[Ft+jt+6],It=it[Ft+jt+7],Ht*=ft[jt],!(xt|rt|mt|Mt|_t|Lt|It)){Dt=ut*Ht+512>>10,lt[jt]=Dt,lt[jt+1]=Dt,lt[jt+2]=Dt,lt[jt+3]=Dt,lt[jt+4]=Dt,lt[jt+5]=Dt,lt[jt+6]=Dt,lt[jt+7]=Dt;continue}xt*=ft[jt+1],rt*=ft[jt+2],mt*=ft[jt+3],Mt*=ft[jt+4],_t*=ft[jt+5],Lt*=ft[jt+6],It*=ft[jt+7],at=ut*Ht+128>>8,bt=ut*Mt+128>>8,St=rt,ht=Lt,vt=dt*(xt-It)+128>>8,Nt=dt*(xt+It)+128>>8,yt=mt<<4,At=_t<<4,at=at+bt+1>>1,bt=at-bt,Dt=St*o+ht*g+128>>8,St=St*g-ht*o+128>>8,ht=Dt,vt=vt+At+1>>1,At=vt-At,Nt=Nt+yt+1>>1,yt=Nt-yt,at=at+ht+1>>1,ht=at-ht,bt=bt+St+1>>1,St=bt-St,Dt=vt*j+Nt*d+2048>>12,vt=vt*d-Nt*j+2048>>12,Nt=Dt,Dt=yt*$+At*_+2048>>12,yt=yt*_-At*$+2048>>12,At=Dt,lt[jt]=at+Nt,lt[jt+7]=at-Nt,lt[jt+1]=bt+At,lt[jt+6]=bt-At,lt[jt+2]=St+yt,lt[jt+5]=St-yt,lt[jt+3]=ht+vt,lt[jt+4]=ht-vt}for(let jt=0;jt<8;++jt){if(Ht=lt[jt],xt=lt[jt+8],rt=lt[jt+16],mt=lt[jt+24],Mt=lt[jt+32],_t=lt[jt+40],Lt=lt[jt+48],It=lt[jt+56],!(xt|rt|mt|Mt|_t|Lt|It)){Dt=ut*Ht+8192>>14,Dt<-2040?Dt=0:Dt>=2024?Dt=255:Dt=Dt+2056>>4,it[Ft+jt]=Dt,it[Ft+jt+8]=Dt,it[Ft+jt+16]=Dt,it[Ft+jt+24]=Dt,it[Ft+jt+32]=Dt,it[Ft+jt+40]=Dt,it[Ft+jt+48]=Dt,it[Ft+jt+56]=Dt;continue}at=ut*Ht+2048>>12,bt=ut*Mt+2048>>12,St=rt,ht=Lt,vt=dt*(xt-It)+2048>>12,Nt=dt*(xt+It)+2048>>12,yt=mt,At=_t,at=(at+bt+1>>1)+4112,bt=at-bt,Dt=St*o+ht*g+2048>>12,St=St*g-ht*o+2048>>12,ht=Dt,vt=vt+At+1>>1,At=vt-At,Nt=Nt+yt+1>>1,yt=Nt-yt,at=at+ht+1>>1,ht=at-ht,bt=bt+St+1>>1,St=bt-St,Dt=vt*j+Nt*d+2048>>12,vt=vt*d-Nt*j+2048>>12,Nt=Dt,Dt=yt*$+At*_+2048>>12,yt=yt*_-At*$+2048>>12,At=Dt,Ht=at+Nt,It=at-Nt,xt=bt+At,Lt=bt-At,rt=St+yt,_t=St-yt,mt=ht+vt,Mt=ht-vt,Ht<16?Ht=0:Ht>=4080?Ht=255:Ht>>=4,xt<16?xt=0:xt>=4080?xt=255:xt>>=4,rt<16?rt=0:rt>=4080?rt=255:rt>>=4,mt<16?mt=0:mt>=4080?mt=255:mt>>=4,Mt<16?Mt=0:Mt>=4080?Mt=255:Mt>>=4,_t<16?_t=0:_t>=4080?_t=255:_t>>=4,Lt<16?Lt=0:Lt>=4080?Lt=255:Lt>>=4,It<16?It=0:It>=4080?It=255:It>>=4,it[Ft+jt]=Ht,it[Ft+jt+8]=xt,it[Ft+jt+16]=rt,it[Ft+jt+24]=mt,it[Ft+jt+32]=Mt,it[Ft+jt+40]=_t,it[Ft+jt+48]=Lt,it[Ft+jt+56]=It}}function pt(Rt,Ft){const lt=Ft.blocksPerLine,ft=Ft.blocksPerColumn,it=new Int16Array(64);for(let at=0;at<ft;at++)for(let bt=0;bt<lt;bt++){const St=h(Ft,at,bt);nt(Ft,St,it)}return Ft.blockData}function Bt(Rt,Ft,lt=Ft){const ft=Rt.length-1;let it=lt<Ft?lt:Ft;if(Ft>=ft)return null;const at=(0,st.readUint16)(Rt,Ft);if(at>=65472&&at<=65534)return{invalid:null,marker:at,offset:Ft};let bt=(0,st.readUint16)(Rt,it);for(;!(bt>=65472&&bt<=65534);){if(++it>=ft)return null;bt=(0,st.readUint16)(Rt,it)}return{invalid:at.toString(16),marker:bt,offset:it}}class Pt{constructor({decodeTransform:Ft=null,colorTransform:lt=-1}={}){this._decodeTransform=Ft,this._colorTransform=lt}parse(Ft,{dnlScanLines:lt=null}={}){function ft(){const rt=(0,st.readUint16)(Ft,at);at+=2;let mt=at+rt-2;const Mt=Bt(Ft,mt,at);Mt&&Mt.invalid&&((0,s.warn)("readDataBlock - incorrect length, current marker is: "+Mt.invalid),mt=Mt.offset);const _t=Ft.subarray(at,mt);return at+=_t.length,_t}function it(rt){const mt=Math.ceil(rt.samplesPerLine/8/rt.maxH),Mt=Math.ceil(rt.scanLines/8/rt.maxV);for(let _t=0,Lt=rt.components.length;_t<Lt;_t++){const It=rt.components[_t],Dt=Math.ceil(Math.ceil(rt.samplesPerLine/8)*It.h/rt.maxH),jt=Math.ceil(Math.ceil(rt.scanLines/8)*It.v/rt.maxV),Ot=mt*It.h,Ut=64*(Mt*It.v)*(Ot+1);It.blockData=new Int16Array(Ut),It.blocksPerLine=Dt,It.blocksPerColumn=jt}rt.mcusPerLine=mt,rt.mcusPerColumn=Mt}let at=0,bt=null,St=null,ht,vt,yt=0;const At=[],Nt=[],Ht=[];let xt=(0,st.readUint16)(Ft,at);if(at+=2,xt!==65496)throw new Tt("SOI not found");xt=(0,st.readUint16)(Ft,at),at+=2;e:for(;xt!==65497;){let rt,mt,Mt;switch(xt){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:const _t=ft();xt===65504&&_t[0]===74&&_t[1]===70&&_t[2]===73&&_t[3]===70&&_t[4]===0&&(bt={version:{major:_t[5],minor:_t[6]},densityUnits:_t[7],xDensity:_t[8]<<8|_t[9],yDensity:_t[10]<<8|_t[11],thumbWidth:_t[12],thumbHeight:_t[13],thumbData:_t.subarray(14,14+3*_t[12]*_t[13])}),xt===65518&&_t[0]===65&&_t[1]===100&&_t[2]===111&&_t[3]===98&&_t[4]===101&&(St={version:_t[5]<<8|_t[6],flags0:_t[7]<<8|_t[8],flags1:_t[9]<<8|_t[10],transformCode:_t[11]});break;case 65499:const Lt=(0,st.readUint16)(Ft,at);at+=2;const It=Lt+at-2;let Dt;for(;at<It;){const rn=Ft[at++],an=new Uint16Array(64);if(rn>>4)if(rn>>4===1)for(mt=0;mt<64;mt++)Dt=gt[mt],an[Dt]=(0,st.readUint16)(Ft,at),at+=2;else throw new Tt("DQT - invalid table spec");else for(mt=0;mt<64;mt++)Dt=gt[mt],an[Dt]=Ft[at++];At[rn&15]=an}break;case 65472:case 65473:case 65474:if(ht)throw new Tt("Only single frame JPEGs supported");at+=2,ht={},ht.extended=xt===65473,ht.progressive=xt===65474,ht.precision=Ft[at++];const jt=(0,st.readUint16)(Ft,at);at+=2,ht.scanLines=lt||jt,ht.samplesPerLine=(0,st.readUint16)(Ft,at),at+=2,ht.components=[],ht.componentIds={};const Ot=Ft[at++];let Xt=0,Ut=0;for(rt=0;rt<Ot;rt++){const rn=Ft[at],an=Ft[at+1]>>4,fn=Ft[at+1]&15;Xt<an&&(Xt=an),Ut<fn&&(Ut=fn);const un=Ft[at+2];Mt=ht.components.push({h:an,v:fn,quantizationId:un,quantizationTable:null}),ht.componentIds[rn]=Mt-1,at+=3}ht.maxH=Xt,ht.maxV=Ut,it(ht);break;case 65476:const Gt=(0,st.readUint16)(Ft,at);for(at+=2,rt=2;rt<Gt;){const rn=Ft[at++],an=new Uint8Array(16);let fn=0;for(mt=0;mt<16;mt++,at++)fn+=an[mt]=Ft[at];const un=new Uint8Array(fn);for(mt=0;mt<fn;mt++,at++)un[mt]=Ft[at];rt+=17+fn,(rn>>4?Nt:Ht)[rn&15]=b(an,un)}break;case 65501:at+=2,vt=(0,st.readUint16)(Ft,at),at+=2;break;case 65498:const qt=++yt===1&&!lt;at+=2;const Kt=Ft[at++],Vt=[];for(rt=0;rt<Kt;rt++){const rn=Ft[at++],an=ht.componentIds[rn],fn=ht.components[an];fn.index=rn;const un=Ft[at++];fn.huffmanTableDC=Ht[un>>4],fn.huffmanTableAC=Nt[un&15],Vt.push(fn)}const Yt=Ft[at++],Zt=Ft[at++],Qt=Ft[at++];try{const rn=et(Ft,at,ht,Vt,vt,Yt,Zt,Qt>>4,Qt&15,qt);at+=rn}catch(rn){if(rn instanceof wt)return(0,s.warn)(`${rn.message} -- attempting to re-parse the JPEG image.`),this.parse(Ft,{dnlScanLines:rn.scanLines});if(rn instanceof e){(0,s.warn)(`${rn.message} -- ignoring the rest of the image data.`);break e}throw rn}break;case 65500:at+=4;break;case 65535:Ft[at]!==255&&at--;break;default:const en=Bt(Ft,at-2,at-3);if(en&&en.invalid){(0,s.warn)("JpegImage.parse - unexpected data, current marker is: "+en.invalid),at=en.offset;break}if(!en||at>=Ft.length-1){(0,s.warn)("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break e}throw new Tt("JpegImage.parse - unknown marker: "+xt.toString(16))}xt=(0,st.readUint16)(Ft,at),at+=2}this.width=ht.samplesPerLine,this.height=ht.scanLines,this.jfif=bt,this.adobe=St,this.components=[];for(let rt=0,mt=ht.components.length;rt<mt;rt++){const Mt=ht.components[rt],_t=At[Mt.quantizationId];_t&&(Mt.quantizationTable=_t),this.components.push({index:Mt.index,output:pt(ht,Mt),scaleX:Mt.h/ht.maxH,scaleY:Mt.v/ht.maxV,blocksPerLine:Mt.blocksPerLine,blocksPerColumn:Mt.blocksPerColumn})}this.numComponents=this.components.length}_getLinearizedBlockData(Ft,lt,ft=!1){const it=this.width/Ft,at=this.height/lt;let bt,St,ht,vt,yt,At,Nt,Ht,xt,rt,mt=0,Mt;const _t=this.components.length,Lt=Ft*lt*_t,It=new Uint8ClampedArray(Lt),Dt=new Uint32Array(Ft),jt=4294967288;let Ot;for(Nt=0;Nt<_t;Nt++){if(bt=this.components[Nt],St=bt.scaleX*it,ht=bt.scaleY*at,mt=Nt,Mt=bt.output,vt=bt.blocksPerLine+1<<3,St!==Ot){for(yt=0;yt<Ft;yt++)Ht=0|yt*St,Dt[yt]=(Ht&jt)<<3|Ht&7;Ot=St}for(At=0;At<lt;At++)for(Ht=0|At*ht,rt=vt*(Ht&jt)|(Ht&7)<<3,yt=0;yt<Ft;yt++)It[mt]=Mt[rt+Dt[yt]],mt+=_t}let Xt=this._decodeTransform;if(!ft&&_t===4&&!Xt&&(Xt=new Int32Array([-256,255,-256,255,-256,255,-256,255])),Xt)for(Nt=0;Nt<Lt;)for(Ht=0,xt=0;Ht<_t;Ht++,Nt++,xt+=2)It[Nt]=(It[Nt]*Xt[xt]>>8)+Xt[xt+1];return It}get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:this.numComponents===3?this._colorTransform===0?!1:!(this.components[0].index===82&&this.components[1].index===71&&this.components[2].index===66):this._colorTransform===1}_convertYccToRgb(Ft){let lt,ft,it;for(let at=0,bt=Ft.length;at<bt;at+=3)lt=Ft[at],ft=Ft[at+1],it=Ft[at+2],Ft[at]=lt-179.456+1.402*it,Ft[at+1]=lt+135.459-.344*ft-.714*it,Ft[at+2]=lt-226.816+1.772*ft;return Ft}_convertYcckToRgb(Ft){let lt,ft,it,at,bt=0;for(let St=0,ht=Ft.length;St<ht;St+=4)lt=Ft[St],ft=Ft[St+1],it=Ft[St+2],at=Ft[St+3],Ft[bt++]=-122.67195406894+ft*(-660635669420364e-19*ft+.000437130475926232*it-54080610064599e-18*lt+.00048449797120281*at-.154362151871126)+it*(-.000957964378445773*it+.000817076911346625*lt-.00477271405408747*at+1.53380253221734)+lt*(.000961250184130688*lt-.00266257332283933*at+.48357088451265)+at*(-.000336197177618394*at+.484791561490776),Ft[bt++]=107.268039397724+ft*(219927104525741e-19*ft-.000640992018297945*it+.000659397001245577*lt+.000426105652938837*at-.176491792462875)+it*(-.000778269941513683*it+.00130872261408275*lt+.000770482631801132*at-.151051492775562)+lt*(.00126935368114843*lt-.00265090189010898*at+.25802910206845)+at*(-.000318913117588328*at-.213742400323665),Ft[bt++]=-20.810012546947+ft*(-.000570115196973677*ft-263409051004589e-19*it+.0020741088115012*lt-.00288260236853442*at+.814272968359295)+it*(-153496057440975e-19*it-.000132689043961446*lt+.000560833691242812*at-.195152027534049)+lt*(.00174418132927582*lt-.00255243321439347*at+.116935020465145)+at*(-.000343531996510555*at+.24165260232407);return Ft.subarray(0,bt)}_convertYcckToCmyk(Ft){let lt,ft,it;for(let at=0,bt=Ft.length;at<bt;at+=4)lt=Ft[at],ft=Ft[at+1],it=Ft[at+2],Ft[at]=434.456-lt-1.402*it,Ft[at+1]=119.541-lt+.344*ft+.714*it,Ft[at+2]=481.816-lt-1.772*ft;return Ft}_convertCmykToRgb(Ft){let lt,ft,it,at,bt=0;for(let St=0,ht=Ft.length;St<ht;St+=4)lt=Ft[St],ft=Ft[St+1],it=Ft[St+2],at=Ft[St+3],Ft[bt++]=255+lt*(-6747147073602441e-20*lt+.0008379262121013727*ft+.0002894718188643294*it+.003264231057537806*at-1.1185611867203937)+ft*(26374107616089405e-21*ft-8626949158638572e-20*it-.0002748769067499491*at-.02155688794978967)+it*(-3878099212869363e-20*it-.0003267808279485286*at+.0686742238595345)-at*(.0003361971776183937*at+.7430659151342254),Ft[bt++]=255+lt*(.00013596372813588848*lt+.000924537132573585*ft+.00010567359618683593*it+.0004791864687436512*at-.3109689587515875)+ft*(-.00023545346108370344*ft+.0002702845253534714*it+.0020200308977307156*at-.7488052167015494)+it*(6834815998235662e-20*it+.00015168452363460973*at-.09751927774728933)-at*(.0003189131175883281*at+.7364883807733168),Ft[bt++]=255+lt*(13598650411385307e-21*lt+.00012423956175490851*ft+.0004751985097583589*it-36729317476630422e-22*at-.05562186980264034)+ft*(.00016141380598724676*ft+.0009692239130725186*it+.0007782692450036253*at-.44015232367526463)+it*(5068882914068769e-22*it+.0017778369011375071*at-.7591454649749609)-at*(.0003435319965105553*at+.7063770186160144);return Ft.subarray(0,bt)}getData({width:Ft,height:lt,forceRGB:ft=!1,isSourcePDF:it=!1}){if(this.numComponents>4)throw new Tt("Unsupported color mode");const at=this._getLinearizedBlockData(Ft,lt,it);if(this.numComponents===1&&ft){const bt=at.length,St=new Uint8ClampedArray(bt*3);let ht=0;for(let vt=0;vt<bt;vt++){const yt=at[vt];St[ht++]=yt,St[ht++]=yt,St[ht++]=yt}return St}else{if(this.numComponents===3&&this._isColorConversionNeeded)return this._convertYccToRgb(at);if(this.numComponents===4){if(this._isColorConversionNeeded)return ft?this._convertYcckToRgb(at):this._convertYcckToCmyk(at);if(ft)return this._convertCmykToRgb(at)}}return at}}ct.JpegImage=Pt},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.JpxStream=void 0;var s=Et(19),st=Et(30),Tt=Et(2);class wt extends s.DecodeStream{constructor(gt,_,$){super(_),this.stream=gt,this.dict=gt.dict,this.maybeLength=_,this.params=$}get bytes(){return(0,Tt.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(gt){}readBlock(){if(this.eof)return;const gt=new st.JpxImage;gt.parse(this.bytes);const _=gt.width,$=gt.height,d=gt.componentsCount,j=gt.tiles.length;if(j===1)this.buffer=gt.tiles[0].items;else{const g=new Uint8ClampedArray(_*$*d);for(let o=0;o<j;o++){const ut=gt.tiles[o],dt=ut.width,b=ut.height,h=ut.left,et=ut.top,nt=ut.items;let pt=0,Bt=(_*et+h)*d;const Pt=_*d,Rt=dt*d;for(let Ft=0;Ft<b;Ft++){const lt=nt.subarray(pt,pt+Rt);g.set(lt,Bt),pt+=Rt,Bt+=Pt}}this.buffer=g}this.bufferLength=this.buffer.length,this.eof=!0}}ct.JpxStream=wt},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.JpxImage=void 0;var s=Et(2),st=Et(6),Tt=Et(26);class wt extends s.BaseException{constructor(At){super(`JPX error: ${At}`,"JpxError")}}const e={LL:0,LH:1,HL:1,HH:2};class gt{constructor(){this.failOnCorruptedImage=!1}parse(At){if((0,st.readUint16)(At,0)===65359){this.parseCodestream(At,0,At.length);return}const Ht=At.length;let xt=0;for(;xt<Ht;){let rt=8,mt=(0,st.readUint32)(At,xt);const Mt=(0,st.readUint32)(At,xt+4);if(xt+=rt,mt===1&&(mt=(0,st.readUint32)(At,xt)*4294967296+(0,st.readUint32)(At,xt+4),xt+=8,rt+=8),mt===0&&(mt=Ht-xt+rt),mt<rt)throw new wt("Invalid box field size");const _t=mt-rt;let Lt=!0;switch(Mt){case 1785737832:Lt=!1;break;case 1668246642:const It=At[xt];if(It===1){const jt=(0,st.readUint32)(At,xt+3);switch(jt){case 16:case 17:case 18:break;default:(0,s.warn)("Unknown colorspace "+jt);break}}else It===2&&(0,s.info)("ICC profile not supported");break;case 1785737827:this.parseCodestream(At,xt,xt+_t);break;case 1783636e3:(0,st.readUint32)(At,xt)!==218793738&&(0,s.warn)("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:const Dt=String.fromCharCode(Mt>>24&255,Mt>>16&255,Mt>>8&255,Mt&255);(0,s.warn)(`Unsupported header type ${Mt} (${Dt}).`);break}Lt&&(xt+=_t)}}parseImageProperties(At){let Nt=At.getByte();for(;Nt>=0;){const Ht=Nt;if(Nt=At.getByte(),(Ht<<8|Nt)===65361){At.skip(4);const rt=At.getInt32()>>>0,mt=At.getInt32()>>>0,Mt=At.getInt32()>>>0,_t=At.getInt32()>>>0;At.skip(16);const Lt=At.getUint16();this.width=rt-Mt,this.height=mt-_t,this.componentsCount=Lt,this.bitsPerComponent=8;return}}throw new wt("No size marker found in JPX stream")}parseCodestream(At,Nt,Ht){const xt={};let rt=!1;try{let mt=Nt;for(;mt+1<Ht;){const Mt=(0,st.readUint16)(At,mt);mt+=2;let _t=0,Lt,It,Dt,jt,Ot,Xt;switch(Mt){case 65359:xt.mainHeader=!0;break;case 65497:break;case 65361:_t=(0,st.readUint16)(At,mt);const Ut={};Ut.Xsiz=(0,st.readUint32)(At,mt+4),Ut.Ysiz=(0,st.readUint32)(At,mt+8),Ut.XOsiz=(0,st.readUint32)(At,mt+12),Ut.YOsiz=(0,st.readUint32)(At,mt+16),Ut.XTsiz=(0,st.readUint32)(At,mt+20),Ut.YTsiz=(0,st.readUint32)(At,mt+24),Ut.XTOsiz=(0,st.readUint32)(At,mt+28),Ut.YTOsiz=(0,st.readUint32)(At,mt+32);const Gt=(0,st.readUint16)(At,mt+36);Ut.Csiz=Gt;const qt=[];Lt=mt+38;for(let an=0;an<Gt;an++){const fn={precision:(At[Lt]&127)+1,isSigned:!!(At[Lt]&128),XRsiz:At[Lt+1],YRsiz:At[Lt+2]};Lt+=3,_(fn,Ut),qt.push(fn)}xt.SIZ=Ut,xt.components=qt,$(xt,qt),xt.QCC=[],xt.COC=[];break;case 65372:_t=(0,st.readUint16)(At,mt);const Kt={};switch(Lt=mt+2,It=At[Lt++],It&31){case 0:jt=8,Ot=!0;break;case 1:jt=16,Ot=!1;break;case 2:jt=16,Ot=!0;break;default:throw new Error("Invalid SQcd value "+It)}for(Kt.noQuantization=jt===8,Kt.scalarExpounded=Ot,Kt.guardBits=It>>5,Dt=[];Lt<_t+mt;){const an={};jt===8?(an.epsilon=At[Lt++]>>3,an.mu=0):(an.epsilon=At[Lt]>>3,an.mu=(At[Lt]&7)<<8|At[Lt+1],Lt+=2),Dt.push(an)}Kt.SPqcds=Dt,xt.mainHeader?xt.QCD=Kt:(xt.currentTile.QCD=Kt,xt.currentTile.QCC=[]);break;case 65373:_t=(0,st.readUint16)(At,mt);const Vt={};Lt=mt+2;let Yt;switch(xt.SIZ.Csiz<257?Yt=At[Lt++]:(Yt=(0,st.readUint16)(At,Lt),Lt+=2),It=At[Lt++],It&31){case 0:jt=8,Ot=!0;break;case 1:jt=16,Ot=!1;break;case 2:jt=16,Ot=!0;break;default:throw new Error("Invalid SQcd value "+It)}for(Vt.noQuantization=jt===8,Vt.scalarExpounded=Ot,Vt.guardBits=It>>5,Dt=[];Lt<_t+mt;){const an={};jt===8?(an.epsilon=At[Lt++]>>3,an.mu=0):(an.epsilon=At[Lt]>>3,an.mu=(At[Lt]&7)<<8|At[Lt+1],Lt+=2),Dt.push(an)}Vt.SPqcds=Dt,xt.mainHeader?xt.QCC[Yt]=Vt:xt.currentTile.QCC[Yt]=Vt;break;case 65362:_t=(0,st.readUint16)(At,mt);const Zt={};Lt=mt+2;const Qt=At[Lt++];Zt.entropyCoderWithCustomPrecincts=!!(Qt&1),Zt.sopMarkerUsed=!!(Qt&2),Zt.ephMarkerUsed=!!(Qt&4),Zt.progressionOrder=At[Lt++],Zt.layersCount=(0,st.readUint16)(At,Lt),Lt+=2,Zt.multipleComponentTransform=At[Lt++],Zt.decompositionLevelsCount=At[Lt++],Zt.xcb=(At[Lt++]&15)+2,Zt.ycb=(At[Lt++]&15)+2;const en=At[Lt++];if(Zt.selectiveArithmeticCodingBypass=!!(en&1),Zt.resetContextProbabilities=!!(en&2),Zt.terminationOnEachCodingPass=!!(en&4),Zt.verticallyStripe=!!(en&8),Zt.predictableTermination=!!(en&16),Zt.segmentationSymbolUsed=!!(en&32),Zt.reversibleTransformation=At[Lt++],Zt.entropyCoderWithCustomPrecincts){const an=[];for(;Lt<_t+mt;){const fn=At[Lt++];an.push({PPx:fn&15,PPy:fn>>4})}Zt.precinctsSizes=an}const rn=[];Zt.selectiveArithmeticCodingBypass&&rn.push("selectiveArithmeticCodingBypass"),Zt.terminationOnEachCodingPass&&rn.push("terminationOnEachCodingPass"),Zt.verticallyStripe&&rn.push("verticallyStripe"),Zt.predictableTermination&&rn.push("predictableTermination"),rn.length>0&&(rt=!0,(0,s.warn)(`JPX: Unsupported COD options (${rn.join(", ")}).`)),xt.mainHeader?xt.COD=Zt:(xt.currentTile.COD=Zt,xt.currentTile.COC=[]);break;case 65424:_t=(0,st.readUint16)(At,mt),Xt={},Xt.index=(0,st.readUint16)(At,mt+2),Xt.length=(0,st.readUint32)(At,mt+4),Xt.dataEnd=Xt.length+mt-2,Xt.partIndex=At[mt+8],Xt.partsCount=At[mt+9],xt.mainHeader=!1,Xt.partIndex===0&&(Xt.COD=xt.COD,Xt.COC=xt.COC.slice(0),Xt.QCD=xt.QCD,Xt.QCC=xt.QCC.slice(0)),xt.currentTile=Xt;break;case 65427:Xt=xt.currentTile,Xt.partIndex===0&&(ft(xt,Xt.index),Bt(xt)),_t=Xt.dataEnd-mt,Pt(xt,At,mt,_t);break;case 65363:(0,s.warn)("JPX: Codestream code 0xFF53 (COC) is not implemented.");case 65365:case 65367:case 65368:case 65380:_t=(0,st.readUint16)(At,mt);break;default:throw new Error("Unknown codestream code: "+Mt.toString(16))}mt+=_t}}catch(mt){if(rt||this.failOnCorruptedImage)throw new wt(mt.message);(0,s.warn)(`JPX: Trying to recover from: "${mt.message}".`)}this.tiles=lt(xt),this.width=xt.SIZ.Xsiz-xt.SIZ.XOsiz,this.height=xt.SIZ.Ysiz-xt.SIZ.YOsiz,this.componentsCount=xt.SIZ.Csiz}}ct.JpxImage=gt;function _(yt,At){yt.x0=Math.ceil(At.XOsiz/yt.XRsiz),yt.x1=Math.ceil(At.Xsiz/yt.XRsiz),yt.y0=Math.ceil(At.YOsiz/yt.YRsiz),yt.y1=Math.ceil(At.Ysiz/yt.YRsiz),yt.width=yt.x1-yt.x0,yt.height=yt.y1-yt.y0}function $(yt,At){const Nt=yt.SIZ,Ht=[];let xt;const rt=Math.ceil((Nt.Xsiz-Nt.XTOsiz)/Nt.XTsiz),mt=Math.ceil((Nt.Ysiz-Nt.YTOsiz)/Nt.YTsiz);for(let _t=0;_t<mt;_t++)for(let Lt=0;Lt<rt;Lt++)xt={},xt.tx0=Math.max(Nt.XTOsiz+Lt*Nt.XTsiz,Nt.XOsiz),xt.ty0=Math.max(Nt.YTOsiz+_t*Nt.YTsiz,Nt.YOsiz),xt.tx1=Math.min(Nt.XTOsiz+(Lt+1)*Nt.XTsiz,Nt.Xsiz),xt.ty1=Math.min(Nt.YTOsiz+(_t+1)*Nt.YTsiz,Nt.Ysiz),xt.width=xt.tx1-xt.tx0,xt.height=xt.ty1-xt.ty0,xt.components=[],Ht.push(xt);yt.tiles=Ht;const Mt=Nt.Csiz;for(let _t=0,Lt=Mt;_t<Lt;_t++){const It=At[_t];for(let Dt=0,jt=Ht.length;Dt<jt;Dt++){const Ot={};xt=Ht[Dt],Ot.tcx0=Math.ceil(xt.tx0/It.XRsiz),Ot.tcy0=Math.ceil(xt.ty0/It.YRsiz),Ot.tcx1=Math.ceil(xt.tx1/It.XRsiz),Ot.tcy1=Math.ceil(xt.ty1/It.YRsiz),Ot.width=Ot.tcx1-Ot.tcx0,Ot.height=Ot.tcy1-Ot.tcy0,xt.components[_t]=Ot}}}function d(yt,At,Nt){const Ht=At.codingStyleParameters,xt={};return Ht.entropyCoderWithCustomPrecincts?(xt.PPx=Ht.precinctsSizes[Nt].PPx,xt.PPy=Ht.precinctsSizes[Nt].PPy):(xt.PPx=15,xt.PPy=15),xt.xcb_=Nt>0?Math.min(Ht.xcb,xt.PPx-1):Math.min(Ht.xcb,xt.PPx),xt.ycb_=Nt>0?Math.min(Ht.ycb,xt.PPy-1):Math.min(Ht.ycb,xt.PPy),xt}function j(yt,At,Nt){const Ht=1<<Nt.PPx,xt=1<<Nt.PPy,rt=At.resLevel===0,mt=1<<Nt.PPx+(rt?0:-1),Mt=1<<Nt.PPy+(rt?0:-1),_t=At.trx1>At.trx0?Math.ceil(At.trx1/Ht)-Math.floor(At.trx0/Ht):0,Lt=At.try1>At.try0?Math.ceil(At.try1/xt)-Math.floor(At.try0/xt):0,It=_t*Lt;At.precinctParameters={precinctWidth:Ht,precinctHeight:xt,numprecinctswide:_t,numprecinctshigh:Lt,numprecincts:It,precinctWidthInSubband:mt,precinctHeightInSubband:Mt}}function g(yt,At,Nt){const Ht=Nt.xcb_,xt=Nt.ycb_,rt=1<<Ht,mt=1<<xt,Mt=At.tbx0>>Ht,_t=At.tby0>>xt,Lt=At.tbx1+rt-1>>Ht,It=At.tby1+mt-1>>xt,Dt=At.resolution.precinctParameters,jt=[],Ot=[];let Xt,Ut,Gt,qt;for(Ut=_t;Ut<It;Ut++)for(Xt=Mt;Xt<Lt;Xt++){Gt={cbx:Xt,cby:Ut,tbx0:rt*Xt,tby0:mt*Ut,tbx1:rt*(Xt+1),tby1:mt*(Ut+1)},Gt.tbx0_=Math.max(At.tbx0,Gt.tbx0),Gt.tby0_=Math.max(At.tby0,Gt.tby0),Gt.tbx1_=Math.min(At.tbx1,Gt.tbx1),Gt.tby1_=Math.min(At.tby1,Gt.tby1);const Kt=Math.floor((Gt.tbx0_-At.tbx0)/Dt.precinctWidthInSubband),Vt=Math.floor((Gt.tby0_-At.tby0)/Dt.precinctHeightInSubband);if(qt=Kt+Vt*Dt.numprecinctswide,Gt.precinctNumber=qt,Gt.subbandType=At.type,Gt.Lblock=3,Gt.tbx1_<=Gt.tbx0_||Gt.tby1_<=Gt.tby0_)continue;jt.push(Gt);let Yt=Ot[qt];Yt!==void 0?(Xt<Yt.cbxMin?Yt.cbxMin=Xt:Xt>Yt.cbxMax&&(Yt.cbxMax=Xt),Ut<Yt.cbyMin?Yt.cbxMin=Ut:Ut>Yt.cbyMax&&(Yt.cbyMax=Ut)):Ot[qt]=Yt={cbxMin:Xt,cbyMin:Ut,cbxMax:Xt,cbyMax:Ut},Gt.precinct=Yt}At.codeblockParameters={codeblockWidth:Ht,codeblockHeight:xt,numcodeblockwide:Lt-Mt+1,numcodeblockhigh:It-_t+1},At.codeblocks=jt,At.precincts=Ot}function o(yt,At,Nt){const Ht=[],xt=yt.subbands;for(let rt=0,mt=xt.length;rt<mt;rt++){const _t=xt[rt].codeblocks;for(let Lt=0,It=_t.length;Lt<It;Lt++){const Dt=_t[Lt];Dt.precinctNumber===At&&Ht.push(Dt)}}return{layerNumber:Nt,codeblocks:Ht}}function ut(yt){const At=yt.SIZ,Nt=yt.currentTile.index,Ht=yt.tiles[Nt],xt=Ht.codingStyleDefaultParameters.layersCount,rt=At.Csiz;let mt=0;for(let Dt=0;Dt<rt;Dt++)mt=Math.max(mt,Ht.components[Dt].codingStyleParameters.decompositionLevelsCount);let Mt=0,_t=0,Lt=0,It=0;this.nextPacket=function(){for(;Mt<xt;Mt++){for(;_t<=mt;_t++){for(;Lt<rt;Lt++){const jt=Ht.components[Lt];if(_t>jt.codingStyleParameters.decompositionLevelsCount)continue;const Ot=jt.resolutions[_t],Xt=Ot.precinctParameters.numprecincts;for(;It<Xt;){const Ut=o(Ot,It,Mt);return It++,Ut}It=0}Lt=0}_t=0}throw new wt("Out of packets")}}function dt(yt){const At=yt.SIZ,Nt=yt.currentTile.index,Ht=yt.tiles[Nt],xt=Ht.codingStyleDefaultParameters.layersCount,rt=At.Csiz;let mt=0;for(let Dt=0;Dt<rt;Dt++)mt=Math.max(mt,Ht.components[Dt].codingStyleParameters.decompositionLevelsCount);let Mt=0,_t=0,Lt=0,It=0;this.nextPacket=function(){for(;Mt<=mt;Mt++){for(;_t<xt;_t++){for(;Lt<rt;Lt++){const jt=Ht.components[Lt];if(Mt>jt.codingStyleParameters.decompositionLevelsCount)continue;const Ot=jt.resolutions[Mt],Xt=Ot.precinctParameters.numprecincts;for(;It<Xt;){const Ut=o(Ot,It,_t);return It++,Ut}It=0}Lt=0}_t=0}throw new wt("Out of packets")}}function b(yt){const At=yt.SIZ,Nt=yt.currentTile.index,Ht=yt.tiles[Nt],xt=Ht.codingStyleDefaultParameters.layersCount,rt=At.Csiz;let mt,Mt,_t,Lt,It=0;for(_t=0;_t<rt;_t++){const jt=Ht.components[_t];It=Math.max(It,jt.codingStyleParameters.decompositionLevelsCount)}const Dt=new Int32Array(It+1);for(Mt=0;Mt<=It;++Mt){let jt=0;for(_t=0;_t<rt;++_t){const Ot=Ht.components[_t].resolutions;Mt<Ot.length&&(jt=Math.max(jt,Ot[Mt].precinctParameters.numprecincts))}Dt[Mt]=jt}mt=0,Mt=0,_t=0,Lt=0,this.nextPacket=function(){for(;Mt<=It;Mt++){for(;Lt<Dt[Mt];Lt++){for(;_t<rt;_t++){const Ot=Ht.components[_t];if(Mt>Ot.codingStyleParameters.decompositionLevelsCount)continue;const Xt=Ot.resolutions[Mt],Ut=Xt.precinctParameters.numprecincts;if(!(Lt>=Ut)){for(;mt<xt;){const Gt=o(Xt,Lt,mt);return mt++,Gt}mt=0}}_t=0}Lt=0}throw new wt("Out of packets")}}function h(yt){const At=yt.SIZ,Nt=yt.currentTile.index,Ht=yt.tiles[Nt],xt=Ht.codingStyleDefaultParameters.layersCount,rt=At.Csiz,mt=pt(Ht),Mt=mt;let _t=0,Lt=0,It=0,Dt=0,jt=0;this.nextPacket=function(){for(;jt<Mt.maxNumHigh;jt++){for(;Dt<Mt.maxNumWide;Dt++){for(;It<rt;It++){const Xt=Ht.components[It],Ut=Xt.codingStyleParameters.decompositionLevelsCount;for(;Lt<=Ut;Lt++){const Gt=Xt.resolutions[Lt],qt=mt.components[It].resolutions[Lt],Kt=nt(Dt,jt,qt,Mt,Gt);if(Kt!==null){for(;_t<xt;){const Vt=o(Gt,Kt,_t);return _t++,Vt}_t=0}}Lt=0}It=0}Dt=0}throw new wt("Out of packets")}}function et(yt){const At=yt.SIZ,Nt=yt.currentTile.index,Ht=yt.tiles[Nt],xt=Ht.codingStyleDefaultParameters.layersCount,rt=At.Csiz,mt=pt(Ht);let Mt=0,_t=0,Lt=0,It=0,Dt=0;this.nextPacket=function(){for(;Lt<rt;++Lt){const Ot=Ht.components[Lt],Xt=mt.components[Lt],Ut=Ot.codingStyleParameters.decompositionLevelsCount;for(;Dt<Xt.maxNumHigh;Dt++){for(;It<Xt.maxNumWide;It++){for(;_t<=Ut;_t++){const Gt=Ot.resolutions[_t],qt=Xt.resolutions[_t],Kt=nt(It,Dt,qt,Xt,Gt);if(Kt!==null){for(;Mt<xt;){const Vt=o(Gt,Kt,Mt);return Mt++,Vt}Mt=0}}_t=0}It=0}Dt=0}throw new wt("Out of packets")}}function nt(yt,At,Nt,Ht,xt){const rt=yt*Ht.minWidth,mt=At*Ht.minHeight;if(rt%Nt.width!==0||mt%Nt.height!==0)return null;const Mt=mt/Nt.width*xt.precinctParameters.numprecinctswide;return rt/Nt.height+Mt}function pt(yt){const At=yt.components.length;let Nt=Number.MAX_VALUE,Ht=Number.MAX_VALUE,xt=0,rt=0;const mt=new Array(At);for(let Mt=0;Mt<At;Mt++){const _t=yt.components[Mt],Lt=_t.codingStyleParameters.decompositionLevelsCount,It=new Array(Lt+1);let Dt=Number.MAX_VALUE,jt=Number.MAX_VALUE,Ot=0,Xt=0,Ut=1;for(let Gt=Lt;Gt>=0;--Gt){const qt=_t.resolutions[Gt],Kt=Ut*qt.precinctParameters.precinctWidth,Vt=Ut*qt.precinctParameters.precinctHeight;Dt=Math.min(Dt,Kt),jt=Math.min(jt,Vt),Ot=Math.max(Ot,qt.precinctParameters.numprecinctswide),Xt=Math.max(Xt,qt.precinctParameters.numprecinctshigh),It[Gt]={width:Kt,height:Vt},Ut<<=1}Nt=Math.min(Nt,Dt),Ht=Math.min(Ht,jt),xt=Math.max(xt,Ot),rt=Math.max(rt,Xt),mt[Mt]={resolutions:It,minWidth:Dt,minHeight:jt,maxNumWide:Ot,maxNumHigh:Xt}}return{components:mt,minWidth:Nt,minHeight:Ht,maxNumWide:xt,maxNumHigh:rt}}function Bt(yt){const At=yt.SIZ,Nt=yt.currentTile.index,Ht=yt.tiles[Nt],xt=At.Csiz;for(let mt=0;mt<xt;mt++){const Mt=Ht.components[mt],_t=Mt.codingStyleParameters.decompositionLevelsCount,Lt=[],It=[];for(let Dt=0;Dt<=_t;Dt++){const jt=d(yt,Mt,Dt),Ot={},Xt=1<<_t-Dt;Ot.trx0=Math.ceil(Mt.tcx0/Xt),Ot.try0=Math.ceil(Mt.tcy0/Xt),Ot.trx1=Math.ceil(Mt.tcx1/Xt),Ot.try1=Math.ceil(Mt.tcy1/Xt),Ot.resLevel=Dt,j(yt,Ot,jt),Lt.push(Ot);let Ut;if(Dt===0)Ut={},Ut.type="LL",Ut.tbx0=Math.ceil(Mt.tcx0/Xt),Ut.tby0=Math.ceil(Mt.tcy0/Xt),Ut.tbx1=Math.ceil(Mt.tcx1/Xt),Ut.tby1=Math.ceil(Mt.tcy1/Xt),Ut.resolution=Ot,g(yt,Ut,jt),It.push(Ut),Ot.subbands=[Ut];else{const Gt=1<<_t-Dt+1,qt=[];Ut={},Ut.type="HL",Ut.tbx0=Math.ceil(Mt.tcx0/Gt-.5),Ut.tby0=Math.ceil(Mt.tcy0/Gt),Ut.tbx1=Math.ceil(Mt.tcx1/Gt-.5),Ut.tby1=Math.ceil(Mt.tcy1/Gt),Ut.resolution=Ot,g(yt,Ut,jt),It.push(Ut),qt.push(Ut),Ut={},Ut.type="LH",Ut.tbx0=Math.ceil(Mt.tcx0/Gt),Ut.tby0=Math.ceil(Mt.tcy0/Gt-.5),Ut.tbx1=Math.ceil(Mt.tcx1/Gt),Ut.tby1=Math.ceil(Mt.tcy1/Gt-.5),Ut.resolution=Ot,g(yt,Ut,jt),It.push(Ut),qt.push(Ut),Ut={},Ut.type="HH",Ut.tbx0=Math.ceil(Mt.tcx0/Gt-.5),Ut.tby0=Math.ceil(Mt.tcy0/Gt-.5),Ut.tbx1=Math.ceil(Mt.tcx1/Gt-.5),Ut.tby1=Math.ceil(Mt.tcy1/Gt-.5),Ut.resolution=Ot,g(yt,Ut,jt),It.push(Ut),qt.push(Ut),Ot.subbands=qt}}Mt.resolutions=Lt,Mt.subbands=It}const rt=Ht.codingStyleDefaultParameters.progressionOrder;switch(rt){case 0:Ht.packetsIterator=new ut(yt);break;case 1:Ht.packetsIterator=new dt(yt);break;case 2:Ht.packetsIterator=new b(yt);break;case 3:Ht.packetsIterator=new h(yt);break;case 4:Ht.packetsIterator=new et(yt);break;default:throw new wt(`Unsupported progression order ${rt}`)}}function Pt(yt,At,Nt,Ht){let xt=0,rt,mt=0,Mt=!1;function _t(Kt){for(;mt<Kt;){const Vt=At[Nt+xt];xt++,Mt?(rt=rt<<7|Vt,mt+=7,Mt=!1):(rt=rt<<8|Vt,mt+=8),Vt===255&&(Mt=!0)}return mt-=Kt,rt>>>mt&(1<<Kt)-1}function Lt(Kt){return At[Nt+xt-1]===255&&At[Nt+xt]===Kt?(It(1),!0):At[Nt+xt]===255&&At[Nt+xt+1]===Kt?(It(2),!0):!1}function It(Kt){xt+=Kt}function Dt(){mt=0,Mt&&(xt++,Mt=!1)}function jt(){if(_t(1)===0)return 1;if(_t(1)===0)return 2;let Kt=_t(2);return Kt<3?Kt+3:(Kt=_t(5),Kt<31?Kt+6:(Kt=_t(7),Kt+37))}const Ot=yt.currentTile.index,Xt=yt.tiles[Ot],Ut=yt.COD.sopMarkerUsed,Gt=yt.COD.ephMarkerUsed,qt=Xt.packetsIterator;for(;xt<Ht;){Dt(),Ut&&Lt(145)&&It(4);const Kt=qt.nextPacket();if(!_t(1))continue;const Vt=Kt.layerNumber,Yt=[];let Zt;for(let Qt=0,en=Kt.codeblocks.length;Qt<en;Qt++){Zt=Kt.codeblocks[Qt];let rn=Zt.precinct;const an=Zt.cbx-rn.cbxMin,fn=Zt.cby-rn.cbyMin;let un=!1,pn=!1,yn,On;if(Zt.included!==void 0)un=!!_t(1);else{rn=Zt.precinct;let hn;if(rn.inclusionTree!==void 0)hn=rn.inclusionTree;else{const on=rn.cbxMax-rn.cbxMin+1,Dn=rn.cbyMax-rn.cbyMin+1;hn=new at(on,Dn,Vt),On=new it(on,Dn),rn.inclusionTree=hn,rn.zeroBitPlanesTree=On;for(let Xn=0;Xn<Vt;Xn++)if(_t(1)!==0)throw new wt("Invalid tag tree")}if(hn.reset(an,fn,Vt))for(;;)if(_t(1)){if(yn=!hn.nextLevel(),yn){Zt.included=!0,un=pn=!0;break}}else{hn.incrementValue(Vt);break}}if(!un)continue;if(pn){for(On=rn.zeroBitPlanesTree,On.reset(an,fn);;)if(_t(1)){if(yn=!On.nextLevel(),yn)break}else On.incrementValue();Zt.zeroBitPlanes=On.value}const En=jt();for(;_t(1);)Zt.Lblock++;const An=(0,st.log2)(En),Cn=(En<1<<An?An-1:An)+Zt.Lblock,gn=_t(Cn);Yt.push({codeblock:Zt,codingpasses:En,dataLength:gn})}for(Dt(),Gt&&Lt(146);Yt.length>0;){const Qt=Yt.shift();Zt=Qt.codeblock,Zt.data===void 0&&(Zt.data=[]),Zt.data.push({data:At,start:Nt+xt,end:Nt+xt+Qt.dataLength,codingpasses:Qt.codingpasses}),xt+=Qt.dataLength}}return xt}function Rt(yt,At,Nt,Ht,xt,rt,mt,Mt,_t){const Lt=Ht.tbx0,It=Ht.tby0,Dt=Ht.tbx1-Ht.tbx0,jt=Ht.codeblocks,Ot=Ht.type.charAt(0)==="H"?1:0,Xt=Ht.type.charAt(1)==="H"?At:0;for(let Ut=0,Gt=jt.length;Ut<Gt;++Ut){const qt=jt[Ut],Kt=qt.tbx1_-qt.tbx0_,Vt=qt.tby1_-qt.tby0_;if(Kt===0||Vt===0||qt.data===void 0)continue;const Yt=new bt(Kt,Vt,qt.subbandType,qt.zeroBitPlanes,rt);let Zt=2;const Qt=qt.data;let en=0,rn=0,an,fn,un;for(an=0,fn=Qt.length;an<fn;an++)un=Qt[an],en+=un.end-un.start,rn+=un.codingpasses;const pn=new Uint8Array(en);let yn=0;for(an=0,fn=Qt.length;an<fn;an++){un=Qt[an];const Sn=un.data.subarray(un.start,un.end);pn.set(Sn,yn),yn+=Sn.length}const On=new Tt.ArithmeticDecoder(pn,0,en);for(Yt.setDecoder(On),an=0;an<rn;an++){switch(Zt){case 0:Yt.runSignificancePropagationPass();break;case 1:Yt.runMagnitudeRefinementPass();break;case 2:Yt.runCleanupPass(),Mt&&Yt.checkSegmentationSymbol();break}_t&&Yt.reset(),Zt=(Zt+1)%3}let En=qt.tbx0_-Lt+(qt.tby0_-It)*Dt;const An=Yt.coefficentsSign,Cn=Yt.coefficentsMagnitude,gn=Yt.bitsDecoded,hn=mt?0:.5;let on,Dn,Xn;yn=0;const er=Ht.type!=="LL";for(an=0;an<Vt;an++){const xn=2*(En/Dt|0)*(At-Dt)+Ot+Xt;for(on=0;on<Kt;on++){if(Dn=Cn[yn],Dn!==0){Dn=(Dn+hn)*xt,An[yn]!==0&&(Dn=-Dn),Xn=gn[yn];const cn=er?xn+(En<<1):En;mt&&Xn>=rt?yt[cn]=Dn:yt[cn]=Dn*(1<<rt-Xn)}En++,yn++}En+=Dt-Kt}}}function Ft(yt,At,Nt){const Ht=At.components[Nt],xt=Ht.codingStyleParameters,rt=Ht.quantizationParameters,mt=xt.decompositionLevelsCount,Mt=rt.SPqcds,_t=rt.scalarExpounded,Lt=rt.guardBits,It=xt.segmentationSymbolUsed,Dt=xt.resetContextProbabilities,jt=yt.components[Nt].precision,Ot=xt.reversibleTransformation,Xt=Ot?new vt:new ht,Ut=[];let Gt=0;for(let Kt=0;Kt<=mt;Kt++){const Vt=Ht.resolutions[Kt],Yt=Vt.trx1-Vt.trx0,Zt=Vt.try1-Vt.try0,Qt=new Float32Array(Yt*Zt);for(let en=0,rn=Vt.subbands.length;en<rn;en++){let an,fn;_t?(an=Mt[Gt].mu,fn=Mt[Gt].epsilon,Gt++):(an=Mt[0].mu,fn=Mt[0].epsilon+(Kt>0?1-Kt:0));const un=Vt.subbands[en],pn=e[un.type],yn=Ot?1:2**(jt+pn-fn)*(1+an/2048),On=Lt+fn-1;Rt(Qt,Yt,Zt,un,yn,On,Ot,It,Dt)}Ut.push({width:Yt,height:Zt,items:Qt})}const qt=Xt.calculate(Ut,Ht.tcx0,Ht.tcy0);return{left:Ht.tcx0,top:Ht.tcy0,width:qt.width,height:qt.height,items:qt.items}}function lt(yt){const At=yt.SIZ,Nt=yt.components,Ht=At.Csiz,xt=[];for(let rt=0,mt=yt.tiles.length;rt<mt;rt++){const Mt=yt.tiles[rt],_t=[];for(let Yt=0;Yt<Ht;Yt++)_t[Yt]=Ft(yt,Mt,Yt);const Lt=_t[0],It=new Uint8ClampedArray(Lt.items.length*Ht),Dt={left:Lt.left,top:Lt.top,width:Lt.width,height:Lt.height,items:It};let jt,Ot,Xt=0,Ut,Gt,qt,Kt,Vt;if(Mt.codingStyleDefaultParameters.multipleComponentTransform){const Yt=Ht===4,Zt=_t[0].items,Qt=_t[1].items,en=_t[2].items,rn=Yt?_t[3].items:null;jt=Nt[0].precision-8,Ot=(128<<jt)+.5;const an=Mt.components[0],fn=Ht-3;if(Gt=Zt.length,an.codingStyleParameters.reversibleTransformation)for(Ut=0;Ut<Gt;Ut++,Xt+=fn){qt=Zt[Ut]+Ot,Kt=Qt[Ut],Vt=en[Ut];const un=qt-(Vt+Kt>>2);It[Xt++]=un+Vt>>jt,It[Xt++]=un>>jt,It[Xt++]=un+Kt>>jt}else for(Ut=0;Ut<Gt;Ut++,Xt+=fn)qt=Zt[Ut]+Ot,Kt=Qt[Ut],Vt=en[Ut],It[Xt++]=qt+1.402*Vt>>jt,It[Xt++]=qt-.34413*Kt-.71414*Vt>>jt,It[Xt++]=qt+1.772*Kt>>jt;if(Yt)for(Ut=0,Xt=3;Ut<Gt;Ut++,Xt+=4)It[Xt]=rn[Ut]+Ot>>jt}else for(let Yt=0;Yt<Ht;Yt++){const Zt=_t[Yt].items;for(jt=Nt[Yt].precision-8,Ot=(128<<jt)+.5,Xt=Yt,Ut=0,Gt=Zt.length;Ut<Gt;Ut++)It[Xt]=Zt[Ut]+Ot>>jt,Xt+=Ht}xt.push(Dt)}return xt}function ft(yt,At){const Ht=yt.SIZ.Csiz,xt=yt.tiles[At];for(let rt=0;rt<Ht;rt++){const mt=xt.components[rt],Mt=yt.currentTile.QCC[rt]!==void 0?yt.currentTile.QCC[rt]:yt.currentTile.QCD;mt.quantizationParameters=Mt;const _t=yt.currentTile.COC[rt]!==void 0?yt.currentTile.COC[rt]:yt.currentTile.COD;mt.codingStyleParameters=_t}xt.codingStyleDefaultParameters=yt.currentTile.COD}class it{constructor(At,Nt){const Ht=(0,st.log2)(Math.max(At,Nt))+1;this.levels=[];for(let xt=0;xt<Ht;xt++){const rt={width:At,height:Nt,items:[]};this.levels.push(rt),At=Math.ceil(At/2),Nt=Math.ceil(Nt/2)}}reset(At,Nt){let Ht=0,xt=0,rt;for(;Ht<this.levels.length;){rt=this.levels[Ht];const mt=At+Nt*rt.width;if(rt.items[mt]!==void 0){xt=rt.items[mt];break}rt.index=mt,At>>=1,Nt>>=1,Ht++}Ht--,rt=this.levels[Ht],rt.items[rt.index]=xt,this.currentLevel=Ht,delete this.value}incrementValue(){const At=this.levels[this.currentLevel];At.items[At.index]++}nextLevel(){let At=this.currentLevel,Nt=this.levels[At];const Ht=Nt.items[Nt.index];return At--,At<0?(this.value=Ht,!1):(this.currentLevel=At,Nt=this.levels[At],Nt.items[Nt.index]=Ht,!0)}}class at{constructor(At,Nt,Ht){const xt=(0,st.log2)(Math.max(At,Nt))+1;this.levels=[];for(let rt=0;rt<xt;rt++){const mt=new Uint8Array(At*Nt);for(let _t=0,Lt=mt.length;_t<Lt;_t++)mt[_t]=Ht;const Mt={width:At,height:Nt,items:mt};this.levels.push(Mt),At=Math.ceil(At/2),Nt=Math.ceil(Nt/2)}}reset(At,Nt,Ht){let xt=0;for(;xt<this.levels.length;){const rt=this.levels[xt],mt=At+Nt*rt.width;rt.index=mt;const Mt=rt.items[mt];if(Mt===255)break;if(Mt>Ht)return this.currentLevel=xt,this.propagateValues(),!1;At>>=1,Nt>>=1,xt++}return this.currentLevel=xt-1,!0}incrementValue(At){const Nt=this.levels[this.currentLevel];Nt.items[Nt.index]=At+1,this.propagateValues()}propagateValues(){let At=this.currentLevel,Nt=this.levels[At];const Ht=Nt.items[Nt.index];for(;--At>=0;)Nt=this.levels[At],Nt.items[Nt.index]=Ht}nextLevel(){let At=this.currentLevel,Nt=this.levels[At];const Ht=Nt.items[Nt.index];return Nt.items[Nt.index]=255,At--,At<0?!1:(this.currentLevel=At,Nt=this.levels[At],Nt.items[Nt.index]=Ht,!0)}}const bt=function(){const Ht=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]),xt=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]),rt=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);class mt{constructor(_t,Lt,It,Dt,jt){this.width=_t,this.height=Lt;let Ot;It==="HH"?Ot=rt:It==="HL"?Ot=xt:Ot=Ht,this.contextLabelTable=Ot;const Xt=_t*Lt;this.neighborsSignificance=new Uint8Array(Xt),this.coefficentsSign=new Uint8Array(Xt);let Ut;jt>14?Ut=new Uint32Array(Xt):jt>6?Ut=new Uint16Array(Xt):Ut=new Uint8Array(Xt),this.coefficentsMagnitude=Ut,this.processingFlags=new Uint8Array(Xt);const Gt=new Uint8Array(Xt);if(Dt!==0)for(let qt=0;qt<Xt;qt++)Gt[qt]=Dt;this.bitsDecoded=Gt,this.reset()}setDecoder(_t){this.decoder=_t}reset(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[17]=92,this.contexts[18]=6}setNeighborsSignificance(_t,Lt,It){const Dt=this.neighborsSignificance,jt=this.width,Ot=this.height,Xt=Lt>0,Ut=Lt+1<jt;let Gt;_t>0&&(Gt=It-jt,Xt&&(Dt[Gt-1]+=16),Ut&&(Dt[Gt+1]+=16),Dt[Gt]+=4),_t+1<Ot&&(Gt=It+jt,Xt&&(Dt[Gt-1]+=16),Ut&&(Dt[Gt+1]+=16),Dt[Gt]+=4),Xt&&(Dt[It-1]+=1),Ut&&(Dt[It+1]+=1),Dt[It]|=128}runSignificancePropagationPass(){const _t=this.decoder,Lt=this.width,It=this.height,Dt=this.coefficentsMagnitude,jt=this.coefficentsSign,Ot=this.neighborsSignificance,Xt=this.processingFlags,Ut=this.contexts,Gt=this.contextLabelTable,qt=this.bitsDecoded,Kt=-2,Vt=1,Yt=2;for(let Zt=0;Zt<It;Zt+=4)for(let Qt=0;Qt<Lt;Qt++){let en=Zt*Lt+Qt;for(let rn=0;rn<4;rn++,en+=Lt){const an=Zt+rn;if(an>=It)break;if(Xt[en]&=Kt,Dt[en]||!Ot[en])continue;const fn=Gt[Ot[en]];if(_t.readBit(Ut,fn)){const pn=this.decodeSignBit(an,Qt,en);jt[en]=pn,Dt[en]=1,this.setNeighborsSignificance(an,Qt,en),Xt[en]|=Yt}qt[en]++,Xt[en]|=Vt}}}decodeSignBit(_t,Lt,It){const Dt=this.width,jt=this.height,Ot=this.coefficentsMagnitude,Xt=this.coefficentsSign;let Ut,Gt,qt,Kt,Vt,Yt;Kt=Lt>0&&Ot[It-1]!==0,Lt+1<Dt&&Ot[It+1]!==0?(qt=Xt[It+1],Kt?(Gt=Xt[It-1],Ut=1-qt-Gt):Ut=1-qt-qt):Kt?(Gt=Xt[It-1],Ut=1-Gt-Gt):Ut=0;const Zt=3*Ut;return Kt=_t>0&&Ot[It-Dt]!==0,_t+1<jt&&Ot[It+Dt]!==0?(qt=Xt[It+Dt],Kt?(Gt=Xt[It-Dt],Ut=1-qt-Gt+Zt):Ut=1-qt-qt+Zt):Kt?(Gt=Xt[It-Dt],Ut=1-Gt-Gt+Zt):Ut=Zt,Ut>=0?(Vt=9+Ut,Yt=this.decoder.readBit(this.contexts,Vt)):(Vt=9-Ut,Yt=this.decoder.readBit(this.contexts,Vt)^1),Yt}runMagnitudeRefinementPass(){const _t=this.decoder,Lt=this.width,It=this.height,Dt=this.coefficentsMagnitude,jt=this.neighborsSignificance,Ot=this.contexts,Xt=this.bitsDecoded,Ut=this.processingFlags,Gt=1,qt=2,Kt=Lt*It,Vt=Lt*4;for(let Yt=0,Zt;Yt<Kt;Yt=Zt){Zt=Math.min(Kt,Yt+Vt);for(let Qt=0;Qt<Lt;Qt++)for(let en=Yt+Qt;en<Zt;en+=Lt){if(!Dt[en]||Ut[en]&Gt)continue;let rn=16;Ut[en]&qt&&(Ut[en]^=qt,rn=(jt[en]&127)===0?15:14);const an=_t.readBit(Ot,rn);Dt[en]=Dt[en]<<1|an,Xt[en]++,Ut[en]|=Gt}}}runCleanupPass(){const _t=this.decoder,Lt=this.width,It=this.height,Dt=this.neighborsSignificance,jt=this.coefficentsMagnitude,Ot=this.coefficentsSign,Xt=this.contexts,Ut=this.contextLabelTable,Gt=this.bitsDecoded,qt=this.processingFlags,Kt=1,Vt=2,Yt=Lt,Zt=Lt*2,Qt=Lt*3;let en;for(let rn=0;rn<It;rn=en){en=Math.min(rn+4,It);const an=rn*Lt,fn=rn+3<It;for(let un=0;un<Lt;un++){const pn=an+un,yn=fn&&qt[pn]===0&&qt[pn+Yt]===0&&qt[pn+Zt]===0&&qt[pn+Qt]===0&&Dt[pn]===0&&Dt[pn+Yt]===0&&Dt[pn+Zt]===0&&Dt[pn+Qt]===0;let On=0,En=pn,An=rn,Cn;if(yn){if(!_t.readBit(Xt,18)){Gt[pn]++,Gt[pn+Yt]++,Gt[pn+Zt]++,Gt[pn+Qt]++;continue}On=_t.readBit(Xt,17)<<1|_t.readBit(Xt,17),On!==0&&(An=rn+On,En+=On*Lt),Cn=this.decodeSignBit(An,un,En),Ot[En]=Cn,jt[En]=1,this.setNeighborsSignificance(An,un,En),qt[En]|=Vt,En=pn;for(let hn=rn;hn<=An;hn++,En+=Lt)Gt[En]++;On++}for(An=rn+On;An<en;An++,En+=Lt){if(jt[En]||qt[En]&Kt)continue;const gn=Ut[Dt[En]];_t.readBit(Xt,gn)===1&&(Cn=this.decodeSignBit(An,un,En),Ot[En]=Cn,jt[En]=1,this.setNeighborsSignificance(An,un,En),qt[En]|=Vt),Gt[En]++}}}}checkSegmentationSymbol(){const _t=this.decoder,Lt=this.contexts;if((_t.readBit(Lt,17)<<3|_t.readBit(Lt,17)<<2|_t.readBit(Lt,17)<<1|_t.readBit(Lt,17))!==10)throw new wt("Invalid segmentation symbol")}}return mt}();class St{constructor(){this.constructor===St&&(0,s.unreachable)("Cannot initialize Transform.")}calculate(At,Nt,Ht){let xt=At[0];for(let rt=1,mt=At.length;rt<mt;rt++)xt=this.iterate(xt,At[rt],Nt,Ht);return xt}extend(At,Nt,Ht){let xt=Nt-1,rt=Nt+1,mt=Nt+Ht-2,Mt=Nt+Ht;At[xt--]=At[rt++],At[Mt++]=At[mt--],At[xt--]=At[rt++],At[Mt++]=At[mt--],At[xt--]=At[rt++],At[Mt++]=At[mt--],At[xt]=At[rt],At[Mt]=At[mt]}filter(At,Nt,Ht){(0,s.unreachable)("Abstract method `filter` called")}iterate(At,Nt,Ht,xt){const rt=At.width,mt=At.height;let Mt=At.items;const _t=Nt.width,Lt=Nt.height,It=Nt.items;let Dt,jt,Ot,Xt,Ut,Gt;for(Ot=0,Dt=0;Dt<mt;Dt++)for(Xt=Dt*2*_t,jt=0;jt<rt;jt++,Ot++,Xt+=2)It[Xt]=Mt[Ot];Mt=At.items=null;const qt=4,Kt=new Float32Array(_t+2*qt);if(_t===1){if(Ht&1)for(Gt=0,Ot=0;Gt<Lt;Gt++,Ot+=_t)It[Ot]*=.5}else for(Gt=0,Ot=0;Gt<Lt;Gt++,Ot+=_t)Kt.set(It.subarray(Ot,Ot+_t),qt),this.extend(Kt,qt,_t),this.filter(Kt,qt,_t),It.set(Kt.subarray(qt,qt+_t),Ot);let Vt=16;const Yt=[];for(Dt=0;Dt<Vt;Dt++)Yt.push(new Float32Array(Lt+2*qt));let Zt,Qt=0;if(At=qt+Lt,Lt===1){if(xt&1)for(Ut=0;Ut<_t;Ut++)It[Ut]*=.5}else for(Ut=0;Ut<_t;Ut++){if(Qt===0){for(Vt=Math.min(_t-Ut,Vt),Ot=Ut,Xt=qt;Xt<At;Ot+=_t,Xt++)for(Zt=0;Zt<Vt;Zt++)Yt[Zt][Xt]=It[Ot+Zt];Qt=Vt}Qt--;const en=Yt[Qt];if(this.extend(en,qt,Lt),this.filter(en,qt,Lt),Qt===0)for(Ot=Ut-Vt+1,Xt=qt;Xt<At;Ot+=_t,Xt++)for(Zt=0;Zt<Vt;Zt++)It[Ot+Zt]=Yt[Zt][Xt]}return{width:_t,height:Lt,items:It}}}class ht extends St{filter(At,Nt,Ht){const xt=Ht>>1;Nt|=0;let rt,mt,Mt,_t;const Lt=-1.586134342059924,It=-.052980118572961,Dt=.882911075530934,jt=.443506852043971,Ot=1.230174104914001,Xt=1/Ot;for(rt=Nt-3,mt=xt+4;mt--;rt+=2)At[rt]*=Xt;for(rt=Nt-2,Mt=jt*At[rt-1],mt=xt+3;mt--&&(_t=jt*At[rt+1],At[rt]=Ot*At[rt]-Mt-_t,mt--);rt+=2)rt+=2,Mt=jt*At[rt+1],At[rt]=Ot*At[rt]-Mt-_t;for(rt=Nt-1,Mt=Dt*At[rt-1],mt=xt+2;mt--&&(_t=Dt*At[rt+1],At[rt]-=Mt+_t,mt--);rt+=2)rt+=2,Mt=Dt*At[rt+1],At[rt]-=Mt+_t;for(rt=Nt,Mt=It*At[rt-1],mt=xt+1;mt--&&(_t=It*At[rt+1],At[rt]-=Mt+_t,mt--);rt+=2)rt+=2,Mt=It*At[rt+1],At[rt]-=Mt+_t;if(xt!==0)for(rt=Nt+1,Mt=Lt*At[rt-1],mt=xt;mt--&&(_t=Lt*At[rt+1],At[rt]-=Mt+_t,mt--);rt+=2)rt+=2,Mt=Lt*At[rt+1],At[rt]-=Mt+_t}}class vt extends St{filter(At,Nt,Ht){const xt=Ht>>1;Nt|=0;let rt,mt;for(rt=Nt,mt=xt+1;mt--;rt+=2)At[rt]-=At[rt-1]+At[rt+1]+2>>2;for(rt=Nt+1,mt=xt;mt--;rt+=2)At[rt]+=At[rt-1]+At[rt+1]>>1}}},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.LZWStream=void 0;var s=Et(19);class st extends s.DecodeStream{constructor(wt,e,gt){super(e),this.str=wt,this.dict=wt.dict,this.cachedData=0,this.bitsCached=0;const _=4096,$={earlyChange:gt,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(_),dictionaryLengths:new Uint16Array(_),dictionaryPrevCodes:new Uint16Array(_),currentSequence:new Uint8Array(_),currentSequenceLength:0};for(let d=0;d<256;++d)$.dictionaryValues[d]=d,$.dictionaryLengths[d]=1;this.lzwState=$}readBits(wt){let e=this.bitsCached,gt=this.cachedData;for(;e<wt;){const _=this.str.getByte();if(_===-1)return this.eof=!0,null;gt=gt<<8|_,e+=8}return this.bitsCached=e-=wt,this.cachedData=gt,this.lastCode=null,gt>>>e&(1<<wt)-1}readBlock(){let gt=1024,_,$,d;const j=this.lzwState;if(!j)return;const g=j.earlyChange;let o=j.nextCode;const ut=j.dictionaryValues,dt=j.dictionaryLengths,b=j.dictionaryPrevCodes;let h=j.codeLength,et=j.prevCode;const nt=j.currentSequence;let pt=j.currentSequenceLength,Bt=0,Pt=this.bufferLength,Rt=this.ensureBuffer(this.bufferLength+gt);for(_=0;_<512;_++){const Ft=this.readBits(h),lt=pt>0;if(Ft<256)nt[0]=Ft,pt=1;else if(Ft>=258)if(Ft<o)for(pt=dt[Ft],$=pt-1,d=Ft;$>=0;$--)nt[$]=ut[d],d=b[d];else nt[pt++]=nt[0];else if(Ft===256){h=9,o=258,pt=0;continue}else{this.eof=!0,delete this.lzwState;break}if(lt&&(b[o]=et,dt[o]=dt[et]+1,ut[o]=nt[0],o++,h=o+g&o+g-1?h:Math.min(Math.log(o+g)/.6931471805599453+1,12)|0),et=Ft,Bt+=pt,gt<Bt){do gt+=512;while(gt<Bt);Rt=this.ensureBuffer(this.bufferLength+gt)}for($=0;$<pt;$++)Rt[Pt++]=nt[$]}j.nextCode=o,j.codeLength=h,j.prevCode=et,j.currentSequenceLength=pt,this.bufferLength=Pt}}ct.LZWStream=st},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.PredictorStream=void 0;var s=Et(19),st=Et(5),Tt=Et(2);class wt extends s.DecodeStream{constructor(gt,_,$){if(super(_),!($ instanceof st.Dict))return gt;const d=this.predictor=$.get("Predictor")||1;if(d<=1)return gt;if(d!==2&&(d<10||d>15))throw new Tt.FormatError(`Unsupported predictor: ${d}`);d===2?this.readBlock=this.readBlockTiff:this.readBlock=this.readBlockPng,this.str=gt,this.dict=gt.dict;const j=this.colors=$.get("Colors")||1,g=this.bits=$.get("BPC","BitsPerComponent")||8,o=this.columns=$.get("Columns")||1;return this.pixBytes=j*g+7>>3,this.rowBytes=o*j*g+7>>3,this}readBlockTiff(){const gt=this.rowBytes,_=this.bufferLength,$=this.ensureBuffer(_+gt),d=this.bits,j=this.colors,g=this.str.getBytes(gt);if(this.eof=!g.length,this.eof)return;let o=0,ut=0,dt=0,b=0,h=_,et;if(d===1&&j===1)for(et=0;et<gt;++et){let nt=g[et]^o;nt^=nt>>1,nt^=nt>>2,nt^=nt>>4,o=(nt&1)<<7,$[h++]=nt}else if(d===8){for(et=0;et<j;++et)$[h++]=g[et];for(;et<gt;++et)$[h]=$[h-j]+g[et],h++}else if(d===16){const nt=j*2;for(et=0;et<nt;++et)$[h++]=g[et];for(;et<gt;et+=2){const pt=((g[et]&255)<<8)+(g[et+1]&255)+(($[h-nt]&255)<<8)+($[h-nt+1]&255);$[h++]=pt>>8&255,$[h++]=pt&255}}else{const nt=new Uint8Array(j+1),pt=(1<<d)-1;let Bt=0,Pt=_;const Rt=this.columns;for(et=0;et<Rt;++et)for(let Ft=0;Ft<j;++Ft)dt<d&&(o=o<<8|g[Bt++]&255,dt+=8),nt[Ft]=nt[Ft]+(o>>dt-d)&pt,dt-=d,ut=ut<<d|nt[Ft],b+=d,b>=8&&($[Pt++]=ut>>b-8&255,b-=8);b>0&&($[Pt++]=(ut<<8-b)+(o&(1<<8-b)-1))}this.bufferLength+=gt}readBlockPng(){const gt=this.rowBytes,_=this.pixBytes,$=this.str.getByte(),d=this.str.getBytes(gt);if(this.eof=!d.length,this.eof)return;const j=this.bufferLength,g=this.ensureBuffer(j+gt);let o=g.subarray(j-gt,j);o.length===0&&(o=new Uint8Array(gt));let ut,dt=j,b,h;switch($){case 0:for(ut=0;ut<gt;++ut)g[dt++]=d[ut];break;case 1:for(ut=0;ut<_;++ut)g[dt++]=d[ut];for(;ut<gt;++ut)g[dt]=g[dt-_]+d[ut]&255,dt++;break;case 2:for(ut=0;ut<gt;++ut)g[dt++]=o[ut]+d[ut]&255;break;case 3:for(ut=0;ut<_;++ut)g[dt++]=(o[ut]>>1)+d[ut];for(;ut<gt;++ut)g[dt]=(o[ut]+g[dt-_]>>1)+d[ut]&255,dt++;break;case 4:for(ut=0;ut<_;++ut)b=o[ut],h=d[ut],g[dt++]=b+h;for(;ut<gt;++ut){b=o[ut];const et=o[ut-_],nt=g[dt-_],pt=nt+b-et;let Bt=pt-nt;Bt<0&&(Bt=-Bt);let Pt=pt-b;Pt<0&&(Pt=-Pt);let Rt=pt-et;Rt<0&&(Rt=-Rt),h=d[ut],Bt<=Pt&&Bt<=Rt?g[dt++]=nt+h:Pt<=Rt?g[dt++]=b+h:g[dt++]=et+h}break;default:throw new Tt.FormatError(`Unsupported predictor: ${$}`)}this.bufferLength+=gt}}ct.PredictorStream=wt},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.RunLengthStream=void 0;var s=Et(19);class st extends s.DecodeStream{constructor(wt,e){super(e),this.str=wt,this.dict=wt.dict}readBlock(){const wt=this.str.getBytes(2);if(!wt||wt.length<2||wt[0]===128){this.eof=!0;return}let e,gt=this.bufferLength,_=wt[0];if(_<128){if(e=this.ensureBuffer(gt+_+1),e[gt++]=wt[1],_>0){const $=this.str.getBytes(_);e.set($,gt),gt+=_}}else{_=257-_;const $=wt[1];e=this.ensureBuffer(gt+_+1);for(let d=0;d<_;d++)e[gt++]=$}this.bufferLength=gt}}ct.RunLengthStream=st},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.Font=ct.ErrorFont=void 0;var s=Et(2),st=Et(35),Tt=Et(38),wt=Et(40),e=Et(39),gt=Et(37),_=Et(41),$=Et(42),d=Et(43),j=Et(44),g=Et(45),o=Et(46),ut=Et(16),dt=Et(47),b=Et(6),h=Et(10),et=Et(48);const nt=[[57344,63743],[1048576,1114109]],pt=1e3,Bt=["ascent","bbox","black","bold","charProcOperatorList","composite","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","fontType","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","type","vertical"],Pt=["cMap","defaultEncoding","differences","isMonospace","isSerifFont","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"];function Rt(Vt){if(!Vt.fontMatrix||Vt.fontMatrix[0]===s.FONT_IDENTITY_MATRIX[0])return;const Yt=.001/Vt.fontMatrix[0],Zt=Vt.widths;for(const Qt in Zt)Zt[Qt]*=Yt;Vt.defaultWidth*=Yt}function Ft(Vt,Yt){if(Vt.isInternalFont||Yt===Vt.defaultEncoding||Vt.toUnicode instanceof $.IdentityToUnicodeMap)return;const Zt=[],Qt=(0,e.getGlyphsUnicode)();for(const en in Yt){if(Vt.hasIncludedToUnicodeMap){if(Vt.toUnicode.has(en))continue}else if(Vt.hasEncoding&&(Vt.differences.length===0||Vt.differences[en]!==void 0))continue;const rn=Yt[en],an=(0,wt.getUnicodeForGlyph)(rn,Qt);an!==-1&&(Zt[en]=String.fromCharCode(an))}Zt.length>0&&Vt.toUnicode.amend(Zt)}function lt(Vt){if(!Vt.fallbackToUnicode||Vt.toUnicode instanceof $.IdentityToUnicodeMap)return;const Yt=[];for(const Zt in Vt.fallbackToUnicode)Vt.toUnicode.has(Zt)||(Yt[Zt]=Vt.fallbackToUnicode[Zt]);Yt.length>0&&Vt.toUnicode.amend(Yt)}class ft{constructor(Yt,Zt,Qt,en,rn,an,fn,un,pn){this.originalCharCode=Yt,this.fontChar=Zt,this.unicode=Qt,this.accent=en,this.width=rn,this.vmetric=an,this.operatorListId=fn,this.isSpace=un,this.isInFont=pn;const yn=(0,wt.getCharUnicodeCategory)(Qt);this.isWhitespace=yn.isWhitespace,this.isZeroWidthDiacritic=yn.isZeroWidthDiacritic,this.isInvisibleFormatMark=yn.isInvisibleFormatMark}matchesForCache(Yt,Zt,Qt,en,rn,an,fn,un,pn){return this.originalCharCode===Yt&&this.fontChar===Zt&&this.unicode===Qt&&this.accent===en&&this.width===rn&&this.vmetric===an&&this.operatorListId===fn&&this.isSpace===un&&this.isInFont===pn}}function it(Vt,Yt){return(Vt<<8)+Yt}function at(Vt,Yt,Zt){Vt[Yt+1]=Zt,Vt[Yt]=Zt>>>8}function bt(Vt,Yt){const Zt=(Vt<<8)+Yt;return Zt&32768?Zt-65536:Zt}function St(Vt,Yt,Zt,Qt){return(Vt<<24)+(Yt<<16)+(Zt<<8)+Qt}function ht(Vt){return String.fromCharCode(Vt>>8&255,Vt&255)}function vt(Vt){return Vt>32767?Vt=32767:Vt<-32768&&(Vt=-32768),String.fromCharCode(Vt>>8&255,Vt&255)}function yt(Vt){const Yt=Vt.peekBytes(4);return(0,b.readUint32)(Yt,0)===65536||(0,s.bytesToString)(Yt)==="true"}function At(Vt){const Yt=Vt.peekBytes(4);return(0,s.bytesToString)(Yt)==="ttcf"}function Nt(Vt){const Yt=Vt.peekBytes(4);return(0,s.bytesToString)(Yt)==="OTTO"}function Ht(Vt){const Yt=Vt.peekBytes(2);return Yt[0]===37&&Yt[1]===33||Yt[0]===128&&Yt[1]===1}function xt(Vt){const Yt=Vt.peekBytes(4);return Yt[0]>=1&&Yt[3]>=1&&Yt[3]<=4}function rt(Vt,{type:Yt,subtype:Zt,composite:Qt}){let en,rn;return yt(Vt)||At(Vt)?Qt?en="CIDFontType2":en="TrueType":Nt(Vt)?Qt?en="CIDFontType2":en="OpenType":Ht(Vt)?Qt?en="CIDFontType0":en=Yt==="MMType1"?"MMType1":"Type1":xt(Vt)?Qt?(en="CIDFontType0",rn="CIDFontType0C"):(en=Yt==="MMType1"?"MMType1":"Type1",rn="Type1C"):((0,s.warn)("getFontFileType: Unable to detect correct font file Type/Subtype."),en=Yt,rn=Zt),[en,rn]}function mt(Vt,Yt){for(const Zt in Yt)Vt[+Zt]=Yt[Zt]}function Mt(Vt,Yt,Zt){const Qt=[];let en;for(let rn=0,an=Vt.length;rn<an;rn++)en=(0,wt.getUnicodeForGlyph)(Vt[rn],Yt),en!==-1&&(Qt[rn]=en);for(const rn in Zt)en=(0,wt.getUnicodeForGlyph)(Zt[rn],Yt),en!==-1&&(Qt[+rn]=en);return Qt}function _t(Vt,Yt,Zt=!1){switch(Yt.length){case 1:return Yt.charCodeAt(0);case 2:return Yt.charCodeAt(0)<<8|Yt.charCodeAt(1)}const Qt=`Unsupported CID string (charCode ${Vt}): "${Yt}".`;if(Zt)throw new s.FormatError(Qt);return(0,s.warn)(Qt),Yt}function Lt(Vt,Yt,Zt,Qt){const en=Object.create(null),rn=new Map,an=[],fn=new Set;let un=0;const pn=nt[un][0];let yn=pn,On=nt[un][1];for(let En in Vt){En|=0;let An=Vt[En];if(!Yt(An))continue;if(yn>On){if(un++,un>=nt.length){(0,s.warn)("Ran out of space in font private use area.");break}yn=nt[un][0],On=nt[un][1]}const Cn=yn++;An===0&&(An=Zt);let gn=Qt.get(En);typeof gn=="string"&&(gn=gn.codePointAt(0)),gn&&gn<pn&&!fn.has(An)&&(rn.set(gn,An),fn.add(An)),en[Cn]=An,an[En]=Cn}return{toFontChar:an,charCodeToGlyphId:en,toUnicodeExtraMap:rn,nextAvailableFontCharCode:yn}}function It(Vt,Yt,Zt){const Qt=[];for(const an in Vt)Vt[an]>=Zt||Qt.push({fontCharCode:an|0,glyphId:Vt[an]});if(Yt)for(const[an,fn]of Yt)fn>=Zt||Qt.push({fontCharCode:an,glyphId:fn});Qt.length===0&&Qt.push({fontCharCode:0,glyphId:0}),Qt.sort(function(fn,un){return fn.fontCharCode-un.fontCharCode});const en=[],rn=Qt.length;for(let an=0;an<rn;){const fn=Qt[an].fontCharCode,un=[Qt[an].glyphId];++an;let pn=fn;for(;an<rn&&pn+1===Qt[an].fontCharCode&&(un.push(Qt[an].glyphId),++pn,++an,pn!==65535););en.push([fn,pn,un])}return en}function Dt(Vt,Yt,Zt){const Qt=It(Vt,Yt,Zt),en=Qt.at(-1)[1]>65535?2:1;let rn="\0\0"+ht(en)+"\0\0"+(0,s.string32)(4+en*8),an,fn,un,pn;for(an=Qt.length-1;an>=0&&!(Qt[an][0]<=65535);--an);const yn=an+1;Qt[an][0]<65535&&Qt[an][1]===65535&&(Qt[an][1]=65534);const On=Qt[an][1]<65535?1:0,En=yn+On,An=dt.OpenTypeFileBuilder.getSearchParams(En,2);let Cn="",gn="",hn="",on="",Dn="",Xn=0,er,Sn,xn,cn;for(an=0,fn=yn;an<fn;an++){er=Qt[an],Sn=er[0],xn=er[1],Cn+=ht(Sn),gn+=ht(xn),cn=er[2];let lr=!0;for(un=1,pn=cn.length;un<pn;++un)if(cn[un]!==cn[un-1]+1){lr=!1;break}if(lr){const $n=cn[0];hn+=ht($n-Sn&65535),on+=ht(0)}else{const $n=(En-an)*2+Xn*2;for(Xn+=xn-Sn+1,hn+=ht(0),on+=ht($n),un=0,pn=cn.length;un<pn;++un)Dn+=ht(cn[un])}}On>0&&(gn+="",Cn+="",hn+="\0",on+="\0\0");const qn="\0\0"+ht(2*En)+ht(An.range)+ht(An.entry)+ht(An.rangeShift)+gn+"\0\0"+Cn+hn+on+Dn;let Vn="",Gn="";if(en>1){for(rn+=`\0\0
`+(0,s.string32)(4+en*8+4+qn.length),Vn="",an=0,fn=Qt.length;an<fn;an++){er=Qt[an],Sn=er[0],cn=er[2];let lr=cn[0];for(un=1,pn=cn.length;un<pn;++un)cn[un]!==cn[un-1]+1&&(xn=er[0]+un-1,Vn+=(0,s.string32)(Sn)+(0,s.string32)(xn)+(0,s.string32)(lr),Sn=xn+1,lr=cn[un]);Vn+=(0,s.string32)(Sn)+(0,s.string32)(er[1])+(0,s.string32)(lr)}Gn="\0\f\0\0"+(0,s.string32)(Vn.length+16)+"\0\0\0\0"+(0,s.string32)(Vn.length/12)}return rn+"\0"+ht(qn.length+4)+qn+Gn+Vn}function jt(Vt,Yt){Yt.pos=(Yt.start||0)+Vt.offset;const Zt=Yt.getUint16();Yt.skip(60);const Qt=Yt.getUint16();if(Zt<4&&Qt&768)return!1;const en=Yt.getUint16(),rn=Yt.getUint16();return en>rn||(Yt.skip(6),Yt.getUint16()===0)?!1:(Vt.data[8]=Vt.data[9]=0,!0)}function Ot(Vt,Yt,Zt){Zt=Zt||{unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0};let Qt=0,en=0,rn=0,an=0,fn=null,un=0;if(Yt){for(let hn in Yt){hn|=0,(fn>hn||!fn)&&(fn=hn),un<hn&&(un=hn);const on=(0,wt.getUnicodeRangeFor)(hn);if(on<32)Qt|=1<<on;else if(on<64)en|=1<<on-32;else if(on<96)rn|=1<<on-64;else if(on<123)an|=1<<on-96;else throw new s.FormatError("Unicode ranges Bits > 123 are reserved for internal usage")}un>65535&&(un=65535)}else fn=0,un=255;const pn=Vt.bbox||[0,0,0,0],yn=Zt.unitsPerEm||1/(Vt.fontMatrix||s.FONT_IDENTITY_MATRIX)[0],On=Vt.ascentScaled?1:yn/pt,En=Zt.ascent||Math.round(On*(Vt.ascent||pn[3]));let An=Zt.descent||Math.round(On*(Vt.descent||pn[1]));An>0&&Vt.descent>0&&pn[1]<0&&(An=-An);const Cn=Zt.yMax||En,gn=-Zt.yMin||-An;return"\0$\0\0\0\0\0\0\0\0\x001\0\0\0\0"+String.fromCharCode(Vt.fixedPitch?9:0)+"\0\0\0\0\0\0"+(0,s.string32)(Qt)+(0,s.string32)(en)+(0,s.string32)(rn)+(0,s.string32)(an)+"*21*"+ht(Vt.italicAngle?1:0)+ht(fn||Vt.firstChar)+ht(un||Vt.lastChar)+ht(En)+ht(An)+"\0d"+ht(Cn)+ht(gn)+"\0\0\0\0\0\0\0\0"+ht(Vt.xHeight)+ht(Vt.capHeight)+ht(0)+ht(fn||Vt.firstChar)+"\0"}function Xt(Vt){const Yt=Math.floor(Vt.italicAngle*65536);return"\0\0\0"+(0,s.string32)(Yt)+"\0\0\0\0"+(0,s.string32)(Vt.fixedPitch?1:0)+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function Ut(Vt){return Vt.replace(/[^\x21-\x7E]|[[\](){}<>/%]/g,"").slice(0,63)}function Gt(Vt,Yt){Yt||(Yt=[[],[]]);const Zt=[Yt[0][0]||"Original licence",Yt[0][1]||Vt,Yt[0][2]||"Unknown",Yt[0][3]||"uniqueID",Yt[0][4]||Vt,Yt[0][5]||"Version 0.11",Yt[0][6]||Ut(Vt),Yt[0][7]||"Unknown",Yt[0][8]||"Unknown",Yt[0][9]||"Unknown"],Qt=[];let en,rn,an,fn,un;for(en=0,rn=Zt.length;en<rn;en++){un=Yt[1][en]||Zt[en];const hn=[];for(an=0,fn=un.length;an<fn;an++)hn.push(ht(un.charCodeAt(an)));Qt.push(hn.join(""))}const pn=[Zt,Qt],yn=["\0","\0"],On=["\0\0","\0"],En=["\0\0","	"],An=Zt.length*yn.length;let Cn="\0\0"+ht(An)+ht(An*12+6),gn=0;for(en=0,rn=yn.length;en<rn;en++){const hn=pn[en];for(an=0,fn=hn.length;an<fn;an++){un=hn[an];const on=yn[en]+On[en]+En[en]+ht(an)+ht(un.length)+ht(gn);Cn+=on,gn+=un.length}}return Cn+=Zt.join("")+Qt.join(""),Cn}class qt{constructor(Yt,Zt,Qt){this.name=Yt,this.psName=null,this.mimetype=null,this.disableFontFace=!1,this.loadedName=Qt.loadedName,this.isType3Font=Qt.isType3Font,this.missingFile=!1,this.cssFontInfo=Qt.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null);let en=!!(Qt.flags&Tt.FontFlags.Serif);if(!en&&!Qt.isSimulatedFlags){const pn=Yt.replace(/[,_]/g,"-").split("-")[0],yn=(0,_.getSerifFonts)();for(const On of pn.split("+"))if(yn[On]){en=!0;break}}this.isSerifFont=en,this.isSymbolicFont=!!(Qt.flags&Tt.FontFlags.Symbolic),this.isMonospace=!!(Qt.flags&Tt.FontFlags.FixedPitch);let rn=Qt.type,an=Qt.subtype;this.type=rn,this.subtype=an;let fn="sans-serif";if(this.isMonospace?fn="monospace":this.isSerifFont&&(fn="serif"),this.fallbackName=fn,this.differences=Qt.differences,this.widths=Qt.widths,this.defaultWidth=Qt.defaultWidth,this.composite=Qt.composite,this.cMap=Qt.cMap,this.capHeight=Qt.capHeight/pt,this.ascent=Qt.ascent/pt,this.descent=Qt.descent/pt,this.lineHeight=this.ascent-this.descent,this.fontMatrix=Qt.fontMatrix,this.bbox=Qt.bbox,this.defaultEncoding=Qt.defaultEncoding,this.toUnicode=Qt.toUnicode,this.toFontChar=[],Qt.type==="Type3"){for(let pn=0;pn<256;pn++)this.toFontChar[pn]=this.differences[pn]||Qt.defaultEncoding[pn];this.fontType=s.FontType.TYPE3;return}if(this.cidEncoding=Qt.cidEncoding||"",this.vertical=!!Qt.vertical,this.vertical&&(this.vmetrics=Qt.vmetrics,this.defaultVMetrics=Qt.defaultVMetrics),!Zt||Zt.isEmpty){Zt&&(0,s.warn)('Font file is empty in "'+Yt+'" ('+this.loadedName+")"),this.fallbackToSystemFont(Qt);return}[rn,an]=rt(Zt,Qt),(rn!==this.type||an!==this.subtype)&&(0,s.info)(`Inconsistent font file Type/SubType, expected: ${this.type}/${this.subtype} but found: ${rn}/${an}.`);let un;try{switch(rn){case"MMType1":(0,s.info)("MMType1 font ("+Yt+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";const pn=an==="Type1C"||an==="CIDFontType0C"?new d.CFFFont(Zt,Qt):new et.Type1Font(Yt,Zt,Qt);Rt(Qt),un=this.convert(Yt,pn,Qt);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",un=this.checkAndRepair(Yt,Zt,Qt),this.isOpenType&&(Rt(Qt),rn="OpenType");break;default:throw new s.FormatError(`Font ${rn} is not supported`)}}catch(pn){(0,s.warn)(pn),this.fallbackToSystemFont(Qt);return}lt(Qt),this.data=un,this.fontType=(0,Tt.getFontType)(rn,an,Qt.isStandardFont),this.fontMatrix=Qt.fontMatrix,this.widths=Qt.widths,this.defaultWidth=Qt.defaultWidth,this.toUnicode=Qt.toUnicode,this.seacMap=Qt.seacMap}get renderer(){const Yt=j.FontRendererFactory.create(this,Tt.SEAC_ANALYSIS_ENABLED);return(0,s.shadow)(this,"renderer",Yt)}exportData(Yt=!1){const Zt=Yt?[...Bt,...Pt]:Bt,Qt=Object.create(null);let en,rn;for(en of Zt)rn=this[en],rn!==void 0&&(Qt[en]=rn);return Qt}fallbackToSystemFont(Yt){this.missingFile=!0;const Zt=this.name,Qt=this.type,en=this.subtype;let rn=(0,Tt.normalizeFontName)(Zt);const an=(0,_.getStdFontMap)(),fn=(0,_.getNonStdFontMap)(),un=!!an[rn],pn=!!(fn[rn]&&an[fn[rn]]);rn=an[rn]||fn[rn]||rn;const On=(0,g.getFontBasicMetrics)()[rn];On&&(isNaN(this.ascent)&&(this.ascent=On.ascent/pt),isNaN(this.descent)&&(this.descent=On.descent/pt),isNaN(this.capHeight)&&(this.capHeight=On.capHeight/pt)),this.bold=rn.search(/bold/gi)!==-1,this.italic=rn.search(/oblique/gi)!==-1||rn.search(/italic/gi)!==-1,this.black=Zt.search(/Black/g)!==-1;const En=Zt.search(/Narrow/g)!==-1;if(this.remeasure=(!un||En)&&Object.keys(this.widths).length>0,(un||pn)&&Qt==="CIDFontType2"&&this.cidEncoding.startsWith("Identity-")){const An=Yt.cidToGidMap,Cn=[];if(mt(Cn,(0,_.getGlyphMapForStandardFonts)()),/Arial-?Black/i.test(Zt)?mt(Cn,(0,_.getSupplementalGlyphMapForArialBlack)()):/Calibri/i.test(Zt)&&mt(Cn,(0,_.getSupplementalGlyphMapForCalibri)()),An){for(const gn in Cn){const hn=Cn[gn];An[hn]!==void 0&&(Cn[+gn]=An[hn])}An.length!==this.toUnicode.length&&Yt.hasIncludedToUnicodeMap&&this.toUnicode instanceof $.IdentityToUnicodeMap&&this.toUnicode.forEach(function(gn,hn){const on=Cn[gn];An[on]===void 0&&(Cn[+gn]=hn)})}this.toUnicode instanceof $.IdentityToUnicodeMap||this.toUnicode.forEach(function(gn,hn){Cn[+gn]=hn}),this.toFontChar=Cn,this.toUnicode=new $.ToUnicodeMap(Cn)}else if(/Symbol/i.test(rn))this.toFontChar=Mt(gt.SymbolSetEncoding,(0,e.getGlyphsUnicode)(),this.differences);else if(/Dingbats/i.test(rn))/Wingdings/i.test(Zt)&&(0,s.warn)("Non-embedded Wingdings font, falling back to ZapfDingbats."),this.toFontChar=Mt(gt.ZapfDingbatsEncoding,(0,e.getDingbatsGlyphsUnicode)(),this.differences);else if(un){const An=Mt(this.defaultEncoding,(0,e.getGlyphsUnicode)(),this.differences);Qt==="CIDFontType2"&&!this.cidEncoding.startsWith("Identity-")&&!(this.toUnicode instanceof $.IdentityToUnicodeMap)&&this.toUnicode.forEach(function(Cn,gn){An[+Cn]=gn}),this.toFontChar=An}else{const An=(0,e.getGlyphsUnicode)(),Cn=[];this.toUnicode.forEach((gn,hn)=>{if(!this.composite){const on=this.differences[gn]||this.defaultEncoding[gn],Dn=(0,wt.getUnicodeForGlyph)(on,An);Dn!==-1&&(hn=Dn)}Cn[+gn]=hn}),this.composite&&this.toUnicode instanceof $.IdentityToUnicodeMap&&/Verdana/i.test(Zt)&&mt(Cn,(0,_.getGlyphMapForStandardFonts)()),this.toFontChar=Cn}lt(Yt),this.loadedName=rn.split("-")[0],this.fontType=(0,Tt.getFontType)(Qt,en,Yt.isStandardFont)}checkAndRepair(Yt,Zt,Qt){const en=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function rn(Un,Mn){const zn=Object.create(null);zn["OS/2"]=null,zn.cmap=null,zn.head=null,zn.hhea=null,zn.hmtx=null,zn.maxp=null,zn.name=null,zn.post=null;for(let Wn=0;Wn<Mn;Wn++){const sr=an(Un);en.includes(sr.tag)&&sr.length!==0&&(zn[sr.tag]=sr)}return zn}function an(Un){const Mn=Un.getString(4),zn=Un.getInt32()>>>0,Wn=Un.getInt32()>>>0,sr=Un.getInt32()>>>0,gr=Un.pos;Un.pos=Un.start||0,Un.skip(Wn);const ir=Un.getBytes(sr);return Un.pos=gr,Mn==="head"&&(ir[8]=ir[9]=ir[10]=ir[11]=0,ir[17]|=32),{tag:Mn,checksum:zn,length:sr,offset:Wn,data:ir}}function fn(Un){return{version:Un.getString(4),numTables:Un.getUint16(),searchRange:Un.getUint16(),entrySelector:Un.getUint16(),rangeShift:Un.getUint16()}}function un(Un){const Mn=Un.getString(4);(0,s.assert)(Mn==="ttcf","Must be a TrueType Collection font.");const zn=Un.getUint16(),Wn=Un.getUint16(),sr=Un.getInt32()>>>0,gr=[];for(let Jn=0;Jn<sr;Jn++)gr.push(Un.getInt32()>>>0);const ir={ttcTag:Mn,majorVersion:zn,minorVersion:Wn,numFonts:sr,offsetTable:gr};switch(zn){case 1:return ir;case 2:return ir.dsigTag=Un.getInt32()>>>0,ir.dsigLength=Un.getInt32()>>>0,ir.dsigOffset=Un.getInt32()>>>0,ir}throw new s.FormatError(`Invalid TrueType Collection majorVersion: ${zn}.`)}function pn(Un,Mn){const{numFonts:zn,offsetTable:Wn}=un(Un),sr=Mn.split("+");let gr;for(let ir=0;ir<zn;ir++){Un.pos=(Un.start||0)+Wn[ir];const Jn=fn(Un),or=rn(Un,Jn.numTables);if(!or.name)throw new s.FormatError('TrueType Collection font must contain a "name" table.');const hr=hn(or.name);for(let kr=0,_r=hr.length;kr<_r;kr++)for(let dr=0,mn=hr[kr].length;dr<mn;dr++){const Fn=hr[kr][dr]&&hr[kr][dr].replace(/\s/g,"");if(Fn){if(Fn===Mn)return{header:Jn,tables:or};if(!(sr.length<2))for(const Bn of sr)Fn===Bn&&(gr={name:Bn,header:Jn,tables:or})}}}if(gr)return(0,s.warn)(`TrueType Collection does not contain "${Mn}" font, falling back to "${gr.name}" font instead.`),{header:gr.header,tables:gr.tables};throw new s.FormatError(`TrueType Collection does not contain "${Mn}" font.`)}function yn(Un,Mn,zn,Wn){if(!Un)return(0,s.warn)("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};let sr,gr=(Mn.start||0)+Un.offset;Mn.pos=gr,Mn.skip(2);const ir=Mn.getUint16();let Jn,or=!1;for(let Fn=0;Fn<ir;Fn++){const Bn=Mn.getUint16(),Nn=Mn.getUint16(),nr=Mn.getInt32()>>>0;let Ar=!1;if(!(Jn&&Jn.platformId===Bn&&Jn.encodingId===Nn)){if(Bn===0&&(Nn===0||Nn===1||Nn===3))Ar=!0;else if(Bn===1&&Nn===0)Ar=!0;else if(Bn===3&&Nn===1&&(Wn||!Jn))Ar=!0,zn||(or=!0);else if(zn&&Bn===3&&Nn===0){Ar=!0;let Gr=!0;if(Fn<ir-1){const Sr=Mn.peekBytes(2);it(Sr[0],Sr[1])<Bn&&(Gr=!1)}Gr&&(or=!0)}if(Ar&&(Jn={platformId:Bn,encodingId:Nn,offset:nr}),or)break}}if(Jn&&(Mn.pos=gr+Jn.offset),!Jn||Mn.peekByte()===-1)return(0,s.warn)("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};const hr=Mn.getUint16();let kr=!1;const _r=[];let dr,mn;if(hr===0){for(Mn.skip(4),dr=0;dr<256;dr++){const Fn=Mn.getByte();Fn&&_r.push({charCode:dr,glyphId:Fn})}kr=!0}else if(hr===2){Mn.skip(4);const Fn=[];let Bn=0;for(let nr=0;nr<256;nr++){const Ar=Mn.getUint16()>>3;Fn.push(Ar),Bn=Math.max(Ar,Bn)}const Nn=[];for(let nr=0;nr<=Bn;nr++)Nn.push({firstCode:Mn.getUint16(),entryCount:Mn.getUint16(),idDelta:bt(Mn.getByte(),Mn.getByte()),idRangePos:Mn.pos+Mn.getUint16()});for(let nr=0;nr<256;nr++)if(Fn[nr]===0)Mn.pos=Nn[0].idRangePos+2*nr,mn=Mn.getUint16(),_r.push({charCode:nr,glyphId:mn});else{const Ar=Nn[Fn[nr]];for(dr=0;dr<Ar.entryCount;dr++){const Gr=(nr<<8)+dr+Ar.firstCode;Mn.pos=Ar.idRangePos+2*dr,mn=Mn.getUint16(),mn!==0&&(mn=(mn+Ar.idDelta)%65536),_r.push({charCode:Gr,glyphId:mn})}}}else if(hr===4){Mn.skip(4);const Fn=Mn.getUint16()>>1;Mn.skip(6);const Bn=[];let Nn;for(Nn=0;Nn<Fn;Nn++)Bn.push({end:Mn.getUint16()});for(Mn.skip(2),Nn=0;Nn<Fn;Nn++)Bn[Nn].start=Mn.getUint16();for(Nn=0;Nn<Fn;Nn++)Bn[Nn].delta=Mn.getUint16();let nr=0,Ar;for(Nn=0;Nn<Fn;Nn++){sr=Bn[Nn];const Sr=Mn.getUint16();if(!Sr){sr.offsetIndex=-1;continue}Ar=(Sr>>1)-(Fn-Nn),sr.offsetIndex=Ar,nr=Math.max(nr,Ar+sr.end-sr.start+1)}const Gr=[];for(dr=0;dr<nr;dr++)Gr.push(Mn.getUint16());for(Nn=0;Nn<Fn;Nn++){sr=Bn[Nn],gr=sr.start;const Sr=sr.end,Er=sr.delta;for(Ar=sr.offsetIndex,dr=gr;dr<=Sr;dr++)dr!==65535&&(mn=Ar<0?dr:Gr[Ar+dr-gr],mn=mn+Er&65535,_r.push({charCode:dr,glyphId:mn}))}}else if(hr===6){Mn.skip(4);const Fn=Mn.getUint16(),Bn=Mn.getUint16();for(dr=0;dr<Bn;dr++){mn=Mn.getUint16();const Nn=Fn+dr;_r.push({charCode:Nn,glyphId:mn})}}else if(hr===12){Mn.skip(10);const Fn=Mn.getInt32()>>>0;for(dr=0;dr<Fn;dr++){const Bn=Mn.getInt32()>>>0,Nn=Mn.getInt32()>>>0;let nr=Mn.getInt32()>>>0;for(let Ar=Bn;Ar<=Nn;Ar++)_r.push({charCode:Ar,glyphId:nr++})}}else return(0,s.warn)("cmap table has unsupported format: "+hr),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};_r.sort(function(Fn,Bn){return Fn.charCode-Bn.charCode});for(let Fn=1;Fn<_r.length;Fn++)_r[Fn-1].charCode===_r[Fn].charCode&&(_r.splice(Fn,1),Fn--);return{platformId:Jn.platformId,encodingId:Jn.encodingId,mappings:_r,hasShortCmap:kr}}function On(Un,Mn,zn,Wn,sr,gr){if(!Mn){zn&&(zn.data=null);return}Un.pos=(Un.start||0)+Mn.offset,Un.pos+=4,Un.pos+=2,Un.pos+=2,Un.pos+=2,Un.pos+=2,Un.pos+=2,Un.pos+=2,Un.pos+=2,Un.pos+=2,Un.pos+=2;const ir=Un.getUint16();Un.pos+=8,Un.pos+=2;let Jn=Un.getUint16();ir!==0&&(it(Wn.data[44],Wn.data[45])&2||(Mn.data[22]=0,Mn.data[23]=0)),Jn>sr&&((0,s.info)(`The numOfMetrics (${Jn}) should not be greater than the numGlyphs (${sr}).`),Jn=sr,Mn.data[34]=(Jn&65280)>>8,Mn.data[35]=Jn&255);const hr=sr-Jn-(zn.length-Jn*4>>1);if(hr>0){const kr=new Uint8Array(zn.length+hr*2);kr.set(zn.data),gr&&(kr[zn.length]=zn.data[2],kr[zn.length+1]=zn.data[3]),zn.data=kr}}function En(Un,Mn,zn,Wn,sr,gr){const ir={length:0,sizeOfInstructions:0};if(zn-Mn<=12)return ir;const Jn=Un.subarray(Mn,zn);let or=bt(Jn[0],Jn[1]);if(or<0)return or=-1,at(Jn,0,or),Wn.set(Jn,sr),ir.length=Jn.length,ir;let hr,kr=10,_r=0;for(hr=0;hr<or;hr++)_r=(Jn[kr]<<8|Jn[kr+1])+1,kr+=2;const dr=kr,mn=Jn[kr]<<8|Jn[kr+1];ir.sizeOfInstructions=mn,kr+=2+mn;const Fn=kr;let Bn=0;for(hr=0;hr<_r;hr++){const nr=Jn[kr++];nr&192&&(Jn[kr-1]=nr&63);let Ar=2;nr&2?Ar=1:nr&16&&(Ar=0);let Gr=2;nr&4?Gr=1:nr&32&&(Gr=0);const Sr=Ar+Gr;if(Bn+=Sr,nr&8){const Er=Jn[kr++];hr+=Er,Bn+=Er*Sr}}if(Bn===0)return ir;let Nn=kr+Bn;return Nn>Jn.length?ir:!gr&&mn>0?(Wn.set(Jn.subarray(0,dr),sr),Wn.set([0,0],sr+dr),Wn.set(Jn.subarray(Fn,Nn),sr+dr+2),Nn-=mn,Jn.length-Nn>3&&(Nn=Nn+3&-4),ir.length=Nn,ir):Jn.length-Nn>3?(Nn=Nn+3&-4,Wn.set(Jn.subarray(0,Nn),sr),ir.length=Nn,ir):(Wn.set(Jn,sr),ir.length=Jn.length,ir)}function An(Un,Mn,zn){const Wn=Un.data,sr=St(Wn[0],Wn[1],Wn[2],Wn[3]);sr>>16!==1&&((0,s.info)("Attempting to fix invalid version in head table: "+sr),Wn[0]=0,Wn[1]=1,Wn[2]=0,Wn[3]=0);const gr=it(Wn[50],Wn[51]);if(gr<0||gr>1){(0,s.info)("Attempting to fix invalid indexToLocFormat in head table: "+gr);const ir=Mn+1;if(zn===ir<<1)Wn[50]=0,Wn[51]=0;else if(zn===ir<<2)Wn[50]=0,Wn[51]=1;else throw new s.FormatError("Could not fix indexToLocFormat: "+gr)}}function Cn(Un,Mn,zn,Wn,sr,gr,ir){let Jn,or,hr;Wn?(Jn=4,or=function(Wr,$a){return Wr[$a]<<24|Wr[$a+1]<<16|Wr[$a+2]<<8|Wr[$a+3]},hr=function(Wr,$a,ys){Wr[$a]=ys>>>24&255,Wr[$a+1]=ys>>16&255,Wr[$a+2]=ys>>8&255,Wr[$a+3]=ys&255}):(Jn=2,or=function(Wr,$a){return Wr[$a]<<9|Wr[$a+1]<<1},hr=function(Wr,$a,ys){Wr[$a]=ys>>9&255,Wr[$a+1]=ys>>1&255});const kr=gr?zn+1:zn,_r=Jn*(1+kr),dr=new Uint8Array(_r);dr.set(Un.data.subarray(0,_r)),Un.data=dr;const mn=Mn.data,Fn=mn.length,Bn=new Uint8Array(Fn);let Nn,nr;const Ar=[];for(Nn=0,nr=0;Nn<zn+1;Nn++,nr+=Jn){let Er=or(dr,nr);Er>Fn&&(Er=Fn),Ar.push({index:Nn,offset:Er,endOffset:0})}for(Ar.sort((Er,Wr)=>Er.offset-Wr.offset),Nn=0;Nn<zn;Nn++)Ar[Nn].endOffset=Ar[Nn+1].offset;for(Ar.sort((Er,Wr)=>Er.index-Wr.index),Nn=0;Nn<zn;Nn++){const{offset:Er,endOffset:Wr}=Ar[Nn];if(Er!==0||Wr!==0)break;const $a=Ar[Nn+1].offset;if($a!==0){Ar[Nn].endOffset=$a;break}}const Gr=Object.create(null);let Sr=0;for(hr(dr,0,Sr),Nn=0,nr=Jn;Nn<zn;Nn++,nr+=Jn){const Er=En(mn,Ar[Nn].offset,Ar[Nn].endOffset,Bn,Sr,sr),Wr=Er.length;Wr===0&&(Gr[Nn]=!0),Er.sizeOfInstructions>ir&&(ir=Er.sizeOfInstructions),Sr+=Wr,hr(dr,nr,Sr)}if(Sr===0){const Er=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(Nn=0,nr=Jn;Nn<kr;Nn++,nr+=Jn)hr(dr,nr,Er.length);Mn.data=Er}else if(gr){const Er=or(dr,Jn);Bn.length>Er+Sr?Mn.data=Bn.subarray(0,Er+Sr):(Mn.data=new Uint8Array(Er+Sr),Mn.data.set(Bn.subarray(0,Sr))),Mn.data.set(Bn.subarray(0,Er),Sr),hr(Un.data,dr.length-Jn,Sr+Er)}else Mn.data=Bn.subarray(0,Sr);return{missingGlyphs:Gr,maxSizeOfInstructions:ir}}function gn(Un,Mn,zn){const Wn=(Zt.start||0)+Un.offset;Zt.pos=Wn;const sr=Un.length,gr=Wn+sr,ir=Zt.getInt32();Zt.skip(28);let Jn,or=!0,hr;switch(ir){case 65536:Jn=Tt.MacStandardGlyphOrdering;break;case 131072:const kr=Zt.getUint16();if(kr!==zn){or=!1;break}const _r=[];for(hr=0;hr<kr;++hr){const Fn=Zt.getUint16();if(Fn>=32768){or=!1;break}_r.push(Fn)}if(!or)break;const dr=[],mn=[];for(;Zt.pos<gr;){const Fn=Zt.getByte();for(mn.length=Fn,hr=0;hr<Fn;++hr)mn[hr]=String.fromCharCode(Zt.getByte());dr.push(mn.join(""))}for(Jn=[],hr=0;hr<kr;++hr){const Fn=_r[hr];if(Fn<258){Jn.push(Tt.MacStandardGlyphOrdering[Fn]);continue}Jn.push(dr[Fn-258])}break;case 196608:break;default:(0,s.warn)("Unknown/unsupported post table version "+ir),or=!1,Mn.defaultEncoding&&(Jn=Mn.defaultEncoding);break}return Mn.glyphNames=Jn,or}function hn(Un){const Mn=(Zt.start||0)+Un.offset;Zt.pos=Mn;const zn=[[],[]],Wn=Un.length,sr=Mn+Wn;if(Zt.getUint16()!==0||Wn<6)return zn;const Jn=Zt.getUint16(),or=Zt.getUint16(),hr=[],kr=12;let _r,dr;for(_r=0;_r<Jn&&Zt.pos+kr<=sr;_r++){const mn={platform:Zt.getUint16(),encoding:Zt.getUint16(),language:Zt.getUint16(),name:Zt.getUint16(),length:Zt.getUint16(),offset:Zt.getUint16()};(mn.platform===1&&mn.encoding===0&&mn.language===0||mn.platform===3&&mn.encoding===1&&mn.language===1033)&&hr.push(mn)}for(_r=0,dr=hr.length;_r<dr;_r++){const mn=hr[_r];if(mn.length<=0)continue;const Fn=Mn+or+mn.offset;if(Fn+mn.length>sr)continue;Zt.pos=Fn;const Bn=mn.name;if(mn.encoding){let Nn="";for(let nr=0,Ar=mn.length;nr<Ar;nr+=2)Nn+=String.fromCharCode(Zt.getUint16());zn[1][Bn]=Nn}else zn[0][Bn]=Zt.getString(mn.length)}return zn}const on=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function Dn(Un,Mn){let zn=Un.data,Wn=0,sr,gr,ir,Jn,or,hr=0,kr=0;const _r=[],dr=[],mn=[];let Fn=Mn.tooComplexToFollowFunctions,Bn=!1,Nn=0,nr=0;for(let Gr=zn.length;Wn<Gr;){const Sr=zn[Wn++];if(Sr===64)if(gr=zn[Wn++],Bn||nr)Wn+=gr;else for(sr=0;sr<gr;sr++)_r.push(zn[Wn++]);else if(Sr===65)if(gr=zn[Wn++],Bn||nr)Wn+=gr*2;else for(sr=0;sr<gr;sr++)ir=zn[Wn++],_r.push(ir<<8|zn[Wn++]);else if((Sr&248)===176)if(gr=Sr-176+1,Bn||nr)Wn+=gr;else for(sr=0;sr<gr;sr++)_r.push(zn[Wn++]);else if((Sr&248)===184)if(gr=Sr-184+1,Bn||nr)Wn+=gr*2;else for(sr=0;sr<gr;sr++)ir=zn[Wn++],_r.push(ir<<8|zn[Wn++]);else if(Sr===43&&!Fn){if(!Bn&&!nr){if(Jn=_r.at(-1),isNaN(Jn))(0,s.info)("TT: CALL empty stack (or invalid entry).");else if(Mn.functionsUsed[Jn]=!0,Jn in Mn.functionsStackDeltas){const Er=_r.length+Mn.functionsStackDeltas[Jn];if(Er<0){(0,s.warn)("TT: CALL invalid functions stack delta."),Mn.hintsValid=!1;return}_r.length=Er}else if(Jn in Mn.functionsDefined&&!mn.includes(Jn)){if(dr.push({data:zn,i:Wn,stackTop:_r.length-1}),mn.push(Jn),or=Mn.functionsDefined[Jn],!or){(0,s.warn)("TT: CALL non-existent function"),Mn.hintsValid=!1;return}zn=or.data,Wn=or.i}}}else if(Sr===44&&!Fn)(Bn||nr)&&((0,s.warn)("TT: nested FDEFs not allowed"),Fn=!0),Bn=!0,kr=Wn,Jn=_r.pop(),Mn.functionsDefined[Jn]={data:zn,i:Wn};else if(Sr===45)if(Bn)Bn=!1,hr=Wn;else{if(or=dr.pop(),!or){(0,s.warn)("TT: ENDF bad stack"),Mn.hintsValid=!1;return}Jn=mn.pop(),zn=or.data,Wn=or.i,Mn.functionsStackDeltas[Jn]=_r.length-or.stackTop}else if(Sr===137)(Bn||nr)&&((0,s.warn)("TT: nested IDEFs not allowed"),Fn=!0),Bn=!0,kr=Wn;else if(Sr===88)++Nn;else if(Sr===27)nr=Nn;else if(Sr===89)nr===Nn&&(nr=0),--Nn;else if(Sr===28&&!Bn&&!nr){const Er=_r.at(-1);Er>0&&(Wn+=Er-1)}if(!Bn&&!nr){let Er=0;for(Sr<=142?Er=on[Sr]:Sr>=192&&Sr<=223?Er=-1:Sr>=224&&(Er=-2),Sr>=113&&Sr<=117&&(gr=_r.pop(),isNaN(gr)||(Er=-gr*2));Er<0&&_r.length>0;)_r.pop(),Er++;for(;Er>0;)_r.push(NaN),Er--}}Mn.tooComplexToFollowFunctions=Fn;const Ar=[zn];Wn>zn.length&&Ar.push(new Uint8Array(Wn-zn.length)),kr>hr&&((0,s.warn)("TT: complementing a missing function tail"),Ar.push(new Uint8Array([34,45]))),er(Un,Ar)}function Xn(Un,Mn){if(!Un.tooComplexToFollowFunctions){if(Un.functionsDefined.length>Mn){(0,s.warn)("TT: more functions defined than expected"),Un.hintsValid=!1;return}for(let zn=0,Wn=Un.functionsUsed.length;zn<Wn;zn++){if(zn>Mn){(0,s.warn)("TT: invalid function id: "+zn),Un.hintsValid=!1;return}if(Un.functionsUsed[zn]&&!Un.functionsDefined[zn]){(0,s.warn)("TT: undefined function: "+zn),Un.hintsValid=!1;return}}}}function er(Un,Mn){if(Mn.length>1){let zn=0,Wn,sr;for(Wn=0,sr=Mn.length;Wn<sr;Wn++)zn+=Mn[Wn].length;zn=zn+3&-4;const gr=new Uint8Array(zn);let ir=0;for(Wn=0,sr=Mn.length;Wn<sr;Wn++)gr.set(Mn[Wn],ir),ir+=Mn[Wn].length;Un.data=gr,Un.length=zn}}function Sn(Un,Mn,zn,Wn){const sr={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(Un&&Dn(Un,sr),Mn&&Dn(Mn,sr),Un&&Xn(sr,Wn),zn&&zn.length&1){const gr=new Uint8Array(zn.length+1);gr.set(zn.data),zn.data=gr}return sr.hintsValid}Zt=new h.Stream(new Uint8Array(Zt.getBytes()));let xn,cn;if(At(Zt)){const Un=pn(Zt,this.name);xn=Un.header,cn=Un.tables}else xn=fn(Zt),cn=rn(Zt,xn.numTables);let qn,Vn;const Gn=!cn["CFF "];if(Gn){if(!cn.loca)throw new s.FormatError('Required "loca" table is not found');cn.glyf||((0,s.warn)('Required "glyf" table is not found -- trying to recover.'),cn.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{const Un=Qt.composite&&((Qt.cidToGidMap||[]).length>0||!(Qt.cMap instanceof ut.IdentityCMap));if(xn.version==="OTTO"&&!Un||!cn.head||!cn.hhea||!cn.maxp||!cn.post)return Vn=new h.Stream(cn["CFF "].data),qn=new d.CFFFont(Vn,Qt),Rt(Qt),this.convert(Yt,qn,Qt);delete cn.glyf,delete cn.loca,delete cn.fpgm,delete cn.prep,delete cn["cvt "],this.isOpenType=!0}if(!cn.maxp)throw new s.FormatError('Required "maxp" table is not found');Zt.pos=(Zt.start||0)+cn.maxp.offset;const lr=Zt.getInt32(),$n=Zt.getUint16();if(Qt.scaleFactors&&Qt.scaleFactors.length===$n&&Gn){const{scaleFactors:Un}=Qt,Mn=it(cn.head.data[50],cn.head.data[51]),zn=new o.GlyfTable({glyfTable:cn.glyf.data,isGlyphLocationsLong:Mn,locaTable:cn.loca.data,numGlyphs:$n});zn.scale(Un);const{glyf:Wn,loca:sr,isLocationLong:gr}=zn.write();cn.glyf.data=Wn,cn.loca.data=sr,gr!==!!Mn&&(cn.head.data[50]=0,cn.head.data[51]=gr?1:0);const ir=cn.hmtx.data;for(let Jn=0;Jn<$n;Jn++){const or=4*Jn,hr=Math.round(Un[Jn]*it(ir[or],ir[or+1]));ir[or]=hr>>8&255,ir[or+1]=hr&255;const kr=Math.round(Un[Jn]*bt(ir[or+2],ir[or+3]));at(ir,or+2,kr)}}let tr=$n+1,pr=!0;tr>65535&&(pr=!1,tr=$n,(0,s.warn)("Not enough space in glyfs to duplicate first glyph."));let jn=0,ur=0;lr>=65536&&cn.maxp.length>=22&&(Zt.pos+=8,Zt.getUint16()>2&&(cn.maxp.data[14]=0,cn.maxp.data[15]=2),Zt.pos+=4,jn=Zt.getUint16(),Zt.pos+=4,ur=Zt.getUint16()),cn.maxp.data[4]=tr>>8,cn.maxp.data[5]=tr&255;const rr=Sn(cn.fpgm,cn.prep,cn["cvt "],jn);if(rr||(delete cn.fpgm,delete cn.prep,delete cn["cvt "]),On(Zt,cn.hhea,cn.hmtx,cn.head,tr,pr),!cn.head)throw new s.FormatError('Required "head" table is not found');An(cn.head,$n,Gn?cn.loca.length:0);let Tr=Object.create(null);if(Gn){const Un=it(cn.head.data[50],cn.head.data[51]),Mn=Cn(cn.loca,cn.glyf,$n,Un,rr,pr,ur);Tr=Mn.missingGlyphs,lr>=65536&&cn.maxp.length>=22&&(cn.maxp.data[26]=Mn.maxSizeOfInstructions>>8,cn.maxp.data[27]=Mn.maxSizeOfInstructions&255)}if(!cn.hhea)throw new s.FormatError('Required "hhea" table is not found');cn.hhea.data[10]===0&&cn.hhea.data[11]===0&&(cn.hhea.data[10]=255,cn.hhea.data[11]=255);const br={unitsPerEm:it(cn.head.data[18],cn.head.data[19]),yMax:it(cn.head.data[42],cn.head.data[43]),yMin:bt(cn.head.data[38],cn.head.data[39]),ascent:bt(cn.hhea.data[4],cn.hhea.data[5]),descent:bt(cn.hhea.data[6],cn.hhea.data[7]),lineGap:bt(cn.hhea.data[8],cn.hhea.data[9])};this.ascent=br.ascent/br.unitsPerEm,this.descent=br.descent/br.unitsPerEm,this.lineGap=br.lineGap/br.unitsPerEm,this.cssFontInfo&&this.cssFontInfo.lineHeight?(this.lineHeight=this.cssFontInfo.metrics.lineHeight,this.lineGap=this.cssFontInfo.metrics.lineGap):this.lineHeight=this.ascent-this.descent+this.lineGap,cn.post&&gn(cn.post,Qt,$n),cn.post={tag:"post",data:Xt(Qt)};const yr=[];function cr(Un){return!Tr[Un]}if(Qt.composite){const Un=Qt.cidToGidMap||[],Mn=Un.length===0;Qt.cMap.forEach(function(zn,Wn){if(typeof Wn=="string"&&(Wn=_t(zn,Wn,!0)),Wn>65535)throw new s.FormatError("Max size of CID is 65,535");let sr=-1;Mn?sr=Wn:Un[Wn]!==void 0&&(sr=Un[Wn]),sr>=0&&sr<$n&&cr(sr)&&(yr[zn]=sr)})}else{const Un=yn(cn.cmap,Zt,this.isSymbolicFont,Qt.hasEncoding),Mn=Un.platformId,zn=Un.encodingId,Wn=Un.mappings,sr=Wn.length;let gr=[],ir=!1;if(Qt.hasEncoding&&(Qt.baseEncodingName==="MacRomanEncoding"||Qt.baseEncodingName==="WinAnsiEncoding")&&(gr=(0,gt.getEncoding)(Qt.baseEncodingName)),Qt.hasEncoding&&!this.isSymbolicFont&&(Mn===3&&zn===1||Mn===1&&zn===0)){const Jn=(0,e.getGlyphsUnicode)();for(let or=0;or<256;or++){let hr;if(this.differences[or]!==void 0?hr=this.differences[or]:gr.length&&gr[or]!==""?hr=gr[or]:hr=gt.StandardEncoding[or],!hr)continue;const kr=(0,Tt.recoverGlyphName)(hr,Jn);let _r;if(Mn===3&&zn===1?_r=Jn[kr]:Mn===1&&zn===0&&(_r=gt.MacRomanEncoding.indexOf(kr)),_r===void 0){if(!Qt.glyphNames&&Qt.hasIncludedToUnicodeMap&&!(this.toUnicode instanceof $.IdentityToUnicodeMap)){const dr=this.toUnicode.get(or);dr&&(_r=dr.codePointAt(0))}if(_r===void 0)continue}for(let dr=0;dr<sr;++dr)if(Wn[dr].charCode===_r){yr[or]=Wn[dr].glyphId;break}}}else if(Mn===0){for(let Jn=0;Jn<sr;++Jn)yr[Wn[Jn].charCode]=Wn[Jn].glyphId;ir=!0}else for(let Jn=0;Jn<sr;++Jn){let or=Wn[Jn].charCode;Mn===3&&or>=61440&&or<=61695&&(or&=255),yr[or]=Wn[Jn].glyphId}if(Qt.glyphNames&&(gr.length||this.differences.length))for(let Jn=0;Jn<256;++Jn){if(!ir&&yr[Jn]!==void 0)continue;const or=this.differences[Jn]||gr[Jn];if(!or)continue;const hr=Qt.glyphNames.indexOf(or);hr>0&&cr(hr)&&(yr[Jn]=hr)}}yr.length===0&&(yr[0]=0);let Jr=tr-1;if(pr||(Jr=0),!Qt.cssFontInfo){const Un=Lt(yr,cr,Jr,this.toUnicode);this.toFontChar=Un.toFontChar,cn.cmap={tag:"cmap",data:Dt(Un.charCodeToGlyphId,Un.toUnicodeExtraMap,tr)},(!cn["OS/2"]||!jt(cn["OS/2"],Zt))&&(cn["OS/2"]={tag:"OS/2",data:Ot(Qt,Un.charCodeToGlyphId,br)})}if(!Gn)try{Vn=new h.Stream(cn["CFF "].data),qn=new st.CFFParser(Vn,Qt,Tt.SEAC_ANALYSIS_ENABLED).parse(),qn.duplicateFirstGlyph();const Mn=new st.CFFCompiler(qn);cn["CFF "].data=Mn.compile()}catch{(0,s.warn)("Failed to compile font "+Qt.loadedName)}if(!cn.name)cn.name={tag:"name",data:Gt(this.name)};else{const Un=hn(cn.name);cn.name.data=Gt(Yt,Un),this.psName=Un[0][6]||null}const Vr=new dt.OpenTypeFileBuilder(xn.version);for(const Un in cn)Vr.addTable(Un,cn[Un].data);return Vr.toArray()}convert(Yt,Zt,Qt){Qt.fixedPitch=!1,Qt.builtInEncoding&&Ft(Qt,Qt.builtInEncoding);let en=1;Zt instanceof d.CFFFont&&(en=Zt.numGlyphs-1);const rn=Zt.getGlyphMapping(Qt);let an=null,fn=rn,un=null;Qt.cssFontInfo||(an=Lt(rn,Zt.hasGlyphId.bind(Zt),en,this.toUnicode),this.toFontChar=an.toFontChar,fn=an.charCodeToGlyphId,un=an.toUnicodeExtraMap);const pn=Zt.numGlyphs;function yn(gn,hn){let on=null;for(const Dn in gn)hn===gn[Dn]&&(on||(on=[]),on.push(Dn|0));return on}function On(gn,hn){for(const on in gn)if(hn===gn[on])return on|0;return an.charCodeToGlyphId[an.nextAvailableFontCharCode]=hn,an.nextAvailableFontCharCode++}const En=Zt.seacs;if(an&&Tt.SEAC_ANALYSIS_ENABLED&&En&&En.length){const gn=Qt.fontMatrix||s.FONT_IDENTITY_MATRIX,hn=Zt.getCharset(),on=Object.create(null);for(let Dn in En){Dn|=0;const Xn=En[Dn],er=gt.StandardEncoding[Xn[2]],Sn=gt.StandardEncoding[Xn[3]],xn=hn.indexOf(er),cn=hn.indexOf(Sn);if(xn<0||cn<0)continue;const qn={x:Xn[0]*gn[0]+Xn[1]*gn[2]+gn[4],y:Xn[0]*gn[1]+Xn[1]*gn[3]+gn[5]},Vn=yn(rn,Dn);if(Vn)for(let Gn=0,lr=Vn.length;Gn<lr;Gn++){const $n=Vn[Gn],tr=an.charCodeToGlyphId,pr=On(tr,xn),jn=On(tr,cn);on[$n]={baseFontCharCode:pr,accentFontCharCode:jn,accentOffset:qn}}}Qt.seacMap=on}const An=1/(Qt.fontMatrix||s.FONT_IDENTITY_MATRIX)[0],Cn=new dt.OpenTypeFileBuilder("OTTO");return Cn.addTable("CFF ",Zt.data),Cn.addTable("OS/2",Ot(Qt,fn)),Cn.addTable("cmap",Dt(fn,un,pn)),Cn.addTable("head","\0\0\0\0\0\0\0\0\0\0_<\0\0"+vt(An)+"\0\0\0\0\v~'\0\0\0\0\v~'\0\0"+vt(Qt.descent)+""+vt(Qt.ascent)+ht(Qt.italicAngle?2:0)+"\0\0\0\0\0\0\0"),Cn.addTable("hhea","\0\0\0"+vt(Qt.ascent)+vt(Qt.descent)+"\0\0\0\0\0\0\0\0"+vt(Qt.capHeight)+vt(Math.tan(Qt.italicAngle)*Qt.xHeight)+"\0\0\0\0\0\0\0\0\0\0\0\0"+ht(pn)),Cn.addTable("hmtx",function(){const hn=Zt.charstrings,on=Zt.cff?Zt.cff.widths:null;let Dn="\0\0\0\0";for(let Xn=1,er=pn;Xn<er;Xn++){let Sn=0;if(hn){const xn=hn[Xn-1];Sn="width"in xn?xn.width:0}else on&&(Sn=Math.ceil(on[Xn]||0));Dn+=ht(Sn)+ht(0)}return Dn}()),Cn.addTable("maxp","\0\0P\0"+ht(pn)),Cn.addTable("name",Gt(Yt)),Cn.addTable("post",Xt(Qt)),Cn.toArray()}get spaceWidth(){const Yt=["space","minus","one","i","I"];let Zt;for(let Qt=0,en=Yt.length;Qt<en;Qt++){const rn=Yt[Qt];if(rn in this.widths){Zt=this.widths[rn];break}const fn=(0,e.getGlyphsUnicode)()[rn];let un=0;if(this.composite&&this.cMap.contains(fn)&&(un=this.cMap.lookup(fn),typeof un=="string"&&(un=_t(fn,un))),!un&&this.toUnicode&&(un=this.toUnicode.charCodeOf(fn)),un<=0&&(un=fn),Zt=this.widths[un],Zt)break}return Zt=Zt||this.defaultWidth,(0,s.shadow)(this,"spaceWidth",Zt)}_charToGlyph(Yt,Zt=!1){let Qt,en,rn,an=Yt;this.cMap&&this.cMap.contains(Yt)&&(an=this.cMap.lookup(Yt),typeof an=="string"&&(an=_t(Yt,an))),en=this.widths[an],typeof en!="number"&&(en=this.defaultWidth);const fn=this.vmetrics&&this.vmetrics[an];let un=this.toUnicode.get(Yt)||Yt;typeof un=="number"&&(un=String.fromCharCode(un));let pn=this.toFontChar[Yt]!==void 0;if(Qt=this.toFontChar[Yt]||Yt,this.missingFile){const An=this.differences[Yt]||this.defaultEncoding[Yt];(An===".notdef"||An==="")&&this.type==="Type1"&&(Qt=32),Qt=(0,wt.mapSpecialUnicodeValues)(Qt)}this.isType3Font&&(rn=Qt);let yn=null;if(this.seacMap&&this.seacMap[Yt]){pn=!0;const An=this.seacMap[Yt];Qt=An.baseFontCharCode,yn={fontChar:String.fromCodePoint(An.accentFontCharCode),offset:An.accentOffset}}let On="";typeof Qt=="number"&&(Qt<=1114111?On=String.fromCodePoint(Qt):(0,s.warn)(`charToGlyph - invalid fontCharCode: ${Qt}`));let En=this._glyphCache[Yt];return(!En||!En.matchesForCache(Yt,On,un,yn,en,fn,rn,Zt,pn))&&(En=new ft(Yt,On,un,yn,en,fn,rn,Zt,pn),this._glyphCache[Yt]=En),En}charsToGlyphs(Yt){let Zt=this._charsCache[Yt];if(Zt)return Zt;if(Zt=[],this.cMap){const Qt=Object.create(null),en=Yt.length;let rn=0;for(;rn<en;){this.cMap.readCharCode(Yt,rn,Qt);const{charcode:an,length:fn}=Qt;rn+=fn;const un=this._charToGlyph(an,fn===1&&Yt.charCodeAt(rn-1)===32);Zt.push(un)}}else for(let Qt=0,en=Yt.length;Qt<en;++Qt){const rn=Yt.charCodeAt(Qt),an=this._charToGlyph(rn,rn===32);Zt.push(an)}return this._charsCache[Yt]=Zt}getCharPositions(Yt){const Zt=[];if(this.cMap){const Qt=Object.create(null);let en=0;for(;en<Yt.length;){this.cMap.readCharCode(Yt,en,Qt);const rn=Qt.length;Zt.push([en,en+rn]),en+=rn}}else for(let Qt=0,en=Yt.length;Qt<en;++Qt)Zt.push([Qt,Qt+1]);return Zt}get glyphCacheValues(){return Object.values(this._glyphCache)}encodeString(Yt){const Zt=[],Qt=[],en=()=>Zt.length%2===1,rn=this.toUnicode instanceof $.IdentityToUnicodeMap?an=>this.toUnicode.charCodeOf(an):an=>this.toUnicode.charCodeOf(String.fromCodePoint(an));for(let an=0,fn=Yt.length;an<fn;an++){const un=Yt.codePointAt(an);if(un>55295&&(un<57344||un>65533)&&an++,this.toUnicode){const pn=rn(un);if(pn!==-1){en()&&(Zt.push(Qt.join("")),Qt.length=0);const yn=this.cMap?this.cMap.getCharCodeLength(pn):1;for(let On=yn-1;On>=0;On--)Qt.push(String.fromCharCode(pn>>8*On&255));continue}}en()||(Zt.push(Qt.join("")),Qt.length=0),Qt.push(String.fromCodePoint(un))}return Zt.push(Qt.join("")),Zt}}ct.Font=qt;class Kt{constructor(Yt){this.error=Yt,this.loadedName="g_font_error",this.missingFile=!0}charsToGlyphs(){return[]}encodeString(Yt){return[Yt]}exportData(Yt=!1){return{error:this.error}}}ct.ErrorFont=Kt},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.CFFTopDict=ct.CFFStrings=ct.CFFStandardStrings=ct.CFFPrivateDict=ct.CFFParser=ct.CFFIndex=ct.CFFHeader=ct.CFFFDSelect=ct.CFFCompiler=ct.CFFCharset=ct.CFF=void 0;var s=Et(2),st=Et(36),Tt=Et(37);const wt=10,e=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"];ct.CFFStandardStrings=e;const gt=391,_=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],$=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn(ft,it){ft[it-2]=ft[it-2]+ft[it-1]}},{id:"sub",min:2,stackDelta:-1,stackFn(ft,it){ft[it-2]=ft[it-2]-ft[it-1]}},{id:"div",min:2,stackDelta:-1,stackFn(ft,it){ft[it-2]=ft[it-2]/ft[it-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn(ft,it){ft[it-1]=-ft[it-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn(ft,it){ft[it-2]=ft[it-2]*ft[it-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];class d{constructor(it,at,bt){this.bytes=it.getBytes(),this.properties=at,this.seacAnalysisEnabled=!!bt}parse(){const it=this.properties,at=new j;this.cff=at;const bt=this.parseHeader(),St=this.parseIndex(bt.endPos),ht=this.parseIndex(St.endPos),vt=this.parseIndex(ht.endPos),yt=this.parseIndex(vt.endPos),At=this.parseDict(ht.obj.get(0)),Nt=this.createDict(h,At,at.strings);at.header=bt.obj,at.names=this.parseNameIndex(St.obj),at.strings=this.parseStringIndex(vt.obj),at.topDict=Nt,at.globalSubrIndex=yt.obj,this.parsePrivateDict(at.topDict),at.isCIDFont=Nt.hasName("ROS");const Ht=Nt.getByName("CharStrings"),xt=this.parseIndex(Ht).obj,rt=Nt.getByName("FontMatrix");rt&&(it.fontMatrix=rt);const mt=Nt.getByName("FontBBox");mt&&(it.ascent=Math.max(mt[3],mt[1]),it.descent=Math.min(mt[1],mt[3]),it.ascentScaled=!0);let Mt,_t;if(at.isCIDFont){const It=this.parseIndex(Nt.getByName("FDArray")).obj;for(let Dt=0,jt=It.count;Dt<jt;++Dt){const Ot=It.get(Dt),Xt=this.createDict(h,this.parseDict(Ot),at.strings);this.parsePrivateDict(Xt),at.fdArray.push(Xt)}_t=null,Mt=this.parseCharsets(Nt.getByName("charset"),xt.count,at.strings,!0),at.fdSelect=this.parseFDSelect(Nt.getByName("FDSelect"),xt.count)}else Mt=this.parseCharsets(Nt.getByName("charset"),xt.count,at.strings,!1),_t=this.parseEncoding(Nt.getByName("Encoding"),it,at.strings,Mt.charset);at.charset=Mt,at.encoding=_t;const Lt=this.parseCharStrings({charStrings:xt,localSubrIndex:Nt.privateDict.subrsIndex,globalSubrIndex:yt.obj,fdSelect:at.fdSelect,fdArray:at.fdArray,privateDict:Nt.privateDict});return at.charStrings=Lt.charStrings,at.seacs=Lt.seacs,at.widths=Lt.widths,at}parseHeader(){let it=this.bytes;const at=it.length;let bt=0;for(;bt<at&&it[bt]!==1;)++bt;if(bt>=at)throw new s.FormatError("Invalid CFF header");bt!==0&&((0,s.info)("cff data is shifted"),it=it.subarray(bt),this.bytes=it);const St=it[0],ht=it[1],vt=it[2],yt=it[3];return{obj:new g(St,ht,vt,yt),endPos:vt}}parseDict(it){let at=0;function bt(){let At=it[at++];return At===30?St():At===28?(At=it[at++],At=(At<<24|it[at++]<<16)>>16,At):At===29?(At=it[at++],At=At<<8|it[at++],At=At<<8|it[at++],At=At<<8|it[at++],At):At>=32&&At<=246?At-139:At>=247&&At<=250?(At-247)*256+it[at++]+108:At>=251&&At<=254?-((At-251)*256)-it[at++]-108:((0,s.warn)('CFFParser_parseDict: "'+At+'" is a reserved command.'),NaN)}function St(){let At="";const Ht=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],xt=it.length;for(;at<xt;){const rt=it[at++],mt=rt>>4,Mt=rt&15;if(mt===15||(At+=Ht[mt],Mt===15))break;At+=Ht[Mt]}return parseFloat(At)}let ht=[];const vt=[];at=0;const yt=it.length;for(;at<yt;){let At=it[at];At<=21?(At===12&&(At=At<<8|it[++at]),vt.push([At,ht]),ht=[],++at):ht.push(bt())}return vt}parseIndex(it){const at=new ut,bt=this.bytes,St=bt[it++]<<8|bt[it++],ht=[];let vt=it,yt,At;if(St!==0){const Nt=bt[it++],Ht=it+(St+1)*Nt-1;for(yt=0,At=St+1;yt<At;++yt){let xt=0;for(let rt=0;rt<Nt;++rt)xt<<=8,xt+=bt[it++];ht.push(Ht+xt)}vt=ht[St]}for(yt=0,At=ht.length-1;yt<At;++yt){const Nt=ht[yt],Ht=ht[yt+1];at.add(bt.subarray(Nt,Ht))}return{obj:at,endPos:vt}}parseNameIndex(it){const at=[];for(let bt=0,St=it.count;bt<St;++bt){const ht=it.get(bt);at.push((0,s.bytesToString)(ht))}return at}parseStringIndex(it){const at=new o;for(let bt=0,St=it.count;bt<St;++bt){const ht=it.get(bt);at.add((0,s.bytesToString)(ht))}return at}createDict(it,at,bt){const St=new it(bt);for(let ht=0,vt=at.length;ht<vt;++ht){const yt=at[ht],At=yt[0],Nt=yt[1];St.setByKey(At,Nt)}return St}parseCharString(it,at,bt,St){if(!at||it.callDepth>wt)return!1;let ht=it.stackSize;const vt=it.stack,yt=at.length;for(let At=0;At<yt;){const Nt=at[At++];let Ht=null;if(Nt===12){const xt=at[At++];xt===0?(at[At-2]=139,at[At-1]=22,ht=0):Ht=$[xt]}else if(Nt===28)vt[ht]=(at[At]<<24|at[At+1]<<16)>>16,At+=2,ht++;else if(Nt===14){if(ht>=4&&(ht-=4,this.seacAnalysisEnabled))return it.seac=vt.slice(ht,ht+4),!1;Ht=_[Nt]}else if(Nt>=32&&Nt<=246)vt[ht]=Nt-139,ht++;else if(Nt>=247&&Nt<=254)vt[ht]=Nt<251?(Nt-247<<8)+at[At]+108:-(Nt-251<<8)-at[At]-108,At++,ht++;else if(Nt===255)vt[ht]=(at[At]<<24|at[At+1]<<16|at[At+2]<<8|at[At+3])/65536,At+=4,ht++;else if(Nt===19||Nt===20)it.hints+=ht>>1,At+=it.hints+7>>3,ht%=2,Ht=_[Nt];else if(Nt===10||Nt===29){let xt;if(Nt===10?xt=bt:xt=St,!xt)return Ht=_[Nt],(0,s.warn)("Missing subrsIndex for "+Ht.id),!1;let rt=32768;xt.count<1240?rt=107:xt.count<33900&&(rt=1131);const mt=vt[--ht]+rt;if(mt<0||mt>=xt.count||isNaN(mt))return Ht=_[Nt],(0,s.warn)("Out of bounds subrIndex for "+Ht.id),!1;if(it.stackSize=ht,it.callDepth++,!this.parseCharString(it,xt.get(mt),bt,St))return!1;it.callDepth--,ht=it.stackSize;continue}else{if(Nt===11)return it.stackSize=ht,!0;Nt===0&&At===at.length?(at[At-1]=14,Ht=_[14]):Ht=_[Nt]}if(Ht){if(Ht.stem&&(it.hints+=ht>>1,Nt===3||Nt===23?it.hasVStems=!0:it.hasVStems&&(Nt===1||Nt===18)&&((0,s.warn)("CFF stem hints are in wrong order"),at[At-1]=Nt===1?3:23)),"min"in Ht&&!it.undefStack&&ht<Ht.min)return(0,s.warn)("Not enough parameters for "+Ht.id+"; actual: "+ht+", expected: "+Ht.min),ht===0?(at[At-1]=14,!0):!1;it.firstStackClearing&&Ht.stackClearing&&(it.firstStackClearing=!1,ht-=Ht.min,ht>=2&&Ht.stem?ht%=2:ht>1&&(0,s.warn)("Found too many parameters for stack-clearing command"),ht>0&&(it.width=vt[ht-1])),"stackDelta"in Ht?("stackFn"in Ht&&Ht.stackFn(vt,ht),ht+=Ht.stackDelta):Ht.stackClearing?ht=0:Ht.resetStack?(ht=0,it.undefStack=!1):Ht.undefStack&&(ht=0,it.undefStack=!0,it.firstStackClearing=!1)}}return it.stackSize=ht,!0}parseCharStrings({charStrings:it,localSubrIndex:at,globalSubrIndex:bt,fdSelect:St,fdArray:ht,privateDict:vt}){const yt=[],At=[],Nt=it.count;for(let Ht=0;Ht<Nt;Ht++){const xt=it.get(Ht),rt={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1};let mt=!0,Mt=null,_t=vt;if(St&&ht.length){const Lt=St.getFDIndex(Ht);Lt===-1&&((0,s.warn)("Glyph index is not in fd select."),mt=!1),Lt>=ht.length&&((0,s.warn)("Invalid fd index for glyph index."),mt=!1),mt&&(_t=ht[Lt].privateDict,Mt=_t.subrsIndex)}else at&&(Mt=at);if(mt&&(mt=this.parseCharString(rt,xt,Mt,bt)),rt.width!==null){const Lt=_t.getByName("nominalWidthX");At[Ht]=Lt+rt.width}else{const Lt=_t.getByName("defaultWidthX");At[Ht]=Lt}rt.seac!==null&&(yt[Ht]=rt.seac),mt||it.set(Ht,new Uint8Array([14]))}return{charStrings:it,seacs:yt,widths:At}}emptyPrivateDictionary(it){const at=this.createDict(nt,[],it.strings);it.setByKey(18,[0,0]),it.privateDict=at}parsePrivateDict(it){if(!it.hasName("Private")){this.emptyPrivateDictionary(it);return}const at=it.getByName("Private");if(!Array.isArray(at)||at.length!==2){it.removeByName("Private");return}const bt=at[0],St=at[1];if(bt===0||St>=this.bytes.length){this.emptyPrivateDictionary(it);return}const ht=St+bt,vt=this.bytes.subarray(St,ht),yt=this.parseDict(vt),At=this.createDict(nt,yt,it.strings);if(it.privateDict=At,!At.getByName("Subrs"))return;const Nt=At.getByName("Subrs"),Ht=St+Nt;if(Nt===0||Ht>=this.bytes.length){this.emptyPrivateDictionary(it);return}const xt=this.parseIndex(Ht);At.subrsIndex=xt.obj}parseCharsets(it,at,bt,St){if(it===0)return new Bt(!0,pt.ISO_ADOBE,st.ISOAdobeCharset);if(it===1)return new Bt(!0,pt.EXPERT,st.ExpertCharset);if(it===2)return new Bt(!0,pt.EXPERT_SUBSET,st.ExpertSubsetCharset);const ht=this.bytes,vt=it,yt=ht[it++],At=[St?0:".notdef"];let Nt,Ht,xt;switch(at-=1,yt){case 0:for(xt=0;xt<at;xt++)Nt=ht[it++]<<8|ht[it++],At.push(St?Nt:bt.get(Nt));break;case 1:for(;At.length<=at;)for(Nt=ht[it++]<<8|ht[it++],Ht=ht[it++],xt=0;xt<=Ht;xt++)At.push(St?Nt++:bt.get(Nt++));break;case 2:for(;At.length<=at;)for(Nt=ht[it++]<<8|ht[it++],Ht=ht[it++]<<8|ht[it++],xt=0;xt<=Ht;xt++)At.push(St?Nt++:bt.get(Nt++));break;default:throw new s.FormatError("Unknown charset format")}const rt=it,mt=ht.subarray(vt,rt);return new Bt(!1,yt,At,mt)}parseEncoding(it,at,bt,St){const ht=Object.create(null),vt=this.bytes;let yt=!1,At,Nt,Ht,xt=null;function rt(){const mt=vt[it++];for(Nt=0;Nt<mt;Nt++){const Mt=vt[it++],_t=(vt[it++]<<8)+(vt[it++]&255);ht[Mt]=St.indexOf(bt.get(_t))}}if(it===0||it===1){yt=!0,At=it;const mt=it?Tt.ExpertEncoding:Tt.StandardEncoding;for(Nt=0,Ht=St.length;Nt<Ht;Nt++){const Mt=mt.indexOf(St[Nt]);Mt!==-1&&(ht[Mt]=Nt)}}else{const mt=it;switch(At=vt[it++],At&127){case 0:const _t=vt[it++];for(Nt=1;Nt<=_t;Nt++)ht[vt[it++]]=Nt;break;case 1:const Lt=vt[it++];let It=1;for(Nt=0;Nt<Lt;Nt++){const Dt=vt[it++],jt=vt[it++];for(let Ot=Dt;Ot<=Dt+jt;Ot++)ht[Ot]=It++}break;default:throw new s.FormatError(`Unknown encoding format: ${At} in CFF`)}const Mt=it;At&128&&(vt[mt]&=127,rt()),xt=vt.subarray(mt,Mt)}return At&=127,new Pt(yt,At,ht,xt)}parseFDSelect(it,at){const bt=this.bytes,St=bt[it++],ht=[];let vt;switch(St){case 0:for(vt=0;vt<at;++vt){const At=bt[it++];ht.push(At)}break;case 3:const yt=bt[it++]<<8|bt[it++];for(vt=0;vt<yt;++vt){let At=bt[it++]<<8|bt[it++];vt===0&&At!==0&&((0,s.warn)("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),At=0);const Nt=bt[it++],Ht=bt[it]<<8|bt[it+1];for(let xt=At;xt<Ht;++xt)ht.push(Nt)}it+=2;break;default:throw new s.FormatError(`parseFDSelect: Unknown format "${St}".`)}if(ht.length!==at)throw new s.FormatError("parseFDSelect: Invalid font data.");return new Rt(St,ht)}}ct.CFFParser=d;class j{constructor(){this.header=null,this.names=[],this.topDict=null,this.strings=new o,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}duplicateFirstGlyph(){if(this.charStrings.count>=65535){(0,s.warn)("Not enough space in charstrings to duplicate first glyph.");return}const it=this.charStrings.get(0);this.charStrings.add(it),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}hasGlyphId(it){return it<0||it>=this.charStrings.count?!1:this.charStrings.get(it).length>0}}ct.CFF=j;class g{constructor(it,at,bt,St){this.major=it,this.minor=at,this.hdrSize=bt,this.offSize=St}}ct.CFFHeader=g;class o{constructor(){this.strings=[]}get(it){return it>=0&&it<=gt-1?e[it]:it-gt<=this.strings.length?this.strings[it-gt]:e[0]}getSID(it){let at=e.indexOf(it);return at!==-1?at:(at=this.strings.indexOf(it),at!==-1?at+gt:-1)}add(it){this.strings.push(it)}get count(){return this.strings.length}}ct.CFFStrings=o;class ut{constructor(){this.objects=[],this.length=0}add(it){this.length+=it.length,this.objects.push(it)}set(it,at){this.length+=at.length-this.objects[it].length,this.objects[it]=at}get(it){return this.objects[it]}get count(){return this.objects.length}}ct.CFFIndex=ut;class dt{constructor(it,at){this.keyToNameMap=it.keyToNameMap,this.nameToKeyMap=it.nameToKeyMap,this.defaults=it.defaults,this.types=it.types,this.opcodes=it.opcodes,this.order=it.order,this.strings=at,this.values=Object.create(null)}setByKey(it,at){if(!(it in this.keyToNameMap))return!1;const bt=at.length;if(bt===0)return!0;for(let ht=0;ht<bt;ht++)if(isNaN(at[ht]))return(0,s.warn)('Invalid CFFDict value: "'+at+'" for key "'+it+'".'),!0;const St=this.types[it];return(St==="num"||St==="sid"||St==="offset")&&(at=at[0]),this.values[it]=at,!0}setByName(it,at){if(!(it in this.nameToKeyMap))throw new s.FormatError(`Invalid dictionary name "${it}"`);this.values[this.nameToKeyMap[it]]=at}hasName(it){return this.nameToKeyMap[it]in this.values}getByName(it){if(!(it in this.nameToKeyMap))throw new s.FormatError(`Invalid dictionary name ${it}"`);const at=this.nameToKeyMap[it];return at in this.values?this.values[at]:this.defaults[at]}removeByName(it){delete this.values[this.nameToKeyMap[it]]}static createTables(it){const at={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]};for(let bt=0,St=it.length;bt<St;++bt){const ht=it[bt],vt=Array.isArray(ht[0])?(ht[0][0]<<8)+ht[0][1]:ht[0];at.keyToNameMap[vt]=ht[1],at.nameToKeyMap[ht[1]]=vt,at.types[vt]=ht[2],at.defaults[vt]=ht[3],at.opcodes[vt]=Array.isArray(ht[0])?ht[0]:[ht[0]],at.order.push(vt)}return at}}const b=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]];class h extends dt{static get tables(){return(0,s.shadow)(this,"tables",this.createTables(b))}constructor(it){super(h.tables,it),this.privateDict=null}}ct.CFFTopDict=h;const et=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]];class nt extends dt{static get tables(){return(0,s.shadow)(this,"tables",this.createTables(et))}constructor(it){super(nt.tables,it),this.subrsIndex=null}}ct.CFFPrivateDict=nt;const pt={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2};class Bt{constructor(it,at,bt,St){this.predefined=it,this.format=at,this.charset=bt,this.raw=St}}ct.CFFCharset=Bt;class Pt{constructor(it,at,bt,St){this.predefined=it,this.format=at,this.encoding=bt,this.raw=St}}class Rt{constructor(it,at){this.format=it,this.fdSelect=at}getFDIndex(it){return it<0||it>=this.fdSelect.length?-1:this.fdSelect[it]}}ct.CFFFDSelect=Rt;class Ft{constructor(){this.offsets=Object.create(null)}isTracking(it){return it in this.offsets}track(it,at){if(it in this.offsets)throw new s.FormatError(`Already tracking location of ${it}`);this.offsets[it]=at}offset(it){for(const at in this.offsets)this.offsets[at]+=it}setEntryLocation(it,at,bt){if(!(it in this.offsets))throw new s.FormatError(`Not tracking location of ${it}`);const St=bt.data,ht=this.offsets[it],vt=5;for(let yt=0,At=at.length;yt<At;++yt){const Nt=yt*vt+ht,Ht=Nt+1,xt=Nt+2,rt=Nt+3,mt=Nt+4;if(St[Nt]!==29||St[Ht]!==0||St[xt]!==0||St[rt]!==0||St[mt]!==0)throw new s.FormatError("writing to an offset that is not empty");const Mt=at[yt];St[Nt]=29,St[Ht]=Mt>>24&255,St[xt]=Mt>>16&255,St[rt]=Mt>>8&255,St[mt]=Mt&255}}}class lt{constructor(it){this.cff=it}compile(){const it=this.cff,at={data:[],length:0,add(rt){this.data=this.data.concat(rt),this.length=this.data.length}},bt=this.compileHeader(it.header);at.add(bt);const St=this.compileNameIndex(it.names);if(at.add(St),it.isCIDFont&&it.topDict.hasName("FontMatrix")){const rt=it.topDict.getByName("FontMatrix");it.topDict.removeByName("FontMatrix");for(let mt=0,Mt=it.fdArray.length;mt<Mt;mt++){const _t=it.fdArray[mt];let Lt=rt.slice(0);_t.hasName("FontMatrix")&&(Lt=s.Util.transform(Lt,_t.getByName("FontMatrix"))),_t.setByName("FontMatrix",Lt)}}const ht=it.topDict.getByName("XUID");ht&&ht.length>16&&it.topDict.removeByName("XUID"),it.topDict.setByName("charset",0);let vt=this.compileTopDicts([it.topDict],at.length,it.isCIDFont);at.add(vt.output);const yt=vt.trackers[0],At=this.compileStringIndex(it.strings.strings);at.add(At);const Nt=this.compileIndex(it.globalSubrIndex);if(at.add(Nt),it.encoding&&it.topDict.hasName("Encoding"))if(it.encoding.predefined)yt.setEntryLocation("Encoding",[it.encoding.format],at);else{const rt=this.compileEncoding(it.encoding);yt.setEntryLocation("Encoding",[at.length],at),at.add(rt)}const Ht=this.compileCharset(it.charset,it.charStrings.count,it.strings,it.isCIDFont);yt.setEntryLocation("charset",[at.length],at),at.add(Ht);const xt=this.compileCharStrings(it.charStrings);if(yt.setEntryLocation("CharStrings",[at.length],at),at.add(xt),it.isCIDFont){yt.setEntryLocation("FDSelect",[at.length],at);const rt=this.compileFDSelect(it.fdSelect);at.add(rt),vt=this.compileTopDicts(it.fdArray,at.length,!0),yt.setEntryLocation("FDArray",[at.length],at),at.add(vt.output);const mt=vt.trackers;this.compilePrivateDicts(it.fdArray,mt,at)}return this.compilePrivateDicts([it.topDict],[yt],at),at.add([0]),at.data}encodeNumber(it){return Number.isInteger(it)?this.encodeInteger(it):this.encodeFloat(it)}static get EncodeFloatRegExp(){return(0,s.shadow)(this,"EncodeFloatRegExp",/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/)}encodeFloat(it){let at=it.toString();const bt=lt.EncodeFloatRegExp.exec(at);if(bt){const At=parseFloat("1e"+((bt[2]?+bt[2]:0)+bt[1].length));at=(Math.round(it*At)/At).toString()}let St="",ht,vt;for(ht=0,vt=at.length;ht<vt;++ht){const At=at[ht];At==="e"?St+=at[++ht]==="-"?"c":"b":At==="."?St+="a":At==="-"?St+="e":St+=At}St+=St.length&1?"f":"ff";const yt=[30];for(ht=0,vt=St.length;ht<vt;ht+=2)yt.push(parseInt(St.substring(ht,ht+2),16));return yt}encodeInteger(it){let at;return it>=-107&&it<=107?at=[it+139]:it>=108&&it<=1131?(it-=108,at=[(it>>8)+247,it&255]):it>=-1131&&it<=-108?(it=-it-108,at=[(it>>8)+251,it&255]):it>=-32768&&it<=32767?at=[28,it>>8&255,it&255]:at=[29,it>>24&255,it>>16&255,it>>8&255,it&255],at}compileHeader(it){return[it.major,it.minor,4,it.offSize]}compileNameIndex(it){const at=new ut;for(let bt=0,St=it.length;bt<St;++bt){const ht=it[bt],vt=Math.min(ht.length,127);let yt=new Array(vt);for(let At=0;At<vt;At++){let Nt=ht[At];(Nt<"!"||Nt>"~"||Nt==="["||Nt==="]"||Nt==="("||Nt===")"||Nt==="{"||Nt==="}"||Nt==="<"||Nt===">"||Nt==="/"||Nt==="%")&&(Nt="_"),yt[At]=Nt}yt=yt.join(""),yt===""&&(yt="Bad_Font_Name"),at.add((0,s.stringToBytes)(yt))}return this.compileIndex(at)}compileTopDicts(it,at,bt){const St=[];let ht=new ut;for(let vt=0,yt=it.length;vt<yt;++vt){const At=it[vt];bt&&(At.removeByName("CIDFontVersion"),At.removeByName("CIDFontRevision"),At.removeByName("CIDFontType"),At.removeByName("CIDCount"),At.removeByName("UIDBase"));const Nt=new Ft,Ht=this.compileDict(At,Nt);St.push(Nt),ht.add(Ht),Nt.offset(at)}return ht=this.compileIndex(ht,St),{trackers:St,output:ht}}compilePrivateDicts(it,at,bt){for(let St=0,ht=it.length;St<ht;++St){const vt=it[St],yt=vt.privateDict;if(!yt||!vt.hasName("Private"))throw new s.FormatError("There must be a private dictionary.");const At=new Ft,Nt=this.compileDict(yt,At);let Ht=bt.length;if(At.offset(Ht),Nt.length||(Ht=0),at[St].setEntryLocation("Private",[Nt.length,Ht],bt),bt.add(Nt),yt.subrsIndex&&yt.hasName("Subrs")){const xt=this.compileIndex(yt.subrsIndex);At.setEntryLocation("Subrs",[Nt.length],bt),bt.add(xt)}}}compileDict(it,at){const bt=[];for(const St of it.order){if(!(St in it.values))continue;let ht=it.values[St],vt=it.types[St];if(Array.isArray(vt)||(vt=[vt]),Array.isArray(ht)||(ht=[ht]),ht.length!==0){for(let yt=0,At=vt.length;yt<At;++yt){const Nt=vt[yt],Ht=ht[yt];switch(Nt){case"num":case"sid":bt.push(...this.encodeNumber(Ht));break;case"offset":const xt=it.keyToNameMap[St];at.isTracking(xt)||at.track(xt,bt.length),bt.push(29,0,0,0,0);break;case"array":case"delta":bt.push(...this.encodeNumber(Ht));for(let rt=1,mt=ht.length;rt<mt;++rt)bt.push(...this.encodeNumber(ht[rt]));break;default:throw new s.FormatError(`Unknown data type of ${Nt}`)}}bt.push(...it.opcodes[St])}}return bt}compileStringIndex(it){const at=new ut;for(let bt=0,St=it.length;bt<St;++bt)at.add((0,s.stringToBytes)(it[bt]));return this.compileIndex(at)}compileGlobalSubrIndex(){const it=this.cff.globalSubrIndex;this.out.writeByteArray(this.compileIndex(it))}compileCharStrings(it){const at=new ut;for(let bt=0;bt<it.count;bt++){const St=it.get(bt);if(St.length===0){at.add(new Uint8Array([139,14]));continue}at.add(St)}return this.compileIndex(at)}compileCharset(it,at,bt,St){let ht;const vt=at-1;if(St)ht=new Uint8Array([2,0,0,vt>>8&255,vt&255]);else{const yt=1+vt*2;ht=new Uint8Array(yt),ht[0]=0;let At=0;const Nt=it.charset.length;let Ht=!1;for(let xt=1;xt<ht.length;xt+=2){let rt=0;if(At<Nt){const mt=it.charset[At++];rt=bt.getSID(mt),rt===-1&&(rt=0,Ht||(Ht=!0,(0,s.warn)(`Couldn't find ${mt} in CFF strings`)))}ht[xt]=rt>>8&255,ht[xt+1]=rt&255}}return this.compileTypedArray(ht)}compileEncoding(it){return this.compileTypedArray(it.raw)}compileFDSelect(it){const at=it.format;let bt,St;switch(at){case 0:for(bt=new Uint8Array(1+it.fdSelect.length),bt[0]=at,St=0;St<it.fdSelect.length;St++)bt[St+1]=it.fdSelect[St];break;case 3:const ht=0;let vt=it.fdSelect[0];const yt=[at,0,0,ht>>8&255,ht&255,vt];for(St=1;St<it.fdSelect.length;St++){const Nt=it.fdSelect[St];Nt!==vt&&(yt.push(St>>8&255,St&255,Nt),vt=Nt)}const At=(yt.length-3)/3;yt[1]=At>>8&255,yt[2]=At&255,yt.push(St>>8&255,St&255),bt=new Uint8Array(yt);break}return this.compileTypedArray(bt)}compileTypedArray(it){const at=[];for(let bt=0,St=it.length;bt<St;++bt)at[bt]=it[bt];return at}compileIndex(it,at=[]){const bt=it.objects,St=bt.length;if(St===0)return[0,0];const ht=[St>>8&255,St&255];let vt=1,yt;for(yt=0;yt<St;++yt)vt+=bt[yt].length;let At;vt<256?At=1:vt<65536?At=2:vt<16777216?At=3:At=4,ht.push(At);let Nt=1;for(yt=0;yt<St+1;yt++)At===1?ht.push(Nt&255):At===2?ht.push(Nt>>8&255,Nt&255):At===3?ht.push(Nt>>16&255,Nt>>8&255,Nt&255):ht.push(Nt>>>24&255,Nt>>16&255,Nt>>8&255,Nt&255),bt[yt]&&(Nt+=bt[yt].length);for(yt=0;yt<St;yt++){at[yt]&&at[yt].offset(ht.length);for(let Ht=0,xt=bt[yt].length;Ht<xt;Ht++)ht.push(bt[yt][Ht])}return ht}}ct.CFFCompiler=lt},(zt,ct)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.ISOAdobeCharset=ct.ExpertSubsetCharset=ct.ExpertCharset=void 0;const Et=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"];ct.ISOAdobeCharset=Et;const s=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];ct.ExpertCharset=s;const st=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"];ct.ExpertSubsetCharset=st},(zt,ct)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.ZapfDingbatsEncoding=ct.WinAnsiEncoding=ct.SymbolSetEncoding=ct.StandardEncoding=ct.MacRomanEncoding=ct.ExpertEncoding=void 0,ct.getEncoding=_;const Et=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];ct.ExpertEncoding=Et;const s=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],st=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"];ct.MacRomanEncoding=st;const Tt=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""];ct.StandardEncoding=Tt;const wt=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"];ct.WinAnsiEncoding=wt;const e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""];ct.SymbolSetEncoding=e;const gt=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];ct.ZapfDingbatsEncoding=gt;function _($){switch($){case"WinAnsiEncoding":return wt;case"StandardEncoding":return Tt;case"MacRomanEncoding":return st;case"SymbolSetEncoding":return e;case"ZapfDingbatsEncoding":return gt;case"ExpertEncoding":return Et;case"MacExpertEncoding":return s;default:return null}}},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.SEAC_ANALYSIS_ENABLED=ct.MacStandardGlyphOrdering=ct.FontFlags=void 0,ct.getFontType=$,ct.normalizeFontName=g,ct.recoverGlyphName=d,ct.type1FontGlyphMapping=j;var s=Et(2),st=Et(37),Tt=Et(39),wt=Et(40);const e=!0;ct.SEAC_ANALYSIS_ENABLED=e;const gt={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144};ct.FontFlags=gt;const _=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];ct.MacStandardGlyphOrdering=_;function $(o,ut,dt=!1){switch(o){case"Type1":return dt?s.FontType.TYPE1STANDARD:ut==="Type1C"?s.FontType.TYPE1C:s.FontType.TYPE1;case"CIDFontType0":return ut==="CIDFontType0C"?s.FontType.CIDFONTTYPE0C:s.FontType.CIDFONTTYPE0;case"OpenType":return s.FontType.OPENTYPE;case"TrueType":return s.FontType.TRUETYPE;case"CIDFontType2":return s.FontType.CIDFONTTYPE2;case"MMType1":return s.FontType.MMTYPE1;case"Type0":return s.FontType.TYPE0;default:return s.FontType.UNKNOWN}}function d(o,ut){if(ut[o]!==void 0)return o;const dt=(0,wt.getUnicodeForGlyph)(o,ut);if(dt!==-1){for(const b in ut)if(ut[b]===dt)return b}return(0,s.info)("Unable to recover a standard glyph name for: "+o),o}function j(o,ut,dt){const b=Object.create(null);let h,et,nt;const pt=!!(o.flags&gt.Symbolic);if(o.isInternalFont)for(nt=ut,et=0;et<nt.length;et++)h=dt.indexOf(nt[et]),h>=0?b[et]=h:b[et]=0;else if(o.baseEncodingName)for(nt=(0,st.getEncoding)(o.baseEncodingName),et=0;et<nt.length;et++)h=dt.indexOf(nt[et]),h>=0?b[et]=h:b[et]=0;else if(pt)for(et in ut)b[et]=ut[et];else for(nt=st.StandardEncoding,et=0;et<nt.length;et++)h=dt.indexOf(nt[et]),h>=0?b[et]=h:b[et]=0;const Bt=o.differences;let Pt;if(Bt)for(et in Bt){const Rt=Bt[et];if(h=dt.indexOf(Rt),h===-1){Pt||(Pt=(0,Tt.getGlyphsUnicode)());const Ft=d(Rt,Pt);Ft!==Rt&&(h=dt.indexOf(Ft))}h>=0?b[et]=h:b[et]=0}return b}function g(o){return o.replace(/[,_]/g,"-").replace(/\s/g,"")}},(zt,ct,Et)=>{Et.r(ct),Et.d(ct,{getDingbatsGlyphsUnicode:()=>Tt,getGlyphsUnicode:()=>st});var s=Et(6);const st=(0,s.getArrayLookupTableFactory)(function(){return["A",65,"AE",198,"AEacute",508,"AEmacron",482,"AEsmall",63462,"Aacute",193,"Aacutesmall",63457,"Abreve",258,"Abreveacute",7854,"Abrevecyrillic",1232,"Abrevedotbelow",7862,"Abrevegrave",7856,"Abrevehookabove",7858,"Abrevetilde",7860,"Acaron",461,"Acircle",9398,"Acircumflex",194,"Acircumflexacute",7844,"Acircumflexdotbelow",7852,"Acircumflexgrave",7846,"Acircumflexhookabove",7848,"Acircumflexsmall",63458,"Acircumflextilde",7850,"Acute",63177,"Acutesmall",63412,"Acyrillic",1040,"Adblgrave",512,"Adieresis",196,"Adieresiscyrillic",1234,"Adieresismacron",478,"Adieresissmall",63460,"Adotbelow",7840,"Adotmacron",480,"Agrave",192,"Agravesmall",63456,"Ahookabove",7842,"Aiecyrillic",1236,"Ainvertedbreve",514,"Alpha",913,"Alphatonos",902,"Amacron",256,"Amonospace",65313,"Aogonek",260,"Aring",197,"Aringacute",506,"Aringbelow",7680,"Aringsmall",63461,"Asmall",63329,"Atilde",195,"Atildesmall",63459,"Aybarmenian",1329,"B",66,"Bcircle",9399,"Bdotaccent",7682,"Bdotbelow",7684,"Becyrillic",1041,"Benarmenian",1330,"Beta",914,"Bhook",385,"Blinebelow",7686,"Bmonospace",65314,"Brevesmall",63220,"Bsmall",63330,"Btopbar",386,"C",67,"Caarmenian",1342,"Cacute",262,"Caron",63178,"Caronsmall",63221,"Ccaron",268,"Ccedilla",199,"Ccedillaacute",7688,"Ccedillasmall",63463,"Ccircle",9400,"Ccircumflex",264,"Cdot",266,"Cdotaccent",266,"Cedillasmall",63416,"Chaarmenian",1353,"Cheabkhasiancyrillic",1212,"Checyrillic",1063,"Chedescenderabkhasiancyrillic",1214,"Chedescendercyrillic",1206,"Chedieresiscyrillic",1268,"Cheharmenian",1347,"Chekhakassiancyrillic",1227,"Cheverticalstrokecyrillic",1208,"Chi",935,"Chook",391,"Circumflexsmall",63222,"Cmonospace",65315,"Coarmenian",1361,"Csmall",63331,"D",68,"DZ",497,"DZcaron",452,"Daarmenian",1332,"Dafrican",393,"Dcaron",270,"Dcedilla",7696,"Dcircle",9401,"Dcircumflexbelow",7698,"Dcroat",272,"Ddotaccent",7690,"Ddotbelow",7692,"Decyrillic",1044,"Deicoptic",1006,"Delta",8710,"Deltagreek",916,"Dhook",394,"Dieresis",63179,"DieresisAcute",63180,"DieresisGrave",63181,"Dieresissmall",63400,"Digammagreek",988,"Djecyrillic",1026,"Dlinebelow",7694,"Dmonospace",65316,"Dotaccentsmall",63223,"Dslash",272,"Dsmall",63332,"Dtopbar",395,"Dz",498,"Dzcaron",453,"Dzeabkhasiancyrillic",1248,"Dzecyrillic",1029,"Dzhecyrillic",1039,"E",69,"Eacute",201,"Eacutesmall",63465,"Ebreve",276,"Ecaron",282,"Ecedillabreve",7708,"Echarmenian",1333,"Ecircle",9402,"Ecircumflex",202,"Ecircumflexacute",7870,"Ecircumflexbelow",7704,"Ecircumflexdotbelow",7878,"Ecircumflexgrave",7872,"Ecircumflexhookabove",7874,"Ecircumflexsmall",63466,"Ecircumflextilde",7876,"Ecyrillic",1028,"Edblgrave",516,"Edieresis",203,"Edieresissmall",63467,"Edot",278,"Edotaccent",278,"Edotbelow",7864,"Efcyrillic",1060,"Egrave",200,"Egravesmall",63464,"Eharmenian",1335,"Ehookabove",7866,"Eightroman",8551,"Einvertedbreve",518,"Eiotifiedcyrillic",1124,"Elcyrillic",1051,"Elevenroman",8554,"Emacron",274,"Emacronacute",7702,"Emacrongrave",7700,"Emcyrillic",1052,"Emonospace",65317,"Encyrillic",1053,"Endescendercyrillic",1186,"Eng",330,"Enghecyrillic",1188,"Enhookcyrillic",1223,"Eogonek",280,"Eopen",400,"Epsilon",917,"Epsilontonos",904,"Ercyrillic",1056,"Ereversed",398,"Ereversedcyrillic",1069,"Escyrillic",1057,"Esdescendercyrillic",1194,"Esh",425,"Esmall",63333,"Eta",919,"Etarmenian",1336,"Etatonos",905,"Eth",208,"Ethsmall",63472,"Etilde",7868,"Etildebelow",7706,"Euro",8364,"Ezh",439,"Ezhcaron",494,"Ezhreversed",440,"F",70,"Fcircle",9403,"Fdotaccent",7710,"Feharmenian",1366,"Feicoptic",996,"Fhook",401,"Fitacyrillic",1138,"Fiveroman",8548,"Fmonospace",65318,"Fourroman",8547,"Fsmall",63334,"G",71,"GBsquare",13191,"Gacute",500,"Gamma",915,"Gammaafrican",404,"Gangiacoptic",1002,"Gbreve",286,"Gcaron",486,"Gcedilla",290,"Gcircle",9404,"Gcircumflex",284,"Gcommaaccent",290,"Gdot",288,"Gdotaccent",288,"Gecyrillic",1043,"Ghadarmenian",1346,"Ghemiddlehookcyrillic",1172,"Ghestrokecyrillic",1170,"Gheupturncyrillic",1168,"Ghook",403,"Gimarmenian",1331,"Gjecyrillic",1027,"Gmacron",7712,"Gmonospace",65319,"Grave",63182,"Gravesmall",63328,"Gsmall",63335,"Gsmallhook",667,"Gstroke",484,"H",72,"H18533",9679,"H18543",9642,"H18551",9643,"H22073",9633,"HPsquare",13259,"Haabkhasiancyrillic",1192,"Hadescendercyrillic",1202,"Hardsigncyrillic",1066,"Hbar",294,"Hbrevebelow",7722,"Hcedilla",7720,"Hcircle",9405,"Hcircumflex",292,"Hdieresis",7718,"Hdotaccent",7714,"Hdotbelow",7716,"Hmonospace",65320,"Hoarmenian",1344,"Horicoptic",1e3,"Hsmall",63336,"Hungarumlaut",63183,"Hungarumlautsmall",63224,"Hzsquare",13200,"I",73,"IAcyrillic",1071,"IJ",306,"IUcyrillic",1070,"Iacute",205,"Iacutesmall",63469,"Ibreve",300,"Icaron",463,"Icircle",9406,"Icircumflex",206,"Icircumflexsmall",63470,"Icyrillic",1030,"Idblgrave",520,"Idieresis",207,"Idieresisacute",7726,"Idieresiscyrillic",1252,"Idieresissmall",63471,"Idot",304,"Idotaccent",304,"Idotbelow",7882,"Iebrevecyrillic",1238,"Iecyrillic",1045,"Ifraktur",8465,"Igrave",204,"Igravesmall",63468,"Ihookabove",7880,"Iicyrillic",1048,"Iinvertedbreve",522,"Iishortcyrillic",1049,"Imacron",298,"Imacroncyrillic",1250,"Imonospace",65321,"Iniarmenian",1339,"Iocyrillic",1025,"Iogonek",302,"Iota",921,"Iotaafrican",406,"Iotadieresis",938,"Iotatonos",906,"Ismall",63337,"Istroke",407,"Itilde",296,"Itildebelow",7724,"Izhitsacyrillic",1140,"Izhitsadblgravecyrillic",1142,"J",74,"Jaarmenian",1345,"Jcircle",9407,"Jcircumflex",308,"Jecyrillic",1032,"Jheharmenian",1355,"Jmonospace",65322,"Jsmall",63338,"K",75,"KBsquare",13189,"KKsquare",13261,"Kabashkircyrillic",1184,"Kacute",7728,"Kacyrillic",1050,"Kadescendercyrillic",1178,"Kahookcyrillic",1219,"Kappa",922,"Kastrokecyrillic",1182,"Kaverticalstrokecyrillic",1180,"Kcaron",488,"Kcedilla",310,"Kcircle",9408,"Kcommaaccent",310,"Kdotbelow",7730,"Keharmenian",1364,"Kenarmenian",1343,"Khacyrillic",1061,"Kheicoptic",998,"Khook",408,"Kjecyrillic",1036,"Klinebelow",7732,"Kmonospace",65323,"Koppacyrillic",1152,"Koppagreek",990,"Ksicyrillic",1134,"Ksmall",63339,"L",76,"LJ",455,"LL",63167,"Lacute",313,"Lambda",923,"Lcaron",317,"Lcedilla",315,"Lcircle",9409,"Lcircumflexbelow",7740,"Lcommaaccent",315,"Ldot",319,"Ldotaccent",319,"Ldotbelow",7734,"Ldotbelowmacron",7736,"Liwnarmenian",1340,"Lj",456,"Ljecyrillic",1033,"Llinebelow",7738,"Lmonospace",65324,"Lslash",321,"Lslashsmall",63225,"Lsmall",63340,"M",77,"MBsquare",13190,"Macron",63184,"Macronsmall",63407,"Macute",7742,"Mcircle",9410,"Mdotaccent",7744,"Mdotbelow",7746,"Menarmenian",1348,"Mmonospace",65325,"Msmall",63341,"Mturned",412,"Mu",924,"N",78,"NJ",458,"Nacute",323,"Ncaron",327,"Ncedilla",325,"Ncircle",9411,"Ncircumflexbelow",7754,"Ncommaaccent",325,"Ndotaccent",7748,"Ndotbelow",7750,"Nhookleft",413,"Nineroman",8552,"Nj",459,"Njecyrillic",1034,"Nlinebelow",7752,"Nmonospace",65326,"Nowarmenian",1350,"Nsmall",63342,"Ntilde",209,"Ntildesmall",63473,"Nu",925,"O",79,"OE",338,"OEsmall",63226,"Oacute",211,"Oacutesmall",63475,"Obarredcyrillic",1256,"Obarreddieresiscyrillic",1258,"Obreve",334,"Ocaron",465,"Ocenteredtilde",415,"Ocircle",9412,"Ocircumflex",212,"Ocircumflexacute",7888,"Ocircumflexdotbelow",7896,"Ocircumflexgrave",7890,"Ocircumflexhookabove",7892,"Ocircumflexsmall",63476,"Ocircumflextilde",7894,"Ocyrillic",1054,"Odblacute",336,"Odblgrave",524,"Odieresis",214,"Odieresiscyrillic",1254,"Odieresissmall",63478,"Odotbelow",7884,"Ogoneksmall",63227,"Ograve",210,"Ogravesmall",63474,"Oharmenian",1365,"Ohm",8486,"Ohookabove",7886,"Ohorn",416,"Ohornacute",7898,"Ohorndotbelow",7906,"Ohorngrave",7900,"Ohornhookabove",7902,"Ohorntilde",7904,"Ohungarumlaut",336,"Oi",418,"Oinvertedbreve",526,"Omacron",332,"Omacronacute",7762,"Omacrongrave",7760,"Omega",8486,"Omegacyrillic",1120,"Omegagreek",937,"Omegaroundcyrillic",1146,"Omegatitlocyrillic",1148,"Omegatonos",911,"Omicron",927,"Omicrontonos",908,"Omonospace",65327,"Oneroman",8544,"Oogonek",490,"Oogonekmacron",492,"Oopen",390,"Oslash",216,"Oslashacute",510,"Oslashsmall",63480,"Osmall",63343,"Ostrokeacute",510,"Otcyrillic",1150,"Otilde",213,"Otildeacute",7756,"Otildedieresis",7758,"Otildesmall",63477,"P",80,"Pacute",7764,"Pcircle",9413,"Pdotaccent",7766,"Pecyrillic",1055,"Peharmenian",1354,"Pemiddlehookcyrillic",1190,"Phi",934,"Phook",420,"Pi",928,"Piwrarmenian",1363,"Pmonospace",65328,"Psi",936,"Psicyrillic",1136,"Psmall",63344,"Q",81,"Qcircle",9414,"Qmonospace",65329,"Qsmall",63345,"R",82,"Raarmenian",1356,"Racute",340,"Rcaron",344,"Rcedilla",342,"Rcircle",9415,"Rcommaaccent",342,"Rdblgrave",528,"Rdotaccent",7768,"Rdotbelow",7770,"Rdotbelowmacron",7772,"Reharmenian",1360,"Rfraktur",8476,"Rho",929,"Ringsmall",63228,"Rinvertedbreve",530,"Rlinebelow",7774,"Rmonospace",65330,"Rsmall",63346,"Rsmallinverted",641,"Rsmallinvertedsuperior",694,"S",83,"SF010000",9484,"SF020000",9492,"SF030000",9488,"SF040000",9496,"SF050000",9532,"SF060000",9516,"SF070000",9524,"SF080000",9500,"SF090000",9508,"SF100000",9472,"SF110000",9474,"SF190000",9569,"SF200000",9570,"SF210000",9558,"SF220000",9557,"SF230000",9571,"SF240000",9553,"SF250000",9559,"SF260000",9565,"SF270000",9564,"SF280000",9563,"SF360000",9566,"SF370000",9567,"SF380000",9562,"SF390000",9556,"SF400000",9577,"SF410000",9574,"SF420000",9568,"SF430000",9552,"SF440000",9580,"SF450000",9575,"SF460000",9576,"SF470000",9572,"SF480000",9573,"SF490000",9561,"SF500000",9560,"SF510000",9554,"SF520000",9555,"SF530000",9579,"SF540000",9578,"Sacute",346,"Sacutedotaccent",7780,"Sampigreek",992,"Scaron",352,"Scarondotaccent",7782,"Scaronsmall",63229,"Scedilla",350,"Schwa",399,"Schwacyrillic",1240,"Schwadieresiscyrillic",1242,"Scircle",9416,"Scircumflex",348,"Scommaaccent",536,"Sdotaccent",7776,"Sdotbelow",7778,"Sdotbelowdotaccent",7784,"Seharmenian",1357,"Sevenroman",8550,"Shaarmenian",1351,"Shacyrillic",1064,"Shchacyrillic",1065,"Sheicoptic",994,"Shhacyrillic",1210,"Shimacoptic",1004,"Sigma",931,"Sixroman",8549,"Smonospace",65331,"Softsigncyrillic",1068,"Ssmall",63347,"Stigmagreek",986,"T",84,"Tau",932,"Tbar",358,"Tcaron",356,"Tcedilla",354,"Tcircle",9417,"Tcircumflexbelow",7792,"Tcommaaccent",354,"Tdotaccent",7786,"Tdotbelow",7788,"Tecyrillic",1058,"Tedescendercyrillic",1196,"Tenroman",8553,"Tetsecyrillic",1204,"Theta",920,"Thook",428,"Thorn",222,"Thornsmall",63486,"Threeroman",8546,"Tildesmall",63230,"Tiwnarmenian",1359,"Tlinebelow",7790,"Tmonospace",65332,"Toarmenian",1337,"Tonefive",444,"Tonesix",388,"Tonetwo",423,"Tretroflexhook",430,"Tsecyrillic",1062,"Tshecyrillic",1035,"Tsmall",63348,"Twelveroman",8555,"Tworoman",8545,"U",85,"Uacute",218,"Uacutesmall",63482,"Ubreve",364,"Ucaron",467,"Ucircle",9418,"Ucircumflex",219,"Ucircumflexbelow",7798,"Ucircumflexsmall",63483,"Ucyrillic",1059,"Udblacute",368,"Udblgrave",532,"Udieresis",220,"Udieresisacute",471,"Udieresisbelow",7794,"Udieresiscaron",473,"Udieresiscyrillic",1264,"Udieresisgrave",475,"Udieresismacron",469,"Udieresissmall",63484,"Udotbelow",7908,"Ugrave",217,"Ugravesmall",63481,"Uhookabove",7910,"Uhorn",431,"Uhornacute",7912,"Uhorndotbelow",7920,"Uhorngrave",7914,"Uhornhookabove",7916,"Uhorntilde",7918,"Uhungarumlaut",368,"Uhungarumlautcyrillic",1266,"Uinvertedbreve",534,"Ukcyrillic",1144,"Umacron",362,"Umacroncyrillic",1262,"Umacrondieresis",7802,"Umonospace",65333,"Uogonek",370,"Upsilon",933,"Upsilon1",978,"Upsilonacutehooksymbolgreek",979,"Upsilonafrican",433,"Upsilondieresis",939,"Upsilondieresishooksymbolgreek",980,"Upsilonhooksymbol",978,"Upsilontonos",910,"Uring",366,"Ushortcyrillic",1038,"Usmall",63349,"Ustraightcyrillic",1198,"Ustraightstrokecyrillic",1200,"Utilde",360,"Utildeacute",7800,"Utildebelow",7796,"V",86,"Vcircle",9419,"Vdotbelow",7806,"Vecyrillic",1042,"Vewarmenian",1358,"Vhook",434,"Vmonospace",65334,"Voarmenian",1352,"Vsmall",63350,"Vtilde",7804,"W",87,"Wacute",7810,"Wcircle",9420,"Wcircumflex",372,"Wdieresis",7812,"Wdotaccent",7814,"Wdotbelow",7816,"Wgrave",7808,"Wmonospace",65335,"Wsmall",63351,"X",88,"Xcircle",9421,"Xdieresis",7820,"Xdotaccent",7818,"Xeharmenian",1341,"Xi",926,"Xmonospace",65336,"Xsmall",63352,"Y",89,"Yacute",221,"Yacutesmall",63485,"Yatcyrillic",1122,"Ycircle",9422,"Ycircumflex",374,"Ydieresis",376,"Ydieresissmall",63487,"Ydotaccent",7822,"Ydotbelow",7924,"Yericyrillic",1067,"Yerudieresiscyrillic",1272,"Ygrave",7922,"Yhook",435,"Yhookabove",7926,"Yiarmenian",1349,"Yicyrillic",1031,"Yiwnarmenian",1362,"Ymonospace",65337,"Ysmall",63353,"Ytilde",7928,"Yusbigcyrillic",1130,"Yusbigiotifiedcyrillic",1132,"Yuslittlecyrillic",1126,"Yuslittleiotifiedcyrillic",1128,"Z",90,"Zaarmenian",1334,"Zacute",377,"Zcaron",381,"Zcaronsmall",63231,"Zcircle",9423,"Zcircumflex",7824,"Zdot",379,"Zdotaccent",379,"Zdotbelow",7826,"Zecyrillic",1047,"Zedescendercyrillic",1176,"Zedieresiscyrillic",1246,"Zeta",918,"Zhearmenian",1338,"Zhebrevecyrillic",1217,"Zhecyrillic",1046,"Zhedescendercyrillic",1174,"Zhedieresiscyrillic",1244,"Zlinebelow",7828,"Zmonospace",65338,"Zsmall",63354,"Zstroke",437,"a",97,"aabengali",2438,"aacute",225,"aadeva",2310,"aagujarati",2694,"aagurmukhi",2566,"aamatragurmukhi",2622,"aarusquare",13059,"aavowelsignbengali",2494,"aavowelsigndeva",2366,"aavowelsigngujarati",2750,"abbreviationmarkarmenian",1375,"abbreviationsigndeva",2416,"abengali",2437,"abopomofo",12570,"abreve",259,"abreveacute",7855,"abrevecyrillic",1233,"abrevedotbelow",7863,"abrevegrave",7857,"abrevehookabove",7859,"abrevetilde",7861,"acaron",462,"acircle",9424,"acircumflex",226,"acircumflexacute",7845,"acircumflexdotbelow",7853,"acircumflexgrave",7847,"acircumflexhookabove",7849,"acircumflextilde",7851,"acute",180,"acutebelowcmb",791,"acutecmb",769,"acutecomb",769,"acutedeva",2388,"acutelowmod",719,"acutetonecmb",833,"acyrillic",1072,"adblgrave",513,"addakgurmukhi",2673,"adeva",2309,"adieresis",228,"adieresiscyrillic",1235,"adieresismacron",479,"adotbelow",7841,"adotmacron",481,"ae",230,"aeacute",509,"aekorean",12624,"aemacron",483,"afii00208",8213,"afii08941",8356,"afii10017",1040,"afii10018",1041,"afii10019",1042,"afii10020",1043,"afii10021",1044,"afii10022",1045,"afii10023",1025,"afii10024",1046,"afii10025",1047,"afii10026",1048,"afii10027",1049,"afii10028",1050,"afii10029",1051,"afii10030",1052,"afii10031",1053,"afii10032",1054,"afii10033",1055,"afii10034",1056,"afii10035",1057,"afii10036",1058,"afii10037",1059,"afii10038",1060,"afii10039",1061,"afii10040",1062,"afii10041",1063,"afii10042",1064,"afii10043",1065,"afii10044",1066,"afii10045",1067,"afii10046",1068,"afii10047",1069,"afii10048",1070,"afii10049",1071,"afii10050",1168,"afii10051",1026,"afii10052",1027,"afii10053",1028,"afii10054",1029,"afii10055",1030,"afii10056",1031,"afii10057",1032,"afii10058",1033,"afii10059",1034,"afii10060",1035,"afii10061",1036,"afii10062",1038,"afii10063",63172,"afii10064",63173,"afii10065",1072,"afii10066",1073,"afii10067",1074,"afii10068",1075,"afii10069",1076,"afii10070",1077,"afii10071",1105,"afii10072",1078,"afii10073",1079,"afii10074",1080,"afii10075",1081,"afii10076",1082,"afii10077",1083,"afii10078",1084,"afii10079",1085,"afii10080",1086,"afii10081",1087,"afii10082",1088,"afii10083",1089,"afii10084",1090,"afii10085",1091,"afii10086",1092,"afii10087",1093,"afii10088",1094,"afii10089",1095,"afii10090",1096,"afii10091",1097,"afii10092",1098,"afii10093",1099,"afii10094",1100,"afii10095",1101,"afii10096",1102,"afii10097",1103,"afii10098",1169,"afii10099",1106,"afii10100",1107,"afii10101",1108,"afii10102",1109,"afii10103",1110,"afii10104",1111,"afii10105",1112,"afii10106",1113,"afii10107",1114,"afii10108",1115,"afii10109",1116,"afii10110",1118,"afii10145",1039,"afii10146",1122,"afii10147",1138,"afii10148",1140,"afii10192",63174,"afii10193",1119,"afii10194",1123,"afii10195",1139,"afii10196",1141,"afii10831",63175,"afii10832",63176,"afii10846",1241,"afii299",8206,"afii300",8207,"afii301",8205,"afii57381",1642,"afii57388",1548,"afii57392",1632,"afii57393",1633,"afii57394",1634,"afii57395",1635,"afii57396",1636,"afii57397",1637,"afii57398",1638,"afii57399",1639,"afii57400",1640,"afii57401",1641,"afii57403",1563,"afii57407",1567,"afii57409",1569,"afii57410",1570,"afii57411",1571,"afii57412",1572,"afii57413",1573,"afii57414",1574,"afii57415",1575,"afii57416",1576,"afii57417",1577,"afii57418",1578,"afii57419",1579,"afii57420",1580,"afii57421",1581,"afii57422",1582,"afii57423",1583,"afii57424",1584,"afii57425",1585,"afii57426",1586,"afii57427",1587,"afii57428",1588,"afii57429",1589,"afii57430",1590,"afii57431",1591,"afii57432",1592,"afii57433",1593,"afii57434",1594,"afii57440",1600,"afii57441",1601,"afii57442",1602,"afii57443",1603,"afii57444",1604,"afii57445",1605,"afii57446",1606,"afii57448",1608,"afii57449",1609,"afii57450",1610,"afii57451",1611,"afii57452",1612,"afii57453",1613,"afii57454",1614,"afii57455",1615,"afii57456",1616,"afii57457",1617,"afii57458",1618,"afii57470",1607,"afii57505",1700,"afii57506",1662,"afii57507",1670,"afii57508",1688,"afii57509",1711,"afii57511",1657,"afii57512",1672,"afii57513",1681,"afii57514",1722,"afii57519",1746,"afii57534",1749,"afii57636",8362,"afii57645",1470,"afii57658",1475,"afii57664",1488,"afii57665",1489,"afii57666",1490,"afii57667",1491,"afii57668",1492,"afii57669",1493,"afii57670",1494,"afii57671",1495,"afii57672",1496,"afii57673",1497,"afii57674",1498,"afii57675",1499,"afii57676",1500,"afii57677",1501,"afii57678",1502,"afii57679",1503,"afii57680",1504,"afii57681",1505,"afii57682",1506,"afii57683",1507,"afii57684",1508,"afii57685",1509,"afii57686",1510,"afii57687",1511,"afii57688",1512,"afii57689",1513,"afii57690",1514,"afii57694",64298,"afii57695",64299,"afii57700",64331,"afii57705",64287,"afii57716",1520,"afii57717",1521,"afii57718",1522,"afii57723",64309,"afii57793",1460,"afii57794",1461,"afii57795",1462,"afii57796",1467,"afii57797",1464,"afii57798",1463,"afii57799",1456,"afii57800",1458,"afii57801",1457,"afii57802",1459,"afii57803",1474,"afii57804",1473,"afii57806",1465,"afii57807",1468,"afii57839",1469,"afii57841",1471,"afii57842",1472,"afii57929",700,"afii61248",8453,"afii61289",8467,"afii61352",8470,"afii61573",8236,"afii61574",8237,"afii61575",8238,"afii61664",8204,"afii63167",1645,"afii64937",701,"agrave",224,"agujarati",2693,"agurmukhi",2565,"ahiragana",12354,"ahookabove",7843,"aibengali",2448,"aibopomofo",12574,"aideva",2320,"aiecyrillic",1237,"aigujarati",2704,"aigurmukhi",2576,"aimatragurmukhi",2632,"ainarabic",1593,"ainfinalarabic",65226,"aininitialarabic",65227,"ainmedialarabic",65228,"ainvertedbreve",515,"aivowelsignbengali",2504,"aivowelsigndeva",2376,"aivowelsigngujarati",2760,"akatakana",12450,"akatakanahalfwidth",65393,"akorean",12623,"alef",1488,"alefarabic",1575,"alefdageshhebrew",64304,"aleffinalarabic",65166,"alefhamzaabovearabic",1571,"alefhamzaabovefinalarabic",65156,"alefhamzabelowarabic",1573,"alefhamzabelowfinalarabic",65160,"alefhebrew",1488,"aleflamedhebrew",64335,"alefmaddaabovearabic",1570,"alefmaddaabovefinalarabic",65154,"alefmaksuraarabic",1609,"alefmaksurafinalarabic",65264,"alefmaksurainitialarabic",65267,"alefmaksuramedialarabic",65268,"alefpatahhebrew",64302,"alefqamatshebrew",64303,"aleph",8501,"allequal",8780,"alpha",945,"alphatonos",940,"amacron",257,"amonospace",65345,"ampersand",38,"ampersandmonospace",65286,"ampersandsmall",63270,"amsquare",13250,"anbopomofo",12578,"angbopomofo",12580,"angbracketleft",12296,"angbracketright",12297,"angkhankhuthai",3674,"angle",8736,"anglebracketleft",12296,"anglebracketleftvertical",65087,"anglebracketright",12297,"anglebracketrightvertical",65088,"angleleft",9001,"angleright",9002,"angstrom",8491,"anoteleia",903,"anudattadeva",2386,"anusvarabengali",2434,"anusvaradeva",2306,"anusvaragujarati",2690,"aogonek",261,"apaatosquare",13056,"aparen",9372,"apostrophearmenian",1370,"apostrophemod",700,"apple",63743,"approaches",8784,"approxequal",8776,"approxequalorimage",8786,"approximatelyequal",8773,"araeaekorean",12686,"araeakorean",12685,"arc",8978,"arighthalfring",7834,"aring",229,"aringacute",507,"aringbelow",7681,"arrowboth",8596,"arrowdashdown",8675,"arrowdashleft",8672,"arrowdashright",8674,"arrowdashup",8673,"arrowdblboth",8660,"arrowdbldown",8659,"arrowdblleft",8656,"arrowdblright",8658,"arrowdblup",8657,"arrowdown",8595,"arrowdownleft",8601,"arrowdownright",8600,"arrowdownwhite",8681,"arrowheaddownmod",709,"arrowheadleftmod",706,"arrowheadrightmod",707,"arrowheadupmod",708,"arrowhorizex",63719,"arrowleft",8592,"arrowleftdbl",8656,"arrowleftdblstroke",8653,"arrowleftoverright",8646,"arrowleftwhite",8678,"arrowright",8594,"arrowrightdblstroke",8655,"arrowrightheavy",10142,"arrowrightoverleft",8644,"arrowrightwhite",8680,"arrowtableft",8676,"arrowtabright",8677,"arrowup",8593,"arrowupdn",8597,"arrowupdnbse",8616,"arrowupdownbase",8616,"arrowupleft",8598,"arrowupleftofdown",8645,"arrowupright",8599,"arrowupwhite",8679,"arrowvertex",63718,"asciicircum",94,"asciicircummonospace",65342,"asciitilde",126,"asciitildemonospace",65374,"ascript",593,"ascriptturned",594,"asmallhiragana",12353,"asmallkatakana",12449,"asmallkatakanahalfwidth",65383,"asterisk",42,"asteriskaltonearabic",1645,"asteriskarabic",1645,"asteriskmath",8727,"asteriskmonospace",65290,"asterisksmall",65121,"asterism",8258,"asuperior",63209,"asymptoticallyequal",8771,"at",64,"atilde",227,"atmonospace",65312,"atsmall",65131,"aturned",592,"aubengali",2452,"aubopomofo",12576,"audeva",2324,"augujarati",2708,"augurmukhi",2580,"aulengthmarkbengali",2519,"aumatragurmukhi",2636,"auvowelsignbengali",2508,"auvowelsigndeva",2380,"auvowelsigngujarati",2764,"avagrahadeva",2365,"aybarmenian",1377,"ayin",1506,"ayinaltonehebrew",64288,"ayinhebrew",1506,"b",98,"babengali",2476,"backslash",92,"backslashmonospace",65340,"badeva",2348,"bagujarati",2732,"bagurmukhi",2604,"bahiragana",12400,"bahtthai",3647,"bakatakana",12496,"bar",124,"barmonospace",65372,"bbopomofo",12549,"bcircle",9425,"bdotaccent",7683,"bdotbelow",7685,"beamedsixteenthnotes",9836,"because",8757,"becyrillic",1073,"beharabic",1576,"behfinalarabic",65168,"behinitialarabic",65169,"behiragana",12409,"behmedialarabic",65170,"behmeeminitialarabic",64671,"behmeemisolatedarabic",64520,"behnoonfinalarabic",64621,"bekatakana",12505,"benarmenian",1378,"bet",1489,"beta",946,"betasymbolgreek",976,"betdagesh",64305,"betdageshhebrew",64305,"bethebrew",1489,"betrafehebrew",64332,"bhabengali",2477,"bhadeva",2349,"bhagujarati",2733,"bhagurmukhi",2605,"bhook",595,"bihiragana",12403,"bikatakana",12499,"bilabialclick",664,"bindigurmukhi",2562,"birusquare",13105,"blackcircle",9679,"blackdiamond",9670,"blackdownpointingtriangle",9660,"blackleftpointingpointer",9668,"blackleftpointingtriangle",9664,"blacklenticularbracketleft",12304,"blacklenticularbracketleftvertical",65083,"blacklenticularbracketright",12305,"blacklenticularbracketrightvertical",65084,"blacklowerlefttriangle",9699,"blacklowerrighttriangle",9698,"blackrectangle",9644,"blackrightpointingpointer",9658,"blackrightpointingtriangle",9654,"blacksmallsquare",9642,"blacksmilingface",9787,"blacksquare",9632,"blackstar",9733,"blackupperlefttriangle",9700,"blackupperrighttriangle",9701,"blackuppointingsmalltriangle",9652,"blackuppointingtriangle",9650,"blank",9251,"blinebelow",7687,"block",9608,"bmonospace",65346,"bobaimaithai",3610,"bohiragana",12412,"bokatakana",12508,"bparen",9373,"bqsquare",13251,"braceex",63732,"braceleft",123,"braceleftbt",63731,"braceleftmid",63730,"braceleftmonospace",65371,"braceleftsmall",65115,"bracelefttp",63729,"braceleftvertical",65079,"braceright",125,"bracerightbt",63742,"bracerightmid",63741,"bracerightmonospace",65373,"bracerightsmall",65116,"bracerighttp",63740,"bracerightvertical",65080,"bracketleft",91,"bracketleftbt",63728,"bracketleftex",63727,"bracketleftmonospace",65339,"bracketlefttp",63726,"bracketright",93,"bracketrightbt",63739,"bracketrightex",63738,"bracketrightmonospace",65341,"bracketrighttp",63737,"breve",728,"brevebelowcmb",814,"brevecmb",774,"breveinvertedbelowcmb",815,"breveinvertedcmb",785,"breveinverteddoublecmb",865,"bridgebelowcmb",810,"bridgeinvertedbelowcmb",826,"brokenbar",166,"bstroke",384,"bsuperior",63210,"btopbar",387,"buhiragana",12406,"bukatakana",12502,"bullet",8226,"bulletinverse",9688,"bulletoperator",8729,"bullseye",9678,"c",99,"caarmenian",1390,"cabengali",2458,"cacute",263,"cadeva",2330,"cagujarati",2714,"cagurmukhi",2586,"calsquare",13192,"candrabindubengali",2433,"candrabinducmb",784,"candrabindudeva",2305,"candrabindugujarati",2689,"capslock",8682,"careof",8453,"caron",711,"caronbelowcmb",812,"caroncmb",780,"carriagereturn",8629,"cbopomofo",12568,"ccaron",269,"ccedilla",231,"ccedillaacute",7689,"ccircle",9426,"ccircumflex",265,"ccurl",597,"cdot",267,"cdotaccent",267,"cdsquare",13253,"cedilla",184,"cedillacmb",807,"cent",162,"centigrade",8451,"centinferior",63199,"centmonospace",65504,"centoldstyle",63394,"centsuperior",63200,"chaarmenian",1401,"chabengali",2459,"chadeva",2331,"chagujarati",2715,"chagurmukhi",2587,"chbopomofo",12564,"cheabkhasiancyrillic",1213,"checkmark",10003,"checyrillic",1095,"chedescenderabkhasiancyrillic",1215,"chedescendercyrillic",1207,"chedieresiscyrillic",1269,"cheharmenian",1395,"chekhakassiancyrillic",1228,"cheverticalstrokecyrillic",1209,"chi",967,"chieuchacirclekorean",12919,"chieuchaparenkorean",12823,"chieuchcirclekorean",12905,"chieuchkorean",12618,"chieuchparenkorean",12809,"chochangthai",3594,"chochanthai",3592,"chochingthai",3593,"chochoethai",3596,"chook",392,"cieucacirclekorean",12918,"cieucaparenkorean",12822,"cieuccirclekorean",12904,"cieuckorean",12616,"cieucparenkorean",12808,"cieucuparenkorean",12828,"circle",9675,"circlecopyrt",169,"circlemultiply",8855,"circleot",8857,"circleplus",8853,"circlepostalmark",12342,"circlewithlefthalfblack",9680,"circlewithrighthalfblack",9681,"circumflex",710,"circumflexbelowcmb",813,"circumflexcmb",770,"clear",8999,"clickalveolar",450,"clickdental",448,"clicklateral",449,"clickretroflex",451,"club",9827,"clubsuitblack",9827,"clubsuitwhite",9831,"cmcubedsquare",13220,"cmonospace",65347,"cmsquaredsquare",13216,"coarmenian",1409,"colon",58,"colonmonetary",8353,"colonmonospace",65306,"colonsign",8353,"colonsmall",65109,"colontriangularhalfmod",721,"colontriangularmod",720,"comma",44,"commaabovecmb",787,"commaaboverightcmb",789,"commaaccent",63171,"commaarabic",1548,"commaarmenian",1373,"commainferior",63201,"commamonospace",65292,"commareversedabovecmb",788,"commareversedmod",701,"commasmall",65104,"commasuperior",63202,"commaturnedabovecmb",786,"commaturnedmod",699,"compass",9788,"congruent",8773,"contourintegral",8750,"control",8963,"controlACK",6,"controlBEL",7,"controlBS",8,"controlCAN",24,"controlCR",13,"controlDC1",17,"controlDC2",18,"controlDC3",19,"controlDC4",20,"controlDEL",127,"controlDLE",16,"controlEM",25,"controlENQ",5,"controlEOT",4,"controlESC",27,"controlETB",23,"controlETX",3,"controlFF",12,"controlFS",28,"controlGS",29,"controlHT",9,"controlLF",10,"controlNAK",21,"controlNULL",0,"controlRS",30,"controlSI",15,"controlSO",14,"controlSOT",2,"controlSTX",1,"controlSUB",26,"controlSYN",22,"controlUS",31,"controlVT",11,"copyright",169,"copyrightsans",63721,"copyrightserif",63193,"cornerbracketleft",12300,"cornerbracketlefthalfwidth",65378,"cornerbracketleftvertical",65089,"cornerbracketright",12301,"cornerbracketrighthalfwidth",65379,"cornerbracketrightvertical",65090,"corporationsquare",13183,"cosquare",13255,"coverkgsquare",13254,"cparen",9374,"cruzeiro",8354,"cstretched",663,"curlyand",8911,"curlyor",8910,"currency",164,"cyrBreve",63185,"cyrFlex",63186,"cyrbreve",63188,"cyrflex",63189,"d",100,"daarmenian",1380,"dabengali",2470,"dadarabic",1590,"dadeva",2342,"dadfinalarabic",65214,"dadinitialarabic",65215,"dadmedialarabic",65216,"dagesh",1468,"dageshhebrew",1468,"dagger",8224,"daggerdbl",8225,"dagujarati",2726,"dagurmukhi",2598,"dahiragana",12384,"dakatakana",12480,"dalarabic",1583,"dalet",1491,"daletdagesh",64307,"daletdageshhebrew",64307,"dalethebrew",1491,"dalfinalarabic",65194,"dammaarabic",1615,"dammalowarabic",1615,"dammatanaltonearabic",1612,"dammatanarabic",1612,"danda",2404,"dargahebrew",1447,"dargalefthebrew",1447,"dasiapneumatacyrilliccmb",1157,"dblGrave",63187,"dblanglebracketleft",12298,"dblanglebracketleftvertical",65085,"dblanglebracketright",12299,"dblanglebracketrightvertical",65086,"dblarchinvertedbelowcmb",811,"dblarrowleft",8660,"dblarrowright",8658,"dbldanda",2405,"dblgrave",63190,"dblgravecmb",783,"dblintegral",8748,"dbllowline",8215,"dbllowlinecmb",819,"dbloverlinecmb",831,"dblprimemod",698,"dblverticalbar",8214,"dblverticallineabovecmb",782,"dbopomofo",12553,"dbsquare",13256,"dcaron",271,"dcedilla",7697,"dcircle",9427,"dcircumflexbelow",7699,"dcroat",273,"ddabengali",2465,"ddadeva",2337,"ddagujarati",2721,"ddagurmukhi",2593,"ddalarabic",1672,"ddalfinalarabic",64393,"dddhadeva",2396,"ddhabengali",2466,"ddhadeva",2338,"ddhagujarati",2722,"ddhagurmukhi",2594,"ddotaccent",7691,"ddotbelow",7693,"decimalseparatorarabic",1643,"decimalseparatorpersian",1643,"decyrillic",1076,"degree",176,"dehihebrew",1453,"dehiragana",12391,"deicoptic",1007,"dekatakana",12487,"deleteleft",9003,"deleteright",8998,"delta",948,"deltaturned",397,"denominatorminusonenumeratorbengali",2552,"dezh",676,"dhabengali",2471,"dhadeva",2343,"dhagujarati",2727,"dhagurmukhi",2599,"dhook",599,"dialytikatonos",901,"dialytikatonoscmb",836,"diamond",9830,"diamondsuitwhite",9826,"dieresis",168,"dieresisacute",63191,"dieresisbelowcmb",804,"dieresiscmb",776,"dieresisgrave",63192,"dieresistonos",901,"dihiragana",12386,"dikatakana",12482,"dittomark",12291,"divide",247,"divides",8739,"divisionslash",8725,"djecyrillic",1106,"dkshade",9619,"dlinebelow",7695,"dlsquare",13207,"dmacron",273,"dmonospace",65348,"dnblock",9604,"dochadathai",3598,"dodekthai",3604,"dohiragana",12393,"dokatakana",12489,"dollar",36,"dollarinferior",63203,"dollarmonospace",65284,"dollaroldstyle",63268,"dollarsmall",65129,"dollarsuperior",63204,"dong",8363,"dorusquare",13094,"dotaccent",729,"dotaccentcmb",775,"dotbelowcmb",803,"dotbelowcomb",803,"dotkatakana",12539,"dotlessi",305,"dotlessj",63166,"dotlessjstrokehook",644,"dotmath",8901,"dottedcircle",9676,"doubleyodpatah",64287,"doubleyodpatahhebrew",64287,"downtackbelowcmb",798,"downtackmod",725,"dparen",9375,"dsuperior",63211,"dtail",598,"dtopbar",396,"duhiragana",12389,"dukatakana",12485,"dz",499,"dzaltone",675,"dzcaron",454,"dzcurl",677,"dzeabkhasiancyrillic",1249,"dzecyrillic",1109,"dzhecyrillic",1119,"e",101,"eacute",233,"earth",9793,"ebengali",2447,"ebopomofo",12572,"ebreve",277,"ecandradeva",2317,"ecandragujarati",2701,"ecandravowelsigndeva",2373,"ecandravowelsigngujarati",2757,"ecaron",283,"ecedillabreve",7709,"echarmenian",1381,"echyiwnarmenian",1415,"ecircle",9428,"ecircumflex",234,"ecircumflexacute",7871,"ecircumflexbelow",7705,"ecircumflexdotbelow",7879,"ecircumflexgrave",7873,"ecircumflexhookabove",7875,"ecircumflextilde",7877,"ecyrillic",1108,"edblgrave",517,"edeva",2319,"edieresis",235,"edot",279,"edotaccent",279,"edotbelow",7865,"eegurmukhi",2575,"eematragurmukhi",2631,"efcyrillic",1092,"egrave",232,"egujarati",2703,"eharmenian",1383,"ehbopomofo",12573,"ehiragana",12360,"ehookabove",7867,"eibopomofo",12575,"eight",56,"eightarabic",1640,"eightbengali",2542,"eightcircle",9319,"eightcircleinversesansserif",10129,"eightdeva",2414,"eighteencircle",9329,"eighteenparen",9349,"eighteenperiod",9369,"eightgujarati",2798,"eightgurmukhi",2670,"eighthackarabic",1640,"eighthangzhou",12328,"eighthnotebeamed",9835,"eightideographicparen",12839,"eightinferior",8328,"eightmonospace",65304,"eightoldstyle",63288,"eightparen",9339,"eightperiod",9359,"eightpersian",1784,"eightroman",8567,"eightsuperior",8312,"eightthai",3672,"einvertedbreve",519,"eiotifiedcyrillic",1125,"ekatakana",12456,"ekatakanahalfwidth",65396,"ekonkargurmukhi",2676,"ekorean",12628,"elcyrillic",1083,"element",8712,"elevencircle",9322,"elevenparen",9342,"elevenperiod",9362,"elevenroman",8570,"ellipsis",8230,"ellipsisvertical",8942,"emacron",275,"emacronacute",7703,"emacrongrave",7701,"emcyrillic",1084,"emdash",8212,"emdashvertical",65073,"emonospace",65349,"emphasismarkarmenian",1371,"emptyset",8709,"enbopomofo",12579,"encyrillic",1085,"endash",8211,"endashvertical",65074,"endescendercyrillic",1187,"eng",331,"engbopomofo",12581,"enghecyrillic",1189,"enhookcyrillic",1224,"enspace",8194,"eogonek",281,"eokorean",12627,"eopen",603,"eopenclosed",666,"eopenreversed",604,"eopenreversedclosed",606,"eopenreversedhook",605,"eparen",9376,"epsilon",949,"epsilontonos",941,"equal",61,"equalmonospace",65309,"equalsmall",65126,"equalsuperior",8316,"equivalence",8801,"erbopomofo",12582,"ercyrillic",1088,"ereversed",600,"ereversedcyrillic",1101,"escyrillic",1089,"esdescendercyrillic",1195,"esh",643,"eshcurl",646,"eshortdeva",2318,"eshortvowelsigndeva",2374,"eshreversedloop",426,"eshsquatreversed",645,"esmallhiragana",12359,"esmallkatakana",12455,"esmallkatakanahalfwidth",65386,"estimated",8494,"esuperior",63212,"eta",951,"etarmenian",1384,"etatonos",942,"eth",240,"etilde",7869,"etildebelow",7707,"etnahtafoukhhebrew",1425,"etnahtafoukhlefthebrew",1425,"etnahtahebrew",1425,"etnahtalefthebrew",1425,"eturned",477,"eukorean",12641,"euro",8364,"evowelsignbengali",2503,"evowelsigndeva",2375,"evowelsigngujarati",2759,"exclam",33,"exclamarmenian",1372,"exclamdbl",8252,"exclamdown",161,"exclamdownsmall",63393,"exclammonospace",65281,"exclamsmall",63265,"existential",8707,"ezh",658,"ezhcaron",495,"ezhcurl",659,"ezhreversed",441,"ezhtail",442,"f",102,"fadeva",2398,"fagurmukhi",2654,"fahrenheit",8457,"fathaarabic",1614,"fathalowarabic",1614,"fathatanarabic",1611,"fbopomofo",12552,"fcircle",9429,"fdotaccent",7711,"feharabic",1601,"feharmenian",1414,"fehfinalarabic",65234,"fehinitialarabic",65235,"fehmedialarabic",65236,"feicoptic",997,"female",9792,"ff",64256,"f_f",64256,"ffi",64259,"ffl",64260,"fi",64257,"fifteencircle",9326,"fifteenparen",9346,"fifteenperiod",9366,"figuredash",8210,"filledbox",9632,"filledrect",9644,"finalkaf",1498,"finalkafdagesh",64314,"finalkafdageshhebrew",64314,"finalkafhebrew",1498,"finalmem",1501,"finalmemhebrew",1501,"finalnun",1503,"finalnunhebrew",1503,"finalpe",1507,"finalpehebrew",1507,"finaltsadi",1509,"finaltsadihebrew",1509,"firsttonechinese",713,"fisheye",9673,"fitacyrillic",1139,"five",53,"fivearabic",1637,"fivebengali",2539,"fivecircle",9316,"fivecircleinversesansserif",10126,"fivedeva",2411,"fiveeighths",8541,"fivegujarati",2795,"fivegurmukhi",2667,"fivehackarabic",1637,"fivehangzhou",12325,"fiveideographicparen",12836,"fiveinferior",8325,"fivemonospace",65301,"fiveoldstyle",63285,"fiveparen",9336,"fiveperiod",9356,"fivepersian",1781,"fiveroman",8564,"fivesuperior",8309,"fivethai",3669,"fl",64258,"florin",402,"fmonospace",65350,"fmsquare",13209,"fofanthai",3615,"fofathai",3613,"fongmanthai",3663,"forall",8704,"four",52,"fourarabic",1636,"fourbengali",2538,"fourcircle",9315,"fourcircleinversesansserif",10125,"fourdeva",2410,"fourgujarati",2794,"fourgurmukhi",2666,"fourhackarabic",1636,"fourhangzhou",12324,"fourideographicparen",12835,"fourinferior",8324,"fourmonospace",65300,"fournumeratorbengali",2551,"fouroldstyle",63284,"fourparen",9335,"fourperiod",9355,"fourpersian",1780,"fourroman",8563,"foursuperior",8308,"fourteencircle",9325,"fourteenparen",9345,"fourteenperiod",9365,"fourthai",3668,"fourthtonechinese",715,"fparen",9377,"fraction",8260,"franc",8355,"g",103,"gabengali",2455,"gacute",501,"gadeva",2327,"gafarabic",1711,"gaffinalarabic",64403,"gafinitialarabic",64404,"gafmedialarabic",64405,"gagujarati",2711,"gagurmukhi",2583,"gahiragana",12364,"gakatakana",12460,"gamma",947,"gammalatinsmall",611,"gammasuperior",736,"gangiacoptic",1003,"gbopomofo",12557,"gbreve",287,"gcaron",487,"gcedilla",291,"gcircle",9430,"gcircumflex",285,"gcommaaccent",291,"gdot",289,"gdotaccent",289,"gecyrillic",1075,"gehiragana",12370,"gekatakana",12466,"geometricallyequal",8785,"gereshaccenthebrew",1436,"gereshhebrew",1523,"gereshmuqdamhebrew",1437,"germandbls",223,"gershayimaccenthebrew",1438,"gershayimhebrew",1524,"getamark",12307,"ghabengali",2456,"ghadarmenian",1394,"ghadeva",2328,"ghagujarati",2712,"ghagurmukhi",2584,"ghainarabic",1594,"ghainfinalarabic",65230,"ghaininitialarabic",65231,"ghainmedialarabic",65232,"ghemiddlehookcyrillic",1173,"ghestrokecyrillic",1171,"gheupturncyrillic",1169,"ghhadeva",2394,"ghhagurmukhi",2650,"ghook",608,"ghzsquare",13203,"gihiragana",12366,"gikatakana",12462,"gimarmenian",1379,"gimel",1490,"gimeldagesh",64306,"gimeldageshhebrew",64306,"gimelhebrew",1490,"gjecyrillic",1107,"glottalinvertedstroke",446,"glottalstop",660,"glottalstopinverted",662,"glottalstopmod",704,"glottalstopreversed",661,"glottalstopreversedmod",705,"glottalstopreversedsuperior",740,"glottalstopstroke",673,"glottalstopstrokereversed",674,"gmacron",7713,"gmonospace",65351,"gohiragana",12372,"gokatakana",12468,"gparen",9378,"gpasquare",13228,"gradient",8711,"grave",96,"gravebelowcmb",790,"gravecmb",768,"gravecomb",768,"gravedeva",2387,"gravelowmod",718,"gravemonospace",65344,"gravetonecmb",832,"greater",62,"greaterequal",8805,"greaterequalorless",8923,"greatermonospace",65310,"greaterorequivalent",8819,"greaterorless",8823,"greateroverequal",8807,"greatersmall",65125,"gscript",609,"gstroke",485,"guhiragana",12368,"guillemotleft",171,"guillemotright",187,"guilsinglleft",8249,"guilsinglright",8250,"gukatakana",12464,"guramusquare",13080,"gysquare",13257,"h",104,"haabkhasiancyrillic",1193,"haaltonearabic",1729,"habengali",2489,"hadescendercyrillic",1203,"hadeva",2361,"hagujarati",2745,"hagurmukhi",2617,"haharabic",1581,"hahfinalarabic",65186,"hahinitialarabic",65187,"hahiragana",12399,"hahmedialarabic",65188,"haitusquare",13098,"hakatakana",12495,"hakatakanahalfwidth",65418,"halantgurmukhi",2637,"hamzaarabic",1569,"hamzalowarabic",1569,"hangulfiller",12644,"hardsigncyrillic",1098,"harpoonleftbarbup",8636,"harpoonrightbarbup",8640,"hasquare",13258,"hatafpatah",1458,"hatafpatah16",1458,"hatafpatah23",1458,"hatafpatah2f",1458,"hatafpatahhebrew",1458,"hatafpatahnarrowhebrew",1458,"hatafpatahquarterhebrew",1458,"hatafpatahwidehebrew",1458,"hatafqamats",1459,"hatafqamats1b",1459,"hatafqamats28",1459,"hatafqamats34",1459,"hatafqamatshebrew",1459,"hatafqamatsnarrowhebrew",1459,"hatafqamatsquarterhebrew",1459,"hatafqamatswidehebrew",1459,"hatafsegol",1457,"hatafsegol17",1457,"hatafsegol24",1457,"hatafsegol30",1457,"hatafsegolhebrew",1457,"hatafsegolnarrowhebrew",1457,"hatafsegolquarterhebrew",1457,"hatafsegolwidehebrew",1457,"hbar",295,"hbopomofo",12559,"hbrevebelow",7723,"hcedilla",7721,"hcircle",9431,"hcircumflex",293,"hdieresis",7719,"hdotaccent",7715,"hdotbelow",7717,"he",1492,"heart",9829,"heartsuitblack",9829,"heartsuitwhite",9825,"hedagesh",64308,"hedageshhebrew",64308,"hehaltonearabic",1729,"heharabic",1607,"hehebrew",1492,"hehfinalaltonearabic",64423,"hehfinalalttwoarabic",65258,"hehfinalarabic",65258,"hehhamzaabovefinalarabic",64421,"hehhamzaaboveisolatedarabic",64420,"hehinitialaltonearabic",64424,"hehinitialarabic",65259,"hehiragana",12408,"hehmedialaltonearabic",64425,"hehmedialarabic",65260,"heiseierasquare",13179,"hekatakana",12504,"hekatakanahalfwidth",65421,"hekutaarusquare",13110,"henghook",615,"herutusquare",13113,"het",1495,"hethebrew",1495,"hhook",614,"hhooksuperior",689,"hieuhacirclekorean",12923,"hieuhaparenkorean",12827,"hieuhcirclekorean",12909,"hieuhkorean",12622,"hieuhparenkorean",12813,"hihiragana",12402,"hikatakana",12498,"hikatakanahalfwidth",65419,"hiriq",1460,"hiriq14",1460,"hiriq21",1460,"hiriq2d",1460,"hiriqhebrew",1460,"hiriqnarrowhebrew",1460,"hiriqquarterhebrew",1460,"hiriqwidehebrew",1460,"hlinebelow",7830,"hmonospace",65352,"hoarmenian",1392,"hohipthai",3627,"hohiragana",12411,"hokatakana",12507,"hokatakanahalfwidth",65422,"holam",1465,"holam19",1465,"holam26",1465,"holam32",1465,"holamhebrew",1465,"holamnarrowhebrew",1465,"holamquarterhebrew",1465,"holamwidehebrew",1465,"honokhukthai",3630,"hookabovecomb",777,"hookcmb",777,"hookpalatalizedbelowcmb",801,"hookretroflexbelowcmb",802,"hoonsquare",13122,"horicoptic",1001,"horizontalbar",8213,"horncmb",795,"hotsprings",9832,"house",8962,"hparen",9379,"hsuperior",688,"hturned",613,"huhiragana",12405,"huiitosquare",13107,"hukatakana",12501,"hukatakanahalfwidth",65420,"hungarumlaut",733,"hungarumlautcmb",779,"hv",405,"hyphen",45,"hypheninferior",63205,"hyphenmonospace",65293,"hyphensmall",65123,"hyphensuperior",63206,"hyphentwo",8208,"i",105,"iacute",237,"iacyrillic",1103,"ibengali",2439,"ibopomofo",12583,"ibreve",301,"icaron",464,"icircle",9432,"icircumflex",238,"icyrillic",1110,"idblgrave",521,"ideographearthcircle",12943,"ideographfirecircle",12939,"ideographicallianceparen",12863,"ideographiccallparen",12858,"ideographiccentrecircle",12965,"ideographicclose",12294,"ideographiccomma",12289,"ideographiccommaleft",65380,"ideographiccongratulationparen",12855,"ideographiccorrectcircle",12963,"ideographicearthparen",12847,"ideographicenterpriseparen",12861,"ideographicexcellentcircle",12957,"ideographicfestivalparen",12864,"ideographicfinancialcircle",12950,"ideographicfinancialparen",12854,"ideographicfireparen",12843,"ideographichaveparen",12850,"ideographichighcircle",12964,"ideographiciterationmark",12293,"ideographiclaborcircle",12952,"ideographiclaborparen",12856,"ideographicleftcircle",12967,"ideographiclowcircle",12966,"ideographicmedicinecircle",12969,"ideographicmetalparen",12846,"ideographicmoonparen",12842,"ideographicnameparen",12852,"ideographicperiod",12290,"ideographicprintcircle",12958,"ideographicreachparen",12867,"ideographicrepresentparen",12857,"ideographicresourceparen",12862,"ideographicrightcircle",12968,"ideographicsecretcircle",12953,"ideographicselfparen",12866,"ideographicsocietyparen",12851,"ideographicspace",12288,"ideographicspecialparen",12853,"ideographicstockparen",12849,"ideographicstudyparen",12859,"ideographicsunparen",12848,"ideographicsuperviseparen",12860,"ideographicwaterparen",12844,"ideographicwoodparen",12845,"ideographiczero",12295,"ideographmetalcircle",12942,"ideographmooncircle",12938,"ideographnamecircle",12948,"ideographsuncircle",12944,"ideographwatercircle",12940,"ideographwoodcircle",12941,"ideva",2311,"idieresis",239,"idieresisacute",7727,"idieresiscyrillic",1253,"idotbelow",7883,"iebrevecyrillic",1239,"iecyrillic",1077,"ieungacirclekorean",12917,"ieungaparenkorean",12821,"ieungcirclekorean",12903,"ieungkorean",12615,"ieungparenkorean",12807,"igrave",236,"igujarati",2695,"igurmukhi",2567,"ihiragana",12356,"ihookabove",7881,"iibengali",2440,"iicyrillic",1080,"iideva",2312,"iigujarati",2696,"iigurmukhi",2568,"iimatragurmukhi",2624,"iinvertedbreve",523,"iishortcyrillic",1081,"iivowelsignbengali",2496,"iivowelsigndeva",2368,"iivowelsigngujarati",2752,"ij",307,"ikatakana",12452,"ikatakanahalfwidth",65394,"ikorean",12643,"ilde",732,"iluyhebrew",1452,"imacron",299,"imacroncyrillic",1251,"imageorapproximatelyequal",8787,"imatragurmukhi",2623,"imonospace",65353,"increment",8710,"infinity",8734,"iniarmenian",1387,"integral",8747,"integralbottom",8993,"integralbt",8993,"integralex",63733,"integraltop",8992,"integraltp",8992,"intersection",8745,"intisquare",13061,"invbullet",9688,"invcircle",9689,"invsmileface",9787,"iocyrillic",1105,"iogonek",303,"iota",953,"iotadieresis",970,"iotadieresistonos",912,"iotalatin",617,"iotatonos",943,"iparen",9380,"irigurmukhi",2674,"ismallhiragana",12355,"ismallkatakana",12451,"ismallkatakanahalfwidth",65384,"issharbengali",2554,"istroke",616,"isuperior",63213,"iterationhiragana",12445,"iterationkatakana",12541,"itilde",297,"itildebelow",7725,"iubopomofo",12585,"iucyrillic",1102,"ivowelsignbengali",2495,"ivowelsigndeva",2367,"ivowelsigngujarati",2751,"izhitsacyrillic",1141,"izhitsadblgravecyrillic",1143,"j",106,"jaarmenian",1393,"jabengali",2460,"jadeva",2332,"jagujarati",2716,"jagurmukhi",2588,"jbopomofo",12560,"jcaron",496,"jcircle",9433,"jcircumflex",309,"jcrossedtail",669,"jdotlessstroke",607,"jecyrillic",1112,"jeemarabic",1580,"jeemfinalarabic",65182,"jeeminitialarabic",65183,"jeemmedialarabic",65184,"jeharabic",1688,"jehfinalarabic",64395,"jhabengali",2461,"jhadeva",2333,"jhagujarati",2717,"jhagurmukhi",2589,"jheharmenian",1403,"jis",12292,"jmonospace",65354,"jparen",9381,"jsuperior",690,"k",107,"kabashkircyrillic",1185,"kabengali",2453,"kacute",7729,"kacyrillic",1082,"kadescendercyrillic",1179,"kadeva",2325,"kaf",1499,"kafarabic",1603,"kafdagesh",64315,"kafdageshhebrew",64315,"kaffinalarabic",65242,"kafhebrew",1499,"kafinitialarabic",65243,"kafmedialarabic",65244,"kafrafehebrew",64333,"kagujarati",2709,"kagurmukhi",2581,"kahiragana",12363,"kahookcyrillic",1220,"kakatakana",12459,"kakatakanahalfwidth",65398,"kappa",954,"kappasymbolgreek",1008,"kapyeounmieumkorean",12657,"kapyeounphieuphkorean",12676,"kapyeounpieupkorean",12664,"kapyeounssangpieupkorean",12665,"karoriisquare",13069,"kashidaautoarabic",1600,"kashidaautonosidebearingarabic",1600,"kasmallkatakana",12533,"kasquare",13188,"kasraarabic",1616,"kasratanarabic",1613,"kastrokecyrillic",1183,"katahiraprolongmarkhalfwidth",65392,"kaverticalstrokecyrillic",1181,"kbopomofo",12558,"kcalsquare",13193,"kcaron",489,"kcedilla",311,"kcircle",9434,"kcommaaccent",311,"kdotbelow",7731,"keharmenian",1412,"kehiragana",12369,"kekatakana",12465,"kekatakanahalfwidth",65401,"kenarmenian",1391,"kesmallkatakana",12534,"kgreenlandic",312,"khabengali",2454,"khacyrillic",1093,"khadeva",2326,"khagujarati",2710,"khagurmukhi",2582,"khaharabic",1582,"khahfinalarabic",65190,"khahinitialarabic",65191,"khahmedialarabic",65192,"kheicoptic",999,"khhadeva",2393,"khhagurmukhi",2649,"khieukhacirclekorean",12920,"khieukhaparenkorean",12824,"khieukhcirclekorean",12906,"khieukhkorean",12619,"khieukhparenkorean",12810,"khokhaithai",3586,"khokhonthai",3589,"khokhuatthai",3587,"khokhwaithai",3588,"khomutthai",3675,"khook",409,"khorakhangthai",3590,"khzsquare",13201,"kihiragana",12365,"kikatakana",12461,"kikatakanahalfwidth",65399,"kiroguramusquare",13077,"kiromeetorusquare",13078,"kirosquare",13076,"kiyeokacirclekorean",12910,"kiyeokaparenkorean",12814,"kiyeokcirclekorean",12896,"kiyeokkorean",12593,"kiyeokparenkorean",12800,"kiyeoksioskorean",12595,"kjecyrillic",1116,"klinebelow",7733,"klsquare",13208,"kmcubedsquare",13222,"kmonospace",65355,"kmsquaredsquare",13218,"kohiragana",12371,"kohmsquare",13248,"kokaithai",3585,"kokatakana",12467,"kokatakanahalfwidth",65402,"kooposquare",13086,"koppacyrillic",1153,"koreanstandardsymbol",12927,"koroniscmb",835,"kparen",9382,"kpasquare",13226,"ksicyrillic",1135,"ktsquare",13263,"kturned",670,"kuhiragana",12367,"kukatakana",12463,"kukatakanahalfwidth",65400,"kvsquare",13240,"kwsquare",13246,"l",108,"labengali",2482,"lacute",314,"ladeva",2354,"lagujarati",2738,"lagurmukhi",2610,"lakkhangyaothai",3653,"lamaleffinalarabic",65276,"lamalefhamzaabovefinalarabic",65272,"lamalefhamzaaboveisolatedarabic",65271,"lamalefhamzabelowfinalarabic",65274,"lamalefhamzabelowisolatedarabic",65273,"lamalefisolatedarabic",65275,"lamalefmaddaabovefinalarabic",65270,"lamalefmaddaaboveisolatedarabic",65269,"lamarabic",1604,"lambda",955,"lambdastroke",411,"lamed",1500,"lameddagesh",64316,"lameddageshhebrew",64316,"lamedhebrew",1500,"lamfinalarabic",65246,"lamhahinitialarabic",64714,"laminitialarabic",65247,"lamjeeminitialarabic",64713,"lamkhahinitialarabic",64715,"lamlamhehisolatedarabic",65010,"lammedialarabic",65248,"lammeemhahinitialarabic",64904,"lammeeminitialarabic",64716,"largecircle",9711,"lbar",410,"lbelt",620,"lbopomofo",12556,"lcaron",318,"lcedilla",316,"lcircle",9435,"lcircumflexbelow",7741,"lcommaaccent",316,"ldot",320,"ldotaccent",320,"ldotbelow",7735,"ldotbelowmacron",7737,"leftangleabovecmb",794,"lefttackbelowcmb",792,"less",60,"lessequal",8804,"lessequalorgreater",8922,"lessmonospace",65308,"lessorequivalent",8818,"lessorgreater",8822,"lessoverequal",8806,"lesssmall",65124,"lezh",622,"lfblock",9612,"lhookretroflex",621,"lira",8356,"liwnarmenian",1388,"lj",457,"ljecyrillic",1113,"ll",63168,"lladeva",2355,"llagujarati",2739,"llinebelow",7739,"llladeva",2356,"llvocalicbengali",2529,"llvocalicdeva",2401,"llvocalicvowelsignbengali",2531,"llvocalicvowelsigndeva",2403,"lmiddletilde",619,"lmonospace",65356,"lmsquare",13264,"lochulathai",3628,"logicaland",8743,"logicalnot",172,"logicalnotreversed",8976,"logicalor",8744,"lolingthai",3621,"longs",383,"lowlinecenterline",65102,"lowlinecmb",818,"lowlinedashed",65101,"lozenge",9674,"lparen",9383,"lslash",322,"lsquare",8467,"lsuperior",63214,"ltshade",9617,"luthai",3622,"lvocalicbengali",2444,"lvocalicdeva",2316,"lvocalicvowelsignbengali",2530,"lvocalicvowelsigndeva",2402,"lxsquare",13267,"m",109,"mabengali",2478,"macron",175,"macronbelowcmb",817,"macroncmb",772,"macronlowmod",717,"macronmonospace",65507,"macute",7743,"madeva",2350,"magujarati",2734,"magurmukhi",2606,"mahapakhhebrew",1444,"mahapakhlefthebrew",1444,"mahiragana",12414,"maichattawalowleftthai",63637,"maichattawalowrightthai",63636,"maichattawathai",3659,"maichattawaupperleftthai",63635,"maieklowleftthai",63628,"maieklowrightthai",63627,"maiekthai",3656,"maiekupperleftthai",63626,"maihanakatleftthai",63620,"maihanakatthai",3633,"maitaikhuleftthai",63625,"maitaikhuthai",3655,"maitholowleftthai",63631,"maitholowrightthai",63630,"maithothai",3657,"maithoupperleftthai",63629,"maitrilowleftthai",63634,"maitrilowrightthai",63633,"maitrithai",3658,"maitriupperleftthai",63632,"maiyamokthai",3654,"makatakana",12510,"makatakanahalfwidth",65423,"male",9794,"mansyonsquare",13127,"maqafhebrew",1470,"mars",9794,"masoracirclehebrew",1455,"masquare",13187,"mbopomofo",12551,"mbsquare",13268,"mcircle",9436,"mcubedsquare",13221,"mdotaccent",7745,"mdotbelow",7747,"meemarabic",1605,"meemfinalarabic",65250,"meeminitialarabic",65251,"meemmedialarabic",65252,"meemmeeminitialarabic",64721,"meemmeemisolatedarabic",64584,"meetorusquare",13133,"mehiragana",12417,"meizierasquare",13182,"mekatakana",12513,"mekatakanahalfwidth",65426,"mem",1502,"memdagesh",64318,"memdageshhebrew",64318,"memhebrew",1502,"menarmenian",1396,"merkhahebrew",1445,"merkhakefulahebrew",1446,"merkhakefulalefthebrew",1446,"merkhalefthebrew",1445,"mhook",625,"mhzsquare",13202,"middledotkatakanahalfwidth",65381,"middot",183,"mieumacirclekorean",12914,"mieumaparenkorean",12818,"mieumcirclekorean",12900,"mieumkorean",12609,"mieumpansioskorean",12656,"mieumparenkorean",12804,"mieumpieupkorean",12654,"mieumsioskorean",12655,"mihiragana",12415,"mikatakana",12511,"mikatakanahalfwidth",65424,"minus",8722,"minusbelowcmb",800,"minuscircle",8854,"minusmod",727,"minusplus",8723,"minute",8242,"miribaarusquare",13130,"mirisquare",13129,"mlonglegturned",624,"mlsquare",13206,"mmcubedsquare",13219,"mmonospace",65357,"mmsquaredsquare",13215,"mohiragana",12418,"mohmsquare",13249,"mokatakana",12514,"mokatakanahalfwidth",65427,"molsquare",13270,"momathai",3617,"moverssquare",13223,"moverssquaredsquare",13224,"mparen",9384,"mpasquare",13227,"mssquare",13235,"msuperior",63215,"mturned",623,"mu",181,"mu1",181,"muasquare",13186,"muchgreater",8811,"muchless",8810,"mufsquare",13196,"mugreek",956,"mugsquare",13197,"muhiragana",12416,"mukatakana",12512,"mukatakanahalfwidth",65425,"mulsquare",13205,"multiply",215,"mumsquare",13211,"munahhebrew",1443,"munahlefthebrew",1443,"musicalnote",9834,"musicalnotedbl",9835,"musicflatsign",9837,"musicsharpsign",9839,"mussquare",13234,"muvsquare",13238,"muwsquare",13244,"mvmegasquare",13241,"mvsquare",13239,"mwmegasquare",13247,"mwsquare",13245,"n",110,"nabengali",2472,"nabla",8711,"nacute",324,"nadeva",2344,"nagujarati",2728,"nagurmukhi",2600,"nahiragana",12394,"nakatakana",12490,"nakatakanahalfwidth",65413,"napostrophe",329,"nasquare",13185,"nbopomofo",12555,"nbspace",160,"ncaron",328,"ncedilla",326,"ncircle",9437,"ncircumflexbelow",7755,"ncommaaccent",326,"ndotaccent",7749,"ndotbelow",7751,"nehiragana",12397,"nekatakana",12493,"nekatakanahalfwidth",65416,"newsheqelsign",8362,"nfsquare",13195,"ngabengali",2457,"ngadeva",2329,"ngagujarati",2713,"ngagurmukhi",2585,"ngonguthai",3591,"nhiragana",12435,"nhookleft",626,"nhookretroflex",627,"nieunacirclekorean",12911,"nieunaparenkorean",12815,"nieuncieuckorean",12597,"nieuncirclekorean",12897,"nieunhieuhkorean",12598,"nieunkorean",12596,"nieunpansioskorean",12648,"nieunparenkorean",12801,"nieunsioskorean",12647,"nieuntikeutkorean",12646,"nihiragana",12395,"nikatakana",12491,"nikatakanahalfwidth",65414,"nikhahitleftthai",63641,"nikhahitthai",3661,"nine",57,"ninearabic",1641,"ninebengali",2543,"ninecircle",9320,"ninecircleinversesansserif",10130,"ninedeva",2415,"ninegujarati",2799,"ninegurmukhi",2671,"ninehackarabic",1641,"ninehangzhou",12329,"nineideographicparen",12840,"nineinferior",8329,"ninemonospace",65305,"nineoldstyle",63289,"nineparen",9340,"nineperiod",9360,"ninepersian",1785,"nineroman",8568,"ninesuperior",8313,"nineteencircle",9330,"nineteenparen",9350,"nineteenperiod",9370,"ninethai",3673,"nj",460,"njecyrillic",1114,"nkatakana",12531,"nkatakanahalfwidth",65437,"nlegrightlong",414,"nlinebelow",7753,"nmonospace",65358,"nmsquare",13210,"nnabengali",2467,"nnadeva",2339,"nnagujarati",2723,"nnagurmukhi",2595,"nnnadeva",2345,"nohiragana",12398,"nokatakana",12494,"nokatakanahalfwidth",65417,"nonbreakingspace",160,"nonenthai",3603,"nonuthai",3609,"noonarabic",1606,"noonfinalarabic",65254,"noonghunnaarabic",1722,"noonghunnafinalarabic",64415,"nooninitialarabic",65255,"noonjeeminitialarabic",64722,"noonjeemisolatedarabic",64587,"noonmedialarabic",65256,"noonmeeminitialarabic",64725,"noonmeemisolatedarabic",64590,"noonnoonfinalarabic",64653,"notcontains",8716,"notelement",8713,"notelementof",8713,"notequal",8800,"notgreater",8815,"notgreaternorequal",8817,"notgreaternorless",8825,"notidentical",8802,"notless",8814,"notlessnorequal",8816,"notparallel",8742,"notprecedes",8832,"notsubset",8836,"notsucceeds",8833,"notsuperset",8837,"nowarmenian",1398,"nparen",9385,"nssquare",13233,"nsuperior",8319,"ntilde",241,"nu",957,"nuhiragana",12396,"nukatakana",12492,"nukatakanahalfwidth",65415,"nuktabengali",2492,"nuktadeva",2364,"nuktagujarati",2748,"nuktagurmukhi",2620,"numbersign",35,"numbersignmonospace",65283,"numbersignsmall",65119,"numeralsigngreek",884,"numeralsignlowergreek",885,"numero",8470,"nun",1504,"nundagesh",64320,"nundageshhebrew",64320,"nunhebrew",1504,"nvsquare",13237,"nwsquare",13243,"nyabengali",2462,"nyadeva",2334,"nyagujarati",2718,"nyagurmukhi",2590,"o",111,"oacute",243,"oangthai",3629,"obarred",629,"obarredcyrillic",1257,"obarreddieresiscyrillic",1259,"obengali",2451,"obopomofo",12571,"obreve",335,"ocandradeva",2321,"ocandragujarati",2705,"ocandravowelsigndeva",2377,"ocandravowelsigngujarati",2761,"ocaron",466,"ocircle",9438,"ocircumflex",244,"ocircumflexacute",7889,"ocircumflexdotbelow",7897,"ocircumflexgrave",7891,"ocircumflexhookabove",7893,"ocircumflextilde",7895,"ocyrillic",1086,"odblacute",337,"odblgrave",525,"odeva",2323,"odieresis",246,"odieresiscyrillic",1255,"odotbelow",7885,"oe",339,"oekorean",12634,"ogonek",731,"ogonekcmb",808,"ograve",242,"ogujarati",2707,"oharmenian",1413,"ohiragana",12362,"ohookabove",7887,"ohorn",417,"ohornacute",7899,"ohorndotbelow",7907,"ohorngrave",7901,"ohornhookabove",7903,"ohorntilde",7905,"ohungarumlaut",337,"oi",419,"oinvertedbreve",527,"okatakana",12458,"okatakanahalfwidth",65397,"okorean",12631,"olehebrew",1451,"omacron",333,"omacronacute",7763,"omacrongrave",7761,"omdeva",2384,"omega",969,"omega1",982,"omegacyrillic",1121,"omegalatinclosed",631,"omegaroundcyrillic",1147,"omegatitlocyrillic",1149,"omegatonos",974,"omgujarati",2768,"omicron",959,"omicrontonos",972,"omonospace",65359,"one",49,"onearabic",1633,"onebengali",2535,"onecircle",9312,"onecircleinversesansserif",10122,"onedeva",2407,"onedotenleader",8228,"oneeighth",8539,"onefitted",63196,"onegujarati",2791,"onegurmukhi",2663,"onehackarabic",1633,"onehalf",189,"onehangzhou",12321,"oneideographicparen",12832,"oneinferior",8321,"onemonospace",65297,"onenumeratorbengali",2548,"oneoldstyle",63281,"oneparen",9332,"oneperiod",9352,"onepersian",1777,"onequarter",188,"oneroman",8560,"onesuperior",185,"onethai",3665,"onethird",8531,"oogonek",491,"oogonekmacron",493,"oogurmukhi",2579,"oomatragurmukhi",2635,"oopen",596,"oparen",9386,"openbullet",9702,"option",8997,"ordfeminine",170,"ordmasculine",186,"orthogonal",8735,"oshortdeva",2322,"oshortvowelsigndeva",2378,"oslash",248,"oslashacute",511,"osmallhiragana",12361,"osmallkatakana",12457,"osmallkatakanahalfwidth",65387,"ostrokeacute",511,"osuperior",63216,"otcyrillic",1151,"otilde",245,"otildeacute",7757,"otildedieresis",7759,"oubopomofo",12577,"overline",8254,"overlinecenterline",65098,"overlinecmb",773,"overlinedashed",65097,"overlinedblwavy",65100,"overlinewavy",65099,"overscore",175,"ovowelsignbengali",2507,"ovowelsigndeva",2379,"ovowelsigngujarati",2763,"p",112,"paampssquare",13184,"paasentosquare",13099,"pabengali",2474,"pacute",7765,"padeva",2346,"pagedown",8671,"pageup",8670,"pagujarati",2730,"pagurmukhi",2602,"pahiragana",12401,"paiyannoithai",3631,"pakatakana",12497,"palatalizationcyrilliccmb",1156,"palochkacyrillic",1216,"pansioskorean",12671,"paragraph",182,"parallel",8741,"parenleft",40,"parenleftaltonearabic",64830,"parenleftbt",63725,"parenleftex",63724,"parenleftinferior",8333,"parenleftmonospace",65288,"parenleftsmall",65113,"parenleftsuperior",8317,"parenlefttp",63723,"parenleftvertical",65077,"parenright",41,"parenrightaltonearabic",64831,"parenrightbt",63736,"parenrightex",63735,"parenrightinferior",8334,"parenrightmonospace",65289,"parenrightsmall",65114,"parenrightsuperior",8318,"parenrighttp",63734,"parenrightvertical",65078,"partialdiff",8706,"paseqhebrew",1472,"pashtahebrew",1433,"pasquare",13225,"patah",1463,"patah11",1463,"patah1d",1463,"patah2a",1463,"patahhebrew",1463,"patahnarrowhebrew",1463,"patahquarterhebrew",1463,"patahwidehebrew",1463,"pazerhebrew",1441,"pbopomofo",12550,"pcircle",9439,"pdotaccent",7767,"pe",1508,"pecyrillic",1087,"pedagesh",64324,"pedageshhebrew",64324,"peezisquare",13115,"pefinaldageshhebrew",64323,"peharabic",1662,"peharmenian",1402,"pehebrew",1508,"pehfinalarabic",64343,"pehinitialarabic",64344,"pehiragana",12410,"pehmedialarabic",64345,"pekatakana",12506,"pemiddlehookcyrillic",1191,"perafehebrew",64334,"percent",37,"percentarabic",1642,"percentmonospace",65285,"percentsmall",65130,"period",46,"periodarmenian",1417,"periodcentered",183,"periodhalfwidth",65377,"periodinferior",63207,"periodmonospace",65294,"periodsmall",65106,"periodsuperior",63208,"perispomenigreekcmb",834,"perpendicular",8869,"perthousand",8240,"peseta",8359,"pfsquare",13194,"phabengali",2475,"phadeva",2347,"phagujarati",2731,"phagurmukhi",2603,"phi",966,"phi1",981,"phieuphacirclekorean",12922,"phieuphaparenkorean",12826,"phieuphcirclekorean",12908,"phieuphkorean",12621,"phieuphparenkorean",12812,"philatin",632,"phinthuthai",3642,"phisymbolgreek",981,"phook",421,"phophanthai",3614,"phophungthai",3612,"phosamphaothai",3616,"pi",960,"pieupacirclekorean",12915,"pieupaparenkorean",12819,"pieupcieuckorean",12662,"pieupcirclekorean",12901,"pieupkiyeokkorean",12658,"pieupkorean",12610,"pieupparenkorean",12805,"pieupsioskiyeokkorean",12660,"pieupsioskorean",12612,"pieupsiostikeutkorean",12661,"pieupthieuthkorean",12663,"pieuptikeutkorean",12659,"pihiragana",12404,"pikatakana",12500,"pisymbolgreek",982,"piwrarmenian",1411,"plus",43,"plusbelowcmb",799,"pluscircle",8853,"plusminus",177,"plusmod",726,"plusmonospace",65291,"plussmall",65122,"plussuperior",8314,"pmonospace",65360,"pmsquare",13272,"pohiragana",12413,"pointingindexdownwhite",9759,"pointingindexleftwhite",9756,"pointingindexrightwhite",9758,"pointingindexupwhite",9757,"pokatakana",12509,"poplathai",3611,"postalmark",12306,"postalmarkface",12320,"pparen",9387,"precedes",8826,"prescription",8478,"primemod",697,"primereversed",8245,"product",8719,"projective",8965,"prolongedkana",12540,"propellor",8984,"propersubset",8834,"propersuperset",8835,"proportion",8759,"proportional",8733,"psi",968,"psicyrillic",1137,"psilipneumatacyrilliccmb",1158,"pssquare",13232,"puhiragana",12407,"pukatakana",12503,"pvsquare",13236,"pwsquare",13242,"q",113,"qadeva",2392,"qadmahebrew",1448,"qafarabic",1602,"qaffinalarabic",65238,"qafinitialarabic",65239,"qafmedialarabic",65240,"qamats",1464,"qamats10",1464,"qamats1a",1464,"qamats1c",1464,"qamats27",1464,"qamats29",1464,"qamats33",1464,"qamatsde",1464,"qamatshebrew",1464,"qamatsnarrowhebrew",1464,"qamatsqatanhebrew",1464,"qamatsqatannarrowhebrew",1464,"qamatsqatanquarterhebrew",1464,"qamatsqatanwidehebrew",1464,"qamatsquarterhebrew",1464,"qamatswidehebrew",1464,"qarneyparahebrew",1439,"qbopomofo",12561,"qcircle",9440,"qhook",672,"qmonospace",65361,"qof",1511,"qofdagesh",64327,"qofdageshhebrew",64327,"qofhebrew",1511,"qparen",9388,"quarternote",9833,"qubuts",1467,"qubuts18",1467,"qubuts25",1467,"qubuts31",1467,"qubutshebrew",1467,"qubutsnarrowhebrew",1467,"qubutsquarterhebrew",1467,"qubutswidehebrew",1467,"question",63,"questionarabic",1567,"questionarmenian",1374,"questiondown",191,"questiondownsmall",63423,"questiongreek",894,"questionmonospace",65311,"questionsmall",63295,"quotedbl",34,"quotedblbase",8222,"quotedblleft",8220,"quotedblmonospace",65282,"quotedblprime",12318,"quotedblprimereversed",12317,"quotedblright",8221,"quoteleft",8216,"quoteleftreversed",8219,"quotereversed",8219,"quoteright",8217,"quoterightn",329,"quotesinglbase",8218,"quotesingle",39,"quotesinglemonospace",65287,"r",114,"raarmenian",1404,"rabengali",2480,"racute",341,"radeva",2352,"radical",8730,"radicalex",63717,"radoverssquare",13230,"radoverssquaredsquare",13231,"radsquare",13229,"rafe",1471,"rafehebrew",1471,"ragujarati",2736,"ragurmukhi",2608,"rahiragana",12425,"rakatakana",12521,"rakatakanahalfwidth",65431,"ralowerdiagonalbengali",2545,"ramiddlediagonalbengali",2544,"ramshorn",612,"ratio",8758,"rbopomofo",12566,"rcaron",345,"rcedilla",343,"rcircle",9441,"rcommaaccent",343,"rdblgrave",529,"rdotaccent",7769,"rdotbelow",7771,"rdotbelowmacron",7773,"referencemark",8251,"reflexsubset",8838,"reflexsuperset",8839,"registered",174,"registersans",63720,"registerserif",63194,"reharabic",1585,"reharmenian",1408,"rehfinalarabic",65198,"rehiragana",12428,"rekatakana",12524,"rekatakanahalfwidth",65434,"resh",1512,"reshdageshhebrew",64328,"reshhebrew",1512,"reversedtilde",8765,"reviahebrew",1431,"reviamugrashhebrew",1431,"revlogicalnot",8976,"rfishhook",638,"rfishhookreversed",639,"rhabengali",2525,"rhadeva",2397,"rho",961,"rhook",637,"rhookturned",635,"rhookturnedsuperior",693,"rhosymbolgreek",1009,"rhotichookmod",734,"rieulacirclekorean",12913,"rieulaparenkorean",12817,"rieulcirclekorean",12899,"rieulhieuhkorean",12608,"rieulkiyeokkorean",12602,"rieulkiyeoksioskorean",12649,"rieulkorean",12601,"rieulmieumkorean",12603,"rieulpansioskorean",12652,"rieulparenkorean",12803,"rieulphieuphkorean",12607,"rieulpieupkorean",12604,"rieulpieupsioskorean",12651,"rieulsioskorean",12605,"rieulthieuthkorean",12606,"rieultikeutkorean",12650,"rieulyeorinhieuhkorean",12653,"rightangle",8735,"righttackbelowcmb",793,"righttriangle",8895,"rihiragana",12426,"rikatakana",12522,"rikatakanahalfwidth",65432,"ring",730,"ringbelowcmb",805,"ringcmb",778,"ringhalfleft",703,"ringhalfleftarmenian",1369,"ringhalfleftbelowcmb",796,"ringhalfleftcentered",723,"ringhalfright",702,"ringhalfrightbelowcmb",825,"ringhalfrightcentered",722,"rinvertedbreve",531,"rittorusquare",13137,"rlinebelow",7775,"rlongleg",636,"rlonglegturned",634,"rmonospace",65362,"rohiragana",12429,"rokatakana",12525,"rokatakanahalfwidth",65435,"roruathai",3619,"rparen",9389,"rrabengali",2524,"rradeva",2353,"rragurmukhi",2652,"rreharabic",1681,"rrehfinalarabic",64397,"rrvocalicbengali",2528,"rrvocalicdeva",2400,"rrvocalicgujarati",2784,"rrvocalicvowelsignbengali",2500,"rrvocalicvowelsigndeva",2372,"rrvocalicvowelsigngujarati",2756,"rsuperior",63217,"rtblock",9616,"rturned",633,"rturnedsuperior",692,"ruhiragana",12427,"rukatakana",12523,"rukatakanahalfwidth",65433,"rupeemarkbengali",2546,"rupeesignbengali",2547,"rupiah",63197,"ruthai",3620,"rvocalicbengali",2443,"rvocalicdeva",2315,"rvocalicgujarati",2699,"rvocalicvowelsignbengali",2499,"rvocalicvowelsigndeva",2371,"rvocalicvowelsigngujarati",2755,"s",115,"sabengali",2488,"sacute",347,"sacutedotaccent",7781,"sadarabic",1589,"sadeva",2360,"sadfinalarabic",65210,"sadinitialarabic",65211,"sadmedialarabic",65212,"sagujarati",2744,"sagurmukhi",2616,"sahiragana",12373,"sakatakana",12469,"sakatakanahalfwidth",65403,"sallallahoualayhewasallamarabic",65018,"samekh",1505,"samekhdagesh",64321,"samekhdageshhebrew",64321,"samekhhebrew",1505,"saraaathai",3634,"saraaethai",3649,"saraaimaimalaithai",3652,"saraaimaimuanthai",3651,"saraamthai",3635,"saraathai",3632,"saraethai",3648,"saraiileftthai",63622,"saraiithai",3637,"saraileftthai",63621,"saraithai",3636,"saraothai",3650,"saraueeleftthai",63624,"saraueethai",3639,"saraueleftthai",63623,"sarauethai",3638,"sarauthai",3640,"sarauuthai",3641,"sbopomofo",12569,"scaron",353,"scarondotaccent",7783,"scedilla",351,"schwa",601,"schwacyrillic",1241,"schwadieresiscyrillic",1243,"schwahook",602,"scircle",9442,"scircumflex",349,"scommaaccent",537,"sdotaccent",7777,"sdotbelow",7779,"sdotbelowdotaccent",7785,"seagullbelowcmb",828,"second",8243,"secondtonechinese",714,"section",167,"seenarabic",1587,"seenfinalarabic",65202,"seeninitialarabic",65203,"seenmedialarabic",65204,"segol",1462,"segol13",1462,"segol1f",1462,"segol2c",1462,"segolhebrew",1462,"segolnarrowhebrew",1462,"segolquarterhebrew",1462,"segoltahebrew",1426,"segolwidehebrew",1462,"seharmenian",1405,"sehiragana",12379,"sekatakana",12475,"sekatakanahalfwidth",65406,"semicolon",59,"semicolonarabic",1563,"semicolonmonospace",65307,"semicolonsmall",65108,"semivoicedmarkkana",12444,"semivoicedmarkkanahalfwidth",65439,"sentisquare",13090,"sentosquare",13091,"seven",55,"sevenarabic",1639,"sevenbengali",2541,"sevencircle",9318,"sevencircleinversesansserif",10128,"sevendeva",2413,"seveneighths",8542,"sevengujarati",2797,"sevengurmukhi",2669,"sevenhackarabic",1639,"sevenhangzhou",12327,"sevenideographicparen",12838,"seveninferior",8327,"sevenmonospace",65303,"sevenoldstyle",63287,"sevenparen",9338,"sevenperiod",9358,"sevenpersian",1783,"sevenroman",8566,"sevensuperior",8311,"seventeencircle",9328,"seventeenparen",9348,"seventeenperiod",9368,"seventhai",3671,"sfthyphen",173,"shaarmenian",1399,"shabengali",2486,"shacyrillic",1096,"shaddaarabic",1617,"shaddadammaarabic",64609,"shaddadammatanarabic",64606,"shaddafathaarabic",64608,"shaddakasraarabic",64610,"shaddakasratanarabic",64607,"shade",9618,"shadedark",9619,"shadelight",9617,"shademedium",9618,"shadeva",2358,"shagujarati",2742,"shagurmukhi",2614,"shalshelethebrew",1427,"shbopomofo",12565,"shchacyrillic",1097,"sheenarabic",1588,"sheenfinalarabic",65206,"sheeninitialarabic",65207,"sheenmedialarabic",65208,"sheicoptic",995,"sheqel",8362,"sheqelhebrew",8362,"sheva",1456,"sheva115",1456,"sheva15",1456,"sheva22",1456,"sheva2e",1456,"shevahebrew",1456,"shevanarrowhebrew",1456,"shevaquarterhebrew",1456,"shevawidehebrew",1456,"shhacyrillic",1211,"shimacoptic",1005,"shin",1513,"shindagesh",64329,"shindageshhebrew",64329,"shindageshshindot",64300,"shindageshshindothebrew",64300,"shindageshsindot",64301,"shindageshsindothebrew",64301,"shindothebrew",1473,"shinhebrew",1513,"shinshindot",64298,"shinshindothebrew",64298,"shinsindot",64299,"shinsindothebrew",64299,"shook",642,"sigma",963,"sigma1",962,"sigmafinal",962,"sigmalunatesymbolgreek",1010,"sihiragana",12375,"sikatakana",12471,"sikatakanahalfwidth",65404,"siluqhebrew",1469,"siluqlefthebrew",1469,"similar",8764,"sindothebrew",1474,"siosacirclekorean",12916,"siosaparenkorean",12820,"sioscieuckorean",12670,"sioscirclekorean",12902,"sioskiyeokkorean",12666,"sioskorean",12613,"siosnieunkorean",12667,"siosparenkorean",12806,"siospieupkorean",12669,"siostikeutkorean",12668,"six",54,"sixarabic",1638,"sixbengali",2540,"sixcircle",9317,"sixcircleinversesansserif",10127,"sixdeva",2412,"sixgujarati",2796,"sixgurmukhi",2668,"sixhackarabic",1638,"sixhangzhou",12326,"sixideographicparen",12837,"sixinferior",8326,"sixmonospace",65302,"sixoldstyle",63286,"sixparen",9337,"sixperiod",9357,"sixpersian",1782,"sixroman",8565,"sixsuperior",8310,"sixteencircle",9327,"sixteencurrencydenominatorbengali",2553,"sixteenparen",9347,"sixteenperiod",9367,"sixthai",3670,"slash",47,"slashmonospace",65295,"slong",383,"slongdotaccent",7835,"smileface",9786,"smonospace",65363,"sofpasuqhebrew",1475,"softhyphen",173,"softsigncyrillic",1100,"sohiragana",12381,"sokatakana",12477,"sokatakanahalfwidth",65407,"soliduslongoverlaycmb",824,"solidusshortoverlaycmb",823,"sorusithai",3625,"sosalathai",3624,"sosothai",3595,"sosuathai",3626,"space",32,"spacehackarabic",32,"spade",9824,"spadesuitblack",9824,"spadesuitwhite",9828,"sparen",9390,"squarebelowcmb",827,"squarecc",13252,"squarecm",13213,"squarediagonalcrosshatchfill",9641,"squarehorizontalfill",9636,"squarekg",13199,"squarekm",13214,"squarekmcapital",13262,"squareln",13265,"squarelog",13266,"squaremg",13198,"squaremil",13269,"squaremm",13212,"squaremsquared",13217,"squareorthogonalcrosshatchfill",9638,"squareupperlefttolowerrightfill",9639,"squareupperrighttolowerleftfill",9640,"squareverticalfill",9637,"squarewhitewithsmallblack",9635,"srsquare",13275,"ssabengali",2487,"ssadeva",2359,"ssagujarati",2743,"ssangcieuckorean",12617,"ssanghieuhkorean",12677,"ssangieungkorean",12672,"ssangkiyeokkorean",12594,"ssangnieunkorean",12645,"ssangpieupkorean",12611,"ssangsioskorean",12614,"ssangtikeutkorean",12600,"ssuperior",63218,"sterling",163,"sterlingmonospace",65505,"strokelongoverlaycmb",822,"strokeshortoverlaycmb",821,"subset",8834,"subsetnotequal",8842,"subsetorequal",8838,"succeeds",8827,"suchthat",8715,"suhiragana",12377,"sukatakana",12473,"sukatakanahalfwidth",65405,"sukunarabic",1618,"summation",8721,"sun",9788,"superset",8835,"supersetnotequal",8843,"supersetorequal",8839,"svsquare",13276,"syouwaerasquare",13180,"t",116,"tabengali",2468,"tackdown",8868,"tackleft",8867,"tadeva",2340,"tagujarati",2724,"tagurmukhi",2596,"taharabic",1591,"tahfinalarabic",65218,"tahinitialarabic",65219,"tahiragana",12383,"tahmedialarabic",65220,"taisyouerasquare",13181,"takatakana",12479,"takatakanahalfwidth",65408,"tatweelarabic",1600,"tau",964,"tav",1514,"tavdages",64330,"tavdagesh",64330,"tavdageshhebrew",64330,"tavhebrew",1514,"tbar",359,"tbopomofo",12554,"tcaron",357,"tccurl",680,"tcedilla",355,"tcheharabic",1670,"tchehfinalarabic",64379,"tchehinitialarabic",64380,"tchehmedialarabic",64381,"tcircle",9443,"tcircumflexbelow",7793,"tcommaaccent",355,"tdieresis",7831,"tdotaccent",7787,"tdotbelow",7789,"tecyrillic",1090,"tedescendercyrillic",1197,"teharabic",1578,"tehfinalarabic",65174,"tehhahinitialarabic",64674,"tehhahisolatedarabic",64524,"tehinitialarabic",65175,"tehiragana",12390,"tehjeeminitialarabic",64673,"tehjeemisolatedarabic",64523,"tehmarbutaarabic",1577,"tehmarbutafinalarabic",65172,"tehmedialarabic",65176,"tehmeeminitialarabic",64676,"tehmeemisolatedarabic",64526,"tehnoonfinalarabic",64627,"tekatakana",12486,"tekatakanahalfwidth",65411,"telephone",8481,"telephoneblack",9742,"telishagedolahebrew",1440,"telishaqetanahebrew",1449,"tencircle",9321,"tenideographicparen",12841,"tenparen",9341,"tenperiod",9361,"tenroman",8569,"tesh",679,"tet",1496,"tetdagesh",64312,"tetdageshhebrew",64312,"tethebrew",1496,"tetsecyrillic",1205,"tevirhebrew",1435,"tevirlefthebrew",1435,"thabengali",2469,"thadeva",2341,"thagujarati",2725,"thagurmukhi",2597,"thalarabic",1584,"thalfinalarabic",65196,"thanthakhatlowleftthai",63640,"thanthakhatlowrightthai",63639,"thanthakhatthai",3660,"thanthakhatupperleftthai",63638,"theharabic",1579,"thehfinalarabic",65178,"thehinitialarabic",65179,"thehmedialarabic",65180,"thereexists",8707,"therefore",8756,"theta",952,"theta1",977,"thetasymbolgreek",977,"thieuthacirclekorean",12921,"thieuthaparenkorean",12825,"thieuthcirclekorean",12907,"thieuthkorean",12620,"thieuthparenkorean",12811,"thirteencircle",9324,"thirteenparen",9344,"thirteenperiod",9364,"thonangmonthothai",3601,"thook",429,"thophuthaothai",3602,"thorn",254,"thothahanthai",3607,"thothanthai",3600,"thothongthai",3608,"thothungthai",3606,"thousandcyrillic",1154,"thousandsseparatorarabic",1644,"thousandsseparatorpersian",1644,"three",51,"threearabic",1635,"threebengali",2537,"threecircle",9314,"threecircleinversesansserif",10124,"threedeva",2409,"threeeighths",8540,"threegujarati",2793,"threegurmukhi",2665,"threehackarabic",1635,"threehangzhou",12323,"threeideographicparen",12834,"threeinferior",8323,"threemonospace",65299,"threenumeratorbengali",2550,"threeoldstyle",63283,"threeparen",9334,"threeperiod",9354,"threepersian",1779,"threequarters",190,"threequartersemdash",63198,"threeroman",8562,"threesuperior",179,"threethai",3667,"thzsquare",13204,"tihiragana",12385,"tikatakana",12481,"tikatakanahalfwidth",65409,"tikeutacirclekorean",12912,"tikeutaparenkorean",12816,"tikeutcirclekorean",12898,"tikeutkorean",12599,"tikeutparenkorean",12802,"tilde",732,"tildebelowcmb",816,"tildecmb",771,"tildecomb",771,"tildedoublecmb",864,"tildeoperator",8764,"tildeoverlaycmb",820,"tildeverticalcmb",830,"timescircle",8855,"tipehahebrew",1430,"tipehalefthebrew",1430,"tippigurmukhi",2672,"titlocyrilliccmb",1155,"tiwnarmenian",1407,"tlinebelow",7791,"tmonospace",65364,"toarmenian",1385,"tohiragana",12392,"tokatakana",12488,"tokatakanahalfwidth",65412,"tonebarextrahighmod",741,"tonebarextralowmod",745,"tonebarhighmod",742,"tonebarlowmod",744,"tonebarmidmod",743,"tonefive",445,"tonesix",389,"tonetwo",424,"tonos",900,"tonsquare",13095,"topatakthai",3599,"tortoiseshellbracketleft",12308,"tortoiseshellbracketleftsmall",65117,"tortoiseshellbracketleftvertical",65081,"tortoiseshellbracketright",12309,"tortoiseshellbracketrightsmall",65118,"tortoiseshellbracketrightvertical",65082,"totaothai",3605,"tpalatalhook",427,"tparen",9391,"trademark",8482,"trademarksans",63722,"trademarkserif",63195,"tretroflexhook",648,"triagdn",9660,"triaglf",9668,"triagrt",9658,"triagup",9650,"ts",678,"tsadi",1510,"tsadidagesh",64326,"tsadidageshhebrew",64326,"tsadihebrew",1510,"tsecyrillic",1094,"tsere",1461,"tsere12",1461,"tsere1e",1461,"tsere2b",1461,"tserehebrew",1461,"tserenarrowhebrew",1461,"tserequarterhebrew",1461,"tserewidehebrew",1461,"tshecyrillic",1115,"tsuperior",63219,"ttabengali",2463,"ttadeva",2335,"ttagujarati",2719,"ttagurmukhi",2591,"tteharabic",1657,"ttehfinalarabic",64359,"ttehinitialarabic",64360,"ttehmedialarabic",64361,"tthabengali",2464,"tthadeva",2336,"tthagujarati",2720,"tthagurmukhi",2592,"tturned",647,"tuhiragana",12388,"tukatakana",12484,"tukatakanahalfwidth",65410,"tusmallhiragana",12387,"tusmallkatakana",12483,"tusmallkatakanahalfwidth",65391,"twelvecircle",9323,"twelveparen",9343,"twelveperiod",9363,"twelveroman",8571,"twentycircle",9331,"twentyhangzhou",21316,"twentyparen",9351,"twentyperiod",9371,"two",50,"twoarabic",1634,"twobengali",2536,"twocircle",9313,"twocircleinversesansserif",10123,"twodeva",2408,"twodotenleader",8229,"twodotleader",8229,"twodotleadervertical",65072,"twogujarati",2792,"twogurmukhi",2664,"twohackarabic",1634,"twohangzhou",12322,"twoideographicparen",12833,"twoinferior",8322,"twomonospace",65298,"twonumeratorbengali",2549,"twooldstyle",63282,"twoparen",9333,"twoperiod",9353,"twopersian",1778,"tworoman",8561,"twostroke",443,"twosuperior",178,"twothai",3666,"twothirds",8532,"u",117,"uacute",250,"ubar",649,"ubengali",2441,"ubopomofo",12584,"ubreve",365,"ucaron",468,"ucircle",9444,"ucircumflex",251,"ucircumflexbelow",7799,"ucyrillic",1091,"udattadeva",2385,"udblacute",369,"udblgrave",533,"udeva",2313,"udieresis",252,"udieresisacute",472,"udieresisbelow",7795,"udieresiscaron",474,"udieresiscyrillic",1265,"udieresisgrave",476,"udieresismacron",470,"udotbelow",7909,"ugrave",249,"ugujarati",2697,"ugurmukhi",2569,"uhiragana",12358,"uhookabove",7911,"uhorn",432,"uhornacute",7913,"uhorndotbelow",7921,"uhorngrave",7915,"uhornhookabove",7917,"uhorntilde",7919,"uhungarumlaut",369,"uhungarumlautcyrillic",1267,"uinvertedbreve",535,"ukatakana",12454,"ukatakanahalfwidth",65395,"ukcyrillic",1145,"ukorean",12636,"umacron",363,"umacroncyrillic",1263,"umacrondieresis",7803,"umatragurmukhi",2625,"umonospace",65365,"underscore",95,"underscoredbl",8215,"underscoremonospace",65343,"underscorevertical",65075,"underscorewavy",65103,"union",8746,"universal",8704,"uogonek",371,"uparen",9392,"upblock",9600,"upperdothebrew",1476,"upsilon",965,"upsilondieresis",971,"upsilondieresistonos",944,"upsilonlatin",650,"upsilontonos",973,"uptackbelowcmb",797,"uptackmod",724,"uragurmukhi",2675,"uring",367,"ushortcyrillic",1118,"usmallhiragana",12357,"usmallkatakana",12453,"usmallkatakanahalfwidth",65385,"ustraightcyrillic",1199,"ustraightstrokecyrillic",1201,"utilde",361,"utildeacute",7801,"utildebelow",7797,"uubengali",2442,"uudeva",2314,"uugujarati",2698,"uugurmukhi",2570,"uumatragurmukhi",2626,"uuvowelsignbengali",2498,"uuvowelsigndeva",2370,"uuvowelsigngujarati",2754,"uvowelsignbengali",2497,"uvowelsigndeva",2369,"uvowelsigngujarati",2753,"v",118,"vadeva",2357,"vagujarati",2741,"vagurmukhi",2613,"vakatakana",12535,"vav",1493,"vavdagesh",64309,"vavdagesh65",64309,"vavdageshhebrew",64309,"vavhebrew",1493,"vavholam",64331,"vavholamhebrew",64331,"vavvavhebrew",1520,"vavyodhebrew",1521,"vcircle",9445,"vdotbelow",7807,"vecyrillic",1074,"veharabic",1700,"vehfinalarabic",64363,"vehinitialarabic",64364,"vehmedialarabic",64365,"vekatakana",12537,"venus",9792,"verticalbar",124,"verticallineabovecmb",781,"verticallinebelowcmb",809,"verticallinelowmod",716,"verticallinemod",712,"vewarmenian",1406,"vhook",651,"vikatakana",12536,"viramabengali",2509,"viramadeva",2381,"viramagujarati",2765,"visargabengali",2435,"visargadeva",2307,"visargagujarati",2691,"vmonospace",65366,"voarmenian",1400,"voicediterationhiragana",12446,"voicediterationkatakana",12542,"voicedmarkkana",12443,"voicedmarkkanahalfwidth",65438,"vokatakana",12538,"vparen",9393,"vtilde",7805,"vturned",652,"vuhiragana",12436,"vukatakana",12532,"w",119,"wacute",7811,"waekorean",12633,"wahiragana",12431,"wakatakana",12527,"wakatakanahalfwidth",65436,"wakorean",12632,"wasmallhiragana",12430,"wasmallkatakana",12526,"wattosquare",13143,"wavedash",12316,"wavyunderscorevertical",65076,"wawarabic",1608,"wawfinalarabic",65262,"wawhamzaabovearabic",1572,"wawhamzaabovefinalarabic",65158,"wbsquare",13277,"wcircle",9446,"wcircumflex",373,"wdieresis",7813,"wdotaccent",7815,"wdotbelow",7817,"wehiragana",12433,"weierstrass",8472,"wekatakana",12529,"wekorean",12638,"weokorean",12637,"wgrave",7809,"whitebullet",9702,"whitecircle",9675,"whitecircleinverse",9689,"whitecornerbracketleft",12302,"whitecornerbracketleftvertical",65091,"whitecornerbracketright",12303,"whitecornerbracketrightvertical",65092,"whitediamond",9671,"whitediamondcontainingblacksmalldiamond",9672,"whitedownpointingsmalltriangle",9663,"whitedownpointingtriangle",9661,"whiteleftpointingsmalltriangle",9667,"whiteleftpointingtriangle",9665,"whitelenticularbracketleft",12310,"whitelenticularbracketright",12311,"whiterightpointingsmalltriangle",9657,"whiterightpointingtriangle",9655,"whitesmallsquare",9643,"whitesmilingface",9786,"whitesquare",9633,"whitestar",9734,"whitetelephone",9743,"whitetortoiseshellbracketleft",12312,"whitetortoiseshellbracketright",12313,"whiteuppointingsmalltriangle",9653,"whiteuppointingtriangle",9651,"wihiragana",12432,"wikatakana",12528,"wikorean",12639,"wmonospace",65367,"wohiragana",12434,"wokatakana",12530,"wokatakanahalfwidth",65382,"won",8361,"wonmonospace",65510,"wowaenthai",3623,"wparen",9394,"wring",7832,"wsuperior",695,"wturned",653,"wynn",447,"x",120,"xabovecmb",829,"xbopomofo",12562,"xcircle",9447,"xdieresis",7821,"xdotaccent",7819,"xeharmenian",1389,"xi",958,"xmonospace",65368,"xparen",9395,"xsuperior",739,"y",121,"yaadosquare",13134,"yabengali",2479,"yacute",253,"yadeva",2351,"yaekorean",12626,"yagujarati",2735,"yagurmukhi",2607,"yahiragana",12420,"yakatakana",12516,"yakatakanahalfwidth",65428,"yakorean",12625,"yamakkanthai",3662,"yasmallhiragana",12419,"yasmallkatakana",12515,"yasmallkatakanahalfwidth",65388,"yatcyrillic",1123,"ycircle",9448,"ycircumflex",375,"ydieresis",255,"ydotaccent",7823,"ydotbelow",7925,"yeharabic",1610,"yehbarreearabic",1746,"yehbarreefinalarabic",64431,"yehfinalarabic",65266,"yehhamzaabovearabic",1574,"yehhamzaabovefinalarabic",65162,"yehhamzaaboveinitialarabic",65163,"yehhamzaabovemedialarabic",65164,"yehinitialarabic",65267,"yehmedialarabic",65268,"yehmeeminitialarabic",64733,"yehmeemisolatedarabic",64600,"yehnoonfinalarabic",64660,"yehthreedotsbelowarabic",1745,"yekorean",12630,"yen",165,"yenmonospace",65509,"yeokorean",12629,"yeorinhieuhkorean",12678,"yerahbenyomohebrew",1450,"yerahbenyomolefthebrew",1450,"yericyrillic",1099,"yerudieresiscyrillic",1273,"yesieungkorean",12673,"yesieungpansioskorean",12675,"yesieungsioskorean",12674,"yetivhebrew",1434,"ygrave",7923,"yhook",436,"yhookabove",7927,"yiarmenian",1397,"yicyrillic",1111,"yikorean",12642,"yinyang",9775,"yiwnarmenian",1410,"ymonospace",65369,"yod",1497,"yoddagesh",64313,"yoddageshhebrew",64313,"yodhebrew",1497,"yodyodhebrew",1522,"yodyodpatahhebrew",64287,"yohiragana",12424,"yoikorean",12681,"yokatakana",12520,"yokatakanahalfwidth",65430,"yokorean",12635,"yosmallhiragana",12423,"yosmallkatakana",12519,"yosmallkatakanahalfwidth",65390,"yotgreek",1011,"yoyaekorean",12680,"yoyakorean",12679,"yoyakthai",3618,"yoyingthai",3597,"yparen",9396,"ypogegrammeni",890,"ypogegrammenigreekcmb",837,"yr",422,"yring",7833,"ysuperior",696,"ytilde",7929,"yturned",654,"yuhiragana",12422,"yuikorean",12684,"yukatakana",12518,"yukatakanahalfwidth",65429,"yukorean",12640,"yusbigcyrillic",1131,"yusbigiotifiedcyrillic",1133,"yuslittlecyrillic",1127,"yuslittleiotifiedcyrillic",1129,"yusmallhiragana",12421,"yusmallkatakana",12517,"yusmallkatakanahalfwidth",65389,"yuyekorean",12683,"yuyeokorean",12682,"yyabengali",2527,"yyadeva",2399,"z",122,"zaarmenian",1382,"zacute",378,"zadeva",2395,"zagurmukhi",2651,"zaharabic",1592,"zahfinalarabic",65222,"zahinitialarabic",65223,"zahiragana",12374,"zahmedialarabic",65224,"zainarabic",1586,"zainfinalarabic",65200,"zakatakana",12470,"zaqefgadolhebrew",1429,"zaqefqatanhebrew",1428,"zarqahebrew",1432,"zayin",1494,"zayindagesh",64310,"zayindageshhebrew",64310,"zayinhebrew",1494,"zbopomofo",12567,"zcaron",382,"zcircle",9449,"zcircumflex",7825,"zcurl",657,"zdot",380,"zdotaccent",380,"zdotbelow",7827,"zecyrillic",1079,"zedescendercyrillic",1177,"zedieresiscyrillic",1247,"zehiragana",12380,"zekatakana",12476,"zero",48,"zeroarabic",1632,"zerobengali",2534,"zerodeva",2406,"zerogujarati",2790,"zerogurmukhi",2662,"zerohackarabic",1632,"zeroinferior",8320,"zeromonospace",65296,"zerooldstyle",63280,"zeropersian",1776,"zerosuperior",8304,"zerothai",3664,"zerowidthjoiner",65279,"zerowidthnonjoiner",8204,"zerowidthspace",8203,"zeta",950,"zhbopomofo",12563,"zhearmenian",1386,"zhebrevecyrillic",1218,"zhecyrillic",1078,"zhedescendercyrillic",1175,"zhedieresiscyrillic",1245,"zihiragana",12376,"zikatakana",12472,"zinorhebrew",1454,"zlinebelow",7829,"zmonospace",65370,"zohiragana",12382,"zokatakana",12478,"zparen",9397,"zretroflexhook",656,"zstroke",438,"zuhiragana",12378,"zukatakana",12474,".notdef",0,"angbracketleftbig",9001,"angbracketleftBig",9001,"angbracketleftbigg",9001,"angbracketleftBigg",9001,"angbracketrightBig",9002,"angbracketrightbig",9002,"angbracketrightBigg",9002,"angbracketrightbigg",9002,"arrowhookleft",8618,"arrowhookright",8617,"arrowlefttophalf",8636,"arrowleftbothalf",8637,"arrownortheast",8599,"arrownorthwest",8598,"arrowrighttophalf",8640,"arrowrightbothalf",8641,"arrowsoutheast",8600,"arrowsouthwest",8601,"backslashbig",8726,"backslashBig",8726,"backslashBigg",8726,"backslashbigg",8726,"bardbl",8214,"bracehtipdownleft",65079,"bracehtipdownright",65079,"bracehtipupleft",65080,"bracehtipupright",65080,"braceleftBig",123,"braceleftbig",123,"braceleftbigg",123,"braceleftBigg",123,"bracerightBig",125,"bracerightbig",125,"bracerightbigg",125,"bracerightBigg",125,"bracketleftbig",91,"bracketleftBig",91,"bracketleftbigg",91,"bracketleftBigg",91,"bracketrightBig",93,"bracketrightbig",93,"bracketrightbigg",93,"bracketrightBigg",93,"ceilingleftbig",8968,"ceilingleftBig",8968,"ceilingleftBigg",8968,"ceilingleftbigg",8968,"ceilingrightbig",8969,"ceilingrightBig",8969,"ceilingrightbigg",8969,"ceilingrightBigg",8969,"circledotdisplay",8857,"circledottext",8857,"circlemultiplydisplay",8855,"circlemultiplytext",8855,"circleplusdisplay",8853,"circleplustext",8853,"contintegraldisplay",8750,"contintegraltext",8750,"coproductdisplay",8720,"coproducttext",8720,"floorleftBig",8970,"floorleftbig",8970,"floorleftbigg",8970,"floorleftBigg",8970,"floorrightbig",8971,"floorrightBig",8971,"floorrightBigg",8971,"floorrightbigg",8971,"hatwide",770,"hatwider",770,"hatwidest",770,"intercal",7488,"integraldisplay",8747,"integraltext",8747,"intersectiondisplay",8898,"intersectiontext",8898,"logicalanddisplay",8743,"logicalandtext",8743,"logicalordisplay",8744,"logicalortext",8744,"parenleftBig",40,"parenleftbig",40,"parenleftBigg",40,"parenleftbigg",40,"parenrightBig",41,"parenrightbig",41,"parenrightBigg",41,"parenrightbigg",41,"prime",8242,"productdisplay",8719,"producttext",8719,"radicalbig",8730,"radicalBig",8730,"radicalBigg",8730,"radicalbigg",8730,"radicalbt",8730,"radicaltp",8730,"radicalvertex",8730,"slashbig",47,"slashBig",47,"slashBigg",47,"slashbigg",47,"summationdisplay",8721,"summationtext",8721,"tildewide",732,"tildewider",732,"tildewidest",732,"uniondisplay",8899,"unionmultidisplay",8846,"unionmultitext",8846,"unionsqdisplay",8852,"unionsqtext",8852,"uniontext",8899,"vextenddouble",8741,"vextendsingle",8739]}),Tt=(0,s.getArrayLookupTableFactory)(function(){return["space",32,"a1",9985,"a2",9986,"a202",9987,"a3",9988,"a4",9742,"a5",9990,"a119",9991,"a118",9992,"a117",9993,"a11",9755,"a12",9758,"a13",9996,"a14",9997,"a15",9998,"a16",9999,"a105",1e4,"a17",10001,"a18",10002,"a19",10003,"a20",10004,"a21",10005,"a22",10006,"a23",10007,"a24",10008,"a25",10009,"a26",10010,"a27",10011,"a28",10012,"a6",10013,"a7",10014,"a8",10015,"a9",10016,"a10",10017,"a29",10018,"a30",10019,"a31",10020,"a32",10021,"a33",10022,"a34",10023,"a35",9733,"a36",10025,"a37",10026,"a38",10027,"a39",10028,"a40",10029,"a41",10030,"a42",10031,"a43",10032,"a44",10033,"a45",10034,"a46",10035,"a47",10036,"a48",10037,"a49",10038,"a50",10039,"a51",10040,"a52",10041,"a53",10042,"a54",10043,"a55",10044,"a56",10045,"a57",10046,"a58",10047,"a59",10048,"a60",10049,"a61",10050,"a62",10051,"a63",10052,"a64",10053,"a65",10054,"a66",10055,"a67",10056,"a68",10057,"a69",10058,"a70",10059,"a71",9679,"a72",10061,"a73",9632,"a74",10063,"a203",10064,"a75",10065,"a204",10066,"a76",9650,"a77",9660,"a78",9670,"a79",10070,"a81",9687,"a82",10072,"a83",10073,"a84",10074,"a97",10075,"a98",10076,"a99",10077,"a100",10078,"a101",10081,"a102",10082,"a103",10083,"a104",10084,"a106",10085,"a107",10086,"a108",10087,"a112",9827,"a111",9830,"a110",9829,"a109",9824,"a120",9312,"a121",9313,"a122",9314,"a123",9315,"a124",9316,"a125",9317,"a126",9318,"a127",9319,"a128",9320,"a129",9321,"a130",10102,"a131",10103,"a132",10104,"a133",10105,"a134",10106,"a135",10107,"a136",10108,"a137",10109,"a138",10110,"a139",10111,"a140",10112,"a141",10113,"a142",10114,"a143",10115,"a144",10116,"a145",10117,"a146",10118,"a147",10119,"a148",10120,"a149",10121,"a150",10122,"a151",10123,"a152",10124,"a153",10125,"a154",10126,"a155",10127,"a156",10128,"a157",10129,"a158",10130,"a159",10131,"a160",10132,"a161",8594,"a163",8596,"a164",8597,"a196",10136,"a165",10137,"a192",10138,"a166",10139,"a167",10140,"a168",10141,"a169",10142,"a170",10143,"a171",10144,"a172",10145,"a173",10146,"a162",10147,"a174",10148,"a175",10149,"a176",10150,"a177",10151,"a178",10152,"a179",10153,"a193",10154,"a180",10155,"a199",10156,"a181",10157,"a200",10158,"a182",10159,"a201",10161,"a183",10162,"a184",10163,"a197",10164,"a185",10165,"a194",10166,"a198",10167,"a186",10168,"a195",10169,"a187",10170,"a188",10171,"a189",10172,"a190",10173,"a191",10174,"a89",10088,"a90",10089,"a93",10090,"a94",10091,"a91",10092,"a92",10093,"a205",10094,"a85",10095,"a206",10096,"a86",10097,"a87",10098,"a88",10099,"a95",10100,"a96",10101,".notdef",0]})},(zt,ct,Et)=>{Et.r(ct),Et.d(ct,{clearUnicodeCaches:()=>ut,getCharUnicodeCategory:()=>o,getNormalizedUnicodes:()=>$,getUnicodeForGlyph:()=>wt,getUnicodeRangeFor:()=>gt,mapSpecialUnicodeValues:()=>Tt,reverseIfRtl:()=>d});var s=Et(6);const st=(0,s.getLookupTableFactory)(function(dt){dt[63721]=169,dt[63193]=169,dt[63720]=174,dt[63194]=174,dt[63722]=8482,dt[63195]=8482,dt[63729]=9127,dt[63730]=9128,dt[63731]=9129,dt[63740]=9131,dt[63741]=9132,dt[63742]=9133,dt[63726]=9121,dt[63727]=9122,dt[63728]=9123,dt[63737]=9124,dt[63738]=9125,dt[63739]=9126,dt[63723]=9115,dt[63724]=9116,dt[63725]=9117,dt[63734]=9118,dt[63735]=9119,dt[63736]=9120});function Tt(dt){return dt>=65520&&dt<=65535?0:dt>=62976&&dt<=63743?st()[dt]||dt:dt===173?45:dt}function wt(dt,b){let h=b[dt];if(h!==void 0)return h;if(!dt)return-1;if(dt[0]==="u"){const et=dt.length;let nt;if(et===7&&dt[1]==="n"&&dt[2]==="i")nt=dt.substring(3);else if(et>=5&&et<=7)nt=dt.substring(1);else return-1;if(nt===nt.toUpperCase()&&(h=parseInt(nt,16),h>=0))return h}return-1}const e=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function gt(dt){for(let b=0,h=e.length;b<h;b++){const et=e[b];if(dt>=et.begin&&dt<et.end)return b}return-1}function _(dt){let b=e[13];return dt>=b.begin&&dt<b.end||(b=e[11],dt>=b.begin&&dt<b.end)}const $=(0,s.getArrayLookupTableFactory)(function(){return[""," ",""," ",""," ","","",""," ","","IJ","","ij","","L","","l","","n","","s","","D","","D","","d","","LJ","","Lj","","lj","","NJ","","Nj","","nj","","DZ","","Dz","","dz",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","a",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ",""," ","",".","","..","","...","","","","","","","","","","!!",""," ","","??","","?!","","!?","","",""," ","","Rs","","a/c","","a/s","","C","","c/o","","c/u","","","","F","","No","","TEL","","","","","","","","","","FAX","","I","","II","","III","","IV","","V","","VI","","VII","","VIII","","IX","","X","","XI","","XII","","L","","C","","D","","M","","i","","ii","","iii","","iv","","v","","vi","","vii","","viii","","ix","","x","","xi","","xii","","l","","c","","d","","m","","","","","","","","","","(1)","","(2)","","(3)","","(4)","","(5)","","(6)","","(7)","","(8)","","(9)","","(10)","","(11)","","(12)","","(13)","","(14)","","(15)","","(16)","","(17)","","(18)","","(19)","","(20)","","1.","","2.","","3.","","4.","","5.","","6.","","7.","","8.","","9.","","10.","","11.","","12.","","13.","","14.","","15.","","16.","","17.","","18.","","19.","","20.","","(a)","","(b)","","(c)","","(d)","","(e)","","(f)","","(g)","","(h)","","(i)","","(j)","","(k)","","(l)","","(m)","","(n)","","(o)","","(p)","","(q)","","(r)","","(s)","","(t)","","(u)","","(v)","","(w)","","(x)","","(y)","","(z)","","","","::=","","==","","===","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""," ",""," ","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","()","","1","","2","","3","","4","","5","","6","","7","","8","","9","","10","","11","","12","","0","","1","","2","","3","","4","","5","","6","","7","","8","","9","","10","","11","","12","","13","","14","","15","","16","","17","","18","","19","","20","","21","","22","","23","","24","","1","","2","","3","","4","","5","","6","","7","","8","","9","","10","","11","","12","","13","","14","","15","","16","","17","","18","","19","","20","","21","","22","","23","","24","","25","","26","","27","","28","","29","","30","","31","","ff","","fi","","fl","","ffi","","ffl","","t","","st","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""," ",""," ",""," ",""," ",""," ",""," ","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","_","","_","","_","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]});function d(dt){const b=dt.length;if(b<=1||!_(dt.charCodeAt(0)))return dt;const h=[];for(let et=b-1;et>=0;et--)h.push(dt[et]);return h.join("")}const j=new RegExp("^(\\s)|(\\p{Mn})|(\\p{Cf})$","u"),g=new Map;function o(dt){const b=g.get(dt);if(b)return b;const h=dt.match(j),et={isWhitespace:!!(h&&h[1]),isZeroWidthDiacritic:!!(h&&h[2]),isInvisibleFormatMark:!!(h&&h[3])};return g.set(dt,et),et}function ut(){g.clear()}},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.getSerifFonts=ct.getNonStdFontMap=ct.getGlyphMapForStandardFonts=ct.getFontNameToFileMap=void 0,ct.getStandardFontName=g,ct.getSymbolsFonts=ct.getSupplementalGlyphMapForCalibri=ct.getSupplementalGlyphMapForArialBlack=ct.getStdFontMap=void 0;var s=Et(6),st=Et(38);const Tt=(0,s.getLookupTableFactory)(function(o){o["Times-Roman"]="Times-Roman",o.Helvetica="Helvetica",o.Courier="Courier",o.Symbol="Symbol",o["Times-Bold"]="Times-Bold",o["Helvetica-Bold"]="Helvetica-Bold",o["Courier-Bold"]="Courier-Bold",o.ZapfDingbats="ZapfDingbats",o["Times-Italic"]="Times-Italic",o["Helvetica-Oblique"]="Helvetica-Oblique",o["Courier-Oblique"]="Courier-Oblique",o["Times-BoldItalic"]="Times-BoldItalic",o["Helvetica-BoldOblique"]="Helvetica-BoldOblique",o["Courier-BoldOblique"]="Courier-BoldOblique",o.ArialNarrow="Helvetica",o["ArialNarrow-Bold"]="Helvetica-Bold",o["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",o["ArialNarrow-Italic"]="Helvetica-Oblique",o.ArialBlack="Helvetica",o["ArialBlack-Bold"]="Helvetica-Bold",o["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",o["ArialBlack-Italic"]="Helvetica-Oblique",o["Arial-Black"]="Helvetica",o["Arial-Black-Bold"]="Helvetica-Bold",o["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",o["Arial-Black-Italic"]="Helvetica-Oblique",o.Arial="Helvetica",o["Arial-Bold"]="Helvetica-Bold",o["Arial-BoldItalic"]="Helvetica-BoldOblique",o["Arial-Italic"]="Helvetica-Oblique",o.ArialMT="Helvetica",o["Arial-BoldItalicMT"]="Helvetica-BoldOblique",o["Arial-BoldMT"]="Helvetica-Bold",o["Arial-ItalicMT"]="Helvetica-Oblique",o.ArialUnicodeMS="Helvetica",o["ArialUnicodeMS-Bold"]="Helvetica-Bold",o["ArialUnicodeMS-BoldItalic"]="Helvetica-BoldOblique",o["ArialUnicodeMS-Italic"]="Helvetica-Oblique",o["Courier-BoldItalic"]="Courier-BoldOblique",o["Courier-Italic"]="Courier-Oblique",o.CourierNew="Courier",o["CourierNew-Bold"]="Courier-Bold",o["CourierNew-BoldItalic"]="Courier-BoldOblique",o["CourierNew-Italic"]="Courier-Oblique",o["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",o["CourierNewPS-BoldMT"]="Courier-Bold",o["CourierNewPS-ItalicMT"]="Courier-Oblique",o.CourierNewPSMT="Courier",o["Helvetica-BoldItalic"]="Helvetica-BoldOblique",o["Helvetica-Italic"]="Helvetica-Oblique",o["Symbol-Bold"]="Symbol",o["Symbol-BoldItalic"]="Symbol",o["Symbol-Italic"]="Symbol",o.TimesNewRoman="Times-Roman",o["TimesNewRoman-Bold"]="Times-Bold",o["TimesNewRoman-BoldItalic"]="Times-BoldItalic",o["TimesNewRoman-Italic"]="Times-Italic",o.TimesNewRomanPS="Times-Roman",o["TimesNewRomanPS-Bold"]="Times-Bold",o["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",o["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",o["TimesNewRomanPS-BoldMT"]="Times-Bold",o["TimesNewRomanPS-Italic"]="Times-Italic",o["TimesNewRomanPS-ItalicMT"]="Times-Italic",o.TimesNewRomanPSMT="Times-Roman",o["TimesNewRomanPSMT-Bold"]="Times-Bold",o["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",o["TimesNewRomanPSMT-Italic"]="Times-Italic"});ct.getStdFontMap=Tt;const wt=(0,s.getLookupTableFactory)(function(o){o.Courier="FoxitFixed.pfb",o["Courier-Bold"]="FoxitFixedBold.pfb",o["Courier-BoldOblique"]="FoxitFixedBoldItalic.pfb",o["Courier-Oblique"]="FoxitFixedItalic.pfb",o.Helvetica="FoxitSans.pfb",o["Helvetica-Bold"]="FoxitSansBold.pfb",o["Helvetica-BoldOblique"]="FoxitSansBoldItalic.pfb",o["Helvetica-Oblique"]="FoxitSansItalic.pfb",o["Times-Roman"]="FoxitSerif.pfb",o["Times-Bold"]="FoxitSerifBold.pfb",o["Times-BoldItalic"]="FoxitSerifBoldItalic.pfb",o["Times-Italic"]="FoxitSerifItalic.pfb",o.Symbol="FoxitSymbol.pfb",o.ZapfDingbats="FoxitDingbats.pfb",o["LiberationSans-Regular"]="LiberationSans-Regular.ttf",o["LiberationSans-Bold"]="LiberationSans-Bold.ttf",o["LiberationSans-Italic"]="LiberationSans-Italic.ttf",o["LiberationSans-BoldItalic"]="LiberationSans-BoldItalic.ttf"});ct.getFontNameToFileMap=wt;const e=(0,s.getLookupTableFactory)(function(o){o.Calibri="Helvetica",o["Calibri-Bold"]="Helvetica-Bold",o["Calibri-BoldItalic"]="Helvetica-BoldOblique",o["Calibri-Italic"]="Helvetica-Oblique",o.CenturyGothic="Helvetica",o["CenturyGothic-Bold"]="Helvetica-Bold",o["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",o["CenturyGothic-Italic"]="Helvetica-Oblique",o.ComicSansMS="Comic Sans MS",o["ComicSansMS-Bold"]="Comic Sans MS-Bold",o["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",o["ComicSansMS-Italic"]="Comic Sans MS-Italic",o["ItcSymbol-Bold"]="Helvetica-Bold",o["ItcSymbol-BoldItalic"]="Helvetica-BoldOblique",o["ItcSymbol-Book"]="Helvetica",o["ItcSymbol-BookItalic"]="Helvetica-Oblique",o["ItcSymbol-Medium"]="Helvetica",o["ItcSymbol-MediumItalic"]="Helvetica-Oblique",o.LucidaConsole="Courier",o["LucidaConsole-Bold"]="Courier-Bold",o["LucidaConsole-BoldItalic"]="Courier-BoldOblique",o["LucidaConsole-Italic"]="Courier-Oblique",o["LucidaSans-Demi"]="Helvetica-Bold",o["MS-Gothic"]="MS Gothic",o["MS-Gothic-Bold"]="MS Gothic-Bold",o["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",o["MS-Gothic-Italic"]="MS Gothic-Italic",o["MS-Mincho"]="MS Mincho",o["MS-Mincho-Bold"]="MS Mincho-Bold",o["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",o["MS-Mincho-Italic"]="MS Mincho-Italic",o["MS-PGothic"]="MS PGothic",o["MS-PGothic-Bold"]="MS PGothic-Bold",o["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",o["MS-PGothic-Italic"]="MS PGothic-Italic",o["MS-PMincho"]="MS PMincho",o["MS-PMincho-Bold"]="MS PMincho-Bold",o["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",o["MS-PMincho-Italic"]="MS PMincho-Italic",o.NuptialScript="Times-Italic",o.SegoeUISymbol="Helvetica",o.Wingdings="ZapfDingbats",o["Wingdings-Regular"]="ZapfDingbats"});ct.getNonStdFontMap=e;const gt=(0,s.getLookupTableFactory)(function(o){o["Adobe Jenson"]=!0,o["Adobe Text"]=!0,o.Albertus=!0,o.Aldus=!0,o.Alexandria=!0,o.Algerian=!0,o["American Typewriter"]=!0,o.Antiqua=!0,o.Apex=!0,o.Arno=!0,o.Aster=!0,o.Aurora=!0,o.Baskerville=!0,o.Bell=!0,o.Bembo=!0,o["Bembo Schoolbook"]=!0,o.Benguiat=!0,o["Berkeley Old Style"]=!0,o["Bernhard Modern"]=!0,o["Berthold City"]=!0,o.Bodoni=!0,o["Bauer Bodoni"]=!0,o["Book Antiqua"]=!0,o.Bookman=!0,o["Bordeaux Roman"]=!0,o["Californian FB"]=!0,o.Calisto=!0,o.Calvert=!0,o.Capitals=!0,o.Cambria=!0,o.Cartier=!0,o.Caslon=!0,o.Catull=!0,o.Centaur=!0,o["Century Old Style"]=!0,o["Century Schoolbook"]=!0,o.Chaparral=!0,o["Charis SIL"]=!0,o.Cheltenham=!0,o["Cholla Slab"]=!0,o.Clarendon=!0,o.Clearface=!0,o.Cochin=!0,o.Colonna=!0,o["Computer Modern"]=!0,o["Concrete Roman"]=!0,o.Constantia=!0,o["Cooper Black"]=!0,o.Corona=!0,o.Ecotype=!0,o.Egyptienne=!0,o.Elephant=!0,o.Excelsior=!0,o.Fairfield=!0,o["FF Scala"]=!0,o.Folkard=!0,o.Footlight=!0,o.FreeSerif=!0,o["Friz Quadrata"]=!0,o.Garamond=!0,o.Gentium=!0,o.Georgia=!0,o.Gloucester=!0,o["Goudy Old Style"]=!0,o["Goudy Schoolbook"]=!0,o["Goudy Pro Font"]=!0,o.Granjon=!0,o["Guardian Egyptian"]=!0,o.Heather=!0,o.Hercules=!0,o["High Tower Text"]=!0,o.Hiroshige=!0,o["Hoefler Text"]=!0,o["Humana Serif"]=!0,o.Imprint=!0,o["Ionic No. 5"]=!0,o.Janson=!0,o.Joanna=!0,o.Korinna=!0,o.Lexicon=!0,o.LiberationSerif=!0,o["Liberation Serif"]=!0,o["Linux Libertine"]=!0,o.Literaturnaya=!0,o.Lucida=!0,o["Lucida Bright"]=!0,o.Melior=!0,o.Memphis=!0,o.Miller=!0,o.Minion=!0,o.Modern=!0,o["Mona Lisa"]=!0,o["Mrs Eaves"]=!0,o["MS Serif"]=!0,o["Museo Slab"]=!0,o["New York"]=!0,o["Nimbus Roman"]=!0,o["NPS Rawlinson Roadway"]=!0,o.NuptialScript=!0,o.Palatino=!0,o.Perpetua=!0,o.Plantin=!0,o["Plantin Schoolbook"]=!0,o.Playbill=!0,o["Poor Richard"]=!0,o["Rawlinson Roadway"]=!0,o.Renault=!0,o.Requiem=!0,o.Rockwell=!0,o.Roman=!0,o["Rotis Serif"]=!0,o.Sabon=!0,o.Scala=!0,o.Seagull=!0,o.Sistina=!0,o.Souvenir=!0,o.STIX=!0,o["Stone Informal"]=!0,o["Stone Serif"]=!0,o.Sylfaen=!0,o.Times=!0,o.Trajan=!0,o.Trinit=!0,o["Trump Mediaeval"]=!0,o.Utopia=!0,o["Vale Type"]=!0,o["Bitstream Vera"]=!0,o["Vera Serif"]=!0,o.Versailles=!0,o.Wanted=!0,o.Weiss=!0,o["Wide Latin"]=!0,o.Windsor=!0,o.XITS=!0});ct.getSerifFonts=gt;const _=(0,s.getLookupTableFactory)(function(o){o.Dingbats=!0,o.Symbol=!0,o.ZapfDingbats=!0});ct.getSymbolsFonts=_;const $=(0,s.getLookupTableFactory)(function(o){o[2]=10,o[3]=32,o[4]=33,o[5]=34,o[6]=35,o[7]=36,o[8]=37,o[9]=38,o[10]=39,o[11]=40,o[12]=41,o[13]=42,o[14]=43,o[15]=44,o[16]=45,o[17]=46,o[18]=47,o[19]=48,o[20]=49,o[21]=50,o[22]=51,o[23]=52,o[24]=53,o[25]=54,o[26]=55,o[27]=56,o[28]=57,o[29]=58,o[30]=894,o[31]=60,o[32]=61,o[33]=62,o[34]=63,o[35]=64,o[36]=65,o[37]=66,o[38]=67,o[39]=68,o[40]=69,o[41]=70,o[42]=71,o[43]=72,o[44]=73,o[45]=74,o[46]=75,o[47]=76,o[48]=77,o[49]=78,o[50]=79,o[51]=80,o[52]=81,o[53]=82,o[54]=83,o[55]=84,o[56]=85,o[57]=86,o[58]=87,o[59]=88,o[60]=89,o[61]=90,o[62]=91,o[63]=92,o[64]=93,o[65]=94,o[66]=95,o[67]=96,o[68]=97,o[69]=98,o[70]=99,o[71]=100,o[72]=101,o[73]=102,o[74]=103,o[75]=104,o[76]=105,o[77]=106,o[78]=107,o[79]=108,o[80]=109,o[81]=110,o[82]=111,o[83]=112,o[84]=113,o[85]=114,o[86]=115,o[87]=116,o[88]=117,o[89]=118,o[90]=119,o[91]=120,o[92]=121,o[93]=122,o[94]=123,o[95]=124,o[96]=125,o[97]=126,o[98]=196,o[99]=197,o[100]=199,o[101]=201,o[102]=209,o[103]=214,o[104]=220,o[105]=225,o[106]=224,o[107]=226,o[108]=228,o[109]=227,o[110]=229,o[111]=231,o[112]=233,o[113]=232,o[114]=234,o[115]=235,o[116]=237,o[117]=236,o[118]=238,o[119]=239,o[120]=241,o[121]=243,o[122]=242,o[123]=244,o[124]=246,o[125]=245,o[126]=250,o[127]=249,o[128]=251,o[129]=252,o[130]=8224,o[131]=176,o[132]=162,o[133]=163,o[134]=167,o[135]=8226,o[136]=182,o[137]=223,o[138]=174,o[139]=169,o[140]=8482,o[141]=180,o[142]=168,o[143]=8800,o[144]=198,o[145]=216,o[146]=8734,o[147]=177,o[148]=8804,o[149]=8805,o[150]=165,o[151]=181,o[152]=8706,o[153]=8721,o[154]=8719,o[156]=8747,o[157]=170,o[158]=186,o[159]=8486,o[160]=230,o[161]=248,o[162]=191,o[163]=161,o[164]=172,o[165]=8730,o[166]=402,o[167]=8776,o[168]=8710,o[169]=171,o[170]=187,o[171]=8230,o[200]=193,o[203]=205,o[210]=218,o[223]=711,o[224]=321,o[225]=322,o[226]=352,o[227]=353,o[228]=381,o[229]=382,o[233]=221,o[234]=253,o[252]=263,o[253]=268,o[254]=269,o[258]=258,o[260]=260,o[261]=261,o[265]=280,o[266]=281,o[267]=282,o[268]=283,o[269]=313,o[275]=323,o[276]=324,o[278]=328,o[283]=344,o[284]=345,o[285]=346,o[286]=347,o[292]=367,o[295]=377,o[296]=378,o[298]=380,o[305]=963,o[306]=964,o[307]=966,o[308]=8215,o[309]=8252,o[310]=8319,o[311]=8359,o[312]=8592,o[313]=8593,o[337]=9552,o[493]=1039,o[494]=1040,o[672]=1488,o[673]=1489,o[674]=1490,o[675]=1491,o[676]=1492,o[677]=1493,o[678]=1494,o[679]=1495,o[680]=1496,o[681]=1497,o[682]=1498,o[683]=1499,o[684]=1500,o[685]=1501,o[686]=1502,o[687]=1503,o[688]=1504,o[689]=1505,o[690]=1506,o[691]=1507,o[692]=1508,o[693]=1509,o[694]=1510,o[695]=1511,o[696]=1512,o[697]=1513,o[698]=1514,o[705]=1524,o[706]=8362,o[710]=64288,o[711]=64298,o[759]=1617,o[761]=1776,o[763]=1778,o[775]=1652,o[777]=1764,o[778]=1780,o[779]=1781,o[780]=1782,o[782]=771,o[783]=64726,o[786]=8363,o[788]=8532,o[790]=768,o[791]=769,o[792]=768,o[795]=803,o[797]=64336,o[798]=64337,o[799]=64342,o[800]=64343,o[801]=64344,o[802]=64345,o[803]=64362,o[804]=64363,o[805]=64364,o[2424]=7821,o[2425]=7822,o[2426]=7823,o[2427]=7824,o[2428]=7825,o[2429]=7826,o[2430]=7827,o[2433]=7682,o[2678]=8045,o[2679]=8046,o[2830]=1552,o[2838]=686,o[2840]=751,o[2842]=753,o[2843]=754,o[2844]=755,o[2846]=757,o[2856]=767,o[2857]=848,o[2858]=849,o[2862]=853,o[2863]=854,o[2864]=855,o[2865]=861,o[2866]=862,o[2906]=7460,o[2908]=7462,o[2909]=7463,o[2910]=7464,o[2912]=7466,o[2913]=7467,o[2914]=7468,o[2916]=7470,o[2917]=7471,o[2918]=7472,o[2920]=7474,o[2921]=7475,o[2922]=7476,o[2924]=7478,o[2925]=7479,o[2926]=7480,o[2928]=7482,o[2929]=7483,o[2930]=7484,o[2932]=7486,o[2933]=7487,o[2934]=7488,o[2936]=7490,o[2937]=7491,o[2938]=7492,o[2940]=7494,o[2941]=7495,o[2942]=7496,o[2944]=7498,o[2946]=7500,o[2948]=7502,o[2950]=7504,o[2951]=7505,o[2952]=7506,o[2954]=7508,o[2955]=7509,o[2956]=7510,o[2958]=7512,o[2959]=7513,o[2960]=7514,o[2962]=7516,o[2963]=7517,o[2964]=7518,o[2966]=7520,o[2967]=7521,o[2968]=7522,o[2970]=7524,o[2971]=7525,o[2972]=7526,o[2974]=7528,o[2975]=7529,o[2976]=7530,o[2978]=1537,o[2979]=1538,o[2980]=1539,o[2982]=1549,o[2983]=1551,o[2984]=1552,o[2986]=1554,o[2987]=1555,o[2988]=1556,o[2990]=1623,o[2991]=1624,o[2995]=1775,o[2999]=1791,o[3002]=64290,o[3003]=64291,o[3004]=64292,o[3006]=64294,o[3007]=64295,o[3008]=64296,o[3011]=1900,o[3014]=8223,o[3015]=8244,o[3017]=7532,o[3018]=7533,o[3019]=7534,o[3075]=7590,o[3076]=7591,o[3079]=7594,o[3080]=7595,o[3083]=7598,o[3084]=7599,o[3087]=7602,o[3088]=7603,o[3091]=7606,o[3092]=7607,o[3095]=7610,o[3096]=7611,o[3099]=7614,o[3100]=7615,o[3103]=7618,o[3104]=7619,o[3107]=8337,o[3108]=8338,o[3116]=1884,o[3119]=1885,o[3120]=1885,o[3123]=1886,o[3124]=1886,o[3127]=1887,o[3128]=1887,o[3131]=1888,o[3132]=1888,o[3135]=1889,o[3136]=1889,o[3139]=1890,o[3140]=1890,o[3143]=1891,o[3144]=1891,o[3147]=1892,o[3148]=1892,o[3153]=580,o[3154]=581,o[3157]=584,o[3158]=585,o[3161]=588,o[3162]=589,o[3165]=891,o[3166]=892,o[3169]=1274,o[3170]=1275,o[3173]=1278,o[3174]=1279,o[3181]=7622,o[3182]=7623,o[3282]=11799,o[3316]=578,o[3379]=42785,o[3393]=1159,o[3416]=8377});ct.getGlyphMapForStandardFonts=$;const d=(0,s.getLookupTableFactory)(function(o){o[227]=322,o[264]=261,o[291]=346});ct.getSupplementalGlyphMapForArialBlack=d;const j=(0,s.getLookupTableFactory)(function(o){o[1]=32,o[4]=65,o[6]=193,o[17]=66,o[18]=67,o[21]=268,o[24]=68,o[28]=69,o[30]=201,o[32]=282,o[38]=70,o[39]=71,o[44]=72,o[47]=73,o[49]=205,o[58]=74,o[60]=75,o[62]=76,o[68]=77,o[69]=78,o[75]=79,o[87]=80,o[89]=81,o[90]=82,o[92]=344,o[94]=83,o[97]=352,o[100]=84,o[104]=85,o[115]=86,o[116]=87,o[121]=88,o[122]=89,o[124]=221,o[127]=90,o[129]=381,o[258]=97,o[260]=225,o[268]=261,o[271]=98,o[272]=99,o[273]=263,o[275]=269,o[282]=100,o[286]=101,o[288]=233,o[290]=283,o[295]=281,o[296]=102,o[336]=103,o[346]=104,o[349]=105,o[351]=237,o[361]=106,o[364]=107,o[367]=108,o[371]=322,o[373]=109,o[374]=110,o[381]=111,o[383]=243,o[393]=112,o[395]=113,o[396]=114,o[398]=345,o[400]=115,o[401]=347,o[403]=353,o[410]=116,o[437]=117,o[448]=118,o[449]=119,o[454]=120,o[455]=121,o[457]=253,o[460]=122,o[462]=382,o[463]=380,o[853]=44,o[855]=58,o[856]=46,o[876]=47,o[878]=45,o[882]=45,o[894]=40,o[895]=41,o[896]=91,o[897]=93,o[923]=64,o[1004]=48,o[1005]=49,o[1006]=50,o[1007]=51,o[1008]=52,o[1009]=53,o[1010]=54,o[1011]=55,o[1012]=56,o[1013]=57,o[1081]=37,o[1085]=43,o[1086]=45});ct.getSupplementalGlyphMapForCalibri=j;function g(o){const ut=(0,st.normalizeFontName)(o);return Tt()[ut]}},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.ToUnicodeMap=ct.IdentityToUnicodeMap=void 0;var s=Et(2);class st{constructor(e=[]){this._map=e}get length(){return this._map.length}forEach(e){for(const gt in this._map)e(gt,this._map[gt].charCodeAt(0))}has(e){return this._map[e]!==void 0}get(e){return this._map[e]}charCodeOf(e){const gt=this._map;if(gt.length<=65536)return gt.indexOf(e);for(const _ in gt)if(gt[_]===e)return _|0;return-1}amend(e){for(const gt in e)this._map[gt]=e[gt]}}ct.ToUnicodeMap=st;class Tt{constructor(e,gt){this.firstChar=e,this.lastChar=gt}get length(){return this.lastChar+1-this.firstChar}forEach(e){for(let gt=this.firstChar,_=this.lastChar;gt<=_;gt++)e(gt,gt)}has(e){return this.firstChar<=e&&e<=this.lastChar}get(e){if(this.firstChar<=e&&e<=this.lastChar)return String.fromCharCode(e)}charCodeOf(e){return Number.isInteger(e)&&e>=this.firstChar&&e<=this.lastChar?e:-1}amend(e){(0,s.unreachable)("Should not call amend()")}}ct.IdentityToUnicodeMap=Tt},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.CFFFont=void 0;var s=Et(35),st=Et(38),Tt=Et(2);class wt{constructor(gt,_){this.properties=_;const $=new s.CFFParser(gt,_,st.SEAC_ANALYSIS_ENABLED);this.cff=$.parse(),this.cff.duplicateFirstGlyph();const d=new s.CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=d.compile()}catch{(0,Tt.warn)("Failed to compile font "+_.loadedName),this.data=gt}this._createBuiltInEncoding()}get numGlyphs(){return this.cff.charStrings.count}getCharset(){return this.cff.charset.charset}getGlyphMapping(){const gt=this.cff,_=this.properties,$=gt.charset.charset;let d,j;if(_.composite){d=Object.create(null);let o;if(gt.isCIDFont)for(j=0;j<$.length;j++){const ut=$[j];o=_.cMap.charCodeOf(ut),d[o]=j}else for(j=0;j<gt.charStrings.count;j++)o=_.cMap.charCodeOf(j),d[o]=j;return d}let g=gt.encoding?gt.encoding.encoding:null;return _.isInternalFont&&(g=_.defaultEncoding),d=(0,st.type1FontGlyphMapping)(_,g,$),d}hasGlyphId(gt){return this.cff.hasGlyphId(gt)}_createBuiltInEncoding(){const{charset:gt,encoding:_}=this.cff;if(!gt||!_)return;const $=gt.charset,d=_.encoding,j=[];for(const g in d){const o=d[g];if(o>=0){const ut=$[o];ut&&(j[g]=ut)}}j.length>0&&(this.properties.builtInEncoding=j)}}ct.CFFFont=wt},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.FontRendererFactory=void 0;var s=Et(2),st=Et(35),Tt=Et(39),wt=Et(37),e=Et(10);function gt(Ft,lt){return(Ft[lt]<<24|Ft[lt+1]<<16|Ft[lt+2]<<8|Ft[lt+3])>>>0}function _(Ft,lt){return Ft[lt]<<8|Ft[lt+1]}function $(Ft,lt){return(Ft[lt]<<24|Ft[lt+1]<<16)>>16}function d(Ft,lt){return Ft[lt]<<24>>24}function j(Ft,lt){return $(Ft,lt)/16384}function g(Ft){const lt=Ft.length;let ft=32768;return lt<1240?ft=107:lt<33900&&(ft=1131),ft}function o(Ft,lt,ft){const it=_(Ft,lt+2)===1?gt(Ft,lt+8):gt(Ft,lt+16),at=_(Ft,lt+it);let bt,St,ht;if(at===4){_(Ft,lt+it+2);const vt=_(Ft,lt+it+6)>>1;for(St=lt+it+14,bt=[],ht=0;ht<vt;ht++,St+=2)bt[ht]={end:_(Ft,St)};for(St+=2,ht=0;ht<vt;ht++,St+=2)bt[ht].start=_(Ft,St);for(ht=0;ht<vt;ht++,St+=2)bt[ht].idDelta=_(Ft,St);for(ht=0;ht<vt;ht++,St+=2){let yt=_(Ft,St);if(yt!==0){bt[ht].ids=[];for(let At=0,Nt=bt[ht].end-bt[ht].start+1;At<Nt;At++)bt[ht].ids[At]=_(Ft,St+yt),yt+=2}}return bt}else if(at===12){const vt=gt(Ft,lt+it+12);for(St=lt+it+16,bt=[],ht=0;ht<vt;ht++)lt=gt(Ft,St),bt.push({start:lt,end:gt(Ft,St+4),idDelta:gt(Ft,St+8)-lt}),St+=12;return bt}throw new s.FormatError(`unsupported cmap: ${at}`)}function ut(Ft,lt,ft,it){const at={},St=new st.CFFParser(new e.Stream(Ft,lt,ft-lt),at,it).parse();return{glyphs:St.charStrings.objects,subrs:St.topDict.privateDict&&St.topDict.privateDict.subrsIndex&&St.topDict.privateDict.subrsIndex.objects,gsubrs:St.globalSubrIndex&&St.globalSubrIndex.objects,isCFFCIDFont:St.isCIDFont,fdSelect:St.fdSelect,fdArray:St.fdArray}}function dt(Ft,lt,ft){let it,at;ft?(it=4,at=gt):(it=2,at=(ht,vt)=>2*_(ht,vt));const bt=[];let St=at(lt,0);for(let ht=it;ht<lt.length;ht+=it){const vt=at(lt,ht);bt.push(Ft.subarray(St,vt)),St=vt}return bt}function b(Ft,lt){const ft=lt.codePointAt(0);let it=0,at=0,bt=Ft.length-1;for(;at<bt;){const St=at+bt+1>>1;ft<Ft[St].start?bt=St-1:at=St}return Ft[at].start<=ft&&ft<=Ft[at].end&&(it=Ft[at].idDelta+(Ft[at].ids?Ft[at].ids[ft-Ft[at].start]:ft)&65535),{charCode:ft,glyphId:it}}function h(Ft,lt,ft){function it(Nt,Ht){lt.push({cmd:"moveTo",args:[Nt,Ht]})}function at(Nt,Ht){lt.push({cmd:"lineTo",args:[Nt,Ht]})}function bt(Nt,Ht,xt,rt){lt.push({cmd:"quadraticCurveTo",args:[Nt,Ht,xt,rt]})}let St=0;const ht=$(Ft,St);let vt,yt=0,At=0;if(St+=10,ht<0)do{vt=_(Ft,St);const Nt=_(Ft,St+2);St+=4;let Ht,xt;vt&1?(vt&2?(Ht=$(Ft,St),xt=$(Ft,St+2)):(Ht=_(Ft,St),xt=_(Ft,St+2)),St+=4):vt&2?(Ht=d(Ft,St++),xt=d(Ft,St++)):(Ht=Ft[St++],xt=Ft[St++]),vt&2?(yt=Ht,At=xt):(yt=0,At=0);let rt=1,mt=1,Mt=0,_t=0;vt&8?(rt=mt=j(Ft,St),St+=2):vt&64?(rt=j(Ft,St),mt=j(Ft,St+2),St+=4):vt&128&&(rt=j(Ft,St),Mt=j(Ft,St+2),_t=j(Ft,St+4),mt=j(Ft,St+6),St+=8);const Lt=ft.glyphs[Nt];Lt&&(lt.push({cmd:"save"},{cmd:"transform",args:[rt,Mt,_t,mt,yt,At]}),h(Lt,lt,ft),lt.push({cmd:"restore"}))}while(vt&32);else{const Nt=[];let Ht,xt;for(Ht=0;Ht<ht;Ht++)Nt.push(_(Ft,St)),St+=2;const rt=_(Ft,St);St+=2+rt;const mt=Nt.at(-1)+1,Mt=[];for(;Mt.length<mt;){vt=Ft[St++];let Lt=1;for(vt&8&&(Lt+=Ft[St++]);Lt-- >0;)Mt.push({flags:vt})}for(Ht=0;Ht<mt;Ht++){switch(Mt[Ht].flags&18){case 0:yt+=$(Ft,St),St+=2;break;case 2:yt-=Ft[St++];break;case 18:yt+=Ft[St++];break}Mt[Ht].x=yt}for(Ht=0;Ht<mt;Ht++){switch(Mt[Ht].flags&36){case 0:At+=$(Ft,St),St+=2;break;case 4:At-=Ft[St++];break;case 36:At+=Ft[St++];break}Mt[Ht].y=At}let _t=0;for(St=0;St<ht;St++){const Lt=Nt[St],It=Mt.slice(_t,Lt+1);if(It[0].flags&1)It.push(It[0]);else if(It.at(-1).flags&1)It.unshift(It.at(-1));else{const Dt={flags:1,x:(It[0].x+It.at(-1).x)/2,y:(It[0].y+It.at(-1).y)/2};It.unshift(Dt),It.push(Dt)}for(it(It[0].x,It[0].y),Ht=1,xt=It.length;Ht<xt;Ht++)It[Ht].flags&1?at(It[Ht].x,It[Ht].y):It[Ht+1].flags&1?(bt(It[Ht].x,It[Ht].y,It[Ht+1].x,It[Ht+1].y),Ht++):bt(It[Ht].x,It[Ht].y,(It[Ht].x+It[Ht+1].x)/2,(It[Ht].y+It[Ht+1].y)/2);_t=Lt+1}}}function et(Ft,lt,ft,it){function at(Ht,xt){lt.push({cmd:"moveTo",args:[Ht,xt]})}function bt(Ht,xt){lt.push({cmd:"lineTo",args:[Ht,xt]})}function St(Ht,xt,rt,mt,Mt,_t){lt.push({cmd:"bezierCurveTo",args:[Ht,xt,rt,mt,Mt,_t]})}const ht=[];let vt=0,yt=0,At=0;function Nt(Ht){let xt=0;for(;xt<Ht.length;){let rt=!1,mt=Ht[xt++],Mt,_t,Lt,It,Dt,jt,Ot,Xt,Ut;switch(mt){case 1:At+=ht.length>>1,rt=!0;break;case 3:At+=ht.length>>1,rt=!0;break;case 4:yt+=ht.pop(),at(vt,yt),rt=!0;break;case 5:for(;ht.length>0;)vt+=ht.shift(),yt+=ht.shift(),bt(vt,yt);break;case 6:for(;ht.length>0&&(vt+=ht.shift(),bt(vt,yt),ht.length!==0);)yt+=ht.shift(),bt(vt,yt);break;case 7:for(;ht.length>0&&(yt+=ht.shift(),bt(vt,yt),ht.length!==0);)vt+=ht.shift(),bt(vt,yt);break;case 8:for(;ht.length>0;)Mt=vt+ht.shift(),Lt=yt+ht.shift(),_t=Mt+ht.shift(),It=Lt+ht.shift(),vt=_t+ht.shift(),yt=It+ht.shift(),St(Mt,Lt,_t,It,vt,yt);break;case 10:if(Xt=ht.pop(),Ut=null,ft.isCFFCIDFont){const Gt=ft.fdSelect.getFDIndex(it);if(Gt>=0&&Gt<ft.fdArray.length){const qt=ft.fdArray[Gt];let Kt;qt.privateDict&&qt.privateDict.subrsIndex&&(Kt=qt.privateDict.subrsIndex.objects),Kt&&(Xt+=g(Kt),Ut=Kt[Xt])}else(0,s.warn)("Invalid fd index for glyph index.")}else Ut=ft.subrs[Xt+ft.subrsBias];Ut&&Nt(Ut);break;case 11:return;case 12:switch(mt=Ht[xt++],mt){case 34:Mt=vt+ht.shift(),_t=Mt+ht.shift(),Dt=yt+ht.shift(),vt=_t+ht.shift(),St(Mt,yt,_t,Dt,vt,Dt),Mt=vt+ht.shift(),_t=Mt+ht.shift(),vt=_t+ht.shift(),St(Mt,Dt,_t,yt,vt,yt);break;case 35:Mt=vt+ht.shift(),Lt=yt+ht.shift(),_t=Mt+ht.shift(),It=Lt+ht.shift(),vt=_t+ht.shift(),yt=It+ht.shift(),St(Mt,Lt,_t,It,vt,yt),Mt=vt+ht.shift(),Lt=yt+ht.shift(),_t=Mt+ht.shift(),It=Lt+ht.shift(),vt=_t+ht.shift(),yt=It+ht.shift(),St(Mt,Lt,_t,It,vt,yt),ht.pop();break;case 36:Mt=vt+ht.shift(),Dt=yt+ht.shift(),_t=Mt+ht.shift(),jt=Dt+ht.shift(),vt=_t+ht.shift(),St(Mt,Dt,_t,jt,vt,jt),Mt=vt+ht.shift(),_t=Mt+ht.shift(),Ot=jt+ht.shift(),vt=_t+ht.shift(),St(Mt,jt,_t,Ot,vt,yt);break;case 37:const Gt=vt,qt=yt;Mt=vt+ht.shift(),Lt=yt+ht.shift(),_t=Mt+ht.shift(),It=Lt+ht.shift(),vt=_t+ht.shift(),yt=It+ht.shift(),St(Mt,Lt,_t,It,vt,yt),Mt=vt+ht.shift(),Lt=yt+ht.shift(),_t=Mt+ht.shift(),It=Lt+ht.shift(),vt=_t,yt=It,Math.abs(vt-Gt)>Math.abs(yt-qt)?vt+=ht.shift():yt+=ht.shift(),St(Mt,Lt,_t,It,vt,yt);break;default:throw new s.FormatError(`unknown operator: 12 ${mt}`)}break;case 14:if(ht.length>=4){const Gt=ht.pop(),qt=ht.pop();yt=ht.pop(),vt=ht.pop(),lt.push({cmd:"save"},{cmd:"translate",args:[vt,yt]});let Kt=b(ft.cmap,String.fromCharCode(ft.glyphNameMap[wt.StandardEncoding[Gt]]));et(ft.glyphs[Kt.glyphId],lt,ft,Kt.glyphId),lt.push({cmd:"restore"}),Kt=b(ft.cmap,String.fromCharCode(ft.glyphNameMap[wt.StandardEncoding[qt]])),et(ft.glyphs[Kt.glyphId],lt,ft,Kt.glyphId)}return;case 18:At+=ht.length>>1,rt=!0;break;case 19:At+=ht.length>>1,xt+=At+7>>3,rt=!0;break;case 20:At+=ht.length>>1,xt+=At+7>>3,rt=!0;break;case 21:yt+=ht.pop(),vt+=ht.pop(),at(vt,yt),rt=!0;break;case 22:vt+=ht.pop(),at(vt,yt),rt=!0;break;case 23:At+=ht.length>>1,rt=!0;break;case 24:for(;ht.length>2;)Mt=vt+ht.shift(),Lt=yt+ht.shift(),_t=Mt+ht.shift(),It=Lt+ht.shift(),vt=_t+ht.shift(),yt=It+ht.shift(),St(Mt,Lt,_t,It,vt,yt);vt+=ht.shift(),yt+=ht.shift(),bt(vt,yt);break;case 25:for(;ht.length>6;)vt+=ht.shift(),yt+=ht.shift(),bt(vt,yt);Mt=vt+ht.shift(),Lt=yt+ht.shift(),_t=Mt+ht.shift(),It=Lt+ht.shift(),vt=_t+ht.shift(),yt=It+ht.shift(),St(Mt,Lt,_t,It,vt,yt);break;case 26:for(ht.length%2&&(vt+=ht.shift());ht.length>0;)Mt=vt,Lt=yt+ht.shift(),_t=Mt+ht.shift(),It=Lt+ht.shift(),vt=_t,yt=It+ht.shift(),St(Mt,Lt,_t,It,vt,yt);break;case 27:for(ht.length%2&&(yt+=ht.shift());ht.length>0;)Mt=vt+ht.shift(),Lt=yt,_t=Mt+ht.shift(),It=Lt+ht.shift(),vt=_t+ht.shift(),yt=It,St(Mt,Lt,_t,It,vt,yt);break;case 28:ht.push((Ht[xt]<<24|Ht[xt+1]<<16)>>16),xt+=2;break;case 29:Xt=ht.pop()+ft.gsubrsBias,Ut=ft.gsubrs[Xt],Ut&&Nt(Ut);break;case 30:for(;ht.length>0&&(Mt=vt,Lt=yt+ht.shift(),_t=Mt+ht.shift(),It=Lt+ht.shift(),vt=_t+ht.shift(),yt=It+(ht.length===1?ht.shift():0),St(Mt,Lt,_t,It,vt,yt),ht.length!==0);)Mt=vt+ht.shift(),Lt=yt,_t=Mt+ht.shift(),It=Lt+ht.shift(),yt=It+ht.shift(),vt=_t+(ht.length===1?ht.shift():0),St(Mt,Lt,_t,It,vt,yt);break;case 31:for(;ht.length>0&&(Mt=vt+ht.shift(),Lt=yt,_t=Mt+ht.shift(),It=Lt+ht.shift(),yt=It+ht.shift(),vt=_t+(ht.length===1?ht.shift():0),St(Mt,Lt,_t,It,vt,yt),ht.length!==0);)Mt=vt,Lt=yt+ht.shift(),_t=Mt+ht.shift(),It=Lt+ht.shift(),vt=_t+ht.shift(),yt=It+(ht.length===1?ht.shift():0),St(Mt,Lt,_t,It,vt,yt);break;default:if(mt<32)throw new s.FormatError(`unknown operator: ${mt}`);mt<247?ht.push(mt-139):mt<251?ht.push((mt-247)*256+Ht[xt++]+108):mt<255?ht.push(-(mt-251)*256-Ht[xt++]-108):(ht.push((Ht[xt]<<24|Ht[xt+1]<<16|Ht[xt+2]<<8|Ht[xt+3])/65536),xt+=4);break}rt&&(ht.length=0)}}Nt(Ft)}const nt=[];class pt{constructor(lt){this.constructor===pt&&(0,s.unreachable)("Cannot initialize CompiledFont."),this.fontMatrix=lt,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}getPathJs(lt){const{charCode:ft,glyphId:it}=b(this.cmap,lt);let at=this.compiledGlyphs[it];if(!at)try{at=this.compileGlyph(this.glyphs[it],it),this.compiledGlyphs[it]=at}catch(bt){throw this.compiledGlyphs[it]=nt,this.compiledCharCodeToGlyphId[ft]===void 0&&(this.compiledCharCodeToGlyphId[ft]=it),bt}return this.compiledCharCodeToGlyphId[ft]===void 0&&(this.compiledCharCodeToGlyphId[ft]=it),at}compileGlyph(lt,ft){if(!lt||lt.length===0||lt[0]===14)return nt;let it=this.fontMatrix;if(this.isCFFCIDFont){const bt=this.fdSelect.getFDIndex(ft);bt>=0&&bt<this.fdArray.length?it=this.fdArray[bt].getByName("FontMatrix")||s.FONT_IDENTITY_MATRIX:(0,s.warn)("Invalid fd index for glyph index.")}const at=[{cmd:"save"},{cmd:"transform",args:it.slice()},{cmd:"scale",args:["size","-size"]}];return this.compileGlyphImpl(lt,at,ft),at.push({cmd:"restore"}),at}compileGlyphImpl(){(0,s.unreachable)("Children classes should implement this.")}hasBuiltPath(lt){const{charCode:ft,glyphId:it}=b(this.cmap,lt);return this.compiledGlyphs[it]!==void 0&&this.compiledCharCodeToGlyphId[ft]!==void 0}}class Bt extends pt{constructor(lt,ft,it){super(it||[488e-6,0,0,488e-6,0,0]),this.glyphs=lt,this.cmap=ft}compileGlyphImpl(lt,ft){h(lt,ft,this)}}class Pt extends pt{constructor(lt,ft,it,at){super(it||[.001,0,0,.001,0,0]),this.glyphs=lt.glyphs,this.gsubrs=lt.gsubrs||[],this.subrs=lt.subrs||[],this.cmap=ft,this.glyphNameMap=at||(0,Tt.getGlyphsUnicode)(),this.gsubrsBias=g(this.gsubrs),this.subrsBias=g(this.subrs),this.isCFFCIDFont=lt.isCFFCIDFont,this.fdSelect=lt.fdSelect,this.fdArray=lt.fdArray}compileGlyphImpl(lt,ft,it){et(lt,ft,this,it)}}class Rt{static create(lt,ft){const it=new Uint8Array(lt.data);let at,bt,St,ht,vt,yt;const At=_(it,4);for(let Nt=0,Ht=12;Nt<At;Nt++,Ht+=16){const xt=(0,s.bytesToString)(it.subarray(Ht,Ht+4)),rt=gt(it,Ht+8),mt=gt(it,Ht+12);switch(xt){case"cmap":at=o(it,rt);break;case"glyf":bt=it.subarray(rt,rt+mt);break;case"loca":St=it.subarray(rt,rt+mt);break;case"head":yt=_(it,rt+18),vt=_(it,rt+50);break;case"CFF ":ht=ut(it,rt,rt+mt,ft);break}}if(bt){const Nt=yt?[1/yt,0,0,1/yt,0,0]:lt.fontMatrix;return new Bt(dt(bt,St,vt),at,Nt)}return new Pt(ht,at,lt.fontMatrix,lt.glyphNameMap)}}ct.FontRendererFactory=Rt},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.getMetrics=ct.getFontBasicMetrics=void 0;var s=Et(6);const st=(0,s.getLookupTableFactory)(function(wt){wt.Courier=600,wt["Courier-Bold"]=600,wt["Courier-BoldOblique"]=600,wt["Courier-Oblique"]=600,wt.Helvetica=(0,s.getLookupTableFactory)(function(e){e.space=278,e.exclam=278,e.quotedbl=355,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=667,e.quoteright=222,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=278,e.semicolon=278,e.less=584,e.equal=584,e.greater=584,e.question=556,e.at=1015,e.A=667,e.B=667,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=500,e.K=667,e.L=556,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=278,e.backslash=278,e.bracketright=278,e.asciicircum=469,e.underscore=556,e.quoteleft=222,e.a=556,e.b=556,e.c=500,e.d=556,e.e=556,e.f=278,e.g=556,e.h=556,e.i=222,e.j=222,e.k=500,e.l=222,e.m=833,e.n=556,e.o=556,e.p=556,e.q=556,e.r=333,e.s=500,e.t=278,e.u=556,e.v=500,e.w=722,e.x=500,e.y=500,e.z=500,e.braceleft=334,e.bar=260,e.braceright=334,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=191,e.quotedblleft=333,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=500,e.fl=500,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=537,e.bullet=350,e.quotesinglbase=222,e.quotedblbase=333,e.quotedblright=333,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=556,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=222,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=556,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=667,e.aacute=556,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=500,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=500,e.aring=556,e.Ncommaaccent=722,e.lacute=222,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=500,e.scedilla=500,e.iacute=278,e.lozenge=471,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=556,e.acircumflex=556,e.Amacron=667,e.rcaron=333,e.ccedilla=500,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=643,e.Umacron=722,e.uring=556,e.threesuperior=333,e.Ograve=778,e.Agrave=667,e.Abreve=667,e.multiply=584,e.uacute=556,e.Tcaron=611,e.partialdiff=476,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=500,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=260,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=333,e.omacron=556,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=222,e.tcaron=317,e.eogonek=556,e.Uogonek=722,e.Aacute=667,e.Adieresis=667,e.egrave=556,e.zacute=500,e.iogonek=222,e.Oacute=778,e.oacute=556,e.amacron=556,e.sacute=500,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=556,e.twosuperior=333,e.Odieresis=778,e.mu=556,e.igrave=278,e.ohungarumlaut=556,e.Eogonek=667,e.dcroat=556,e.threequarters=834,e.Scedilla=667,e.lcaron=299,e.Kcommaaccent=667,e.Lacute=556,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=556,e.onehalf=834,e.lessequal=549,e.ocircumflex=556,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=556,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=556,e.Ccaron=722,e.ugrave=556,e.radical=453,e.Dcaron=722,e.rcommaaccent=333,e.Ntilde=722,e.otilde=556,e.Rcommaaccent=722,e.Lcommaaccent=556,e.Atilde=667,e.Aogonek=667,e.Aring=667,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=500,e.minus=584,e.Icircumflex=278,e.ncaron=556,e.tcommaaccent=278,e.logicalnot=584,e.odieresis=556,e.udieresis=556,e.notequal=549,e.gcommaaccent=556,e.eth=556,e.zcaron=500,e.ncommaaccent=556,e.onesuperior=333,e.imacron=278,e.Euro=556}),wt["Helvetica-Bold"]=(0,s.getLookupTableFactory)(function(e){e.space=278,e.exclam=333,e.quotedbl=474,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=722,e.quoteright=278,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=333,e.semicolon=333,e.less=584,e.equal=584,e.greater=584,e.question=611,e.at=975,e.A=722,e.B=722,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=556,e.K=722,e.L=611,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=584,e.underscore=556,e.quoteleft=278,e.a=556,e.b=611,e.c=556,e.d=611,e.e=556,e.f=333,e.g=611,e.h=611,e.i=278,e.j=278,e.k=556,e.l=278,e.m=889,e.n=611,e.o=611,e.p=611,e.q=611,e.r=389,e.s=556,e.t=333,e.u=611,e.v=556,e.w=778,e.x=556,e.y=556,e.z=500,e.braceleft=389,e.bar=280,e.braceright=389,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=238,e.quotedblleft=500,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=611,e.fl=611,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=556,e.bullet=350,e.quotesinglbase=278,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=611,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=278,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=611,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=722,e.aacute=556,e.Ucircumflex=722,e.yacute=556,e.scommaaccent=556,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=611,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=556,e.aring=556,e.Ncommaaccent=722,e.lacute=278,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=556,e.scedilla=556,e.iacute=278,e.lozenge=494,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=611,e.acircumflex=556,e.Amacron=722,e.rcaron=389,e.ccedilla=556,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=743,e.Umacron=722,e.uring=611,e.threesuperior=333,e.Ograve=778,e.Agrave=722,e.Abreve=722,e.multiply=584,e.uacute=611,e.Tcaron=611,e.partialdiff=494,e.ydieresis=556,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=556,e.nacute=611,e.umacron=611,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=280,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=389,e.omacron=611,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=278,e.tcaron=389,e.eogonek=556,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=556,e.zacute=500,e.iogonek=278,e.Oacute=778,e.oacute=611,e.amacron=556,e.sacute=556,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=611,e.twosuperior=333,e.Odieresis=778,e.mu=611,e.igrave=278,e.ohungarumlaut=611,e.Eogonek=667,e.dcroat=611,e.threequarters=834,e.Scedilla=667,e.lcaron=400,e.Kcommaaccent=722,e.Lacute=611,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=611,e.onehalf=834,e.lessequal=549,e.ocircumflex=611,e.ntilde=611,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=611,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=611,e.Ccaron=722,e.ugrave=611,e.radical=549,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=722,e.otilde=611,e.Rcommaaccent=722,e.Lcommaaccent=611,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=556,e.minus=584,e.Icircumflex=278,e.ncaron=611,e.tcommaaccent=333,e.logicalnot=584,e.odieresis=611,e.udieresis=611,e.notequal=549,e.gcommaaccent=611,e.eth=611,e.zcaron=500,e.ncommaaccent=611,e.onesuperior=333,e.imacron=278,e.Euro=556}),wt["Helvetica-BoldOblique"]=(0,s.getLookupTableFactory)(function(e){e.space=278,e.exclam=333,e.quotedbl=474,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=722,e.quoteright=278,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=333,e.semicolon=333,e.less=584,e.equal=584,e.greater=584,e.question=611,e.at=975,e.A=722,e.B=722,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=556,e.K=722,e.L=611,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=584,e.underscore=556,e.quoteleft=278,e.a=556,e.b=611,e.c=556,e.d=611,e.e=556,e.f=333,e.g=611,e.h=611,e.i=278,e.j=278,e.k=556,e.l=278,e.m=889,e.n=611,e.o=611,e.p=611,e.q=611,e.r=389,e.s=556,e.t=333,e.u=611,e.v=556,e.w=778,e.x=556,e.y=556,e.z=500,e.braceleft=389,e.bar=280,e.braceright=389,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=238,e.quotedblleft=500,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=611,e.fl=611,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=556,e.bullet=350,e.quotesinglbase=278,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=611,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=278,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=611,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=722,e.aacute=556,e.Ucircumflex=722,e.yacute=556,e.scommaaccent=556,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=611,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=556,e.aring=556,e.Ncommaaccent=722,e.lacute=278,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=556,e.scedilla=556,e.iacute=278,e.lozenge=494,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=611,e.acircumflex=556,e.Amacron=722,e.rcaron=389,e.ccedilla=556,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=743,e.Umacron=722,e.uring=611,e.threesuperior=333,e.Ograve=778,e.Agrave=722,e.Abreve=722,e.multiply=584,e.uacute=611,e.Tcaron=611,e.partialdiff=494,e.ydieresis=556,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=556,e.nacute=611,e.umacron=611,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=280,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=389,e.omacron=611,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=278,e.tcaron=389,e.eogonek=556,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=556,e.zacute=500,e.iogonek=278,e.Oacute=778,e.oacute=611,e.amacron=556,e.sacute=556,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=611,e.twosuperior=333,e.Odieresis=778,e.mu=611,e.igrave=278,e.ohungarumlaut=611,e.Eogonek=667,e.dcroat=611,e.threequarters=834,e.Scedilla=667,e.lcaron=400,e.Kcommaaccent=722,e.Lacute=611,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=611,e.onehalf=834,e.lessequal=549,e.ocircumflex=611,e.ntilde=611,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=611,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=611,e.Ccaron=722,e.ugrave=611,e.radical=549,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=722,e.otilde=611,e.Rcommaaccent=722,e.Lcommaaccent=611,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=556,e.minus=584,e.Icircumflex=278,e.ncaron=611,e.tcommaaccent=333,e.logicalnot=584,e.odieresis=611,e.udieresis=611,e.notequal=549,e.gcommaaccent=611,e.eth=611,e.zcaron=500,e.ncommaaccent=611,e.onesuperior=333,e.imacron=278,e.Euro=556}),wt["Helvetica-Oblique"]=(0,s.getLookupTableFactory)(function(e){e.space=278,e.exclam=278,e.quotedbl=355,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=667,e.quoteright=222,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=278,e.semicolon=278,e.less=584,e.equal=584,e.greater=584,e.question=556,e.at=1015,e.A=667,e.B=667,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=500,e.K=667,e.L=556,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=278,e.backslash=278,e.bracketright=278,e.asciicircum=469,e.underscore=556,e.quoteleft=222,e.a=556,e.b=556,e.c=500,e.d=556,e.e=556,e.f=278,e.g=556,e.h=556,e.i=222,e.j=222,e.k=500,e.l=222,e.m=833,e.n=556,e.o=556,e.p=556,e.q=556,e.r=333,e.s=500,e.t=278,e.u=556,e.v=500,e.w=722,e.x=500,e.y=500,e.z=500,e.braceleft=334,e.bar=260,e.braceright=334,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=191,e.quotedblleft=333,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=500,e.fl=500,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=537,e.bullet=350,e.quotesinglbase=222,e.quotedblbase=333,e.quotedblright=333,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=556,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=222,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=556,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=667,e.aacute=556,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=500,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=500,e.aring=556,e.Ncommaaccent=722,e.lacute=222,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=500,e.scedilla=500,e.iacute=278,e.lozenge=471,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=556,e.acircumflex=556,e.Amacron=667,e.rcaron=333,e.ccedilla=500,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=643,e.Umacron=722,e.uring=556,e.threesuperior=333,e.Ograve=778,e.Agrave=667,e.Abreve=667,e.multiply=584,e.uacute=556,e.Tcaron=611,e.partialdiff=476,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=500,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=260,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=333,e.omacron=556,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=222,e.tcaron=317,e.eogonek=556,e.Uogonek=722,e.Aacute=667,e.Adieresis=667,e.egrave=556,e.zacute=500,e.iogonek=222,e.Oacute=778,e.oacute=556,e.amacron=556,e.sacute=500,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=556,e.twosuperior=333,e.Odieresis=778,e.mu=556,e.igrave=278,e.ohungarumlaut=556,e.Eogonek=667,e.dcroat=556,e.threequarters=834,e.Scedilla=667,e.lcaron=299,e.Kcommaaccent=667,e.Lacute=556,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=556,e.onehalf=834,e.lessequal=549,e.ocircumflex=556,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=556,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=556,e.Ccaron=722,e.ugrave=556,e.radical=453,e.Dcaron=722,e.rcommaaccent=333,e.Ntilde=722,e.otilde=556,e.Rcommaaccent=722,e.Lcommaaccent=556,e.Atilde=667,e.Aogonek=667,e.Aring=667,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=500,e.minus=584,e.Icircumflex=278,e.ncaron=556,e.tcommaaccent=278,e.logicalnot=584,e.odieresis=556,e.udieresis=556,e.notequal=549,e.gcommaaccent=556,e.eth=556,e.zcaron=500,e.ncommaaccent=556,e.onesuperior=333,e.imacron=278,e.Euro=556}),wt.Symbol=(0,s.getLookupTableFactory)(function(e){e.space=250,e.exclam=333,e.universal=713,e.numbersign=500,e.existential=549,e.percent=833,e.ampersand=778,e.suchthat=439,e.parenleft=333,e.parenright=333,e.asteriskmath=500,e.plus=549,e.comma=250,e.minus=549,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=278,e.semicolon=278,e.less=549,e.equal=549,e.greater=549,e.question=444,e.congruent=549,e.Alpha=722,e.Beta=667,e.Chi=722,e.Delta=612,e.Epsilon=611,e.Phi=763,e.Gamma=603,e.Eta=722,e.Iota=333,e.theta1=631,e.Kappa=722,e.Lambda=686,e.Mu=889,e.Nu=722,e.Omicron=722,e.Pi=768,e.Theta=741,e.Rho=556,e.Sigma=592,e.Tau=611,e.Upsilon=690,e.sigma1=439,e.Omega=768,e.Xi=645,e.Psi=795,e.Zeta=611,e.bracketleft=333,e.therefore=863,e.bracketright=333,e.perpendicular=658,e.underscore=500,e.radicalex=500,e.alpha=631,e.beta=549,e.chi=549,e.delta=494,e.epsilon=439,e.phi=521,e.gamma=411,e.eta=603,e.iota=329,e.phi1=603,e.kappa=549,e.lambda=549,e.mu=576,e.nu=521,e.omicron=549,e.pi=549,e.theta=521,e.rho=549,e.sigma=603,e.tau=439,e.upsilon=576,e.omega1=713,e.omega=686,e.xi=493,e.psi=686,e.zeta=494,e.braceleft=480,e.bar=200,e.braceright=480,e.similar=549,e.Euro=750,e.Upsilon1=620,e.minute=247,e.lessequal=549,e.fraction=167,e.infinity=713,e.florin=500,e.club=753,e.diamond=753,e.heart=753,e.spade=753,e.arrowboth=1042,e.arrowleft=987,e.arrowup=603,e.arrowright=987,e.arrowdown=603,e.degree=400,e.plusminus=549,e.second=411,e.greaterequal=549,e.multiply=549,e.proportional=713,e.partialdiff=494,e.bullet=460,e.divide=549,e.notequal=549,e.equivalence=549,e.approxequal=549,e.ellipsis=1e3,e.arrowvertex=603,e.arrowhorizex=1e3,e.carriagereturn=658,e.aleph=823,e.Ifraktur=686,e.Rfraktur=795,e.weierstrass=987,e.circlemultiply=768,e.circleplus=768,e.emptyset=823,e.intersection=768,e.union=768,e.propersuperset=713,e.reflexsuperset=713,e.notsubset=713,e.propersubset=713,e.reflexsubset=713,e.element=713,e.notelement=713,e.angle=768,e.gradient=713,e.registerserif=790,e.copyrightserif=790,e.trademarkserif=890,e.product=823,e.radical=549,e.dotmath=250,e.logicalnot=713,e.logicaland=603,e.logicalor=603,e.arrowdblboth=1042,e.arrowdblleft=987,e.arrowdblup=603,e.arrowdblright=987,e.arrowdbldown=603,e.lozenge=494,e.angleleft=329,e.registersans=790,e.copyrightsans=790,e.trademarksans=786,e.summation=713,e.parenlefttp=384,e.parenleftex=384,e.parenleftbt=384,e.bracketlefttp=384,e.bracketleftex=384,e.bracketleftbt=384,e.bracelefttp=494,e.braceleftmid=494,e.braceleftbt=494,e.braceex=494,e.angleright=329,e.integral=274,e.integraltp=686,e.integralex=686,e.integralbt=686,e.parenrighttp=384,e.parenrightex=384,e.parenrightbt=384,e.bracketrighttp=384,e.bracketrightex=384,e.bracketrightbt=384,e.bracerighttp=494,e.bracerightmid=494,e.bracerightbt=494,e.apple=790}),wt["Times-Roman"]=(0,s.getLookupTableFactory)(function(e){e.space=250,e.exclam=333,e.quotedbl=408,e.numbersign=500,e.dollar=500,e.percent=833,e.ampersand=778,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=564,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=278,e.semicolon=278,e.less=564,e.equal=564,e.greater=564,e.question=444,e.at=921,e.A=722,e.B=667,e.C=667,e.D=722,e.E=611,e.F=556,e.G=722,e.H=722,e.I=333,e.J=389,e.K=722,e.L=611,e.M=889,e.N=722,e.O=722,e.P=556,e.Q=722,e.R=667,e.S=556,e.T=611,e.U=722,e.V=722,e.W=944,e.X=722,e.Y=722,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=469,e.underscore=500,e.quoteleft=333,e.a=444,e.b=500,e.c=444,e.d=500,e.e=444,e.f=333,e.g=500,e.h=500,e.i=278,e.j=278,e.k=500,e.l=278,e.m=778,e.n=500,e.o=500,e.p=500,e.q=500,e.r=333,e.s=389,e.t=278,e.u=500,e.v=500,e.w=722,e.x=500,e.y=500,e.z=444,e.braceleft=480,e.bar=200,e.braceright=480,e.asciitilde=541,e.exclamdown=333,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=180,e.quotedblleft=444,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=556,e.fl=556,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=453,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=444,e.quotedblright=444,e.guillemotright=500,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=444,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=889,e.ordfeminine=276,e.Lslash=611,e.Oslash=722,e.OE=889,e.ordmasculine=310,e.ae=667,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=722,e.germandbls=500,e.Idieresis=333,e.eacute=444,e.abreve=444,e.uhungarumlaut=500,e.ecaron=444,e.Ydieresis=722,e.divide=564,e.Yacute=722,e.Acircumflex=722,e.aacute=444,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=444,e.Uacute=722,e.uogonek=500,e.Edieresis=611,e.Dcroat=722,e.commaaccent=250,e.copyright=760,e.Emacron=611,e.ccaron=444,e.aring=444,e.Ncommaaccent=722,e.lacute=278,e.agrave=444,e.Tcommaaccent=611,e.Cacute=667,e.atilde=444,e.Edotaccent=611,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=471,e.Rcaron=667,e.Gcommaaccent=722,e.ucircumflex=500,e.acircumflex=444,e.Amacron=722,e.rcaron=333,e.ccedilla=444,e.Zdotaccent=611,e.Thorn=556,e.Omacron=722,e.Racute=667,e.Sacute=556,e.dcaron=588,e.Umacron=722,e.uring=500,e.threesuperior=300,e.Ograve=722,e.Agrave=722,e.Abreve=722,e.multiply=564,e.uacute=500,e.Tcaron=611,e.partialdiff=476,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=611,e.adieresis=444,e.edieresis=444,e.cacute=444,e.nacute=500,e.umacron=500,e.Ncaron=722,e.Iacute=333,e.plusminus=564,e.brokenbar=200,e.registered=760,e.Gbreve=722,e.Idotaccent=333,e.summation=600,e.Egrave=611,e.racute=333,e.omacron=500,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=667,e.lcommaaccent=278,e.tcaron=326,e.eogonek=444,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=444,e.zacute=444,e.iogonek=278,e.Oacute=722,e.oacute=500,e.amacron=444,e.sacute=389,e.idieresis=278,e.Ocircumflex=722,e.Ugrave=722,e.Delta=612,e.thorn=500,e.twosuperior=300,e.Odieresis=722,e.mu=500,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=611,e.dcroat=500,e.threequarters=750,e.Scedilla=556,e.lcaron=344,e.Kcommaaccent=722,e.Lacute=611,e.trademark=980,e.edotaccent=444,e.Igrave=333,e.Imacron=333,e.Lcaron=611,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=500,e.Uhungarumlaut=722,e.Eacute=611,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=556,e.Scommaaccent=556,e.Ohungarumlaut=722,e.degree=400,e.ograve=500,e.Ccaron=667,e.ugrave=500,e.radical=453,e.Dcaron=722,e.rcommaaccent=333,e.Ntilde=722,e.otilde=500,e.Rcommaaccent=667,e.Lcommaaccent=611,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=722,e.zdotaccent=444,e.Ecaron=611,e.Iogonek=333,e.kcommaaccent=500,e.minus=564,e.Icircumflex=333,e.ncaron=500,e.tcommaaccent=278,e.logicalnot=564,e.odieresis=500,e.udieresis=500,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=444,e.ncommaaccent=500,e.onesuperior=300,e.imacron=278,e.Euro=500}),wt["Times-Bold"]=(0,s.getLookupTableFactory)(function(e){e.space=250,e.exclam=333,e.quotedbl=555,e.numbersign=500,e.dollar=500,e.percent=1e3,e.ampersand=833,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=570,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=333,e.semicolon=333,e.less=570,e.equal=570,e.greater=570,e.question=500,e.at=930,e.A=722,e.B=667,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=778,e.I=389,e.J=500,e.K=778,e.L=667,e.M=944,e.N=722,e.O=778,e.P=611,e.Q=778,e.R=722,e.S=556,e.T=667,e.U=722,e.V=722,e.W=1e3,e.X=722,e.Y=722,e.Z=667,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=581,e.underscore=500,e.quoteleft=333,e.a=500,e.b=556,e.c=444,e.d=556,e.e=444,e.f=333,e.g=500,e.h=556,e.i=278,e.j=333,e.k=556,e.l=278,e.m=833,e.n=556,e.o=500,e.p=556,e.q=556,e.r=444,e.s=389,e.t=333,e.u=556,e.v=500,e.w=722,e.x=500,e.y=500,e.z=444,e.braceleft=394,e.bar=220,e.braceright=394,e.asciitilde=520,e.exclamdown=333,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=278,e.quotedblleft=500,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=556,e.fl=556,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=540,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=500,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=500,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=300,e.Lslash=667,e.Oslash=778,e.OE=1e3,e.ordmasculine=330,e.ae=722,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=722,e.germandbls=556,e.Idieresis=389,e.eacute=444,e.abreve=500,e.uhungarumlaut=556,e.ecaron=444,e.Ydieresis=722,e.divide=570,e.Yacute=722,e.Acircumflex=722,e.aacute=500,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=500,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=747,e.Emacron=667,e.ccaron=444,e.aring=500,e.Ncommaaccent=722,e.lacute=278,e.agrave=500,e.Tcommaaccent=667,e.Cacute=722,e.atilde=500,e.Edotaccent=667,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=494,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=556,e.acircumflex=500,e.Amacron=722,e.rcaron=444,e.ccedilla=444,e.Zdotaccent=667,e.Thorn=611,e.Omacron=778,e.Racute=722,e.Sacute=556,e.dcaron=672,e.Umacron=722,e.uring=556,e.threesuperior=300,e.Ograve=778,e.Agrave=722,e.Abreve=722,e.multiply=570,e.uacute=556,e.Tcaron=667,e.partialdiff=494,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=500,e.edieresis=444,e.cacute=444,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=389,e.plusminus=570,e.brokenbar=220,e.registered=747,e.Gbreve=778,e.Idotaccent=389,e.summation=600,e.Egrave=667,e.racute=444,e.omacron=500,e.Zacute=667,e.Zcaron=667,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=278,e.tcaron=416,e.eogonek=444,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=444,e.zacute=444,e.iogonek=278,e.Oacute=778,e.oacute=500,e.amacron=500,e.sacute=389,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=556,e.twosuperior=300,e.Odieresis=778,e.mu=556,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=667,e.dcroat=556,e.threequarters=750,e.Scedilla=556,e.lcaron=394,e.Kcommaaccent=778,e.Lacute=667,e.trademark=1e3,e.edotaccent=444,e.Igrave=389,e.Imacron=389,e.Lcaron=667,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=556,e.Scommaaccent=556,e.Ohungarumlaut=778,e.degree=400,e.ograve=500,e.Ccaron=722,e.ugrave=556,e.radical=549,e.Dcaron=722,e.rcommaaccent=444,e.Ntilde=722,e.otilde=500,e.Rcommaaccent=722,e.Lcommaaccent=667,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=778,e.zdotaccent=444,e.Ecaron=667,e.Iogonek=389,e.kcommaaccent=556,e.minus=570,e.Icircumflex=389,e.ncaron=556,e.tcommaaccent=333,e.logicalnot=570,e.odieresis=500,e.udieresis=556,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=444,e.ncommaaccent=556,e.onesuperior=300,e.imacron=278,e.Euro=500}),wt["Times-BoldItalic"]=(0,s.getLookupTableFactory)(function(e){e.space=250,e.exclam=389,e.quotedbl=555,e.numbersign=500,e.dollar=500,e.percent=833,e.ampersand=778,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=570,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=333,e.semicolon=333,e.less=570,e.equal=570,e.greater=570,e.question=500,e.at=832,e.A=667,e.B=667,e.C=667,e.D=722,e.E=667,e.F=667,e.G=722,e.H=778,e.I=389,e.J=500,e.K=667,e.L=611,e.M=889,e.N=722,e.O=722,e.P=611,e.Q=722,e.R=667,e.S=556,e.T=611,e.U=722,e.V=667,e.W=889,e.X=667,e.Y=611,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=570,e.underscore=500,e.quoteleft=333,e.a=500,e.b=500,e.c=444,e.d=500,e.e=444,e.f=333,e.g=500,e.h=556,e.i=278,e.j=278,e.k=500,e.l=278,e.m=778,e.n=556,e.o=500,e.p=500,e.q=500,e.r=389,e.s=389,e.t=278,e.u=556,e.v=444,e.w=667,e.x=500,e.y=444,e.z=389,e.braceleft=348,e.bar=220,e.braceright=348,e.asciitilde=570,e.exclamdown=389,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=278,e.quotedblleft=500,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=556,e.fl=556,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=500,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=500,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=500,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=944,e.ordfeminine=266,e.Lslash=611,e.Oslash=722,e.OE=944,e.ordmasculine=300,e.ae=722,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=722,e.germandbls=500,e.Idieresis=389,e.eacute=444,e.abreve=500,e.uhungarumlaut=556,e.ecaron=444,e.Ydieresis=611,e.divide=570,e.Yacute=611,e.Acircumflex=667,e.aacute=500,e.Ucircumflex=722,e.yacute=444,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=500,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=747,e.Emacron=667,e.ccaron=444,e.aring=500,e.Ncommaaccent=722,e.lacute=278,e.agrave=500,e.Tcommaaccent=611,e.Cacute=667,e.atilde=500,e.Edotaccent=667,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=494,e.Rcaron=667,e.Gcommaaccent=722,e.ucircumflex=556,e.acircumflex=500,e.Amacron=667,e.rcaron=389,e.ccedilla=444,e.Zdotaccent=611,e.Thorn=611,e.Omacron=722,e.Racute=667,e.Sacute=556,e.dcaron=608,e.Umacron=722,e.uring=556,e.threesuperior=300,e.Ograve=722,e.Agrave=667,e.Abreve=667,e.multiply=570,e.uacute=556,e.Tcaron=611,e.partialdiff=494,e.ydieresis=444,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=500,e.edieresis=444,e.cacute=444,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=389,e.plusminus=570,e.brokenbar=220,e.registered=747,e.Gbreve=722,e.Idotaccent=389,e.summation=600,e.Egrave=667,e.racute=389,e.omacron=500,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=667,e.lcommaaccent=278,e.tcaron=366,e.eogonek=444,e.Uogonek=722,e.Aacute=667,e.Adieresis=667,e.egrave=444,e.zacute=389,e.iogonek=278,e.Oacute=722,e.oacute=500,e.amacron=500,e.sacute=389,e.idieresis=278,e.Ocircumflex=722,e.Ugrave=722,e.Delta=612,e.thorn=500,e.twosuperior=300,e.Odieresis=722,e.mu=576,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=667,e.dcroat=500,e.threequarters=750,e.Scedilla=556,e.lcaron=382,e.Kcommaaccent=667,e.Lacute=611,e.trademark=1e3,e.edotaccent=444,e.Igrave=389,e.Imacron=389,e.Lcaron=611,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=556,e.Scommaaccent=556,e.Ohungarumlaut=722,e.degree=400,e.ograve=500,e.Ccaron=667,e.ugrave=556,e.radical=549,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=722,e.otilde=500,e.Rcommaaccent=667,e.Lcommaaccent=611,e.Atilde=667,e.Aogonek=667,e.Aring=667,e.Otilde=722,e.zdotaccent=389,e.Ecaron=667,e.Iogonek=389,e.kcommaaccent=500,e.minus=606,e.Icircumflex=389,e.ncaron=556,e.tcommaaccent=278,e.logicalnot=606,e.odieresis=500,e.udieresis=556,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=389,e.ncommaaccent=556,e.onesuperior=300,e.imacron=278,e.Euro=500}),wt["Times-Italic"]=(0,s.getLookupTableFactory)(function(e){e.space=250,e.exclam=333,e.quotedbl=420,e.numbersign=500,e.dollar=500,e.percent=833,e.ampersand=778,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=675,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=333,e.semicolon=333,e.less=675,e.equal=675,e.greater=675,e.question=500,e.at=920,e.A=611,e.B=611,e.C=667,e.D=722,e.E=611,e.F=611,e.G=722,e.H=722,e.I=333,e.J=444,e.K=667,e.L=556,e.M=833,e.N=667,e.O=722,e.P=611,e.Q=722,e.R=611,e.S=500,e.T=556,e.U=722,e.V=611,e.W=833,e.X=611,e.Y=556,e.Z=556,e.bracketleft=389,e.backslash=278,e.bracketright=389,e.asciicircum=422,e.underscore=500,e.quoteleft=333,e.a=500,e.b=500,e.c=444,e.d=500,e.e=444,e.f=278,e.g=500,e.h=500,e.i=278,e.j=278,e.k=444,e.l=278,e.m=722,e.n=500,e.o=500,e.p=500,e.q=500,e.r=389,e.s=389,e.t=278,e.u=500,e.v=444,e.w=667,e.x=444,e.y=444,e.z=389,e.braceleft=400,e.bar=275,e.braceright=400,e.asciitilde=541,e.exclamdown=389,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=214,e.quotedblleft=556,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=500,e.fl=500,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=523,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=556,e.quotedblright=556,e.guillemotright=500,e.ellipsis=889,e.perthousand=1e3,e.questiondown=500,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=889,e.AE=889,e.ordfeminine=276,e.Lslash=556,e.Oslash=722,e.OE=944,e.ordmasculine=310,e.ae=667,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=667,e.germandbls=500,e.Idieresis=333,e.eacute=444,e.abreve=500,e.uhungarumlaut=500,e.ecaron=444,e.Ydieresis=556,e.divide=675,e.Yacute=556,e.Acircumflex=611,e.aacute=500,e.Ucircumflex=722,e.yacute=444,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=500,e.Uacute=722,e.uogonek=500,e.Edieresis=611,e.Dcroat=722,e.commaaccent=250,e.copyright=760,e.Emacron=611,e.ccaron=444,e.aring=500,e.Ncommaaccent=667,e.lacute=278,e.agrave=500,e.Tcommaaccent=556,e.Cacute=667,e.atilde=500,e.Edotaccent=611,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=471,e.Rcaron=611,e.Gcommaaccent=722,e.ucircumflex=500,e.acircumflex=500,e.Amacron=611,e.rcaron=389,e.ccedilla=444,e.Zdotaccent=556,e.Thorn=611,e.Omacron=722,e.Racute=611,e.Sacute=500,e.dcaron=544,e.Umacron=722,e.uring=500,e.threesuperior=300,e.Ograve=722,e.Agrave=611,e.Abreve=611,e.multiply=675,e.uacute=500,e.Tcaron=556,e.partialdiff=476,e.ydieresis=444,e.Nacute=667,e.icircumflex=278,e.Ecircumflex=611,e.adieresis=500,e.edieresis=444,e.cacute=444,e.nacute=500,e.umacron=500,e.Ncaron=667,e.Iacute=333,e.plusminus=675,e.brokenbar=275,e.registered=760,e.Gbreve=722,e.Idotaccent=333,e.summation=600,e.Egrave=611,e.racute=389,e.omacron=500,e.Zacute=556,e.Zcaron=556,e.greaterequal=549,e.Eth=722,e.Ccedilla=667,e.lcommaaccent=278,e.tcaron=300,e.eogonek=444,e.Uogonek=722,e.Aacute=611,e.Adieresis=611,e.egrave=444,e.zacute=389,e.iogonek=278,e.Oacute=722,e.oacute=500,e.amacron=500,e.sacute=389,e.idieresis=278,e.Ocircumflex=722,e.Ugrave=722,e.Delta=612,e.thorn=500,e.twosuperior=300,e.Odieresis=722,e.mu=500,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=611,e.dcroat=500,e.threequarters=750,e.Scedilla=500,e.lcaron=300,e.Kcommaaccent=667,e.Lacute=556,e.trademark=980,e.edotaccent=444,e.Igrave=333,e.Imacron=333,e.Lcaron=611,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=500,e.Uhungarumlaut=722,e.Eacute=611,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=500,e.Scommaaccent=500,e.Ohungarumlaut=722,e.degree=400,e.ograve=500,e.Ccaron=667,e.ugrave=500,e.radical=453,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=667,e.otilde=500,e.Rcommaaccent=611,e.Lcommaaccent=556,e.Atilde=611,e.Aogonek=611,e.Aring=611,e.Otilde=722,e.zdotaccent=389,e.Ecaron=611,e.Iogonek=333,e.kcommaaccent=444,e.minus=675,e.Icircumflex=333,e.ncaron=500,e.tcommaaccent=278,e.logicalnot=675,e.odieresis=500,e.udieresis=500,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=389,e.ncommaaccent=500,e.onesuperior=300,e.imacron=278,e.Euro=500}),wt.ZapfDingbats=(0,s.getLookupTableFactory)(function(e){e.space=278,e.a1=974,e.a2=961,e.a202=974,e.a3=980,e.a4=719,e.a5=789,e.a119=790,e.a118=791,e.a117=690,e.a11=960,e.a12=939,e.a13=549,e.a14=855,e.a15=911,e.a16=933,e.a105=911,e.a17=945,e.a18=974,e.a19=755,e.a20=846,e.a21=762,e.a22=761,e.a23=571,e.a24=677,e.a25=763,e.a26=760,e.a27=759,e.a28=754,e.a6=494,e.a7=552,e.a8=537,e.a9=577,e.a10=692,e.a29=786,e.a30=788,e.a31=788,e.a32=790,e.a33=793,e.a34=794,e.a35=816,e.a36=823,e.a37=789,e.a38=841,e.a39=823,e.a40=833,e.a41=816,e.a42=831,e.a43=923,e.a44=744,e.a45=723,e.a46=749,e.a47=790,e.a48=792,e.a49=695,e.a50=776,e.a51=768,e.a52=792,e.a53=759,e.a54=707,e.a55=708,e.a56=682,e.a57=701,e.a58=826,e.a59=815,e.a60=789,e.a61=789,e.a62=707,e.a63=687,e.a64=696,e.a65=689,e.a66=786,e.a67=787,e.a68=713,e.a69=791,e.a70=785,e.a71=791,e.a72=873,e.a73=761,e.a74=762,e.a203=762,e.a75=759,e.a204=759,e.a76=892,e.a77=892,e.a78=788,e.a79=784,e.a81=438,e.a82=138,e.a83=277,e.a84=415,e.a97=392,e.a98=392,e.a99=668,e.a100=668,e.a89=390,e.a90=390,e.a93=317,e.a94=317,e.a91=276,e.a92=276,e.a205=509,e.a85=509,e.a206=410,e.a86=410,e.a87=234,e.a88=234,e.a95=334,e.a96=334,e.a101=732,e.a102=544,e.a103=544,e.a104=910,e.a106=667,e.a107=760,e.a108=760,e.a112=776,e.a111=595,e.a110=694,e.a109=626,e.a120=788,e.a121=788,e.a122=788,e.a123=788,e.a124=788,e.a125=788,e.a126=788,e.a127=788,e.a128=788,e.a129=788,e.a130=788,e.a131=788,e.a132=788,e.a133=788,e.a134=788,e.a135=788,e.a136=788,e.a137=788,e.a138=788,e.a139=788,e.a140=788,e.a141=788,e.a142=788,e.a143=788,e.a144=788,e.a145=788,e.a146=788,e.a147=788,e.a148=788,e.a149=788,e.a150=788,e.a151=788,e.a152=788,e.a153=788,e.a154=788,e.a155=788,e.a156=788,e.a157=788,e.a158=788,e.a159=788,e.a160=894,e.a161=838,e.a163=1016,e.a164=458,e.a196=748,e.a165=924,e.a192=748,e.a166=918,e.a167=927,e.a168=928,e.a169=928,e.a170=834,e.a171=873,e.a172=828,e.a173=924,e.a162=924,e.a174=917,e.a175=930,e.a176=931,e.a177=463,e.a178=883,e.a179=836,e.a193=836,e.a180=867,e.a199=867,e.a181=696,e.a200=696,e.a182=874,e.a201=874,e.a183=760,e.a184=946,e.a197=771,e.a185=865,e.a194=771,e.a198=888,e.a186=967,e.a195=888,e.a187=831,e.a188=873,e.a189=927,e.a190=970,e.a191=918})});ct.getMetrics=st;const Tt=(0,s.getLookupTableFactory)(function(wt){wt.Courier={ascent:629,descent:-157,capHeight:562,xHeight:-426},wt["Courier-Bold"]={ascent:629,descent:-157,capHeight:562,xHeight:439},wt["Courier-Oblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},wt["Courier-BoldOblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},wt.Helvetica={ascent:718,descent:-207,capHeight:718,xHeight:523},wt["Helvetica-Bold"]={ascent:718,descent:-207,capHeight:718,xHeight:532},wt["Helvetica-Oblique"]={ascent:718,descent:-207,capHeight:718,xHeight:523},wt["Helvetica-BoldOblique"]={ascent:718,descent:-207,capHeight:718,xHeight:532},wt["Times-Roman"]={ascent:683,descent:-217,capHeight:662,xHeight:450},wt["Times-Bold"]={ascent:683,descent:-217,capHeight:676,xHeight:461},wt["Times-Italic"]={ascent:683,descent:-217,capHeight:653,xHeight:441},wt["Times-BoldItalic"]={ascent:683,descent:-217,capHeight:669,xHeight:462},wt.Symbol={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN},wt.ZapfDingbats={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN}});ct.getFontBasicMetrics=Tt},(zt,ct)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.GlyfTable=void 0;const Et=1,s=2,st=4,Tt=8,wt=16,e=32,gt=64,_=1,$=2,d=8,j=32,g=64,o=128,ut=256;class dt{constructor({glyfTable:Pt,isGlyphLocationsLong:Rt,locaTable:Ft,numGlyphs:lt}){this.glyphs=[];const ft=new DataView(Ft.buffer,Ft.byteOffset,Ft.byteLength),it=new DataView(Pt.buffer,Pt.byteOffset,Pt.byteLength),at=Rt?4:2;let bt=Rt?ft.getUint32(0):2*ft.getUint16(0),St=0;for(let ht=0;ht<lt;ht++){St+=at;const vt=Rt?ft.getUint32(St):2*ft.getUint16(St);if(vt===bt){this.glyphs.push(new b({}));continue}const yt=b.parse(bt,it);this.glyphs.push(yt),bt=vt}}getSize(){return this.glyphs.reduce((Pt,Rt)=>{const Ft=Rt.getSize();return Pt+(Ft+3&-4)},0)}write(){const Pt=this.getSize(),Rt=new DataView(new ArrayBuffer(Pt)),Ft=Pt>131070,lt=Ft?4:2,ft=new DataView(new ArrayBuffer((this.glyphs.length+1)*lt));Ft?ft.setUint32(0,0):ft.setUint16(0,0);let it=0,at=0;for(const bt of this.glyphs)it+=bt.write(it,Rt),it=it+3&-4,at+=lt,Ft?ft.setUint32(at,it):ft.setUint16(at,it>>1);return{isLocationLong:Ft,loca:new Uint8Array(ft.buffer),glyf:new Uint8Array(Rt.buffer)}}scale(Pt){for(let Rt=0,Ft=this.glyphs.length;Rt<Ft;Rt++)this.glyphs[Rt].scale(Pt[Rt])}}ct.GlyfTable=dt;class b{constructor({header:Pt=null,simple:Rt=null,composites:Ft=null}){this.header=Pt,this.simple=Rt,this.composites=Ft}static parse(Pt,Rt){const[Ft,lt]=h.parse(Pt,Rt);if(Pt+=Ft,lt.numberOfContours<0){const it=[];for(;;){const[at,bt]=pt.parse(Pt,Rt);if(Pt+=at,it.push(bt),!(bt.flags&j))break}return new b({header:lt,composites:it})}const ft=nt.parse(Pt,Rt,lt.numberOfContours);return new b({header:lt,simple:ft})}getSize(){if(!this.header)return 0;const Pt=this.simple?this.simple.getSize():this.composites.reduce((Rt,Ft)=>Rt+Ft.getSize(),0);return this.header.getSize()+Pt}write(Pt,Rt){if(!this.header)return 0;const Ft=Pt;if(Pt+=this.header.write(Pt,Rt),this.simple)Pt+=this.simple.write(Pt,Rt);else for(const lt of this.composites)Pt+=lt.write(Pt,Rt);return Pt-Ft}scale(Pt){if(!this.header)return;const Rt=(this.header.xMin+this.header.xMax)/2;if(this.header.scale(Rt,Pt),this.simple)this.simple.scale(Rt,Pt);else for(const Ft of this.composites)Ft.scale(Rt,Pt)}}class h{constructor({numberOfContours:Pt,xMin:Rt,yMin:Ft,xMax:lt,yMax:ft}){this.numberOfContours=Pt,this.xMin=Rt,this.yMin=Ft,this.xMax=lt,this.yMax=ft}static parse(Pt,Rt){return[10,new h({numberOfContours:Rt.getInt16(Pt),xMin:Rt.getInt16(Pt+2),yMin:Rt.getInt16(Pt+4),xMax:Rt.getInt16(Pt+6),yMax:Rt.getInt16(Pt+8)})]}getSize(){return 10}write(Pt,Rt){return Rt.setInt16(Pt,this.numberOfContours),Rt.setInt16(Pt+2,this.xMin),Rt.setInt16(Pt+4,this.yMin),Rt.setInt16(Pt+6,this.xMax),Rt.setInt16(Pt+8,this.yMax),10}scale(Pt,Rt){this.xMin=Math.round(Pt+(this.xMin-Pt)*Rt),this.xMax=Math.round(Pt+(this.xMax-Pt)*Rt)}}class et{constructor({flags:Pt,xCoordinates:Rt,yCoordinates:Ft}){this.xCoordinates=Rt,this.yCoordinates=Ft,this.flags=Pt}}class nt{constructor({contours:Pt,instructions:Rt}){this.contours=Pt,this.instructions=Rt}static parse(Pt,Rt,Ft){const lt=[];for(let xt=0;xt<Ft;xt++){const rt=Rt.getUint16(Pt);Pt+=2,lt.push(rt)}const ft=lt[Ft-1]+1,it=Rt.getUint16(Pt);Pt+=2;const at=new Uint8Array(Rt).slice(Pt,Pt+it);Pt+=it;const bt=[];for(let xt=0;xt<ft;Pt++,xt++){let rt=Rt.getUint8(Pt);if(bt.push(rt),rt&Tt){const mt=Rt.getUint8(++Pt);rt^=Tt;for(let Mt=0;Mt<mt;Mt++)bt.push(rt);xt+=mt}}const St=[];let ht=[],vt=[],yt=[];const At=[];let Nt=0,Ht=0;for(let xt=0;xt<ft;xt++){const rt=bt[xt];if(rt&s){const mt=Rt.getUint8(Pt++);Ht+=rt&wt?mt:-mt,ht.push(Ht)}else rt&wt||(Ht+=Rt.getInt16(Pt),Pt+=2),ht.push(Ht);lt[Nt]===xt&&(Nt++,St.push(ht),ht=[])}Ht=0,Nt=0;for(let xt=0;xt<ft;xt++){const rt=bt[xt];if(rt&st){const mt=Rt.getUint8(Pt++);Ht+=rt&e?mt:-mt,vt.push(Ht)}else rt&e||(Ht+=Rt.getInt16(Pt),Pt+=2),vt.push(Ht);yt.push(rt&Et|rt&gt),lt[Nt]===xt&&(ht=St[Nt],Nt++,At.push(new et({flags:yt,xCoordinates:ht,yCoordinates:vt})),vt=[],yt=[])}return new nt({contours:At,instructions:at})}getSize(){let Pt=this.contours.length*2+2+this.instructions.length,Rt=0,Ft=0;for(const lt of this.contours){Pt+=lt.flags.length;for(let ft=0,it=lt.xCoordinates.length;ft<it;ft++){const at=lt.xCoordinates[ft],bt=lt.yCoordinates[ft];let St=Math.abs(at-Rt);St>255?Pt+=2:St>0&&(Pt+=1),Rt=at,St=Math.abs(bt-Ft),St>255?Pt+=2:St>0&&(Pt+=1),Ft=bt}}return Pt}write(Pt,Rt){const Ft=Pt,lt=[],ft=[],it=[];let at=0,bt=0;for(const St of this.contours){for(let ht=0,vt=St.xCoordinates.length;ht<vt;ht++){let yt=St.flags[ht];const At=St.xCoordinates[ht];let Nt=At-at;if(Nt===0)yt|=wt,lt.push(0);else{const xt=Math.abs(Nt);xt<=255?(yt|=Nt>=0?s|wt:s,lt.push(xt)):lt.push(Nt)}at=At;const Ht=St.yCoordinates[ht];if(Nt=Ht-bt,Nt===0)yt|=e,ft.push(0);else{const xt=Math.abs(Nt);xt<=255?(yt|=Nt>=0?st|e:st,ft.push(xt)):ft.push(Nt)}bt=Ht,it.push(yt)}Rt.setUint16(Pt,lt.length-1),Pt+=2}Rt.setUint16(Pt,this.instructions.length),Pt+=2,this.instructions.length&&(new Uint8Array(Rt.buffer,0,Rt.buffer.byteLength).set(this.instructions,Pt),Pt+=this.instructions.length);for(const St of it)Rt.setUint8(Pt++,St);for(let St=0,ht=lt.length;St<ht;St++){const vt=lt[St],yt=it[St];yt&s?Rt.setUint8(Pt++,vt):yt&wt||(Rt.setInt16(Pt,vt),Pt+=2)}for(let St=0,ht=ft.length;St<ht;St++){const vt=ft[St],yt=it[St];yt&st?Rt.setUint8(Pt++,vt):yt&e||(Rt.setInt16(Pt,vt),Pt+=2)}return Pt-Ft}scale(Pt,Rt){for(const Ft of this.contours)if(Ft.xCoordinates.length!==0)for(let lt=0,ft=Ft.xCoordinates.length;lt<ft;lt++)Ft.xCoordinates[lt]=Math.round(Pt+(Ft.xCoordinates[lt]-Pt)*Rt)}}class pt{constructor({flags:Pt,glyphIndex:Rt,argument1:Ft,argument2:lt,transf:ft,instructions:it}){this.flags=Pt,this.glyphIndex=Rt,this.argument1=Ft,this.argument2=lt,this.transf=ft,this.instructions=it}static parse(Pt,Rt){const Ft=Pt,lt=[];let ft=Rt.getUint16(Pt);const it=Rt.getUint16(Pt+2);Pt+=4;let at,bt;ft&_?(ft&$?(at=Rt.getInt16(Pt),bt=Rt.getInt16(Pt+2)):(at=Rt.getUint16(Pt),bt=Rt.getUint16(Pt+2)),Pt+=4,ft^=_):(ft&$?(at=Rt.getInt8(Pt),bt=Rt.getInt8(Pt+1)):(at=Rt.getUint8(Pt),bt=Rt.getUint8(Pt+1)),Pt+=2),ft&d?(lt.push(Rt.getUint16(Pt)),Pt+=2):ft&g?(lt.push(Rt.getUint16(Pt),Rt.getUint16(Pt+2)),Pt+=4):ft&o&&(lt.push(Rt.getUint16(Pt),Rt.getUint16(Pt+2),Rt.getUint16(Pt+4),Rt.getUint16(Pt+6)),Pt+=8);let St=null;if(ft&ut){const ht=Rt.getUint16(Pt);Pt+=2,St=new Uint8Array(Rt).slice(Pt,Pt+ht),Pt+=ht}return[Pt-Ft,new pt({flags:ft,glyphIndex:it,argument1:at,argument2:bt,transf:lt,instructions:St})]}getSize(){let Pt=4+this.transf.length*2;return this.flags&ut&&(Pt+=2+this.instructions.length),Pt+=2,this.flags&2?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(Pt+=2):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(Pt+=2),Pt}write(Pt,Rt){const Ft=Pt;return this.flags&$?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(this.flags|=_):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(this.flags|=_),Rt.setUint16(Pt,this.flags),Rt.setUint16(Pt+2,this.glyphIndex),Pt+=4,this.flags&_?(this.flags&$?(Rt.setInt16(Pt,this.argument1),Rt.setInt16(Pt+2,this.argument2)):(Rt.setUint16(Pt,this.argument1),Rt.setUint16(Pt+2,this.argument2)),Pt+=4):(Rt.setUint8(Pt,this.argument1),Rt.setUint8(Pt+1,this.argument2),Pt+=2),this.flags&ut&&(Rt.setUint16(Pt,this.instructions.length),Pt+=2,this.instructions.length&&(new Uint8Array(Rt.buffer,0,Rt.buffer.byteLength).set(this.instructions,Pt),Pt+=this.instructions.length)),Pt-Ft}scale(Pt,Rt){}}},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.OpenTypeFileBuilder=void 0;var s=Et(6),st=Et(2);function Tt(d,j,g){d[j]=g>>8&255,d[j+1]=g&255}function wt(d,j,g){d[j]=g>>24&255,d[j+1]=g>>16&255,d[j+2]=g>>8&255,d[j+3]=g&255}function e(d,j,g){if(g instanceof Uint8Array)d.set(g,j);else if(typeof g=="string")for(let o=0,ut=g.length;o<ut;o++)d[j++]=g.charCodeAt(o)&255;else for(let o=0,ut=g.length;o<ut;o++)d[j++]=g[o]&255}const gt=12,_=16;class ${constructor(j){this.sfnt=j,this.tables=Object.create(null)}static getSearchParams(j,g){let o=1,ut=0;for(;(o^j)>o;)o<<=1,ut++;const dt=o*g;return{range:dt,entry:ut,rangeShift:g*j-dt}}toArray(){let j=this.sfnt;const g=this.tables,o=Object.keys(g);o.sort();const ut=o.length;let dt,b,h,et,nt,pt=gt+ut*_;const Bt=[pt];for(dt=0;dt<ut;dt++){et=g[o[dt]];const Ft=(et.length+3&-4)>>>0;pt+=Ft,Bt.push(pt)}const Pt=new Uint8Array(pt);for(dt=0;dt<ut;dt++)et=g[o[dt]],e(Pt,Bt[dt],et);j==="true"&&(j=(0,st.string32)(65536)),Pt[0]=j.charCodeAt(0)&255,Pt[1]=j.charCodeAt(1)&255,Pt[2]=j.charCodeAt(2)&255,Pt[3]=j.charCodeAt(3)&255,Tt(Pt,4,ut);const Rt=$.getSearchParams(ut,16);for(Tt(Pt,6,Rt.range),Tt(Pt,8,Rt.entry),Tt(Pt,10,Rt.rangeShift),pt=gt,dt=0;dt<ut;dt++){nt=o[dt],Pt[pt]=nt.charCodeAt(0)&255,Pt[pt+1]=nt.charCodeAt(1)&255,Pt[pt+2]=nt.charCodeAt(2)&255,Pt[pt+3]=nt.charCodeAt(3)&255;let Ft=0;for(b=Bt[dt],h=Bt[dt+1];b<h;b+=4){const lt=(0,s.readUint32)(Pt,b);Ft=Ft+lt>>>0}wt(Pt,pt+4,Ft),wt(Pt,pt+8,Bt[dt]),wt(Pt,pt+12,g[nt].length),pt+=_}return Pt}addTable(j,g){if(j in this.tables)throw new Error("Table "+j+" already exists");this.tables[j]=g}}ct.OpenTypeFileBuilder=$},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.Type1Font=void 0;var s=Et(35),st=Et(38),Tt=Et(6),wt=Et(10),e=Et(49),gt=Et(2);function _(g,o,ut){const dt=g.length,b=o.length,h=dt-b;let et=ut,nt=!1;for(;et<h;){let pt=0;for(;pt<b&&g[et+pt]===o[pt];)pt++;if(pt>=b){for(et+=pt;et<dt&&(0,Tt.isWhiteSpace)(g[et]);)et++;nt=!0;break}et++}return{found:nt,length:et}}function $(g,o){const ut=[101,101,120,101,99],dt=g.pos;let b,h,et;try{b=g.getBytes(o),h=b.length}catch{}if(h===o&&(et=_(b,ut,o-2*ut.length),et.found&&et.length===o))return{stream:new wt.Stream(b),length:o};(0,gt.warn)('Invalid "Length1" property in Type1 font -- trying to recover.'),g.pos=dt;const nt=2048;let pt;for(;;){const Bt=g.peekBytes(nt);if(et=_(Bt,ut,0),et.length===0)break;if(g.pos+=et.length,et.found){pt=g.pos-dt;break}}return g.pos=dt,pt?{stream:new wt.Stream(g.getBytes(pt)),length:pt}:((0,gt.warn)('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new wt.Stream(g.getBytes(o)),length:o})}function d(g,o){const ut=g.getBytes();return{stream:new wt.Stream(ut),length:ut.length}}class j{constructor(o,ut,dt){let h=dt.length1;dt.length2;let et=ut.peekBytes(6);const nt=et[0]===128&&et[1]===1;nt&&(ut.skip(6),h=et[5]<<24|et[4]<<16|et[3]<<8|et[2]);const pt=$(ut,h);new e.Type1Parser(pt.stream,!1,st.SEAC_ANALYSIS_ENABLED).extractFontHeader(dt),nt&&(et=ut.getBytes(6),et[5]<<24|et[4]<<16|et[3]<<8|et[2]);const Pt=d(ut),Ft=new e.Type1Parser(Pt.stream,!0,st.SEAC_ANALYSIS_ENABLED).extractFontProgram(dt);for(const at in Ft.properties)dt[at]=Ft.properties[at];const lt=Ft.charstrings,ft=this.getType2Charstrings(lt),it=this.getType2Subrs(Ft.subrs);this.charstrings=lt,this.data=this.wrap(o,ft,this.charstrings,it,dt),this.seacs=this.getSeacs(Ft.charstrings)}get numGlyphs(){return this.charstrings.length+1}getCharset(){const o=[".notdef"];for(const{glyphName:ut}of this.charstrings)o.push(ut);return o}getGlyphMapping(o){const ut=this.charstrings;if(o.composite){const nt=Object.create(null);for(let pt=0,Bt=ut.length;pt<Bt;pt++){const Pt=o.cMap.charCodeOf(pt);nt[Pt]=pt+1}return nt}const dt=[".notdef"];let b,h;for(h=0;h<ut.length;h++)dt.push(ut[h].glyphName);const et=o.builtInEncoding;if(et){b=Object.create(null);for(const nt in et)h=dt.indexOf(et[nt]),h>=0&&(b[nt]=h)}return(0,st.type1FontGlyphMapping)(o,b,dt)}hasGlyphId(o){return o<0||o>=this.numGlyphs?!1:o===0?!0:this.charstrings[o-1].charstring.length>0}getSeacs(o){const ut=[];for(let dt=0,b=o.length;dt<b;dt++){const h=o[dt];h.seac&&(ut[dt+1]=h.seac)}return ut}getType2Charstrings(o){const ut=[];for(let dt=0,b=o.length;dt<b;dt++)ut.push(o[dt].charstring);return ut}getType2Subrs(o){let ut=0;const dt=o.length;dt<1133?ut=107:dt<33769?ut=1131:ut=32768;const b=[];let h;for(h=0;h<ut;h++)b.push([11]);for(h=0;h<dt;h++)b.push(o[h]);return b}wrap(o,ut,dt,b,h){const et=new s.CFF;et.header=new s.CFFHeader(1,0,4,4),et.names=[o];const nt=new s.CFFTopDict;nt.setByName("version",391),nt.setByName("Notice",392),nt.setByName("FullName",393),nt.setByName("FamilyName",394),nt.setByName("Weight",395),nt.setByName("Encoding",null),nt.setByName("FontMatrix",h.fontMatrix),nt.setByName("FontBBox",h.bbox),nt.setByName("charset",null),nt.setByName("CharStrings",null),nt.setByName("Private",null),et.topDict=nt;const pt=new s.CFFStrings;pt.add("Version 0.11"),pt.add("See original notice"),pt.add(o),pt.add(o),pt.add("Medium"),et.strings=pt,et.globalSubrIndex=new s.CFFIndex;const Bt=ut.length,Pt=[".notdef"];let Rt,Ft;for(Rt=0;Rt<Bt;Rt++){const St=dt[Rt].glyphName;s.CFFStandardStrings.indexOf(St)===-1&&pt.add(St),Pt.push(St)}et.charset=new s.CFFCharset(!1,0,Pt);const lt=new s.CFFIndex;for(lt.add([139,14]),Rt=0;Rt<Bt;Rt++)lt.add(ut[Rt]);et.charStrings=lt;const ft=new s.CFFPrivateDict;ft.setByName("Subrs",null);const it=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(Rt=0,Ft=it.length;Rt<Ft;Rt++){const St=it[Rt];if(!(St in h.privateData))continue;const ht=h.privateData[St];if(Array.isArray(ht))for(let vt=ht.length-1;vt>0;vt--)ht[vt]-=ht[vt-1];ft.setByName(St,ht)}et.topDict.privateDict=ft;const at=new s.CFFIndex;for(Rt=0,Ft=b.length;Rt<Ft;Rt++)at.add(b[Rt]);return ft.subrsIndex=at,new s.CFFCompiler(et).compile()}}ct.Type1Font=j},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.Type1Parser=void 0;var s=Et(37),st=Et(6),Tt=Et(10),wt=Et(2);const e=!1,gt={vmoveto:[4],rlineto:[5],hlineto:[6],vlineto:[7],rrcurveto:[8],flex:[12,35],endchar:[14],rmoveto:[21],hmoveto:[22],vhcurveto:[30],hvcurveto:[31]};class _{constructor(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}convert(h,et,nt){const pt=h.length;let Bt=!1,Pt,Rt,Ft;for(let lt=0;lt<pt;lt++){let ft=h[lt];if(ft<32){switch(ft===12&&(ft=(ft<<8)+h[++lt]),ft){case 1:{this.stack=[];break}case 3:{this.stack=[];break}case 4:if(this.flexing){if(this.stack.length<1){Bt=!0;break}const ht=this.stack.pop();this.stack.push(0,ht);break}Bt=this.executeCommand(1,gt.vmoveto);break;case 5:Bt=this.executeCommand(2,gt.rlineto);break;case 6:Bt=this.executeCommand(1,gt.hlineto);break;case 7:Bt=this.executeCommand(1,gt.vlineto);break;case 8:Bt=this.executeCommand(6,gt.rrcurveto);break;case 9:this.stack=[];break;case 10:if(this.stack.length<1){Bt=!0;break}if(Ft=this.stack.pop(),!et[Ft]){Bt=!0;break}Bt=this.convert(et[Ft],et,nt);break;case 11:return Bt;case 13:if(this.stack.length<2){Bt=!0;break}Pt=this.stack.pop(),Rt=this.stack.pop(),this.lsb=Rt,this.width=Pt,this.stack.push(Pt,Rt),Bt=this.executeCommand(2,gt.hmoveto);break;case 14:this.output.push(gt.endchar[0]);break;case 21:if(this.flexing)break;Bt=this.executeCommand(2,gt.rmoveto);break;case 22:if(this.flexing){this.stack.push(0);break}Bt=this.executeCommand(1,gt.hmoveto);break;case 30:Bt=this.executeCommand(4,gt.vhcurveto);break;case 31:Bt=this.executeCommand(4,gt.hvcurveto);break;case 3072:this.stack=[];break;case 3073:{this.stack=[];break}case 3074:{this.stack=[];break}case 3078:if(nt){const ht=this.stack.at(-5);this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-ht,Bt=this.executeCommand(0,gt.endchar)}else Bt=this.executeCommand(4,gt.endchar);break;case 3079:if(this.stack.length<4){Bt=!0;break}this.stack.pop(),Pt=this.stack.pop();const it=this.stack.pop();Rt=this.stack.pop(),this.lsb=Rt,this.width=Pt,this.stack.push(Pt,Rt,it),Bt=this.executeCommand(3,gt.rmoveto);break;case 3084:if(this.stack.length<2){Bt=!0;break}const at=this.stack.pop(),bt=this.stack.pop();this.stack.push(bt/at);break;case 3088:if(this.stack.length<2){Bt=!0;break}Ft=this.stack.pop();const St=this.stack.pop();if(Ft===0&&St===3){const ht=this.stack.splice(this.stack.length-17,17);this.stack.push(ht[2]+ht[0],ht[3]+ht[1],ht[4],ht[5],ht[6],ht[7],ht[8],ht[9],ht[10],ht[11],ht[12],ht[13],ht[14]),Bt=this.executeCommand(13,gt.flex,!0),this.flexing=!1,this.stack.push(ht[15],ht[16])}else Ft===1&&St===0&&(this.flexing=!0);break;case 3089:break;case 3105:this.stack=[];break;default:(0,wt.warn)('Unknown type 1 charstring command of "'+ft+'"');break}if(Bt)break;continue}else ft<=246?ft-=139:ft<=250?ft=(ft-247)*256+h[++lt]+108:ft<=254?ft=-((ft-251)*256)-h[++lt]-108:ft=(h[++lt]&255)<<24|(h[++lt]&255)<<16|(h[++lt]&255)<<8|(h[++lt]&255)<<0;this.stack.push(ft)}return Bt}executeCommand(h,et,nt){const pt=this.stack.length;if(h>pt)return!0;const Bt=pt-h;for(let Pt=Bt;Pt<pt;Pt++){let Rt=this.stack[Pt];Number.isInteger(Rt)?this.output.push(28,Rt>>8&255,Rt&255):(Rt=65536*Rt|0,this.output.push(255,Rt>>24&255,Rt>>16&255,Rt>>8&255,Rt&255))}return this.output.push(...et),nt?this.stack.splice(Bt,h):this.stack.length=0,!1}}const $=55665,d=4330;function j(b){return b>=48&&b<=57||b>=65&&b<=70||b>=97&&b<=102}function g(b,h,et){if(et>=b.length)return new Uint8Array(0);const nt=52845,pt=22719;let Bt=h|0,Pt,Rt;for(Pt=0;Pt<et;Pt++)Bt=(b[Pt]+Bt)*nt+pt&65535;const Ft=b.length-et,lt=new Uint8Array(Ft);for(Pt=et,Rt=0;Rt<Ft;Pt++,Rt++){const ft=b[Pt];lt[Rt]=ft^Bt>>8,Bt=(ft+Bt)*nt+pt&65535}return lt}function o(b,h,et){let Bt=h|0;const Pt=b.length,Rt=Pt>>>1,Ft=new Uint8Array(Rt);let lt,ft;for(lt=0,ft=0;lt<Pt;lt++){const it=b[lt];if(!j(it))continue;lt++;let at;for(;lt<Pt&&!j(at=b[lt]);)lt++;if(lt<Pt){const bt=parseInt(String.fromCharCode(it,at),16);Ft[ft++]=bt^Bt>>8,Bt=(bt+Bt)*52845+22719&65535}}return Ft.slice(et,ft)}function ut(b){return b===47||b===91||b===93||b===123||b===125||b===40||b===41}class dt{constructor(h,et,nt){if(et){const pt=h.getBytes(),Bt=!((j(pt[0])||(0,st.isWhiteSpace)(pt[0]))&&j(pt[1])&&j(pt[2])&&j(pt[3])&&j(pt[4])&&j(pt[5])&&j(pt[6])&&j(pt[7]));h=new Tt.Stream(Bt?g(pt,$,4):o(pt,$,4))}this.seacAnalysisEnabled=!!nt,this.stream=h,this.nextChar()}readNumberArray(){this.getToken();const h=[];for(;;){const et=this.getToken();if(et===null||et==="]"||et==="}")break;h.push(parseFloat(et||0))}return h}readNumber(){const h=this.getToken();return parseFloat(h||0)}readInt(){const h=this.getToken();return parseInt(h||0,10)|0}readBoolean(){return this.getToken()==="true"?1:0}nextChar(){return this.currentChar=this.stream.getByte()}prevChar(){return this.stream.skip(-2),this.currentChar=this.stream.getByte()}getToken(){let h=!1,et=this.currentChar;for(;;){if(et===-1)return null;if(h)(et===10||et===13)&&(h=!1);else if(et===37)h=!0;else if(!(0,st.isWhiteSpace)(et))break;et=this.nextChar()}if(ut(et))return this.nextChar(),String.fromCharCode(et);let nt="";do nt+=String.fromCharCode(et),et=this.nextChar();while(et>=0&&!(0,st.isWhiteSpace)(et)&&!ut(et));return nt}readCharStrings(h,et){return et===-1?h:g(h,d,et)}extractFontProgram(h){const et=this.stream,nt=[],pt=[],Bt=Object.create(null);Bt.lenIV=4;const Pt={subrs:[],charstrings:[],properties:{privateData:Bt}};let Rt,Ft,lt,ft;for(;(Rt=this.getToken())!==null;)if(Rt==="/")switch(Rt=this.getToken(),Rt){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();Rt=this.getToken(),!(Rt===null||Rt==="end");){if(Rt!=="/")continue;const at=this.getToken();Ft=this.readInt(),this.getToken(),lt=Ft>0?et.getBytes(Ft):new Uint8Array(0),ft=Pt.properties.privateData.lenIV;const bt=this.readCharStrings(lt,ft);this.nextChar(),Rt=this.getToken(),Rt==="noaccess"?this.getToken():Rt==="/"&&this.prevChar(),pt.push({glyph:at,encoded:bt})}break;case"Subrs":for(this.readInt(),this.getToken();this.getToken()==="dup";){const at=this.readInt();Ft=this.readInt(),this.getToken(),lt=Ft>0?et.getBytes(Ft):new Uint8Array(0),ft=Pt.properties.privateData.lenIV;const bt=this.readCharStrings(lt,ft);this.nextChar(),Rt=this.getToken(),Rt==="noaccess"&&this.getToken(),nt[at]=bt}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":const it=this.readNumberArray();it.length>0&&it.length%2;break;case"StemSnapH":case"StemSnapV":Pt.properties.privateData[Rt]=this.readNumberArray();break;case"StdHW":case"StdVW":Pt.properties.privateData[Rt]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":case"ExpansionFactor":Pt.properties.privateData[Rt]=this.readNumber();break;case"ForceBold":Pt.properties.privateData[Rt]=this.readBoolean();break}for(const{encoded:it,glyph:at}of pt){const bt=new _,St=bt.convert(it,nt,this.seacAnalysisEnabled);let ht=bt.output;St&&(ht=[14]);const vt={glyphName:at,charstring:ht,width:bt.width,lsb:bt.lsb,seac:bt.seac};if(at===".notdef"?Pt.charstrings.unshift(vt):Pt.charstrings.push(vt),h.builtInEncoding){const yt=h.builtInEncoding.indexOf(at);yt>-1&&h.widths[yt]===void 0&&yt>=h.firstChar&&yt<=h.lastChar&&(h.widths[yt]=bt.width)}}return Pt}extractFontHeader(h){let et;for(;(et=this.getToken())!==null;)if(et==="/")switch(et=this.getToken(),et){case"FontMatrix":const nt=this.readNumberArray();h.fontMatrix=nt;break;case"Encoding":const pt=this.getToken();let Bt;if(!/^\d+$/.test(pt))Bt=(0,s.getEncoding)(pt);else{Bt=[];const Rt=parseInt(pt,10)|0;this.getToken();for(let Ft=0;Ft<Rt;Ft++){for(et=this.getToken();et!=="dup"&&et!=="def";)if(et=this.getToken(),et===null)return;if(et==="def")break;const lt=this.readInt();this.getToken();const ft=this.getToken();Bt[lt]=ft,this.getToken()}}h.builtInEncoding=Bt;break;case"FontBBox":const Pt=this.readNumberArray();h.ascent=Math.max(Pt[3],Pt[1]),h.descent=Math.min(Pt[1],Pt[3]),h.ascentScaled=!0;break}}}ct.Type1Parser=dt},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.Pattern=void 0,ct.getTilingPatternIR=ut;var s=Et(2),st=Et(7),Tt=Et(14),wt=Et(6);const e={FUNCTION_BASED:1,AXIAL:2,RADIAL:3,FREE_FORM_MESH:4,LATTICE_FORM_MESH:5,COONS_PATCH_MESH:6,TENSOR_PATCH_MESH:7};class gt{constructor(){(0,s.unreachable)("Cannot initialize Pattern.")}static parseShading(b,h,et,nt,pt,Bt){const Pt=b instanceof st.BaseStream?b.dict:b,Rt=Pt.get("ShadingType");try{switch(Rt){case e.AXIAL:case e.RADIAL:return new $(Pt,h,et,pt,Bt);case e.FREE_FORM_MESH:case e.LATTICE_FORM_MESH:case e.COONS_PATCH_MESH:case e.TENSOR_PATCH_MESH:return new g(b,h,et,pt,Bt);default:throw new s.FormatError("Unsupported ShadingType: "+Rt)}}catch(Ft){if(Ft instanceof wt.MissingDataException)throw Ft;return nt.send("UnsupportedFeature",{featureId:s.UNSUPPORTED_FEATURES.shadingPattern}),(0,s.warn)(Ft),new o}}}ct.Pattern=gt;class _{static get SMALL_NUMBER(){return(0,s.shadow)(this,"SMALL_NUMBER",1e-6)}constructor(){this.constructor===_&&(0,s.unreachable)("Cannot initialize BaseShading.")}getIR(){(0,s.unreachable)("Abstract method `getIR` called.")}}class $ extends _{constructor(b,h,et,nt,pt){super(),this.coordsArr=b.getArray("Coords"),this.shadingType=b.get("ShadingType");const Bt=Tt.ColorSpace.parse({cs:b.getRaw("CS")||b.getRaw("ColorSpace"),xref:h,resources:et,pdfFunctionFactory:nt,localColorSpaceCache:pt}),Pt=b.getArray("BBox");Array.isArray(Pt)&&Pt.length===4?this.bbox=s.Util.normalizeRect(Pt):this.bbox=null;let Rt=0,Ft=1;if(b.has("Domain")){const Ht=b.getArray("Domain");Rt=Ht[0],Ft=Ht[1]}let lt=!1,ft=!1;if(b.has("Extend")){const Ht=b.getArray("Extend");lt=Ht[0],ft=Ht[1]}if(this.shadingType===e.RADIAL&&(!lt||!ft)){const[Ht,xt,rt,mt,Mt,_t]=this.coordsArr,Lt=Math.hypot(Ht-mt,xt-Mt);rt<=_t+Lt&&_t<=rt+Lt&&(0,s.warn)("Unsupported radial gradient.")}this.extendStart=lt,this.extendEnd=ft;const it=b.getRaw("Function"),at=nt.createFromArray(it),bt=10,St=(Ft-Rt)/bt,ht=this.colorStops=[];if(Rt>=Ft||St<=0){(0,s.info)("Bad shading domain.");return}const vt=new Float32Array(Bt.numComps),yt=new Float32Array(1);let At;for(let Ht=0;Ht<=bt;Ht++){yt[0]=Rt+Ht*St,at(yt,0,vt,0),At=Bt.getRgb(vt,0);const xt=s.Util.makeHexColor(At[0],At[1],At[2]);ht.push([Ht/bt,xt])}let Nt="transparent";b.has("Background")&&(At=Bt.getRgb(b.get("Background"),0),Nt=s.Util.makeHexColor(At[0],At[1],At[2])),lt||(ht.unshift([0,Nt]),ht[1][0]+=_.SMALL_NUMBER),ft||(ht.at(-1)[0]-=_.SMALL_NUMBER,ht.push([1,Nt])),this.colorStops=ht}getIR(){const b=this.coordsArr,h=this.shadingType;let et,nt,pt,Bt,Pt;return h===e.AXIAL?(nt=[b[0],b[1]],pt=[b[2],b[3]],Bt=null,Pt=null,et="axial"):h===e.RADIAL?(nt=[b[0],b[1]],pt=[b[3],b[4]],Bt=b[2],Pt=b[5],et="radial"):(0,s.unreachable)(`getPattern type unknown: ${h}`),["RadialAxial",et,this.bbox,this.colorStops,nt,pt,Bt,Pt]}}class d{constructor(b,h){this.stream=b,this.context=h,this.buffer=0,this.bufferLength=0;const et=h.numComps;this.tmpCompsBuf=new Float32Array(et);const nt=h.colorSpace.numComps;this.tmpCsCompsBuf=h.colorFn?new Float32Array(nt):this.tmpCompsBuf}get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;const b=this.stream.getByte();return b<0?!1:(this.buffer=b,this.bufferLength=8,!0)}readBits(b){let h=this.buffer,et=this.bufferLength;if(b===32){if(et===0)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;h=h<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();const nt=this.stream.getByte();return this.buffer=nt&(1<<et)-1,(h<<8-et|(nt&255)>>et)>>>0}if(b===8&&et===0)return this.stream.getByte();for(;et<b;)h=h<<8|this.stream.getByte(),et+=8;return et-=b,this.bufferLength=et,this.buffer=h&(1<<et)-1,h>>et}align(){this.buffer=0,this.bufferLength=0}readFlag(){return this.readBits(this.context.bitsPerFlag)}readCoordinate(){const b=this.context.bitsPerCoordinate,h=this.readBits(b),et=this.readBits(b),nt=this.context.decode,pt=b<32?1/((1<<b)-1):23283064365386963e-26;return[h*pt*(nt[1]-nt[0])+nt[0],et*pt*(nt[3]-nt[2])+nt[2]]}readComponents(){const b=this.context.numComps,h=this.context.bitsPerComponent,et=h<32?1/((1<<h)-1):23283064365386963e-26,nt=this.context.decode,pt=this.tmpCompsBuf;for(let Pt=0,Rt=4;Pt<b;Pt++,Rt+=2){const Ft=this.readBits(h);pt[Pt]=Ft*et*(nt[Rt+1]-nt[Rt])+nt[Rt]}const Bt=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(pt,0,Bt,0),this.context.colorSpace.getRgb(Bt,0)}}const j=function(){function b(et){const nt=[];for(let pt=0;pt<=et;pt++){const Bt=pt/et,Pt=1-Bt;nt.push(new Float32Array([Pt*Pt*Pt,3*Bt*Pt*Pt,3*Bt*Bt*Pt,Bt*Bt*Bt]))}return nt}const h=[];return function(et){return h[et]||(h[et]=b(et)),h[et]}}();class g extends _{static get MIN_SPLIT_PATCH_CHUNKS_AMOUNT(){return(0,s.shadow)(this,"MIN_SPLIT_PATCH_CHUNKS_AMOUNT",3)}static get MAX_SPLIT_PATCH_CHUNKS_AMOUNT(){return(0,s.shadow)(this,"MAX_SPLIT_PATCH_CHUNKS_AMOUNT",20)}static get TRIANGLE_DENSITY(){return(0,s.shadow)(this,"TRIANGLE_DENSITY",20)}constructor(b,h,et,nt,pt){if(super(),!(b instanceof st.BaseStream))throw new s.FormatError("Mesh data is not a stream");const Bt=b.dict;this.shadingType=Bt.get("ShadingType");const Pt=Bt.getArray("BBox");Array.isArray(Pt)&&Pt.length===4?this.bbox=s.Util.normalizeRect(Pt):this.bbox=null;const Rt=Tt.ColorSpace.parse({cs:Bt.getRaw("CS")||Bt.getRaw("ColorSpace"),xref:h,resources:et,pdfFunctionFactory:nt,localColorSpaceCache:pt});this.background=Bt.has("Background")?Rt.getRgb(Bt.get("Background"),0):null;const Ft=Bt.getRaw("Function"),lt=Ft?nt.createFromArray(Ft):null;this.coords=[],this.colors=[],this.figures=[];const ft={bitsPerCoordinate:Bt.get("BitsPerCoordinate"),bitsPerComponent:Bt.get("BitsPerComponent"),bitsPerFlag:Bt.get("BitsPerFlag"),decode:Bt.getArray("Decode"),colorFn:lt,colorSpace:Rt,numComps:lt?1:Rt.numComps},it=new d(b,ft);let at=!1;switch(this.shadingType){case e.FREE_FORM_MESH:this._decodeType4Shading(it);break;case e.LATTICE_FORM_MESH:const bt=Bt.get("VerticesPerRow")|0;if(bt<2)throw new s.FormatError("Invalid VerticesPerRow");this._decodeType5Shading(it,bt);break;case e.COONS_PATCH_MESH:this._decodeType6Shading(it),at=!0;break;case e.TENSOR_PATCH_MESH:this._decodeType7Shading(it),at=!0;break;default:(0,s.unreachable)("Unsupported mesh type.");break}if(at){this._updateBounds();for(let bt=0,St=this.figures.length;bt<St;bt++)this._buildFigureFromPatch(bt)}this._updateBounds(),this._packData()}_decodeType4Shading(b){const h=this.coords,et=this.colors,nt=[];let pt=0;for(;b.hasData;){const Bt=b.readFlag(),Pt=b.readCoordinate(),Rt=b.readComponents();if(pt===0){if(!(0<=Bt&&Bt<=2))throw new s.FormatError("Unknown type4 flag");switch(Bt){case 0:pt=3;break;case 1:nt.push(nt.at(-2),nt.at(-1)),pt=1;break;case 2:nt.push(nt.at(-3),nt.at(-1)),pt=1;break}}nt.push(h.length),h.push(Pt),et.push(Rt),pt--,b.align()}this.figures.push({type:"triangles",coords:new Int32Array(nt),colors:new Int32Array(nt)})}_decodeType5Shading(b,h){const et=this.coords,nt=this.colors,pt=[];for(;b.hasData;){const Bt=b.readCoordinate(),Pt=b.readComponents();pt.push(et.length),et.push(Bt),nt.push(Pt)}this.figures.push({type:"lattice",coords:new Int32Array(pt),colors:new Int32Array(pt),verticesPerRow:h})}_decodeType6Shading(b){const h=this.coords,et=this.colors,nt=new Int32Array(16),pt=new Int32Array(4);for(;b.hasData;){const Bt=b.readFlag();if(!(0<=Bt&&Bt<=3))throw new s.FormatError("Unknown type6 flag");const Pt=h.length;for(let at=0,bt=Bt!==0?8:12;at<bt;at++)h.push(b.readCoordinate());const Rt=et.length;for(let at=0,bt=Bt!==0?2:4;at<bt;at++)et.push(b.readComponents());let Ft,lt,ft,it;switch(Bt){case 0:nt[12]=Pt+3,nt[13]=Pt+4,nt[14]=Pt+5,nt[15]=Pt+6,nt[8]=Pt+2,nt[11]=Pt+7,nt[4]=Pt+1,nt[7]=Pt+8,nt[0]=Pt,nt[1]=Pt+11,nt[2]=Pt+10,nt[3]=Pt+9,pt[2]=Rt+1,pt[3]=Rt+2,pt[0]=Rt,pt[1]=Rt+3;break;case 1:Ft=nt[12],lt=nt[13],ft=nt[14],it=nt[15],nt[12]=it,nt[13]=Pt+0,nt[14]=Pt+1,nt[15]=Pt+2,nt[8]=ft,nt[11]=Pt+3,nt[4]=lt,nt[7]=Pt+4,nt[0]=Ft,nt[1]=Pt+7,nt[2]=Pt+6,nt[3]=Pt+5,Ft=pt[2],lt=pt[3],pt[2]=lt,pt[3]=Rt,pt[0]=Ft,pt[1]=Rt+1;break;case 2:Ft=nt[15],lt=nt[11],nt[12]=nt[3],nt[13]=Pt+0,nt[14]=Pt+1,nt[15]=Pt+2,nt[8]=nt[7],nt[11]=Pt+3,nt[4]=lt,nt[7]=Pt+4,nt[0]=Ft,nt[1]=Pt+7,nt[2]=Pt+6,nt[3]=Pt+5,Ft=pt[3],pt[2]=pt[1],pt[3]=Rt,pt[0]=Ft,pt[1]=Rt+1;break;case 3:nt[12]=nt[0],nt[13]=Pt+0,nt[14]=Pt+1,nt[15]=Pt+2,nt[8]=nt[1],nt[11]=Pt+3,nt[4]=nt[2],nt[7]=Pt+4,nt[0]=nt[3],nt[1]=Pt+7,nt[2]=Pt+6,nt[3]=Pt+5,pt[2]=pt[0],pt[3]=Rt,pt[0]=pt[1],pt[1]=Rt+1;break}nt[5]=h.length,h.push([(-4*h[nt[0]][0]-h[nt[15]][0]+6*(h[nt[4]][0]+h[nt[1]][0])-2*(h[nt[12]][0]+h[nt[3]][0])+3*(h[nt[13]][0]+h[nt[7]][0]))/9,(-4*h[nt[0]][1]-h[nt[15]][1]+6*(h[nt[4]][1]+h[nt[1]][1])-2*(h[nt[12]][1]+h[nt[3]][1])+3*(h[nt[13]][1]+h[nt[7]][1]))/9]),nt[6]=h.length,h.push([(-4*h[nt[3]][0]-h[nt[12]][0]+6*(h[nt[2]][0]+h[nt[7]][0])-2*(h[nt[0]][0]+h[nt[15]][0])+3*(h[nt[4]][0]+h[nt[14]][0]))/9,(-4*h[nt[3]][1]-h[nt[12]][1]+6*(h[nt[2]][1]+h[nt[7]][1])-2*(h[nt[0]][1]+h[nt[15]][1])+3*(h[nt[4]][1]+h[nt[14]][1]))/9]),nt[9]=h.length,h.push([(-4*h[nt[12]][0]-h[nt[3]][0]+6*(h[nt[8]][0]+h[nt[13]][0])-2*(h[nt[0]][0]+h[nt[15]][0])+3*(h[nt[11]][0]+h[nt[1]][0]))/9,(-4*h[nt[12]][1]-h[nt[3]][1]+6*(h[nt[8]][1]+h[nt[13]][1])-2*(h[nt[0]][1]+h[nt[15]][1])+3*(h[nt[11]][1]+h[nt[1]][1]))/9]),nt[10]=h.length,h.push([(-4*h[nt[15]][0]-h[nt[0]][0]+6*(h[nt[11]][0]+h[nt[14]][0])-2*(h[nt[12]][0]+h[nt[3]][0])+3*(h[nt[2]][0]+h[nt[8]][0]))/9,(-4*h[nt[15]][1]-h[nt[0]][1]+6*(h[nt[11]][1]+h[nt[14]][1])-2*(h[nt[12]][1]+h[nt[3]][1])+3*(h[nt[2]][1]+h[nt[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array(nt),colors:new Int32Array(pt)})}}_decodeType7Shading(b){const h=this.coords,et=this.colors,nt=new Int32Array(16),pt=new Int32Array(4);for(;b.hasData;){const Bt=b.readFlag();if(!(0<=Bt&&Bt<=3))throw new s.FormatError("Unknown type7 flag");const Pt=h.length;for(let at=0,bt=Bt!==0?12:16;at<bt;at++)h.push(b.readCoordinate());const Rt=et.length;for(let at=0,bt=Bt!==0?2:4;at<bt;at++)et.push(b.readComponents());let Ft,lt,ft,it;switch(Bt){case 0:nt[12]=Pt+3,nt[13]=Pt+4,nt[14]=Pt+5,nt[15]=Pt+6,nt[8]=Pt+2,nt[9]=Pt+13,nt[10]=Pt+14,nt[11]=Pt+7,nt[4]=Pt+1,nt[5]=Pt+12,nt[6]=Pt+15,nt[7]=Pt+8,nt[0]=Pt,nt[1]=Pt+11,nt[2]=Pt+10,nt[3]=Pt+9,pt[2]=Rt+1,pt[3]=Rt+2,pt[0]=Rt,pt[1]=Rt+3;break;case 1:Ft=nt[12],lt=nt[13],ft=nt[14],it=nt[15],nt[12]=it,nt[13]=Pt+0,nt[14]=Pt+1,nt[15]=Pt+2,nt[8]=ft,nt[9]=Pt+9,nt[10]=Pt+10,nt[11]=Pt+3,nt[4]=lt,nt[5]=Pt+8,nt[6]=Pt+11,nt[7]=Pt+4,nt[0]=Ft,nt[1]=Pt+7,nt[2]=Pt+6,nt[3]=Pt+5,Ft=pt[2],lt=pt[3],pt[2]=lt,pt[3]=Rt,pt[0]=Ft,pt[1]=Rt+1;break;case 2:Ft=nt[15],lt=nt[11],nt[12]=nt[3],nt[13]=Pt+0,nt[14]=Pt+1,nt[15]=Pt+2,nt[8]=nt[7],nt[9]=Pt+9,nt[10]=Pt+10,nt[11]=Pt+3,nt[4]=lt,nt[5]=Pt+8,nt[6]=Pt+11,nt[7]=Pt+4,nt[0]=Ft,nt[1]=Pt+7,nt[2]=Pt+6,nt[3]=Pt+5,Ft=pt[3],pt[2]=pt[1],pt[3]=Rt,pt[0]=Ft,pt[1]=Rt+1;break;case 3:nt[12]=nt[0],nt[13]=Pt+0,nt[14]=Pt+1,nt[15]=Pt+2,nt[8]=nt[1],nt[9]=Pt+9,nt[10]=Pt+10,nt[11]=Pt+3,nt[4]=nt[2],nt[5]=Pt+8,nt[6]=Pt+11,nt[7]=Pt+4,nt[0]=nt[3],nt[1]=Pt+7,nt[2]=Pt+6,nt[3]=Pt+5,pt[2]=pt[0],pt[3]=Rt,pt[0]=pt[1],pt[1]=Rt+1;break}this.figures.push({type:"patch",coords:new Int32Array(nt),colors:new Int32Array(pt)})}}_buildFigureFromPatch(b){const h=this.figures[b];(0,s.assert)(h.type==="patch","Unexpected patch mesh figure");const et=this.coords,nt=this.colors,pt=h.coords,Bt=h.colors,Pt=Math.min(et[pt[0]][0],et[pt[3]][0],et[pt[12]][0],et[pt[15]][0]),Rt=Math.min(et[pt[0]][1],et[pt[3]][1],et[pt[12]][1],et[pt[15]][1]),Ft=Math.max(et[pt[0]][0],et[pt[3]][0],et[pt[12]][0],et[pt[15]][0]),lt=Math.max(et[pt[0]][1],et[pt[3]][1],et[pt[12]][1],et[pt[15]][1]);let ft=Math.ceil((Ft-Pt)*g.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));ft=Math.max(g.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(g.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,ft));let it=Math.ceil((lt-Rt)*g.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));it=Math.max(g.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(g.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,it));const at=ft+1,bt=new Int32Array((it+1)*at),St=new Int32Array((it+1)*at);let ht=0;const vt=new Uint8Array(3),yt=new Uint8Array(3),At=nt[Bt[0]],Nt=nt[Bt[1]],Ht=nt[Bt[2]],xt=nt[Bt[3]],rt=j(it),mt=j(ft);for(let Mt=0;Mt<=it;Mt++){vt[0]=(At[0]*(it-Mt)+Ht[0]*Mt)/it|0,vt[1]=(At[1]*(it-Mt)+Ht[1]*Mt)/it|0,vt[2]=(At[2]*(it-Mt)+Ht[2]*Mt)/it|0,yt[0]=(Nt[0]*(it-Mt)+xt[0]*Mt)/it|0,yt[1]=(Nt[1]*(it-Mt)+xt[1]*Mt)/it|0,yt[2]=(Nt[2]*(it-Mt)+xt[2]*Mt)/it|0;for(let _t=0;_t<=ft;_t++,ht++){if((Mt===0||Mt===it)&&(_t===0||_t===ft))continue;let Lt=0,It=0,Dt=0;for(let Ot=0;Ot<=3;Ot++)for(let Xt=0;Xt<=3;Xt++,Dt++){const Ut=rt[Mt][Ot]*mt[_t][Xt];Lt+=et[pt[Dt]][0]*Ut,It+=et[pt[Dt]][1]*Ut}bt[ht]=et.length,et.push([Lt,It]),St[ht]=nt.length;const jt=new Uint8Array(3);jt[0]=(vt[0]*(ft-_t)+yt[0]*_t)/ft|0,jt[1]=(vt[1]*(ft-_t)+yt[1]*_t)/ft|0,jt[2]=(vt[2]*(ft-_t)+yt[2]*_t)/ft|0,nt.push(jt)}}bt[0]=pt[0],St[0]=Bt[0],bt[ft]=pt[3],St[ft]=Bt[1],bt[at*it]=pt[12],St[at*it]=Bt[2],bt[at*it+ft]=pt[15],St[at*it+ft]=Bt[3],this.figures[b]={type:"lattice",coords:bt,colors:St,verticesPerRow:at}}_updateBounds(){let b=this.coords[0][0],h=this.coords[0][1],et=b,nt=h;for(let pt=1,Bt=this.coords.length;pt<Bt;pt++){const Pt=this.coords[pt][0],Rt=this.coords[pt][1];b=b>Pt?Pt:b,h=h>Rt?Rt:h,et=et<Pt?Pt:et,nt=nt<Rt?Rt:nt}this.bounds=[b,h,et,nt]}_packData(){let b,h,et,nt;const pt=this.coords,Bt=new Float32Array(pt.length*2);for(b=0,et=0,h=pt.length;b<h;b++){const lt=pt[b];Bt[et++]=lt[0],Bt[et++]=lt[1]}this.coords=Bt;const Pt=this.colors,Rt=new Uint8Array(Pt.length*3);for(b=0,et=0,h=Pt.length;b<h;b++){const lt=Pt[b];Rt[et++]=lt[0],Rt[et++]=lt[1],Rt[et++]=lt[2]}this.colors=Rt;const Ft=this.figures;for(b=0,h=Ft.length;b<h;b++){const lt=Ft[b],ft=lt.coords,it=lt.colors;for(et=0,nt=ft.length;et<nt;et++)ft[et]*=2,it[et]*=3}}getIR(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.bbox,this.background]}}class o extends _{getIR(){return["Dummy"]}}function ut(dt,b,h){const et=b.getArray("Matrix"),nt=s.Util.normalizeRect(b.getArray("BBox")),pt=b.get("XStep"),Bt=b.get("YStep"),Pt=b.get("PaintType"),Rt=b.get("TilingType");if(nt[2]-nt[0]===0||nt[3]-nt[1]===0)throw new s.FormatError(`Invalid getTilingPatternIR /BBox array: [${nt}].`);return["TilingPattern",h,dt,et,nt,pt,Bt,Pt,Rt]}},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.getXfaFontDict=o,ct.getXfaFontName=j;var s=Et(52),st=Et(5),Tt=Et(53),wt=Et(54),e=Et(55),gt=Et(56),_=Et(6),$=Et(38);const d=(0,_.getLookupTableFactory)(function(ut){ut["MyriadPro-Regular"]=ut["PdfJS-Fallback-Regular"]={name:"LiberationSans-Regular",factors:e.MyriadProRegularFactors,baseWidths:wt.LiberationSansRegularWidths,baseMapping:wt.LiberationSansRegularMapping,metrics:e.MyriadProRegularMetrics},ut["MyriadPro-Bold"]=ut["PdfJS-Fallback-Bold"]={name:"LiberationSans-Bold",factors:e.MyriadProBoldFactors,baseWidths:wt.LiberationSansBoldWidths,baseMapping:wt.LiberationSansBoldMapping,metrics:e.MyriadProBoldMetrics},ut["MyriadPro-It"]=ut["MyriadPro-Italic"]=ut["PdfJS-Fallback-Italic"]={name:"LiberationSans-Italic",factors:e.MyriadProItalicFactors,baseWidths:wt.LiberationSansItalicWidths,baseMapping:wt.LiberationSansItalicMapping,metrics:e.MyriadProItalicMetrics},ut["MyriadPro-BoldIt"]=ut["MyriadPro-BoldItalic"]=ut["PdfJS-Fallback-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:e.MyriadProBoldItalicFactors,baseWidths:wt.LiberationSansBoldItalicWidths,baseMapping:wt.LiberationSansBoldItalicMapping,metrics:e.MyriadProBoldItalicMetrics},ut.ArialMT=ut.Arial=ut["Arial-Regular"]={name:"LiberationSans-Regular",baseWidths:wt.LiberationSansRegularWidths,baseMapping:wt.LiberationSansRegularMapping},ut["Arial-BoldMT"]=ut["Arial-Bold"]={name:"LiberationSans-Bold",baseWidths:wt.LiberationSansBoldWidths,baseMapping:wt.LiberationSansBoldMapping},ut["Arial-ItalicMT"]=ut["Arial-Italic"]={name:"LiberationSans-Italic",baseWidths:wt.LiberationSansItalicWidths,baseMapping:wt.LiberationSansItalicMapping},ut["Arial-BoldItalicMT"]=ut["Arial-BoldItalic"]={name:"LiberationSans-BoldItalic",baseWidths:wt.LiberationSansBoldItalicWidths,baseMapping:wt.LiberationSansBoldItalicMapping},ut["Calibri-Regular"]={name:"LiberationSans-Regular",factors:s.CalibriRegularFactors,baseWidths:wt.LiberationSansRegularWidths,baseMapping:wt.LiberationSansRegularMapping,metrics:s.CalibriRegularMetrics},ut["Calibri-Bold"]={name:"LiberationSans-Bold",factors:s.CalibriBoldFactors,baseWidths:wt.LiberationSansBoldWidths,baseMapping:wt.LiberationSansBoldMapping,metrics:s.CalibriBoldMetrics},ut["Calibri-Italic"]={name:"LiberationSans-Italic",factors:s.CalibriItalicFactors,baseWidths:wt.LiberationSansItalicWidths,baseMapping:wt.LiberationSansItalicMapping,metrics:s.CalibriItalicMetrics},ut["Calibri-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:s.CalibriBoldItalicFactors,baseWidths:wt.LiberationSansBoldItalicWidths,baseMapping:wt.LiberationSansBoldItalicMapping,metrics:s.CalibriBoldItalicMetrics},ut["Segoeui-Regular"]={name:"LiberationSans-Regular",factors:gt.SegoeuiRegularFactors,baseWidths:wt.LiberationSansRegularWidths,baseMapping:wt.LiberationSansRegularMapping,metrics:gt.SegoeuiRegularMetrics},ut["Segoeui-Bold"]={name:"LiberationSans-Bold",factors:gt.SegoeuiBoldFactors,baseWidths:wt.LiberationSansBoldWidths,baseMapping:wt.LiberationSansBoldMapping,metrics:gt.SegoeuiBoldMetrics},ut["Segoeui-Italic"]={name:"LiberationSans-Italic",factors:gt.SegoeuiItalicFactors,baseWidths:wt.LiberationSansItalicWidths,baseMapping:wt.LiberationSansItalicMapping,metrics:gt.SegoeuiItalicMetrics},ut["Segoeui-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:gt.SegoeuiBoldItalicFactors,baseWidths:wt.LiberationSansBoldItalicWidths,baseMapping:wt.LiberationSansBoldItalicMapping,metrics:gt.SegoeuiBoldItalicMetrics},ut["Helvetica-Regular"]=ut.Helvetica={name:"LiberationSans-Regular",factors:Tt.HelveticaRegularFactors,baseWidths:wt.LiberationSansRegularWidths,baseMapping:wt.LiberationSansRegularMapping,metrics:Tt.HelveticaRegularMetrics},ut["Helvetica-Bold"]={name:"LiberationSans-Bold",factors:Tt.HelveticaBoldFactors,baseWidths:wt.LiberationSansBoldWidths,baseMapping:wt.LiberationSansBoldMapping,metrics:Tt.HelveticaBoldMetrics},ut["Helvetica-Italic"]={name:"LiberationSans-Italic",factors:Tt.HelveticaItalicFactors,baseWidths:wt.LiberationSansItalicWidths,baseMapping:wt.LiberationSansItalicMapping,metrics:Tt.HelveticaItalicMetrics},ut["Helvetica-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:Tt.HelveticaBoldItalicFactors,baseWidths:wt.LiberationSansBoldItalicWidths,baseMapping:wt.LiberationSansBoldItalicMapping,metrics:Tt.HelveticaBoldItalicMetrics}});function j(ut){const dt=(0,$.normalizeFontName)(ut);return d()[dt]}function g(ut){const dt=j(ut);if(!dt)return null;const{baseWidths:b,baseMapping:h,factors:et}=dt;let nt;et?nt=b.map((Rt,Ft)=>Rt*et[Ft]):nt=b;let pt=-2,Bt;const Pt=[];for(const[Rt,Ft]of h.map((lt,ft)=>[lt,ft]).sort(([lt],[ft])=>lt-ft))Rt!==-1&&(Rt===pt+1?(Bt.push(nt[Ft]),pt+=1):(pt=Rt,Bt=[nt[Ft]],Pt.push(Rt,Bt)));return Pt}function o(ut){const dt=g(ut),b=new st.Dict(null);b.set("BaseFont",st.Name.get(ut)),b.set("Type",st.Name.get("Font")),b.set("Subtype",st.Name.get("CIDFontType2")),b.set("Encoding",st.Name.get("Identity-H")),b.set("CIDToGIDMap",st.Name.get("Identity")),b.set("W",dt),b.set("FirstChar",dt[0]),b.set("LastChar",dt.at(-2)+dt.at(-1).length-1);const h=new st.Dict(null);b.set("FontDescriptor",h);const et=new st.Dict(null);return et.set("Ordering","Identity"),et.set("Registry","Adobe"),et.set("Supplement",0),b.set("CIDSystemInfo",et),b}},(zt,ct)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.CalibriRegularMetrics=ct.CalibriRegularFactors=ct.CalibriItalicMetrics=ct.CalibriItalicFactors=ct.CalibriBoldMetrics=ct.CalibriBoldItalicMetrics=ct.CalibriBoldItalicFactors=ct.CalibriBoldFactors=void 0;const Et=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.54657,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.73293,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.9121,.86943,.79795,.88198,.77958,.70864,.81055,.90399,.88653,.96017,.82577,.77892,.78257,.97507,1.54657,.97507,.85284,.89552,.90176,.88762,.8785,.75241,.8785,.90518,.95015,.77618,.8785,.88401,.91916,.86304,.88401,.91488,.8785,.8801,.8785,.8785,.91343,.7173,1.04106,.8785,.85075,.95794,.82616,.85162,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.12401,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.73293,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.9121,.86943,.86943,.86943,.86943,.86943,.85284,.87508,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.88762,.88762,.88762,.88762,.88762,.88762,.8715,.75241,.90518,.90518,.90518,.90518,.88401,.88401,.88401,.88401,.8785,.8785,.8801,.8801,.8801,.8801,.8801,.90747,.89049,.8785,.8785,.8785,.8785,.85162,.8785,.85162,.83908,.88762,.83908,.88762,.83908,.88762,.73293,.75241,.73293,.75241,.73293,.75241,.73293,.75241,.87289,.83016,.88506,.93125,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.81921,.77618,.81921,.77618,.81921,.77618,1,1,.87356,.8785,.91075,.89608,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76229,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.79468,.91926,.88175,.70823,.94903,.9121,.8785,1,1,.9121,.8785,.87802,.88656,.8785,.86943,.8801,.86943,.8801,.86943,.8801,.87402,.89291,.77958,.91343,1,1,.77958,.91343,.70864,.7173,.70864,.7173,.70864,.7173,.70864,.7173,1,1,.81055,.75841,.81055,1.06452,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.96017,.95794,.77892,.85162,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.88762,.77539,.8715,.87508,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70674,.98387,.94721,1.33431,1.45894,.95161,1.06303,.83908,.80352,.57184,.6965,.56289,.82001,.56029,.81235,1.02988,.83908,.7762,.68156,.80367,.73133,.78257,.87356,.86943,.95958,.75727,.89019,1.04924,.9121,.7648,.86943,.87356,.79795,.78275,.81055,.77892,.9762,.82577,.99819,.84896,.95958,.77892,.96108,1.01407,.89049,1.02988,.94211,.96108,.8936,.84021,.87842,.96399,.79109,.89049,1.00813,1.02988,.86077,.87445,.92099,.84723,.86513,.8801,.75638,.85714,.78216,.79586,.87965,.94211,.97747,.78287,.97926,.84971,1.02988,.94211,.8801,.94211,.84971,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90264,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.90518,1,1,1,1,1,1,1,1,1,1,1,1,.90548,1,1,1,1,1,1,.96017,.95794,.96017,.95794,.96017,.95794,.77892,.85162,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.92794,.87012,.87012,.87012,.89552,.89552,1.42259,.71143,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.93835,.83406,.91133,.84107,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90527,1.81055,.90527,1.81055,1.31006,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];ct.CalibriBoldFactors=Et;const s={lineHeight:1.2207,lineGap:.2207};ct.CalibriBoldMetrics=s;const st=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.56239,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.71805,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.90872,.85938,.79795,.87068,.77958,.69766,.81055,.90399,.88653,.96068,.82577,.77892,.78257,.97507,1.529,.97507,.85284,.89552,.90176,.94908,.86411,.74012,.86411,.88323,.95015,.86411,.86331,.88401,.91916,.86304,.88401,.9039,.86331,.86331,.86411,.86411,.90464,.70852,1.04106,.86331,.84372,.95794,.82616,.84548,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.19129,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.71805,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.90872,.85938,.85938,.85938,.85938,.85938,.85284,.87068,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.94908,.94908,.94908,.94908,.94908,.94908,.85887,.74012,.88323,.88323,.88323,.88323,.88401,.88401,.88401,.88401,.8785,.86331,.86331,.86331,.86331,.86331,.86331,.90747,.89049,.86331,.86331,.86331,.86331,.84548,.86411,.84548,.83908,.94908,.83908,.94908,.83908,.94908,.71805,.74012,.71805,.74012,.71805,.74012,.71805,.74012,.87289,.79538,.88506,.92726,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.81921,.86411,.81921,.86411,.81921,.86411,1,1,.87356,.86331,.91075,.8777,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76467,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.77312,.91926,.88175,.70823,.94903,.90872,.86331,1,1,.90872,.86331,.86906,.88116,.86331,.85938,.86331,.85938,.86331,.85938,.86331,.87402,.86549,.77958,.90464,1,1,.77958,.90464,.69766,.70852,.69766,.70852,.69766,.70852,.69766,.70852,1,1,.81055,.75841,.81055,1.06452,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.96068,.95794,.77892,.84548,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.94908,.77539,.85887,.87068,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70088,.98387,.94721,1.33431,1.45894,.95161,1.48387,.83908,.80352,.57118,.6965,.56347,.79179,.55853,.80346,1.02988,.83908,.7762,.67174,.86036,.73133,.78257,.87356,.86441,.95958,.75727,.89019,1.04924,.90872,.74889,.85938,.87891,.79795,.7957,.81055,.77892,.97447,.82577,.97466,.87179,.95958,.77892,.94252,.95612,.8753,1.02988,.92733,.94252,.87411,.84021,.8728,.95612,.74081,.8753,1.02189,1.02988,.84814,.87445,.91822,.84723,.85668,.86331,.81344,.87581,.76422,.82046,.96057,.92733,.99375,.78022,.95452,.86015,1.02988,.92733,.86331,.92733,.86015,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90631,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.88323,1,1,1,1,1,1,1,1,1,1,1,1,.85174,1,1,1,1,1,1,.96068,.95794,.96068,.95794,.96068,.95794,.77892,.84548,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.89807,.87012,.87012,.87012,.89552,.89552,1.42259,.71094,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.92972,.83406,.91133,.83326,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90616,1.81055,.90527,1.81055,1.3107,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];ct.CalibriBoldItalicFactors=st;const Tt={lineHeight:1.2207,lineGap:.2207};ct.CalibriBoldItalicMetrics=Tt;const wt=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39543,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.72346,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89249,.84118,.77452,.85374,.75186,.67789,.79776,.88844,.85066,.94309,.77818,.7306,.76659,1.10369,1.38313,1.10369,1.06139,.89552,.8739,.9245,.9245,.83203,.9245,.85865,1.09842,.9245,.9245,1.03297,1.07692,.90918,1.03297,.94959,.9245,.92274,.9245,.9245,1.02933,.77832,1.20562,.9245,.8916,.98986,.86621,.89453,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.16359,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.72346,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89249,.84118,.84118,.84118,.84118,.84118,.85284,.84557,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.9245,.9245,.9245,.9245,.9245,.9245,.84843,.83203,.85865,.85865,.85865,.85865,.82601,.82601,.82601,.82601,.94469,.9245,.92274,.92274,.92274,.92274,.92274,.90747,.86651,.9245,.9245,.9245,.9245,.89453,.9245,.89453,.8675,.9245,.8675,.9245,.8675,.9245,.72346,.83203,.72346,.83203,.72346,.83203,.72346,.83203,.85193,.8875,.86477,.99034,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.81105,.9245,.81105,.9245,.81105,.9245,1,1,.86275,.9245,.90872,.93591,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77896,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.9375,.98156,.93407,.77261,1.11429,.89249,.9245,1,1,.89249,.9245,.92534,.86698,.9245,.84118,.92274,.84118,.92274,.84118,.92274,.8667,.86291,.75186,1.02933,1,1,.75186,1.02933,.67789,.77832,.67789,.77832,.67789,.77832,.67789,.77832,1,1,.79776,.97655,.79776,1.23023,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.94309,.98986,.7306,.89453,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.9245,.76318,.84843,.84557,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67009,.96334,.93695,1.35191,1.40909,.95161,1.48387,.8675,.90861,.6192,.7363,.64824,.82411,.56321,.85696,1.23516,.8675,.81552,.7286,.84134,.73206,.76659,.86275,.84369,.90685,.77892,.85871,1.02638,.89249,.75828,.84118,.85984,.77452,.76466,.79776,.7306,.90782,.77818,.903,.87291,.90685,.7306,.99058,1.03667,.94635,1.23516,.9849,.99058,.92393,.8916,.942,1.03667,.75026,.94635,1.0297,1.23516,.90918,.94048,.98217,.89746,.84153,.92274,.82507,.88832,.84438,.88178,1.03525,.9849,1.00225,.78086,.97248,.89404,1.23516,.9849,.92274,.9849,.89404,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.89693,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.85865,1,1,1,1,1,1,1,1,1,1,1,1,.90933,1,1,1,1,1,1,.94309,.98986,.94309,.98986,.94309,.98986,.7306,.89453,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.68994,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.97858,.82616,.91133,.83437,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90572,1.81055,.90749,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85284,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];ct.CalibriItalicFactors=wt;const e={lineHeight:1.2207,lineGap:.2207};ct.CalibriItalicMetrics=e;const gt=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39016,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.73834,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89385,.85122,.77452,.86503,.75186,.68887,.79776,.88844,.85066,.94258,.77818,.7306,.76659,1.10369,1.39016,1.10369,1.06139,.89552,.8739,.86128,.94469,.8457,.94469,.89464,1.09842,.84636,.94469,1.03297,1.07692,.90918,1.03297,.95897,.94469,.9482,.94469,.94469,1.04692,.78223,1.20562,.94469,.90332,.98986,.86621,.90527,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.08707,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.73834,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89385,.85122,.85122,.85122,.85122,.85122,.85284,.85311,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.86128,.86128,.86128,.86128,.86128,.86128,.8693,.8457,.89464,.89464,.89464,.89464,.82601,.82601,.82601,.82601,.94469,.94469,.9482,.9482,.9482,.9482,.9482,.90747,.86651,.94469,.94469,.94469,.94469,.90527,.94469,.90527,.8675,.86128,.8675,.86128,.8675,.86128,.73834,.8457,.73834,.8457,.73834,.8457,.73834,.8457,.85193,.92454,.86477,.9921,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.81105,.84636,.81105,.84636,.81105,.84636,1,1,.86275,.94469,.90872,.95786,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77741,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.90452,.98156,1.11842,.77261,1.11429,.89385,.94469,1,1,.89385,.94469,.95877,.86901,.94469,.85122,.9482,.85122,.9482,.85122,.9482,.8667,.90016,.75186,1.04692,1,1,.75186,1.04692,.68887,.78223,.68887,.78223,.68887,.78223,.68887,.78223,1,1,.79776,.92188,.79776,1.23023,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.94258,.98986,.7306,.90527,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.86128,.76318,.8693,.85311,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67742,.96334,.93695,1.35191,1.40909,.95161,1.48387,.86686,.90861,.62267,.74359,.65649,.85498,.56963,.88254,1.23516,.8675,.81552,.75443,.84503,.73206,.76659,.86275,.85122,.90685,.77892,.85746,1.02638,.89385,.75657,.85122,.86275,.77452,.74171,.79776,.7306,.95165,.77818,.89772,.88831,.90685,.7306,.98142,1.02191,.96576,1.23516,.99018,.98142,.9236,.89258,.94035,1.02191,.78848,.96576,.9561,1.23516,.90918,.92578,.95424,.89746,.83969,.9482,.80113,.89442,.85208,.86155,.98022,.99018,1.00452,.81209,.99247,.89181,1.23516,.99018,.9482,.99018,.89181,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.88844,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89464,1,1,1,1,1,1,1,1,1,1,1,1,.96766,1,1,1,1,1,1,.94258,.98986,.94258,.98986,.94258,.98986,.7306,.90527,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.69043,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.99331,.82616,.91133,.84286,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90527,1.81055,.90527,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1.07185,.99413,.96334,1.08065,1,1,1,1,1,1,1,1,1,1,1];ct.CalibriRegularFactors=gt;const _={lineHeight:1.2207,lineGap:.2207};ct.CalibriRegularMetrics=_},(zt,ct)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.HelveticaRegularMetrics=ct.HelveticaRegularFactors=ct.HelveticaItalicMetrics=ct.HelveticaItalicFactors=ct.HelveticaBoldMetrics=ct.HelveticaBoldItalicMetrics=ct.HelveticaBoldItalicFactors=ct.HelveticaBoldFactors=void 0;const Et=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.03374,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.00042,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.03828,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00034,.99977,1,.99997,1.00026,1.00078,1.00036,.99973,1.00013,1.0006,.99977,.99977,.99988,.85148,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,1.00069,1.00022,.99977,1.00001,.99984,1.00026,1.00001,1.00024,1.00001,.9999,1,1.0006,1.00001,1.00041,.99962,1.00026,1.0006,.99995,1.00041,.99942,.99973,.99927,1.00082,.99902,1.00026,1.00087,1.0006,1.00069,.99973,.99867,.99973,.9993,1.00026,1.00049,1.00056,1,.99988,.99935,.99995,.99954,1.00055,.99945,1.00032,1.0006,.99995,1.00026,.99995,1.00032,1.00001,1.00008,.99971,1.00019,.9994,1.00001,1.0006,1.00044,.99973,1.00023,1.00047,1,.99942,.99561,.99989,1.00035,.99977,1.00035,.99977,1.00019,.99944,1.00001,1.00021,.99926,1.00035,1.00035,.99942,1.00048,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.99989,1.00057,1.00001,.99936,1.00052,1.00012,.99996,1.00043,1,1.00035,.9994,.99976,1.00035,.99973,1.00052,1.00041,1.00119,1.00037,.99973,1.00002,.99986,1.00041,1.00041,.99902,.9996,1.00034,.99999,1.00026,.99999,1.00026,.99973,1.00052,.99973,1,.99973,1.00041,1.00075,.9994,1.0003,.99999,1,1.00041,.99955,1,.99915,.99973,.99973,1.00026,1.00119,.99955,.99973,1.0006,.99911,1.0006,1.00026,.99972,1.00026,.99902,1.00041,.99973,.99999,1,1,1.00038,1.0005,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,1.00047,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];ct.HelveticaBoldFactors=Et;const s={lineHeight:1.2,lineGap:.2};ct.HelveticaBoldMetrics=s;const st=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.0044,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99971,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.01011,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99977,1,1,1.00026,.99969,.99972,.99981,.9998,1.0006,.99977,.99977,1.00022,.91155,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,.99966,1.00022,1.00032,1.00001,.99944,1.00026,1.00001,.99968,1.00001,1.00047,1,1.0006,1.00001,.99981,1.00101,1.00026,1.0006,.99948,.99981,1.00064,.99973,.99942,1.00101,1.00061,1.00026,1.00069,1.0006,1.00014,.99973,1.01322,.99973,1.00065,1.00026,1.00012,.99923,1,1.00064,1.00076,.99948,1.00055,1.00063,1.00007,.99943,1.0006,.99948,1.00026,.99948,.99943,1.00001,1.00001,1.00029,1.00038,1.00035,1.00001,1.0006,1.0006,.99973,.99978,1.00001,1.00057,.99989,.99967,.99964,.99967,.99977,.99999,.99977,1.00038,.99977,1.00001,.99973,1.00066,.99967,.99967,1.00041,.99998,.99999,.99977,1.00022,.99967,1.00001,.99977,1.00026,.99964,1.00031,1.00001,.99999,.99999,1,1.00023,1,1,.99999,1.00035,1.00001,.99999,.99973,.99977,.99999,1.00058,.99973,.99973,.99955,.9995,1.00026,1.00026,1.00032,.99989,1.00034,.99999,1.00026,1.00026,1.00026,.99973,.45998,.99973,1.00026,.99973,1.00001,.99999,.99982,.99994,.99996,1,1.00042,1.00044,1.00029,1.00023,.99973,.99973,1.00026,.99949,1.00002,.99973,1.0006,1.0006,1.0006,.99975,1.00026,1.00026,1.00032,.98685,.99973,1.00026,1,1,.99966,1.00044,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1,.99973,.99971,.99978,1,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00098,1,1,1,1.00049,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];ct.HelveticaBoldItalicFactors=st;const Tt={lineHeight:1.35,lineGap:.2};ct.HelveticaBoldItalicMetrics=Tt;const wt=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.0288,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,.99946,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.06311,.99973,1.00024,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,1.00041,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.89547,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00001,1,1.00054,.99977,1.00084,1.00007,.99973,1.00013,.99924,1.00001,1.00001,.99945,.91221,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00001,.99999,.99977,.99933,1.00022,1.00054,1.00001,1.00065,1.00026,1.00001,1.0001,1.00001,1.00052,1,1.0006,1.00001,.99945,.99897,.99968,.99924,1.00036,.99945,.99949,1,1.0006,.99897,.99918,.99968,.99911,.99924,1,.99962,1.01487,1,1.0005,.99973,1.00012,1.00043,1,.99995,.99994,1.00036,.99947,1.00019,1.00063,1.00025,.99924,1.00036,.99973,1.00036,1.00025,1.00001,1.00001,1.00027,1.0001,1.00068,1.00001,1.0006,1.0006,1,1.00008,.99957,.99972,.9994,.99954,.99975,1.00051,1.00001,1.00019,1.00001,1.0001,.99986,1.00001,1.00001,1.00038,.99954,.99954,.9994,1.00066,.99999,.99977,1.00022,1.00054,1.00001,.99977,1.00026,.99975,1.0001,1.00001,.99993,.9995,.99955,1.00016,.99978,.99974,1.00019,1.00022,.99955,1.00053,.99973,1.00089,1.00005,.99967,1.00048,.99973,1.00002,1.00034,.99973,.99973,.99964,1.00006,1.00066,.99947,.99973,.98894,.99973,1,.44898,1,.99946,1,1.00039,1.00082,.99991,.99991,.99985,1.00022,1.00023,1.00061,1.00006,.99966,.99973,.99973,.99973,1.00019,1.0008,1,.99924,.99924,.99924,.99983,1.00044,.99973,.99964,.98332,1,.99973,1,1,.99962,.99895,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,1.00423,.99925,.99999,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00049,1,1.00245,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,1.00003,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];ct.HelveticaItalicFactors=wt;const e={lineHeight:1.35,lineGap:.2};ct.HelveticaItalicMetrics=e;const gt=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.04596,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,1.00019,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.02572,.99973,1.00005,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,.99999,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.84533,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99928,1,.99977,1.00013,1.00055,.99947,.99945,.99941,.99924,1.00001,1.00001,1.0004,.91621,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00005,.99999,.99977,1.00015,1.00022,.99977,1.00001,.99973,1.00026,1.00001,1.00019,1.00001,.99946,1,1.0006,1.00001,.99978,1.00045,.99973,.99924,1.00023,.99978,.99966,1,1.00065,1.00045,1.00019,.99973,.99973,.99924,1,1,.96499,1,1.00055,.99973,1.00008,1.00027,1,.9997,.99995,1.00023,.99933,1.00019,1.00015,1.00031,.99924,1.00023,.99973,1.00023,1.00031,1.00001,.99928,1.00029,1.00092,1.00035,1.00001,1.0006,1.0006,1,.99988,.99975,1,1.00082,.99561,.9996,1.00035,1.00001,.99962,1.00001,1.00092,.99964,1.00001,.99963,.99999,1.00035,1.00035,1.00082,.99962,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.9996,.99967,1.00001,1.00034,1.00074,1.00054,1.00053,1.00063,.99971,.99962,1.00035,.99975,.99977,.99973,1.00043,.99953,1.0007,.99915,.99973,1.00008,.99892,1.00073,1.00073,1.00114,.99915,1.00073,.99955,.99973,1.00092,.99973,1,.99998,1,1.0003,1,1.00043,1.00001,.99969,1.0003,1,1.00035,1.00001,.9995,1,1.00092,.99973,.99973,.99973,1.0007,.9995,1,.99924,1.0006,.99924,.99972,1.00062,.99973,1.00114,1.00073,1,.99955,1,1,1.00047,.99968,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,.99925,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];ct.HelveticaRegularFactors=gt;const _={lineHeight:1.2,lineGap:.2};ct.HelveticaRegularMetrics=_},(zt,ct)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.LiberationSansRegularWidths=ct.LiberationSansRegularMapping=ct.LiberationSansItalicWidths=ct.LiberationSansItalicMapping=ct.LiberationSansBoldWidths=ct.LiberationSansBoldMapping=ct.LiberationSansBoldItalicWidths=ct.LiberationSansBoldItalicMapping=void 0;const Et=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,719,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,785,556,556,278,722,556,556,611,278,611,278,611,385,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,465,722,333,853,906,474,825,927,838,278,722,722,601,719,667,611,722,778,278,722,667,833,722,644,778,722,667,600,611,667,821,667,809,802,278,667,615,451,611,278,582,615,610,556,606,475,460,611,541,278,558,556,612,556,445,611,766,619,520,684,446,582,715,576,753,845,278,582,611,582,845,667,669,885,567,711,667,278,276,556,1094,1062,875,610,722,622,719,722,719,722,567,712,667,904,626,719,719,610,702,833,722,778,719,667,722,611,622,854,667,730,703,1005,1019,870,979,719,711,1031,719,556,618,615,417,635,556,709,497,615,615,500,635,740,604,611,604,611,556,490,556,875,556,615,581,833,844,729,854,615,552,854,583,556,556,611,417,552,556,278,281,278,969,906,611,500,615,556,604,778,611,487,447,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1094,556,885,489,1115,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];ct.LiberationSansBoldWidths=Et;const s=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];ct.LiberationSansBoldMapping=s;const st=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,740,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,782,556,556,278,722,556,556,611,278,611,278,611,396,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,333,722,333,854,906,473,844,930,847,278,722,722,610,671,667,611,722,778,278,722,667,833,722,657,778,718,667,590,611,667,822,667,829,781,278,667,620,479,611,278,591,620,621,556,610,479,492,611,558,278,566,556,603,556,450,611,712,605,532,664,409,591,704,578,773,834,278,591,611,591,834,667,667,886,614,719,667,278,278,556,1094,1042,854,622,719,677,719,722,708,722,614,722,667,927,643,719,719,615,687,833,722,778,719,667,722,611,677,781,667,729,708,979,989,854,1e3,708,719,1042,729,556,619,604,534,618,556,736,510,611,611,507,622,740,604,611,611,611,556,889,556,885,556,646,583,889,935,707,854,594,552,865,589,556,556,611,469,563,556,278,278,278,969,906,611,507,619,556,611,778,611,575,467,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1104,556,885,516,1146,1e3,768,600,834,834,834,834,999,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];ct.LiberationSansBoldItalicWidths=st;const Tt=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];ct.LiberationSansBoldItalicMapping=Tt;const wt=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,625,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,733,444,500,222,667,500,500,556,222,556,222,556,281,556,400,556,222,722,556,722,556,722,556,615,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,354,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,789,846,389,794,865,775,222,667,667,570,671,667,611,722,778,278,667,667,833,722,648,778,725,667,600,611,667,837,667,831,761,278,667,570,439,555,222,550,570,571,500,556,439,463,555,542,222,500,492,548,500,447,556,670,573,486,603,374,550,652,546,728,779,222,550,556,550,779,667,667,843,544,708,667,278,278,500,1066,982,844,589,715,639,724,667,651,667,544,704,667,917,614,715,715,589,686,833,722,778,725,667,722,611,639,795,667,727,673,920,923,805,886,651,694,1022,682,556,562,522,493,553,556,688,465,556,556,472,564,686,550,556,556,556,500,833,500,835,500,572,518,830,851,621,736,526,492,752,534,556,556,556,378,496,500,222,222,222,910,828,556,472,565,500,556,778,556,492,339,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1083,1e3,768,600,834,834,834,834,1e3,500,998,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,584,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];ct.LiberationSansItalicWidths=wt;const e=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];ct.LiberationSansItalicMapping=e;const gt=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,615,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,735,444,500,222,667,500,500,556,222,556,222,556,292,556,334,556,222,722,556,722,556,722,556,604,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,375,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,784,838,384,774,855,752,222,667,667,551,668,667,611,722,778,278,667,668,833,722,650,778,722,667,618,611,667,798,667,835,748,278,667,578,446,556,222,547,578,575,500,557,446,441,556,556,222,500,500,576,500,448,556,690,569,482,617,395,547,648,525,713,781,222,547,556,547,781,667,667,865,542,719,667,278,278,500,1057,1010,854,583,722,635,719,667,656,667,542,677,667,923,604,719,719,583,656,833,722,778,719,667,722,611,635,760,667,740,667,917,938,792,885,656,719,1010,722,556,573,531,365,583,556,669,458,559,559,438,583,688,552,556,542,556,500,458,500,823,500,573,521,802,823,625,719,521,510,750,542,556,556,556,365,510,500,222,278,222,906,812,556,438,559,500,552,778,556,489,411,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1073,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];ct.LiberationSansRegularWidths=gt;const _=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];ct.LiberationSansRegularMapping=_},(zt,ct)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.MyriadProRegularMetrics=ct.MyriadProRegularFactors=ct.MyriadProItalicMetrics=ct.MyriadProItalicFactors=ct.MyriadProBoldMetrics=ct.MyriadProBoldItalicMetrics=ct.MyriadProBoldItalicFactors=ct.MyriadProBoldFactors=void 0;const Et=[1.36898,1,1,.72706,.80479,.83734,.98894,.99793,.9897,.93884,.86209,.94292,.94292,1.16661,1.02058,.93582,.96694,.93582,1.19137,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.78076,.78076,1.02058,1.02058,1.02058,.72851,.78966,.90838,.83637,.82391,.96376,.80061,.86275,.8768,.95407,1.0258,.73901,.85022,.83655,1.0156,.95546,.92179,.87107,.92179,.82114,.8096,.89713,.94438,.95353,.94083,.91905,.90406,.9446,.94292,1.18777,.94292,1.02058,.89903,.90088,.94938,.97898,.81093,.97571,.94938,1.024,.9577,.95933,.98621,1.0474,.97455,.98981,.9672,.95933,.9446,.97898,.97407,.97646,.78036,1.10208,.95442,.95298,.97579,.9332,.94039,.938,.80687,1.01149,.80687,1.02058,.80479,.99793,.99793,.99793,.99793,1.01149,1.00872,.90088,.91882,1.0213,.8361,1.02058,.62295,.54324,.89022,1.08595,1,1,.90088,1,.97455,.93582,.90088,1,1.05686,.8361,.99642,.99642,.99642,.72851,.90838,.90838,.90838,.90838,.90838,.90838,.868,.82391,.80061,.80061,.80061,.80061,1.0258,1.0258,1.0258,1.0258,.97484,.95546,.92179,.92179,.92179,.92179,.92179,1.02058,.92179,.94438,.94438,.94438,.94438,.90406,.86958,.98225,.94938,.94938,.94938,.94938,.94938,.94938,.9031,.81093,.94938,.94938,.94938,.94938,.98621,.98621,.98621,.98621,.93969,.95933,.9446,.9446,.9446,.9446,.9446,1.08595,.9446,.95442,.95442,.95442,.95442,.94039,.97898,.94039,.90838,.94938,.90838,.94938,.90838,.94938,.82391,.81093,.82391,.81093,.82391,.81093,.82391,.81093,.96376,.84313,.97484,.97571,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.8768,.9577,.8768,.9577,.8768,.9577,1,1,.95407,.95933,.97069,.95933,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,.887,1.01591,.73901,1.0474,1,1,.97455,.83655,.98981,1,1,.83655,.73977,.83655,.73903,.84638,1.033,.95546,.95933,1,1,.95546,.95933,.8271,.95417,.95933,.92179,.9446,.92179,.9446,.92179,.9446,.936,.91964,.82114,.97646,1,1,.82114,.97646,.8096,.78036,.8096,.78036,1,1,.8096,.78036,1,1,.89713,.77452,.89713,1.10208,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94083,.97579,.90406,.94039,.90406,.9446,.938,.9446,.938,.9446,.938,1,.99793,.90838,.94938,.868,.9031,.92179,.9446,1,1,.89713,1.10208,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90989,.9358,.91945,.83181,.75261,.87992,.82976,.96034,.83689,.97268,1.0078,.90838,.83637,.8019,.90157,.80061,.9446,.95407,.92436,1.0258,.85022,.97153,1.0156,.95546,.89192,.92179,.92361,.87107,.96318,.89713,.93704,.95638,.91905,.91709,.92796,1.0258,.93704,.94836,1.0373,.95933,1.0078,.95871,.94836,.96174,.92601,.9498,.98607,.95776,.95933,1.05453,1.0078,.98275,.9314,.95617,.91701,1.05993,.9446,.78367,.9553,1,.86832,1.0128,.95871,.99394,.87548,.96361,.86774,1.0078,.95871,.9446,.95871,.86774,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.94083,.97579,.94083,.97579,.94083,.97579,.90406,.94039,.96694,1,.89903,1,1,1,.93582,.93582,.93582,1,.908,.908,.918,.94219,.94219,.96544,1,1.285,1,1,.81079,.81079,1,1,.74854,1,1,1,1,.99793,1,1,1,.65,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.17173,1,.80535,.76169,1.02058,1.0732,1.05486,1,1,1.30692,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.16161,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];ct.MyriadProBoldFactors=Et;const s={lineHeight:1.2,lineGap:.2};ct.MyriadProBoldMetrics=s;const st=[1.36898,1,1,.66227,.80779,.81625,.97276,.97276,.97733,.92222,.83266,.94292,.94292,1.16148,1.02058,.93582,.96694,.93582,1.17337,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.78076,.78076,1.02058,1.02058,1.02058,.71541,.76813,.85576,.80591,.80729,.94299,.77512,.83655,.86523,.92222,.98621,.71743,.81698,.79726,.98558,.92222,.90637,.83809,.90637,.80729,.76463,.86275,.90699,.91605,.9154,.85308,.85458,.90531,.94292,1.21296,.94292,1.02058,.89903,1.18616,.99613,.91677,.78216,.91677,.90083,.98796,.9135,.92168,.95381,.98981,.95298,.95381,.93459,.92168,.91513,.92004,.91677,.95077,.748,1.04502,.91677,.92061,.94236,.89544,.89364,.9,.80687,.8578,.80687,1.02058,.80779,.97276,.97276,.97276,.97276,.8578,.99973,1.18616,.91339,1.08074,.82891,1.02058,.55509,.71526,.89022,1.08595,1,1,1.18616,1,.96736,.93582,1.18616,1,1.04864,.82711,.99043,.99043,.99043,.71541,.85576,.85576,.85576,.85576,.85576,.85576,.845,.80729,.77512,.77512,.77512,.77512,.98621,.98621,.98621,.98621,.95961,.92222,.90637,.90637,.90637,.90637,.90637,1.02058,.90251,.90699,.90699,.90699,.90699,.85458,.83659,.94951,.99613,.99613,.99613,.99613,.99613,.99613,.85811,.78216,.90083,.90083,.90083,.90083,.95381,.95381,.95381,.95381,.9135,.92168,.91513,.91513,.91513,.91513,.91513,1.08595,.91677,.91677,.91677,.91677,.91677,.89364,.92332,.89364,.85576,.99613,.85576,.99613,.85576,.99613,.80729,.78216,.80729,.78216,.80729,.78216,.80729,.78216,.94299,.76783,.95961,.91677,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.86523,.9135,.86523,.9135,.86523,.9135,1,1,.92222,.92168,.92222,.92168,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.86036,.97096,.71743,.98981,1,1,.95298,.79726,.95381,1,1,.79726,.6894,.79726,.74321,.81691,1.0006,.92222,.92168,1,1,.92222,.92168,.79464,.92098,.92168,.90637,.91513,.90637,.91513,.90637,.91513,.909,.87514,.80729,.95077,1,1,.80729,.95077,.76463,.748,.76463,.748,1,1,.76463,.748,1,1,.86275,.72651,.86275,1.04502,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.9154,.94236,.85458,.89364,.85458,.90531,.9,.90531,.9,.90531,.9,1,.97276,.85576,.99613,.845,.85811,.90251,.91677,1,1,.86275,1.04502,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.00899,1.30628,.85576,.80178,.66862,.7927,.69323,.88127,.72459,.89711,.95381,.85576,.80591,.7805,.94729,.77512,.90531,.92222,.90637,.98621,.81698,.92655,.98558,.92222,.85359,.90637,.90976,.83809,.94523,.86275,.83509,.93157,.85308,.83392,.92346,.98621,.83509,.92886,.91324,.92168,.95381,.90646,.92886,.90557,.86847,.90276,.91324,.86842,.92168,.99531,.95381,.9224,.85408,.92699,.86847,1.0051,.91513,.80487,.93481,1,.88159,1.05214,.90646,.97355,.81539,.89398,.85923,.95381,.90646,.91513,.90646,.85923,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9154,.94236,.9154,.94236,.9154,.94236,.85458,.89364,.96694,1,.89903,1,1,1,.91782,.91782,.91782,1,.896,.896,.896,.9332,.9332,.95973,1,1.26,1,1,.80479,.80178,1,1,.85633,1,1,1,1,.97276,1,1,1,.698,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.14542,1,.79199,.78694,1.02058,1.03493,1.05486,1,1,1.23026,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.20006,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];ct.MyriadProBoldItalicFactors=st;const Tt={lineHeight:1.2,lineGap:.2};ct.MyriadProBoldItalicMetrics=Tt;const wt=[1.36898,1,1,.65507,.84943,.85639,.88465,.88465,.86936,.88307,.86948,.85283,.85283,1.06383,1.02058,.75945,.9219,.75945,1.17337,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.75945,.75945,1.02058,1.02058,1.02058,.69046,.70926,.85158,.77812,.76852,.89591,.70466,.76125,.80094,.86822,.83864,.728,.77212,.79475,.93637,.87514,.8588,.76013,.8588,.72421,.69866,.77598,.85991,.80811,.87832,.78112,.77512,.8562,1.0222,1.18417,1.0222,1.27014,.89903,1.15012,.93859,.94399,.846,.94399,.81453,1.0186,.94219,.96017,1.03075,1.02175,.912,1.03075,.96998,.96017,.93859,.94399,.94399,.95493,.746,1.12658,.94578,.91,.979,.882,.882,.83,.85034,.83537,.85034,1.02058,.70869,.88465,.88465,.88465,.88465,.83537,.90083,1.15012,.9161,.94565,.73541,1.02058,.53609,.69353,.79519,1.08595,1,1,1.15012,1,.91974,.75945,1.15012,1,.9446,.73361,.9005,.9005,.9005,.62864,.85158,.85158,.85158,.85158,.85158,.85158,.773,.76852,.70466,.70466,.70466,.70466,.83864,.83864,.83864,.83864,.90561,.87514,.8588,.8588,.8588,.8588,.8588,1.02058,.85751,.85991,.85991,.85991,.85991,.77512,.76013,.88075,.93859,.93859,.93859,.93859,.93859,.93859,.8075,.846,.81453,.81453,.81453,.81453,.82424,.82424,.82424,.82424,.9278,.96017,.93859,.93859,.93859,.93859,.93859,1.08595,.8562,.94578,.94578,.94578,.94578,.882,.94578,.882,.85158,.93859,.85158,.93859,.85158,.93859,.76852,.846,.76852,.846,.76852,.846,.76852,.846,.89591,.8544,.90561,.94399,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.80094,.94219,.80094,.94219,.80094,.94219,1,1,.86822,.96017,.86822,.96017,.83864,.82424,.83864,.82424,.83864,.82424,.83864,1.03075,.83864,.82424,.81402,1.02738,.728,1.02175,1,1,.912,.79475,1.03075,1,1,.79475,.83911,.79475,.66266,.80553,1.06676,.87514,.96017,1,1,.87514,.96017,.86865,.87396,.96017,.8588,.93859,.8588,.93859,.8588,.93859,.867,.84759,.72421,.95493,1,1,.72421,.95493,.69866,.746,.69866,.746,1,1,.69866,.746,1,1,.77598,.88417,.77598,1.12658,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.87832,.979,.77512,.882,.77512,.8562,.83,.8562,.83,.8562,.83,1,.88465,.85158,.93859,.773,.8075,.85751,.8562,1,1,.77598,1.12658,1.15012,1.15012,1.15012,1.15012,1.15012,1.15313,1.15012,1.15012,1.15012,1.08106,1.03901,.85158,.77025,.62264,.7646,.65351,.86026,.69461,.89947,1.03075,.85158,.77812,.76449,.88836,.70466,.8562,.86822,.8588,.83864,.77212,.85308,.93637,.87514,.82352,.8588,.85701,.76013,.89058,.77598,.8156,.82565,.78112,.77899,.89386,.83864,.8156,.9486,.92388,.96186,1.03075,.91123,.9486,.93298,.878,.93942,.92388,.84596,.96186,.95119,1.03075,.922,.88787,.95829,.88,.93559,.93859,.78815,.93758,1,.89217,1.03737,.91123,.93969,.77487,.85769,.86799,1.03075,.91123,.93859,.91123,.86799,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87832,.979,.87832,.979,.87832,.979,.77512,.882,.9219,1,.89903,1,1,1,.87321,.87321,.87321,1,1.027,1.027,1.027,.86847,.86847,.79121,1,1.124,1,1,.73572,.73572,1,1,.85034,1,1,1,1,.88465,1,1,1,.669,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.04828,1,.74948,.75187,1.02058,.98391,1.02119,1,1,1.06233,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05233,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];ct.MyriadProItalicFactors=wt;const e={lineHeight:1.2,lineGap:.2};ct.MyriadProItalicMetrics=e;const gt=[1.36898,1,1,.76305,.82784,.94935,.89364,.92241,.89073,.90706,.98472,.85283,.85283,1.0664,1.02058,.74505,.9219,.74505,1.23456,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.74505,.74505,1.02058,1.02058,1.02058,.73002,.72601,.91755,.8126,.80314,.92222,.73764,.79726,.83051,.90284,.86023,.74,.8126,.84869,.96518,.91115,.8858,.79761,.8858,.74498,.73914,.81363,.89591,.83659,.89633,.85608,.8111,.90531,1.0222,1.22736,1.0222,1.27014,.89903,.90088,.86667,1.0231,.896,1.01411,.90083,1.05099,1.00512,.99793,1.05326,1.09377,.938,1.06226,1.00119,.99793,.98714,1.0231,1.01231,.98196,.792,1.19137,.99074,.962,1.01915,.926,.942,.856,.85034,.92006,.85034,1.02058,.69067,.92241,.92241,.92241,.92241,.92006,.9332,.90088,.91882,.93484,.75339,1.02058,.56866,.54324,.79519,1.08595,1,1,.90088,1,.95325,.74505,.90088,1,.97198,.75339,.91009,.91009,.91009,.66466,.91755,.91755,.91755,.91755,.91755,.91755,.788,.80314,.73764,.73764,.73764,.73764,.86023,.86023,.86023,.86023,.92915,.91115,.8858,.8858,.8858,.8858,.8858,1.02058,.8858,.89591,.89591,.89591,.89591,.8111,.79611,.89713,.86667,.86667,.86667,.86667,.86667,.86667,.86936,.896,.90083,.90083,.90083,.90083,.84224,.84224,.84224,.84224,.97276,.99793,.98714,.98714,.98714,.98714,.98714,1.08595,.89876,.99074,.99074,.99074,.99074,.942,1.0231,.942,.91755,.86667,.91755,.86667,.91755,.86667,.80314,.896,.80314,.896,.80314,.896,.80314,.896,.92222,.93372,.92915,1.01411,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.83051,1.00512,.83051,1.00512,.83051,1.00512,1,1,.90284,.99793,.90976,.99793,.86023,.84224,.86023,.84224,.86023,.84224,.86023,1.05326,.86023,.84224,.82873,1.07469,.74,1.09377,1,1,.938,.84869,1.06226,1,1,.84869,.83704,.84869,.81441,.85588,1.08927,.91115,.99793,1,1,.91115,.99793,.91887,.90991,.99793,.8858,.98714,.8858,.98714,.8858,.98714,.894,.91434,.74498,.98196,1,1,.74498,.98196,.73914,.792,.73914,.792,1,1,.73914,.792,1,1,.81363,.904,.81363,1.19137,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89633,1.01915,.8111,.942,.8111,.90531,.856,.90531,.856,.90531,.856,1,.92241,.91755,.86667,.788,.86936,.8858,.89876,1,1,.81363,1.19137,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90388,1.03901,.92138,.78105,.7154,.86169,.80513,.94007,.82528,.98612,1.06226,.91755,.8126,.81884,.92819,.73764,.90531,.90284,.8858,.86023,.8126,.91172,.96518,.91115,.83089,.8858,.87791,.79761,.89297,.81363,.88157,.89992,.85608,.81992,.94307,.86023,.88157,.95308,.98699,.99793,1.06226,.95817,.95308,.97358,.928,.98088,.98699,.92761,.99793,.96017,1.06226,.986,.944,.95978,.938,.96705,.98714,.80442,.98972,1,.89762,1.04552,.95817,.99007,.87064,.91879,.88888,1.06226,.95817,.98714,.95817,.88888,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89633,1.01915,.89633,1.01915,.89633,1.01915,.8111,.942,.9219,1,.89903,1,1,1,.93173,.93173,.93173,1,1.06304,1.06304,1.06904,.89903,.89903,.80549,1,1.156,1,1,.76575,.76575,1,1,.72458,1,1,1,1,.92241,1,1,1,.619,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.07257,1,.74705,.71119,1.02058,1.024,1.02119,1,1,1.1536,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05638,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];ct.MyriadProRegularFactors=gt;const _={lineHeight:1.2,lineGap:.2};ct.MyriadProRegularMetrics=_},(zt,ct)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.SegoeuiRegularMetrics=ct.SegoeuiRegularFactors=ct.SegoeuiItalicMetrics=ct.SegoeuiItalicFactors=ct.SegoeuiBoldMetrics=ct.SegoeuiBoldItalicMetrics=ct.SegoeuiBoldItalicFactors=ct.SegoeuiBoldFactors=void 0;const Et=[1.76738,1,1,.99297,.9824,1.04016,1.06497,1.03424,.97529,1.17647,1.23203,1.1085,1.1085,1.16939,1.2107,.9754,1.21408,.9754,1.59578,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,.81378,.81378,1.2107,1.2107,1.2107,.71703,.97847,.97363,.88776,.8641,1.02096,.79795,.85132,.914,1.06085,1.1406,.8007,.89858,.83693,1.14889,1.09398,.97489,.92094,.97489,.90399,.84041,.95923,1.00135,1,1.06467,.98243,.90996,.99361,1.1085,1.56942,1.1085,1.2107,.74627,.94282,.96752,1.01519,.86304,1.01359,.97278,1.15103,1.01359,.98561,1.02285,1.02285,1.00527,1.02285,1.0302,.99041,1.0008,1.01519,1.01359,1.02258,.79104,1.16862,.99041,.97454,1.02511,.99298,.96752,.95801,.94856,1.16579,.94856,1.2107,.9824,1.03424,1.03424,1,1.03424,1.16579,.8727,1.3871,1.18622,1.10818,1.04478,1.2107,1.18622,.75155,.94994,1.28826,1.21408,1.21408,.91056,1,.91572,.9754,.64663,1.18328,1.24866,1.04478,1.14169,1.15749,1.17389,.71703,.97363,.97363,.97363,.97363,.97363,.97363,.93506,.8641,.79795,.79795,.79795,.79795,1.1406,1.1406,1.1406,1.1406,1.02096,1.09398,.97426,.97426,.97426,.97426,.97426,1.2107,.97489,1.00135,1.00135,1.00135,1.00135,.90996,.92094,1.02798,.96752,.96752,.96752,.96752,.96752,.96752,.93136,.86304,.97278,.97278,.97278,.97278,1.02285,1.02285,1.02285,1.02285,.97122,.99041,1,1,1,1,1,1.28826,1.0008,.99041,.99041,.99041,.99041,.96752,1.01519,.96752,.97363,.96752,.97363,.96752,.97363,.96752,.8641,.86304,.8641,.86304,.8641,.86304,.8641,.86304,1.02096,1.03057,1.02096,1.03517,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.914,1.01359,.914,1.01359,.914,1.01359,1,1,1.06085,.98561,1.06085,1.00879,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,.97138,1.08692,.8007,1.02285,1,1,1.00527,.83693,1.02285,1,1,.83693,.9455,.83693,.90418,.83693,1.13005,1.09398,.99041,1,1,1.09398,.99041,.96692,1.09251,.99041,.97489,1.0008,.97489,1.0008,.97489,1.0008,.93994,.97931,.90399,1.02258,1,1,.90399,1.02258,.84041,.79104,.84041,.79104,.84041,.79104,.84041,.79104,1,1,.95923,1.07034,.95923,1.16862,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.06467,1.02511,.90996,.96752,.90996,.99361,.95801,.99361,.95801,.99361,.95801,1.07733,1.03424,.97363,.96752,.93506,.93136,.97489,1.0008,1,1,.95923,1.16862,1.15103,1.15103,1.01173,1.03959,.75953,.81378,.79912,1.15103,1.21994,.95161,.87815,1.01149,.81525,.7676,.98167,1.01134,1.02546,.84097,1.03089,1.18102,.97363,.88776,.85134,.97826,.79795,.99361,1.06085,.97489,1.1406,.89858,1.0388,1.14889,1.09398,.86039,.97489,1.0595,.92094,.94793,.95923,.90996,.99346,.98243,1.02112,.95493,1.1406,.90996,1.03574,1.02597,1.0008,1.18102,1.06628,1.03574,1.0192,1.01932,1.00886,.97531,1.0106,1.0008,1.13189,1.18102,1.02277,.98683,1.0016,.99561,1.07237,1.0008,.90434,.99921,.93803,.8965,1.23085,1.06628,1.04983,.96268,1.0499,.98439,1.18102,1.06628,1.0008,1.06628,.98439,.79795,1,1,1,1,1,1,1,1,1,1,1,1,1.09466,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.97278,1,1,1,1,1,1,1,1,1,1,1,1,1.02065,1,1,1,1,1,1,1.06467,1.02511,1.06467,1.02511,1.06467,1.02511,.90996,.96752,1,1.21408,.89903,1,1,.75155,1.04394,1.04394,1.04394,1.04394,.98633,.98633,.98633,.73047,.73047,1.20642,.91211,1.25635,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.12454,.93503,1.03424,1.19687,1.03424,1,1,1,.771,1,1,1.15749,1.15749,1.15749,1.10948,.86279,.94434,.86279,.94434,.86182,1,1,1.16897,1,.96085,.90137,1.2107,1.18416,1.13973,.69825,.9716,2.10339,1.29004,1.29004,1.21172,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18874,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.09193,1.09193,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];ct.SegoeuiBoldFactors=Et;const s={lineHeight:1.33008,lineGap:0};ct.SegoeuiBoldMetrics=s;const st=[1.76738,1,1,.98946,1.03959,1.04016,1.02809,1.036,.97639,1.10953,1.23203,1.11144,1.11144,1.16939,1.21237,.9754,1.21261,.9754,1.59754,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,.81378,.81378,1.21237,1.21237,1.21237,.73541,.97847,.97363,.89723,.87897,1.0426,.79429,.85292,.91149,1.05815,1.1406,.79631,.90128,.83853,1.04396,1.10615,.97552,.94436,.97552,.88641,.80527,.96083,1.00135,1,1.06777,.9817,.91142,.99361,1.11144,1.57293,1.11144,1.21237,.74627,1.31818,1.06585,.97042,.83055,.97042,.93503,1.1261,.97042,.97922,1.14236,.94552,1.01054,1.14236,1.02471,.97922,.94165,.97042,.97042,1.0276,.78929,1.1261,.97922,.95874,1.02197,.98507,.96752,.97168,.95107,1.16579,.95107,1.21237,1.03959,1.036,1.036,1,1.036,1.16579,.87357,1.31818,1.18754,1.26781,1.05356,1.21237,1.18622,.79487,.94994,1.29004,1.24047,1.24047,1.31818,1,.91484,.9754,1.31818,1.1349,1.24866,1.05356,1.13934,1.15574,1.17389,.73541,.97363,.97363,.97363,.97363,.97363,.97363,.94385,.87897,.79429,.79429,.79429,.79429,1.1406,1.1406,1.1406,1.1406,1.0426,1.10615,.97552,.97552,.97552,.97552,.97552,1.21237,.97552,1.00135,1.00135,1.00135,1.00135,.91142,.94436,.98721,1.06585,1.06585,1.06585,1.06585,1.06585,1.06585,.96705,.83055,.93503,.93503,.93503,.93503,1.14236,1.14236,1.14236,1.14236,.93125,.97922,.94165,.94165,.94165,.94165,.94165,1.29004,.94165,.97922,.97922,.97922,.97922,.96752,.97042,.96752,.97363,1.06585,.97363,1.06585,.97363,1.06585,.87897,.83055,.87897,.83055,.87897,.83055,.87897,.83055,1.0426,1.0033,1.0426,.97042,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.91149,.97042,.91149,.97042,.91149,.97042,1,1,1.05815,.97922,1.05815,.97922,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,.97441,1.04302,.79631,1.01582,1,1,1.01054,.83853,1.14236,1,1,.83853,1.09125,.83853,.90418,.83853,1.19508,1.10615,.97922,1,1,1.10615,.97922,1.01034,1.10466,.97922,.97552,.94165,.97552,.94165,.97552,.94165,.91602,.91981,.88641,1.0276,1,1,.88641,1.0276,.80527,.78929,.80527,.78929,.80527,.78929,.80527,.78929,1,1,.96083,1.05403,.95923,1.16862,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.06777,1.02197,.91142,.96752,.91142,.99361,.97168,.99361,.97168,.99361,.97168,1.23199,1.036,.97363,1.06585,.94385,.96705,.97552,.94165,1,1,.96083,1.1261,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,.95161,1.27126,1.00811,.83284,.77702,.99137,.95253,1.0347,.86142,1.07205,1.14236,.97363,.89723,.86869,1.09818,.79429,.99361,1.05815,.97552,1.1406,.90128,1.06662,1.04396,1.10615,.84918,.97552,1.04694,.94436,.98015,.96083,.91142,1.00356,.9817,1.01945,.98999,1.1406,.91142,1.04961,.9898,1.00639,1.14236,1.07514,1.04961,.99607,1.02897,1.008,.9898,.95134,1.00639,1.11121,1.14236,1.00518,.97981,1.02186,1,1.08578,.94165,.99314,.98387,.93028,.93377,1.35125,1.07514,1.10687,.93491,1.04232,1.00351,1.14236,1.07514,.94165,1.07514,1.00351,.79429,1,1,1,1,1,1,1,1,1,1,1,1,1.09097,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.93503,1,1,1,1,1,1,1,1,1,1,1,1,.96609,1,1,1,1,1,1,1.06777,1.02197,1.06777,1.02197,1.06777,1.02197,.91142,.96752,1,1.21261,.89903,1,1,.75155,1.04745,1.04745,1.04745,1.04394,.98633,.98633,.98633,.72959,.72959,1.20502,.91406,1.26514,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.09125,.93327,1.03336,1.16541,1.036,1,1,1,.771,1,1,1.15574,1.15574,1.15574,1.15574,.86364,.94434,.86279,.94434,.86224,1,1,1.16798,1,.96085,.90068,1.21237,1.18416,1.13904,.69825,.9716,2.10339,1.29004,1.29004,1.21339,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18775,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.13269,1.13269,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];ct.SegoeuiBoldItalicFactors=st;const Tt={lineHeight:1.33008,lineGap:0};ct.SegoeuiBoldItalicMetrics=Tt;const wt=[1.76738,1,1,.98946,1.14763,1.05365,1.06234,.96927,.92586,1.15373,1.18414,.91349,.91349,1.07403,1.17308,.78383,1.20088,.78383,1.42531,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78383,.78383,1.17308,1.17308,1.17308,.77349,.94565,.94729,.85944,.88506,.9858,.74817,.80016,.88449,.98039,.95782,.69238,.89898,.83231,.98183,1.03989,.96924,.86237,.96924,.80595,.74524,.86091,.95402,.94143,.98448,.8858,.83089,.93285,1.0949,1.39016,1.0949,1.45994,.74627,1.04839,.97454,.97454,.87207,.97454,.87533,1.06151,.97454,1.00176,1.16484,1.08132,.98047,1.16484,1.02989,1.01054,.96225,.97454,.97454,1.06598,.79004,1.16344,1.00351,.94629,.9973,.91016,.96777,.9043,.91082,.92481,.91082,1.17308,.95748,.96927,.96927,1,.96927,.92481,.80597,1.04839,1.23393,1.1781,.9245,1.17308,1.20808,.63218,.94261,1.24822,1.09971,1.09971,1.04839,1,.85273,.78032,1.04839,1.09971,1.22326,.9245,1.09836,1.13525,1.15222,.70424,.94729,.94729,.94729,.94729,.94729,.94729,.85498,.88506,.74817,.74817,.74817,.74817,.95782,.95782,.95782,.95782,.9858,1.03989,.96924,.96924,.96924,.96924,.96924,1.17308,.96924,.95402,.95402,.95402,.95402,.83089,.86237,.88409,.97454,.97454,.97454,.97454,.97454,.97454,.92916,.87207,.87533,.87533,.87533,.87533,.93146,.93146,.93146,.93146,.93854,1.01054,.96225,.96225,.96225,.96225,.96225,1.24822,.8761,1.00351,1.00351,1.00351,1.00351,.96777,.97454,.96777,.94729,.97454,.94729,.97454,.94729,.97454,.88506,.87207,.88506,.87207,.88506,.87207,.88506,.87207,.9858,.95391,.9858,.97454,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.88449,.97454,.88449,.97454,.88449,.97454,1,1,.98039,1.00176,.98039,1.00176,.95782,.93146,.95782,.93146,.95782,.93146,.95782,1.16484,.95782,.93146,.84421,1.12761,.69238,1.08132,1,1,.98047,.83231,1.16484,1,1,.84723,1.04861,.84723,.78755,.83231,1.23736,1.03989,1.01054,1,1,1.03989,1.01054,.9857,1.03849,1.01054,.96924,.96225,.96924,.96225,.96924,.96225,.92383,.90171,.80595,1.06598,1,1,.80595,1.06598,.74524,.79004,.74524,.79004,.74524,.79004,.74524,.79004,1,1,.86091,1.02759,.85771,1.16344,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.98448,.9973,.83089,.96777,.83089,.93285,.9043,.93285,.9043,.93285,.9043,1.31868,.96927,.94729,.97454,.85498,.92916,.96924,.8761,1,1,.86091,1.16344,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,.81965,.81965,.94729,.78032,.71022,.90883,.84171,.99877,.77596,1.05734,1.2,.94729,.85944,.82791,.9607,.74817,.93285,.98039,.96924,.95782,.89898,.98316,.98183,1.03989,.78614,.96924,.97642,.86237,.86075,.86091,.83089,.90082,.8858,.97296,1.01284,.95782,.83089,1.0976,1.04,1.03342,1.2,1.0675,1.0976,.98205,1.03809,1.05097,1.04,.95364,1.03342,1.05401,1.2,1.02148,1.0119,1.04724,1.0127,1.02732,.96225,.8965,.97783,.93574,.94818,1.30679,1.0675,1.11826,.99821,1.0557,1.0326,1.2,1.0675,.96225,1.0675,1.0326,.74817,1,1,1,1,1,1,1,1,1,1,1,1,1.03754,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87533,1,1,1,1,1,1,1,1,1,1,1,1,.98705,1,1,1,1,1,1,.98448,.9973,.98448,.9973,.98448,.9973,.83089,.96777,1,1.20088,.89903,1,1,.75155,.94945,.94945,.94945,.94945,1.12317,1.12317,1.12317,.67603,.67603,1.15621,.73584,1.21191,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87709,.96927,1.01473,.96927,1,1,1,.77295,1,1,1.09836,1.09836,1.09836,1.01522,.86321,.94434,.8649,.94434,.86182,1,1,1.083,1,.91578,.86438,1.17308,1.18416,1.14589,.69825,.97622,1.96791,1.24822,1.24822,1.17308,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.17984,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10742,1.10742,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];ct.SegoeuiItalicFactors=wt;const e={lineHeight:1.33008,lineGap:0};ct.SegoeuiItalicMetrics=e;const gt=[1.76738,1,1,.98594,1.02285,1.10454,1.06234,.96927,.92037,1.19985,1.2046,.90616,.90616,1.07152,1.1714,.78032,1.20088,.78032,1.40246,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78032,.78032,1.1714,1.1714,1.1714,.80597,.94084,.96706,.85944,.85734,.97093,.75842,.79936,.88198,.9831,.95782,.71387,.86969,.84636,1.07796,1.03584,.96924,.83968,.96924,.82826,.79649,.85771,.95132,.93119,.98965,.88433,.8287,.93365,1.08612,1.3638,1.08612,1.45786,.74627,.80499,.91484,1.05707,.92383,1.05882,.9403,1.12654,1.05882,1.01756,1.09011,1.09011,.99414,1.09011,1.034,1.01756,1.05356,1.05707,1.05882,1.04399,.84863,1.21968,1.01756,.95801,1.00068,.91797,.96777,.9043,.90351,.92105,.90351,1.1714,.85337,.96927,.96927,.99912,.96927,.92105,.80597,1.2434,1.20808,1.05937,.90957,1.1714,1.20808,.75155,.94261,1.24644,1.09971,1.09971,.84751,1,.85273,.78032,.61584,1.05425,1.17914,.90957,1.08665,1.11593,1.14169,.73381,.96706,.96706,.96706,.96706,.96706,.96706,.86035,.85734,.75842,.75842,.75842,.75842,.95782,.95782,.95782,.95782,.97093,1.03584,.96924,.96924,.96924,.96924,.96924,1.1714,.96924,.95132,.95132,.95132,.95132,.8287,.83968,.89049,.91484,.91484,.91484,.91484,.91484,.91484,.93575,.92383,.9403,.9403,.9403,.9403,.8717,.8717,.8717,.8717,1.00527,1.01756,1.05356,1.05356,1.05356,1.05356,1.05356,1.24644,.95923,1.01756,1.01756,1.01756,1.01756,.96777,1.05707,.96777,.96706,.91484,.96706,.91484,.96706,.91484,.85734,.92383,.85734,.92383,.85734,.92383,.85734,.92383,.97093,1.0969,.97093,1.05882,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.88198,1.05882,.88198,1.05882,.88198,1.05882,1,1,.9831,1.01756,.9831,1.01756,.95782,.8717,.95782,.8717,.95782,.8717,.95782,1.09011,.95782,.8717,.84784,1.11551,.71387,1.09011,1,1,.99414,.84636,1.09011,1,1,.84636,1.0536,.84636,.94298,.84636,1.23297,1.03584,1.01756,1,1,1.03584,1.01756,1.00323,1.03444,1.01756,.96924,1.05356,.96924,1.05356,.96924,1.05356,.93066,.98293,.82826,1.04399,1,1,.82826,1.04399,.79649,.84863,.79649,.84863,.79649,.84863,.79649,.84863,1,1,.85771,1.17318,.85771,1.21968,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.98965,1.00068,.8287,.96777,.8287,.93365,.9043,.93365,.9043,.93365,.9043,1.08571,.96927,.96706,.91484,.86035,.93575,.96924,.95923,1,1,.85771,1.21968,1.11437,1.11437,.93109,.91202,.60411,.84164,.55572,1.01173,.97361,.81818,.81818,.96635,.78032,.72727,.92366,.98601,1.03405,.77968,1.09799,1.2,.96706,.85944,.85638,.96491,.75842,.93365,.9831,.96924,.95782,.86969,.94152,1.07796,1.03584,.78437,.96924,.98715,.83968,.83491,.85771,.8287,.94492,.88433,.9287,1.0098,.95782,.8287,1.0625,.98248,1.03424,1.2,1.01071,1.0625,.95246,1.03809,1.04912,.98248,1.00221,1.03424,1.05443,1.2,1.04785,.99609,1.00169,1.05176,.99346,1.05356,.9087,1.03004,.95542,.93117,1.23362,1.01071,1.07831,1.02512,1.05205,1.03502,1.2,1.01071,1.05356,1.01071,1.03502,.75842,1,1,1,1,1,1,1,1,1,1,1,1,1.03719,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9403,1,1,1,1,1,1,1,1,1,1,1,1,1.04021,1,1,1,1,1,1,.98965,1.00068,.98965,1.00068,.98965,1.00068,.8287,.96777,1,1.20088,.89903,1,1,.75155,1.03077,1.03077,1.03077,1.03077,1.13196,1.13196,1.13196,.67428,.67428,1.16039,.73291,1.20996,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87796,.96927,1.01518,.96927,1,1,1,.77295,1,1,1.10539,1.10539,1.11358,1.06967,.86279,.94434,.86279,.94434,.86182,1,1,1.083,1,.91578,.86507,1.1714,1.18416,1.14589,.69825,.97622,1.9697,1.24822,1.24822,1.17238,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18083,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10938,1.10938,1,1,1,1.05425,1.09971,1.09971,1.09971,1,1,1,1,1,1,1,1,1,1,1];ct.SegoeuiRegularFactors=gt;const _={lineHeight:1.33008,lineGap:0};ct.SegoeuiRegularMetrics=_},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.PostScriptEvaluator=ct.PostScriptCompiler=ct.PDFFunctionFactory=void 0,ct.isPDFFunction=d;var s=Et(5),st=Et(2),Tt=Et(58),wt=Et(7),e=Et(59);class gt{constructor({xref:it,isEvalSupported:at=!0}){this.xref=it,this.isEvalSupported=at!==!1}create(it){const at=this.getCached(it);if(at)return at;const bt=$.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:it instanceof s.Ref?this.xref.fetch(it):it});return this._cache(it,bt),bt}createFromArray(it){const at=this.getCached(it);if(at)return at;const bt=$.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:it instanceof s.Ref?this.xref.fetch(it):it});return this._cache(it,bt),bt}getCached(it){let at;if(it instanceof s.Ref?at=it:it instanceof s.Dict?at=it.objId:it instanceof wt.BaseStream&&(at=it.dict&&it.dict.objId),at){const bt=this._localFunctionCache.getByRef(at);if(bt)return bt}return null}_cache(it,at){if(!at)throw new Error('PDFFunctionFactory._cache - expected "parsedFunction" argument.');let bt;it instanceof s.Ref?bt=it:it instanceof s.Dict?bt=it.objId:it instanceof wt.BaseStream&&(bt=it.dict&&it.dict.objId),bt&&this._localFunctionCache.set(null,bt,at)}get _localFunctionCache(){return(0,st.shadow)(this,"_localFunctionCache",new e.LocalFunctionCache)}}ct.PDFFunctionFactory=gt;function _(ft){if(!Array.isArray(ft))return null;const it=ft.length;for(let at=0;at<it;at++)if(typeof ft[at]!="number"){const bt=new Array(it);for(let St=0;St<it;St++)bt[St]=+ft[St];return bt}return ft}class ${static getSampleArray(it,at,bt,St){let ht,vt,yt=1;for(ht=0,vt=it.length;ht<vt;ht++)yt*=it[ht];yt*=at;const At=new Array(yt);let Nt=0,Ht=0;const xt=1/(2**bt-1),rt=St.getBytes((yt*bt+7)/8);let mt=0;for(ht=0;ht<yt;ht++){for(;Nt<bt;)Ht<<=8,Ht|=rt[mt++],Nt+=8;Nt-=bt,At[ht]=(Ht>>Nt)*xt,Ht&=(1<<Nt)-1}return At}static parse({xref:it,isEvalSupported:at,fn:bt}){const St=bt.dict||bt;switch(St.get("FunctionType")){case 0:return this.constructSampled({xref:it,isEvalSupported:at,fn:bt,dict:St});case 1:break;case 2:return this.constructInterpolated({xref:it,isEvalSupported:at,dict:St});case 3:return this.constructStiched({xref:it,isEvalSupported:at,dict:St});case 4:return this.constructPostScript({xref:it,isEvalSupported:at,fn:bt,dict:St})}throw new st.FormatError("Unknown type of function")}static parseArray({xref:it,isEvalSupported:at,fnObj:bt}){if(!Array.isArray(bt))return this.parse({xref:it,isEvalSupported:at,fn:bt});const St=[];for(let ht=0,vt=bt.length;ht<vt;ht++)St.push(this.parse({xref:it,isEvalSupported:at,fn:it.fetchIfRef(bt[ht])}));return function(ht,vt,yt,At){for(let Nt=0,Ht=St.length;Nt<Ht;Nt++)St[Nt](ht,vt,yt,At+Nt)}}static constructSampled({xref:it,isEvalSupported:at,fn:bt,dict:St}){function ht(It){const Dt=It.length,jt=[];let Ot=0;for(let Xt=0;Xt<Dt;Xt+=2)jt[Ot++]=[It[Xt],It[Xt+1]];return jt}function vt(It,Dt,jt,Ot,Xt){return Ot+(It-Dt)*((Xt-Ot)/(jt-Dt))}let yt=_(St.getArray("Domain")),At=_(St.getArray("Range"));if(!yt||!At)throw new st.FormatError("No domain or range");const Nt=yt.length/2,Ht=At.length/2;yt=ht(yt),At=ht(At);const xt=_(St.getArray("Size")),rt=St.get("BitsPerSample"),mt=St.get("Order")||1;mt!==1&&(0,st.info)("No support for cubic spline interpolation: "+mt);let Mt=_(St.getArray("Encode"));if(Mt)Mt=ht(Mt);else{Mt=[];for(let It=0;It<Nt;++It)Mt.push([0,xt[It]-1])}let _t=_(St.getArray("Decode"));_t?_t=ht(_t):_t=At;const Lt=this.getSampleArray(xt,Ht,rt,bt);return function(Dt,jt,Ot,Xt){const Ut=1<<Nt,Gt=new Float64Array(Ut),qt=new Uint32Array(Ut);let Kt,Vt;for(Vt=0;Vt<Ut;Vt++)Gt[Vt]=1;let Yt=Ht,Zt=1;for(Kt=0;Kt<Nt;++Kt){const Qt=yt[Kt][0],en=yt[Kt][1],rn=Math.min(Math.max(Dt[jt+Kt],Qt),en);let an=vt(rn,Qt,en,Mt[Kt][0],Mt[Kt][1]);const fn=xt[Kt];an=Math.min(Math.max(an,0),fn-1);const un=an<fn-1?Math.floor(an):an-1,pn=un+1-an,yn=an-un,On=un*Yt,En=On+Yt;for(Vt=0;Vt<Ut;Vt++)Vt&Zt?(Gt[Vt]*=yn,qt[Vt]+=En):(Gt[Vt]*=pn,qt[Vt]+=On);Yt*=fn,Zt<<=1}for(Vt=0;Vt<Ht;++Vt){let Qt=0;for(Kt=0;Kt<Ut;Kt++)Qt+=Lt[qt[Kt]+Vt]*Gt[Kt];Qt=vt(Qt,0,1,_t[Vt][0],_t[Vt][1]),Ot[Xt+Vt]=Math.min(Math.max(Qt,At[Vt][0]),At[Vt][1])}}}static constructInterpolated({xref:it,isEvalSupported:at,dict:bt}){const St=_(bt.getArray("C0"))||[0],ht=_(bt.getArray("C1"))||[1],vt=bt.get("N"),yt=[];for(let Nt=0,Ht=St.length;Nt<Ht;++Nt)yt.push(ht[Nt]-St[Nt]);const At=yt.length;return function(Ht,xt,rt,mt){const Mt=vt===1?Ht[xt]:Ht[xt]**vt;for(let _t=0;_t<At;++_t)rt[mt+_t]=St[_t]+Mt*yt[_t]}}static constructStiched({xref:it,isEvalSupported:at,dict:bt}){const St=_(bt.getArray("Domain"));if(!St)throw new st.FormatError("No domain");if(St.length/2!==1)throw new st.FormatError("Bad domain for stiched function");const vt=bt.get("Functions"),yt=[];for(let xt=0,rt=vt.length;xt<rt;++xt)yt.push(this.parse({xref:it,isEvalSupported:at,fn:it.fetchIfRef(vt[xt])}));const At=_(bt.getArray("Bounds")),Nt=_(bt.getArray("Encode")),Ht=new Float32Array(1);return function(rt,mt,Mt,_t){const It=function(Kt,Vt,Yt){return Kt>Yt?Kt=Yt:Kt<Vt&&(Kt=Vt),Kt}(rt[mt],St[0],St[1]),Dt=At.length;let jt;for(jt=0;jt<Dt&&!(It<At[jt]);++jt);let Ot=St[0];jt>0&&(Ot=At[jt-1]);let Xt=St[1];jt<At.length&&(Xt=At[jt]);const Ut=Nt[2*jt],Gt=Nt[2*jt+1];Ht[0]=Ot===Xt?Ut:Ut+(It-Ot)*(Gt-Ut)/(Xt-Ot),yt[jt](Ht,0,Mt,_t)}}static constructPostScript({xref:it,isEvalSupported:at,fn:bt,dict:St}){const ht=_(St.getArray("Domain")),vt=_(St.getArray("Range"));if(!ht)throw new st.FormatError("No domain.");if(!vt)throw new st.FormatError("No range.");const yt=new Tt.PostScriptLexer(bt),Nt=new Tt.PostScriptParser(yt).parse();if(at&&st.FeatureTest.isEvalSupported){const It=new lt().compile(Nt,ht,vt);if(It)return new Function("src","srcOffset","dest","destOffset",It)}(0,st.info)("Unable to compile PS function");const Ht=vt.length>>1,xt=ht.length>>1,rt=new g(Nt),mt=Object.create(null);let _t=2048*4;const Lt=new Float32Array(xt);return function(Dt,jt,Ot,Xt){let Ut,Gt,qt="";const Kt=Lt;for(Ut=0;Ut<xt;Ut++)Gt=Dt[jt+Ut],Kt[Ut]=Gt,qt+=Gt+"_";const Vt=mt[qt];if(Vt!==void 0){Ot.set(Vt,Xt);return}const Yt=new Float32Array(Ht),Zt=rt.execute(Kt),Qt=Zt.length-Ht;for(Ut=0;Ut<Ht;Ut++){Gt=Zt[Qt+Ut];let en=vt[Ut*2];Gt<en?Gt=en:(en=vt[Ut*2+1],Gt>en&&(Gt=en)),Yt[Ut]=Gt}_t>0&&(_t--,mt[qt]=Yt),Ot.set(Yt,Xt)}}}function d(ft){let it;if(typeof ft!="object")return!1;if(ft instanceof s.Dict)it=ft;else if(ft instanceof wt.BaseStream)it=ft.dict;else return!1;return it.has("FunctionType")}class j{static get MAX_STACK_SIZE(){return(0,st.shadow)(this,"MAX_STACK_SIZE",100)}constructor(it){this.stack=it?Array.prototype.slice.call(it,0):[]}push(it){if(this.stack.length>=j.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");this.stack.push(it)}pop(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}copy(it){if(this.stack.length+it>=j.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");const at=this.stack;for(let bt=at.length-it,St=it-1;St>=0;St--,bt++)at.push(at[bt])}index(it){this.push(this.stack[this.stack.length-it-1])}roll(it,at){const bt=this.stack,St=bt.length-it,ht=bt.length-1,vt=St+(at-Math.floor(at/it)*it);for(let yt=St,At=ht;yt<At;yt++,At--){const Nt=bt[yt];bt[yt]=bt[At],bt[At]=Nt}for(let yt=St,At=vt-1;yt<At;yt++,At--){const Nt=bt[yt];bt[yt]=bt[At],bt[At]=Nt}for(let yt=vt,At=ht;yt<At;yt++,At--){const Nt=bt[yt];bt[yt]=bt[At],bt[At]=Nt}}}class g{constructor(it){this.operators=it}execute(it){const at=new j(it);let bt=0;const St=this.operators,ht=St.length;let vt,yt,At;for(;bt<ht;){if(vt=St[bt++],typeof vt=="number"){at.push(vt);continue}switch(vt){case"jz":At=at.pop(),yt=at.pop(),yt||(bt=At);break;case"j":yt=at.pop(),bt=yt;break;case"abs":yt=at.pop(),at.push(Math.abs(yt));break;case"add":At=at.pop(),yt=at.pop(),at.push(yt+At);break;case"and":At=at.pop(),yt=at.pop(),typeof yt=="boolean"&&typeof At=="boolean"?at.push(yt&&At):at.push(yt&At);break;case"atan":yt=at.pop(),at.push(Math.atan(yt));break;case"bitshift":At=at.pop(),yt=at.pop(),yt>0?at.push(yt<<At):at.push(yt>>At);break;case"ceiling":yt=at.pop(),at.push(Math.ceil(yt));break;case"copy":yt=at.pop(),at.copy(yt);break;case"cos":yt=at.pop(),at.push(Math.cos(yt));break;case"cvi":yt=at.pop()|0,at.push(yt);break;case"cvr":break;case"div":At=at.pop(),yt=at.pop(),at.push(yt/At);break;case"dup":at.copy(1);break;case"eq":At=at.pop(),yt=at.pop(),at.push(yt===At);break;case"exch":at.roll(2,1);break;case"exp":At=at.pop(),yt=at.pop(),at.push(yt**At);break;case"false":at.push(!1);break;case"floor":yt=at.pop(),at.push(Math.floor(yt));break;case"ge":At=at.pop(),yt=at.pop(),at.push(yt>=At);break;case"gt":At=at.pop(),yt=at.pop(),at.push(yt>At);break;case"idiv":At=at.pop(),yt=at.pop(),at.push(yt/At|0);break;case"index":yt=at.pop(),at.index(yt);break;case"le":At=at.pop(),yt=at.pop(),at.push(yt<=At);break;case"ln":yt=at.pop(),at.push(Math.log(yt));break;case"log":yt=at.pop(),at.push(Math.log(yt)/Math.LN10);break;case"lt":At=at.pop(),yt=at.pop(),at.push(yt<At);break;case"mod":At=at.pop(),yt=at.pop(),at.push(yt%At);break;case"mul":At=at.pop(),yt=at.pop(),at.push(yt*At);break;case"ne":At=at.pop(),yt=at.pop(),at.push(yt!==At);break;case"neg":yt=at.pop(),at.push(-yt);break;case"not":yt=at.pop(),typeof yt=="boolean"?at.push(!yt):at.push(~yt);break;case"or":At=at.pop(),yt=at.pop(),typeof yt=="boolean"&&typeof At=="boolean"?at.push(yt||At):at.push(yt|At);break;case"pop":at.pop();break;case"roll":At=at.pop(),yt=at.pop(),at.roll(yt,At);break;case"round":yt=at.pop(),at.push(Math.round(yt));break;case"sin":yt=at.pop(),at.push(Math.sin(yt));break;case"sqrt":yt=at.pop(),at.push(Math.sqrt(yt));break;case"sub":At=at.pop(),yt=at.pop(),at.push(yt-At);break;case"true":at.push(!0);break;case"truncate":yt=at.pop(),yt=yt<0?Math.ceil(yt):Math.floor(yt),at.push(yt);break;case"xor":At=at.pop(),yt=at.pop(),typeof yt=="boolean"&&typeof At=="boolean"?at.push(yt!==At):at.push(yt^At);break;default:throw new st.FormatError(`Unknown operator ${vt}`)}}return at.stack}}ct.PostScriptEvaluator=g;class o{constructor(it){this.type=it}visit(it){(0,st.unreachable)("abstract method")}}class ut extends o{constructor(it,at,bt){super("args"),this.index=it,this.min=at,this.max=bt}visit(it){it.visitArgument(this)}}class dt extends o{constructor(it){super("literal"),this.number=it,this.min=it,this.max=it}visit(it){it.visitLiteral(this)}}class b extends o{constructor(it,at,bt,St,ht){super("binary"),this.op=it,this.arg1=at,this.arg2=bt,this.min=St,this.max=ht}visit(it){it.visitBinaryOperation(this)}}class h extends o{constructor(it,at){super("max"),this.arg=it,this.min=it.min,this.max=at}visit(it){it.visitMin(this)}}class et extends o{constructor(it,at,bt){super("var"),this.index=it,this.min=at,this.max=bt}visit(it){it.visitVariable(this)}}class nt extends o{constructor(it,at){super("definition"),this.variable=it,this.arg=at}visit(it){it.visitVariableDefinition(this)}}class pt{constructor(){this.parts=[]}visitArgument(it){this.parts.push("Math.max(",it.min,", Math.min(",it.max,", src[srcOffset + ",it.index,"]))")}visitVariable(it){this.parts.push("v",it.index)}visitLiteral(it){this.parts.push(it.number)}visitBinaryOperation(it){this.parts.push("("),it.arg1.visit(this),this.parts.push(" ",it.op," "),it.arg2.visit(this),this.parts.push(")")}visitVariableDefinition(it){this.parts.push("var "),it.variable.visit(this),this.parts.push(" = "),it.arg.visit(this),this.parts.push(";")}visitMin(it){this.parts.push("Math.min("),it.arg.visit(this),this.parts.push(", ",it.max,")")}toString(){return this.parts.join("")}}function Bt(ft,it){return it.type==="literal"&&it.number===0?ft:ft.type==="literal"&&ft.number===0?it:it.type==="literal"&&ft.type==="literal"?new dt(ft.number+it.number):new b("+",ft,it,ft.min+it.min,ft.max+it.max)}function Pt(ft,it){if(it.type==="literal"){if(it.number===0)return new dt(0);if(it.number===1)return ft;if(ft.type==="literal")return new dt(ft.number*it.number)}if(ft.type==="literal"){if(ft.number===0)return new dt(0);if(ft.number===1)return it}const at=Math.min(ft.min*it.min,ft.min*it.max,ft.max*it.min,ft.max*it.max),bt=Math.max(ft.min*it.min,ft.min*it.max,ft.max*it.min,ft.max*it.max);return new b("*",ft,it,at,bt)}function Rt(ft,it){if(it.type==="literal"){if(it.number===0)return ft;if(ft.type==="literal")return new dt(ft.number-it.number)}return it.type==="binary"&&it.op==="-"&&ft.type==="literal"&&ft.number===1&&it.arg1.type==="literal"&&it.arg1.number===1?it.arg2:new b("-",ft,it,ft.min-it.max,ft.max-it.min)}function Ft(ft,it){return ft.min>=it?new dt(it):ft.max<=it?ft:new h(ft,it)}class lt{compile(it,at,bt){const St=[],ht=[],vt=at.length>>1,yt=bt.length>>1;let At=0,Nt,Ht,xt,rt,mt,Mt,_t,Lt;for(let Dt=0;Dt<vt;Dt++)St.push(new ut(Dt,at[Dt*2],at[Dt*2+1]));for(let Dt=0,jt=it.length;Dt<jt;Dt++){if(Lt=it[Dt],typeof Lt=="number"){St.push(new dt(Lt));continue}switch(Lt){case"add":if(St.length<2)return null;rt=St.pop(),xt=St.pop(),St.push(Bt(xt,rt));break;case"cvr":if(St.length<1)return null;break;case"mul":if(St.length<2)return null;rt=St.pop(),xt=St.pop(),St.push(Pt(xt,rt));break;case"sub":if(St.length<2)return null;rt=St.pop(),xt=St.pop(),St.push(Rt(xt,rt));break;case"exch":if(St.length<2)return null;mt=St.pop(),Mt=St.pop(),St.push(mt,Mt);break;case"pop":if(St.length<1)return null;St.pop();break;case"index":if(St.length<1||(xt=St.pop(),xt.type!=="literal")||(Nt=xt.number,Nt<0||!Number.isInteger(Nt)||St.length<Nt))return null;if(mt=St[St.length-Nt-1],mt.type==="literal"||mt.type==="var"){St.push(mt);break}_t=new et(At++,mt.min,mt.max),St[St.length-Nt-1]=_t,St.push(_t),ht.push(new nt(_t,mt));break;case"dup":if(St.length<1)return null;if(typeof it[Dt+1]=="number"&&it[Dt+2]==="gt"&&it[Dt+3]===Dt+7&&it[Dt+4]==="jz"&&it[Dt+5]==="pop"&&it[Dt+6]===it[Dt+1]){xt=St.pop(),St.push(Ft(xt,it[Dt+1])),Dt+=6;break}if(mt=St.at(-1),mt.type==="literal"||mt.type==="var"){St.push(mt);break}_t=new et(At++,mt.min,mt.max),St[St.length-1]=_t,St.push(_t),ht.push(new nt(_t,mt));break;case"roll":if(St.length<2||(rt=St.pop(),xt=St.pop(),rt.type!=="literal"||xt.type!=="literal")||(Ht=rt.number,Nt=xt.number,Nt<=0||!Number.isInteger(Nt)||!Number.isInteger(Ht)||St.length<Nt))return null;if(Ht=(Ht%Nt+Nt)%Nt,Ht===0)break;Array.prototype.push.apply(St,St.splice(St.length-Nt,Nt-Ht));break;default:return null}}if(St.length!==yt)return null;const It=[];for(const Dt of ht){const jt=new pt;Dt.visit(jt),It.push(jt.toString())}for(let Dt=0,jt=St.length;Dt<jt;Dt++){const Ot=St[Dt],Xt=new pt;Ot.visit(Xt);const Ut=bt[Dt*2],Gt=bt[Dt*2+1],qt=[Xt.toString()];Ut>Ot.min&&(qt.unshift("Math.max(",Ut,", "),qt.push(")")),Gt<Ot.max&&(qt.unshift("Math.min(",Gt,", "),qt.push(")")),qt.unshift("dest[destOffset + ",Dt,"] = "),qt.push(";"),It.push(qt.join(""))}return It.join(`
`)}}ct.PostScriptCompiler=lt},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.PostScriptParser=ct.PostScriptLexer=void 0;var s=Et(2),st=Et(5),Tt=Et(6);class wt{constructor(d){this.lexer=d,this.operators=[],this.token=null,this.prev=null}nextToken(){this.prev=this.token,this.token=this.lexer.getToken()}accept(d){return this.token.type===d?(this.nextToken(),!0):!1}expect(d){if(this.accept(d))return!0;throw new s.FormatError(`Unexpected symbol: found ${this.token.type} expected ${d}.`)}parse(){return this.nextToken(),this.expect(e.LBRACE),this.parseBlock(),this.expect(e.RBRACE),this.operators}parseBlock(){for(;;)if(this.accept(e.NUMBER))this.operators.push(this.prev.value);else if(this.accept(e.OPERATOR))this.operators.push(this.prev.value);else if(this.accept(e.LBRACE))this.parseCondition();else return}parseCondition(){const d=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(e.RBRACE),this.accept(e.IF))this.operators[d]=this.operators.length,this.operators[d+1]="jz";else if(this.accept(e.LBRACE)){const j=this.operators.length;this.operators.push(null,null);const g=this.operators.length;this.parseBlock(),this.expect(e.RBRACE),this.expect(e.IFELSE),this.operators[j]=this.operators.length,this.operators[j+1]="j",this.operators[d]=g,this.operators[d+1]="jz"}else throw new s.FormatError("PS Function: error parsing conditional.")}}ct.PostScriptParser=wt;const e={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5};class gt{static get opCache(){return(0,s.shadow)(this,"opCache",Object.create(null))}constructor(d,j){this.type=d,this.value=j}static getOperator(d){const j=gt.opCache[d];return j||(gt.opCache[d]=new gt(e.OPERATOR,d))}static get LBRACE(){return(0,s.shadow)(this,"LBRACE",new gt(e.LBRACE,"{"))}static get RBRACE(){return(0,s.shadow)(this,"RBRACE",new gt(e.RBRACE,"}"))}static get IF(){return(0,s.shadow)(this,"IF",new gt(e.IF,"IF"))}static get IFELSE(){return(0,s.shadow)(this,"IFELSE",new gt(e.IFELSE,"IFELSE"))}}class _{constructor(d){this.stream=d,this.nextChar(),this.strBuf=[]}nextChar(){return this.currentChar=this.stream.getByte()}getToken(){let d=!1,j=this.currentChar;for(;;){if(j<0)return st.EOF;if(d)(j===10||j===13)&&(d=!1);else if(j===37)d=!0;else if(!(0,Tt.isWhiteSpace)(j))break;j=this.nextChar()}switch(j|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new gt(e.NUMBER,this.getNumber());case 123:return this.nextChar(),gt.LBRACE;case 125:return this.nextChar(),gt.RBRACE}const g=this.strBuf;for(g.length=0,g[0]=String.fromCharCode(j);(j=this.nextChar())>=0&&(j>=65&&j<=90||j>=97&&j<=122);)g.push(String.fromCharCode(j));const o=g.join("");switch(o.toLowerCase()){case"if":return gt.IF;case"ifelse":return gt.IFELSE;default:return gt.getOperator(o)}}getNumber(){let d=this.currentChar;const j=this.strBuf;for(j.length=0,j[0]=String.fromCharCode(d);(d=this.nextChar())>=0&&(d>=48&&d<=57||d===45||d===46);)j.push(String.fromCharCode(d));const g=parseFloat(j.join(""));if(isNaN(g))throw new s.FormatError(`Invalid floating point number: ${g}`);return g}}ct.PostScriptLexer=_},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.LocalTilingPatternCache=ct.LocalImageCache=ct.LocalGStateCache=ct.LocalFunctionCache=ct.LocalColorSpaceCache=ct.GlobalImageCache=void 0;var s=Et(2),st=Et(5);class Tt{constructor(g){this.constructor===Tt&&(0,s.unreachable)("Cannot initialize BaseLocalCache."),this._onlyRefs=(g&&g.onlyRefs)===!0,this._onlyRefs||(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new st.RefSetCache}getByName(g){this._onlyRefs&&(0,s.unreachable)("Should not call `getByName` method.");const o=this._nameRefMap.get(g);return o?this.getByRef(o):this._imageMap.get(g)||null}getByRef(g){return this._imageCache.get(g)||null}set(g,o,ut){(0,s.unreachable)("Abstract method `set` called.")}}class wt extends Tt{set(g,o=null,ut){if(typeof g!="string")throw new Error('LocalImageCache.set - expected "name" argument.');if(o){if(this._imageCache.has(o))return;this._nameRefMap.set(g,o),this._imageCache.put(o,ut);return}this._imageMap.has(g)||this._imageMap.set(g,ut)}}ct.LocalImageCache=wt;class e extends Tt{set(g=null,o=null,ut){if(typeof g!="string"&&!o)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(o){if(this._imageCache.has(o))return;g!==null&&this._nameRefMap.set(g,o),this._imageCache.put(o,ut);return}this._imageMap.has(g)||this._imageMap.set(g,ut)}}ct.LocalColorSpaceCache=e;class gt extends Tt{constructor(g){super({onlyRefs:!0})}set(g=null,o,ut){if(!o)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(o)||this._imageCache.put(o,ut)}}ct.LocalFunctionCache=gt;class _ extends Tt{set(g,o=null,ut){if(typeof g!="string")throw new Error('LocalGStateCache.set - expected "name" argument.');if(o){if(this._imageCache.has(o))return;this._nameRefMap.set(g,o),this._imageCache.put(o,ut);return}this._imageMap.has(g)||this._imageMap.set(g,ut)}}ct.LocalGStateCache=_;class $ extends Tt{constructor(g){super({onlyRefs:!0})}set(g=null,o,ut){if(!o)throw new Error('LocalTilingPatternCache.set - expected "ref" argument.');this._imageCache.has(o)||this._imageCache.put(o,ut)}}ct.LocalTilingPatternCache=$;class d{static get NUM_PAGES_THRESHOLD(){return(0,s.shadow)(this,"NUM_PAGES_THRESHOLD",2)}static get MIN_IMAGES_TO_CACHE(){return(0,s.shadow)(this,"MIN_IMAGES_TO_CACHE",10)}static get MAX_BYTE_SIZE(){return(0,s.shadow)(this,"MAX_BYTE_SIZE",4e7)}constructor(){this._refCache=new st.RefSetCache,this._imageCache=new st.RefSetCache}get _byteSize(){let g=0;for(const o of this._imageCache)g+=o.byteSize;return g}get _cacheLimitReached(){return!(this._imageCache.size<d.MIN_IMAGES_TO_CACHE||this._byteSize<d.MAX_BYTE_SIZE)}shouldCache(g,o){const ut=this._refCache.get(g);return!((ut?ut.size+(ut.has(o)?0:1):1)<d.NUM_PAGES_THRESHOLD||!this._imageCache.has(g)&&this._cacheLimitReached)}addPageIndex(g,o){let ut=this._refCache.get(g);ut||(ut=new Set,this._refCache.put(g,ut)),ut.add(o)}addByteSize(g,o){const ut=this._imageCache.get(g);ut&&(ut.byteSize||(ut.byteSize=o))}getData(g,o){const ut=this._refCache.get(g);if(!ut||ut.size<d.NUM_PAGES_THRESHOLD)return null;const dt=this._imageCache.get(g);return dt?(ut.add(o),dt):null}setData(g,o){if(!this._refCache.has(g))throw new Error('GlobalImageCache.setData - expected "addPageIndex" to have been called.');if(!this._imageCache.has(g)){if(this._cacheLimitReached){(0,s.warn)("GlobalImageCache.setData - cache limit reached.");return}this._imageCache.put(g,o)}}clear(g=!1){g||this._refCache.clear(),this._imageCache.clear()}}ct.GlobalImageCache=d},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.bidi=o;var s=Et(2);const st=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],Tt=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function wt(ut){return(ut&1)!==0}function e(ut){return(ut&1)===0}function gt(ut,dt,b){let h,et;for(h=dt,et=ut.length;h<et;++h)if(ut[h]!==b)return h;return h}function _(ut,dt,b,h){for(let et=dt;et<b;++et)ut[et]=h}function $(ut,dt,b){for(let h=dt,et=b-1;h<et;++h,--et){const nt=ut[h];ut[h]=ut[et],ut[et]=nt}}function d(ut,dt,b=!1){let h="ltr";return b?h="ttb":dt||(h="rtl"),{str:ut,dir:h}}const j=[],g=[];function o(ut,dt=-1,b=!1){let h=!0;const et=ut.length;if(et===0||b)return d(ut,h,b);j.length=et,g.length=et;let nt=0,pt,Bt;for(pt=0;pt<et;++pt){j[pt]=ut.charAt(pt);const ht=ut.charCodeAt(pt);let vt="L";ht<=255?vt=st[ht]:1424<=ht&&ht<=1524?vt="R":1536<=ht&&ht<=1791?(vt=Tt[ht&255],vt||(0,s.warn)("Bidi: invalid Unicode character "+ht.toString(16))):1792<=ht&&ht<=2220&&(vt="AL"),(vt==="R"||vt==="AL"||vt==="AN")&&nt++,g[pt]=vt}if(nt===0)return h=!0,d(ut,h);dt===-1&&(nt/et<.3&&et>4?(h=!0,dt=0):(h=!1,dt=1));const Pt=[];for(pt=0;pt<et;++pt)Pt[pt]=dt;const Rt=wt(dt)?"R":"L",Ft=Rt,lt=Ft;let ft=Ft;for(pt=0;pt<et;++pt)g[pt]==="NSM"?g[pt]=ft:ft=g[pt];ft=Ft;let it;for(pt=0;pt<et;++pt)it=g[pt],it==="EN"?g[pt]=ft==="AL"?"AN":"EN":(it==="R"||it==="L"||it==="AL")&&(ft=it);for(pt=0;pt<et;++pt)it=g[pt],it==="AL"&&(g[pt]="R");for(pt=1;pt<et-1;++pt)g[pt]==="ES"&&g[pt-1]==="EN"&&g[pt+1]==="EN"&&(g[pt]="EN"),g[pt]==="CS"&&(g[pt-1]==="EN"||g[pt-1]==="AN")&&g[pt+1]===g[pt-1]&&(g[pt]=g[pt-1]);for(pt=0;pt<et;++pt)if(g[pt]==="EN"){for(let ht=pt-1;ht>=0&&g[ht]==="ET";--ht)g[ht]="EN";for(let ht=pt+1;ht<et&&g[ht]==="ET";++ht)g[ht]="EN"}for(pt=0;pt<et;++pt)it=g[pt],(it==="WS"||it==="ES"||it==="ET"||it==="CS")&&(g[pt]="ON");for(ft=Ft,pt=0;pt<et;++pt)it=g[pt],it==="EN"?g[pt]=ft==="L"?"L":"EN":(it==="R"||it==="L")&&(ft=it);for(pt=0;pt<et;++pt)if(g[pt]==="ON"){const ht=gt(g,pt+1,"ON");let vt=Ft;pt>0&&(vt=g[pt-1]);let yt=lt;ht+1<et&&(yt=g[ht+1]),vt!=="L"&&(vt="R"),yt!=="L"&&(yt="R"),vt===yt&&_(g,pt,ht,vt),pt=ht-1}for(pt=0;pt<et;++pt)g[pt]==="ON"&&(g[pt]=Rt);for(pt=0;pt<et;++pt)it=g[pt],e(Pt[pt])?it==="R"?Pt[pt]+=1:(it==="AN"||it==="EN")&&(Pt[pt]+=2):(it==="L"||it==="AN"||it==="EN")&&(Pt[pt]+=1);let at=-1,bt=99,St;for(pt=0,Bt=Pt.length;pt<Bt;++pt)St=Pt[pt],at<St&&(at=St),bt>St&&wt(St)&&(bt=St);for(St=at;St>=bt;--St){let ht=-1;for(pt=0,Bt=Pt.length;pt<Bt;++pt)Pt[pt]<St?ht>=0&&($(j,ht,pt),ht=-1):ht<0&&(ht=pt);ht>=0&&$(j,ht,Pt.length)}for(pt=0,Bt=j.length;pt<Bt;++pt){const ht=j[pt];(ht==="<"||ht===">")&&(j[pt]="")}return d(j.join(""),h)}},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.MurmurHash3_64=void 0;var s=Et(2);const st=3285377520,Tt=4294901760,wt=65535;class e{constructor(_){this.h1=_?_&4294967295:st,this.h2=_?_&4294967295:st}update(_){let $,d;if(typeof _=="string"){$=new Uint8Array(_.length*2),d=0;for(let Pt=0,Rt=_.length;Pt<Rt;Pt++){const Ft=_.charCodeAt(Pt);Ft<=255?$[d++]=Ft:($[d++]=Ft>>>8,$[d++]=Ft&255)}}else if((0,s.isArrayBuffer)(_))$=_.slice(),d=$.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const j=d>>2,g=d-j*4,o=new Uint32Array($.buffer,0,j);let ut=0,dt=0,b=this.h1,h=this.h2;const et=3432918353,nt=461845907,pt=et&wt,Bt=nt&wt;for(let Pt=0;Pt<j;Pt++)Pt&1?(ut=o[Pt],ut=ut*et&Tt|ut*pt&wt,ut=ut<<15|ut>>>17,ut=ut*nt&Tt|ut*Bt&wt,b^=ut,b=b<<13|b>>>19,b=b*5+3864292196):(dt=o[Pt],dt=dt*et&Tt|dt*pt&wt,dt=dt<<15|dt>>>17,dt=dt*nt&Tt|dt*Bt&wt,h^=dt,h=h<<13|h>>>19,h=h*5+3864292196);switch(ut=0,g){case 3:ut^=$[j*4+2]<<16;case 2:ut^=$[j*4+1]<<8;case 1:ut^=$[j*4],ut=ut*et&Tt|ut*pt&wt,ut=ut<<15|ut>>>17,ut=ut*nt&Tt|ut*Bt&wt,j&1?b^=ut:h^=ut}this.h1=b,this.h2=h}hexdigest(){let _=this.h1,$=this.h2;_^=$>>>1,_=_*3981806797&Tt|_*36045&wt,$=$*4283543511&Tt|(($<<16|_>>>16)*2950163797&Tt)>>>16,_^=$>>>1,_=_*444984403&Tt|_*60499&wt,$=$*3301882366&Tt|(($<<16|_>>>16)*3120437893&Tt)>>>16,_^=$>>>1;const d=(_>>>0).toString(16),j=($>>>0).toString(16);return d.padStart(8,"0")+j.padStart(8,"0")}}ct.MurmurHash3_64=e},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.OperatorList=void 0;var s=Et(2);function st(_,$,d,j,g){let o=_;for(let ut=0,dt=$.length-1;ut<dt;ut++){const b=$[ut];o=o[b]||(o[b]=[])}o[$.at(-1)]={checkFn:d,iterateFn:j,processFn:g}}const Tt=[];st(Tt,[s.OPS.save,s.OPS.transform,s.OPS.paintInlineImageXObject,s.OPS.restore],null,function($,d){const j=$.fnArray,g=$.iCurr-3,o=(d-g)%4;switch(o){case 0:return j[d]===s.OPS.save;case 1:return j[d]===s.OPS.transform;case 2:return j[d]===s.OPS.paintInlineImageXObject;case 3:return j[d]===s.OPS.restore}throw new Error(`iterateInlineImageGroup - invalid pos: ${o}`)},function($,d){const dt=$.fnArray,b=$.argsArray,h=$.iCurr,et=h-3,nt=h-2,pt=h-1,Bt=Math.min(Math.floor((d-et)/4),200);if(Bt<10)return d-(d-et)%4;let Pt=0;const Rt=[];let Ft=0,lt=1,ft=1;for(let ht=0;ht<Bt;ht++){const vt=b[nt+(ht<<2)],yt=b[pt+(ht<<2)][0];lt+yt.width>1e3&&(Pt=Math.max(Pt,lt),ft+=Ft+2,lt=0,Ft=0),Rt.push({transform:vt,x:lt,y:ft,w:yt.width,h:yt.height}),lt+=yt.width+2,Ft=Math.max(Ft,yt.height)}const it=Math.max(Pt,lt)+1,at=ft+Ft+1,bt=new Uint8Array(it*at*4),St=it<<2;for(let ht=0;ht<Bt;ht++){const vt=b[pt+(ht<<2)][0].data,yt=Rt[ht].w<<2;let At=0,Nt=Rt[ht].x+Rt[ht].y*it<<2;bt.set(vt.subarray(0,yt),Nt-St);for(let Ht=0,xt=Rt[ht].h;Ht<xt;Ht++)bt.set(vt.subarray(At,At+yt),Nt),At+=yt,Nt+=St;for(bt.set(vt.subarray(At-yt,At),Nt);Nt>=0;)vt[Nt-4]=vt[Nt],vt[Nt-3]=vt[Nt+1],vt[Nt-2]=vt[Nt+2],vt[Nt-1]=vt[Nt+3],vt[Nt+yt]=vt[Nt+yt-4],vt[Nt+yt+1]=vt[Nt+yt-3],vt[Nt+yt+2]=vt[Nt+yt-2],vt[Nt+yt+3]=vt[Nt+yt-1],Nt-=St}return dt.splice(et,Bt*4,s.OPS.paintInlineImageXObjectGroup),b.splice(et,Bt*4,[{width:it,height:at,kind:s.ImageKind.RGBA_32BPP,data:bt},Rt]),et+1}),st(Tt,[s.OPS.save,s.OPS.transform,s.OPS.paintImageMaskXObject,s.OPS.restore],null,function($,d){const j=$.fnArray,g=$.iCurr-3,o=(d-g)%4;switch(o){case 0:return j[d]===s.OPS.save;case 1:return j[d]===s.OPS.transform;case 2:return j[d]===s.OPS.paintImageMaskXObject;case 3:return j[d]===s.OPS.restore}throw new Error(`iterateImageMaskGroup - invalid pos: ${o}`)},function($,d){const ut=$.fnArray,dt=$.argsArray,b=$.iCurr,h=b-3,et=b-2,nt=b-1;let pt=Math.floor((d-h)/4);if(pt<10)return d-(d-h)%4;let Bt=!1,Pt,Rt;const Ft=dt[nt][0],lt=dt[et][0],ft=dt[et][1],it=dt[et][2],at=dt[et][3];if(ft===it){Bt=!0,Pt=et+4;let bt=nt+4;for(let St=1;St<pt;St++,Pt+=4,bt+=4)if(Rt=dt[Pt],dt[bt][0]!==Ft||Rt[0]!==lt||Rt[1]!==ft||Rt[2]!==it||Rt[3]!==at){St<10?Bt=!1:pt=St;break}}if(Bt){pt=Math.min(pt,1e3);const bt=new Float32Array(pt*2);Pt=et;for(let St=0;St<pt;St++,Pt+=4)Rt=dt[Pt],bt[St<<1]=Rt[4],bt[(St<<1)+1]=Rt[5];ut.splice(h,pt*4,s.OPS.paintImageMaskXObjectRepeat),dt.splice(h,pt*4,[Ft,lt,ft,it,at,bt])}else{pt=Math.min(pt,100);const bt=[];for(let St=0;St<pt;St++){Rt=dt[et+(St<<2)];const ht=dt[nt+(St<<2)][0];bt.push({data:ht.data,width:ht.width,height:ht.height,interpolate:ht.interpolate,count:ht.count,transform:Rt})}ut.splice(h,pt*4,s.OPS.paintImageMaskXObjectGroup),dt.splice(h,pt*4,[bt])}return h+1}),st(Tt,[s.OPS.save,s.OPS.transform,s.OPS.paintImageXObject,s.OPS.restore],function(_){const $=_.argsArray,d=_.iCurr-2;return $[d][1]===0&&$[d][2]===0},function($,d){const j=$.fnArray,g=$.argsArray,o=$.iCurr-3,ut=(d-o)%4;switch(ut){case 0:return j[d]===s.OPS.save;case 1:if(j[d]!==s.OPS.transform)return!1;const dt=$.iCurr-2,b=g[dt][0],h=g[dt][3];return!(g[d][0]!==b||g[d][1]!==0||g[d][2]!==0||g[d][3]!==h);case 2:if(j[d]!==s.OPS.paintImageXObject)return!1;const et=$.iCurr-1,nt=g[et][0];return g[d][0]===nt;case 3:return j[d]===s.OPS.restore}throw new Error(`iterateImageGroup - invalid pos: ${ut}`)},function(_,$){const g=_.fnArray,o=_.argsArray,ut=_.iCurr,dt=ut-3,b=ut-2,h=ut-1,et=o[h][0],nt=o[b][0],pt=o[b][3],Bt=Math.min(Math.floor(($-dt)/4),1e3);if(Bt<3)return $-($-dt)%4;const Pt=new Float32Array(Bt*2);let Rt=b;for(let lt=0;lt<Bt;lt++,Rt+=4){const ft=o[Rt];Pt[lt<<1]=ft[4],Pt[(lt<<1)+1]=ft[5]}const Ft=[et,nt,pt,Pt];return g.splice(dt,Bt*4,s.OPS.paintImageXObjectRepeat),o.splice(dt,Bt*4,Ft),dt+1}),st(Tt,[s.OPS.beginText,s.OPS.setFont,s.OPS.setTextMatrix,s.OPS.showText,s.OPS.endText],null,function($,d){const j=$.fnArray,g=$.argsArray,o=$.iCurr-4,ut=(d-o)%5;switch(ut){case 0:return j[d]===s.OPS.beginText;case 1:return j[d]===s.OPS.setFont;case 2:return j[d]===s.OPS.setTextMatrix;case 3:if(j[d]!==s.OPS.showText)return!1;const dt=$.iCurr-3,b=g[dt][0],h=g[dt][1];return!(g[d][0]!==b||g[d][1]!==h);case 4:return j[d]===s.OPS.endText}throw new Error(`iterateShowTextGroup - invalid pos: ${ut}`)},function(_,$){const g=_.fnArray,o=_.argsArray,ut=_.iCurr,dt=ut-4,b=ut-3,h=ut-2,et=ut-1,nt=ut,pt=o[b][0],Bt=o[b][1];let Pt=Math.min(Math.floor(($-dt)/5),1e3);if(Pt<3)return $-($-dt)%5;let Rt=dt;dt>=4&&g[dt-4]===g[b]&&g[dt-3]===g[h]&&g[dt-2]===g[et]&&g[dt-1]===g[nt]&&o[dt-4][0]===pt&&o[dt-4][1]===Bt&&(Pt++,Rt-=5);let Ft=Rt+4;for(let lt=1;lt<Pt;lt++)g.splice(Ft,3),o.splice(Ft,3),Ft+=2;return Ft+1});class wt{constructor($){this.queue=$}_optimize(){}push($,d){this.queue.fnArray.push($),this.queue.argsArray.push(d),this._optimize()}flush(){}reset(){}}class e extends wt{constructor($){super($),this.state=null,this.context={iCurr:0,fnArray:$.fnArray,argsArray:$.argsArray},this.match=null,this.lastProcessed=0}_optimize(){const $=this.queue.fnArray;let d=this.lastProcessed,j=$.length,g=this.state,o=this.match;if(!g&&!o&&d+1===j&&!Tt[$[d]]){this.lastProcessed=j;return}const ut=this.context;for(;d<j;){if(o){if((0,o.iterateFn)(ut,d)){d++;continue}if(d=(0,o.processFn)(ut,d+1),j=$.length,o=null,g=null,d>=j)break}if(g=(g||Tt)[$[d]],!g||Array.isArray(g)){d++;continue}if(ut.iCurr=d,d++,g.checkFn&&!(0,g.checkFn)(ut)){g=null;continue}o=g,g=null}this.state=g,this.match=o,this.lastProcessed=d}flush(){for(;this.match;){const $=this.queue.fnArray.length;this.lastProcessed=(0,this.match.processFn)(this.context,$),this.match=null,this.state=null,this._optimize()}}reset(){this.state=null,this.match=null,this.lastProcessed=0}}class gt{static get CHUNK_SIZE(){return(0,s.shadow)(this,"CHUNK_SIZE",1e3)}static get CHUNK_SIZE_ABOUT(){return(0,s.shadow)(this,"CHUNK_SIZE_ABOUT",this.CHUNK_SIZE-5)}constructor($=0,d){this._streamSink=d,this.fnArray=[],this.argsArray=[],d&&!($&s.RenderingIntentFlag.OPLIST)?this.optimizer=new e(this):this.optimizer=new wt(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=d?null:Promise.resolve()}get length(){return this.argsArray.length}get ready(){return this._resolved||this._streamSink.ready}get totalLength(){return this._totalLength+this.length}addOp($,d){this.optimizer.push($,d),this.weight++,this._streamSink&&(this.weight>=gt.CHUNK_SIZE?this.flush():this.weight>=gt.CHUNK_SIZE_ABOUT&&($===s.OPS.restore||$===s.OPS.endText)&&this.flush())}addImageOps($,d,j){j!==void 0&&this.addOp(s.OPS.beginMarkedContentProps,["OC",j]),this.addOp($,d),j!==void 0&&this.addOp(s.OPS.endMarkedContent,[])}addDependency($){this.dependencies.has($)||(this.dependencies.add($),this.addOp(s.OPS.dependency,[$]))}addDependencies($){for(const d of $)this.addDependency(d)}addOpList($){if(!($ instanceof gt)){(0,s.warn)('addOpList - ignoring invalid "opList" parameter.');return}for(const d of $.dependencies)this.dependencies.add(d);for(let d=0,j=$.length;d<j;d++)this.addOp($.fnArray[d],$.argsArray[d])}getIR(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}get _transfers(){const $=[],{fnArray:d,argsArray:j,length:g}=this;for(let o=0;o<g;o++)switch(d[o]){case s.OPS.paintInlineImageXObject:case s.OPS.paintInlineImageXObjectGroup:case s.OPS.paintImageMaskXObject:const ut=j[o][0];!ut.cached&&ut.data&&ut.data.buffer instanceof ArrayBuffer&&$.push(ut.data.buffer);break}return $}flush($=!1,d=null){this.optimizer.flush();const j=this.length;this._totalLength+=j,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:$,separateAnnots:d,length:j},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}}ct.OperatorList=gt},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.PDFImage=void 0;var s=Et(2),st=Et(64),Tt=Et(7),wt=Et(14),e=Et(19),gt=Et(27),_=Et(30),$=Et(5);function d(o,ut,dt,b){return o=ut+o*dt,o<0?o=0:o>b&&(o=b),o}function j(o,ut,dt,b,h,et){const nt=h*et;let pt;ut<=8?pt=new Uint8Array(nt):ut<=16?pt=new Uint16Array(nt):pt=new Uint32Array(nt);const Bt=dt/h,Pt=b/et;let Rt,Ft,lt,ft=0,it;const at=new Uint16Array(h),bt=dt;for(Rt=0;Rt<h;Rt++)at[Rt]=Math.floor(Rt*Bt);for(Rt=0;Rt<et;Rt++)for(lt=Math.floor(Rt*Pt)*bt,Ft=0;Ft<h;Ft++)it=lt+at[Ft],pt[ft++]=o[it];return pt}class g{constructor({xref:ut,res:dt,image:b,isInline:h=!1,smask:et=null,mask:nt=null,isMask:pt=!1,pdfFunctionFactory:Bt,localColorSpaceCache:Pt}){this.image=b;const Rt=b.dict,Ft=Rt.get("F","Filter");let lt;if(Ft instanceof $.Name)lt=Ft.name;else if(Array.isArray(Ft)){const bt=ut.fetchIfRef(Ft[0]);bt instanceof $.Name&&(lt=bt.name)}switch(lt){case"JPXDecode":const bt=new _.JpxImage;bt.parseImageProperties(b.stream),b.stream.reset(),b.width=bt.width,b.height=bt.height,b.bitsPerComponent=bt.bitsPerComponent,b.numComps=bt.componentsCount;break;case"JBIG2Decode":b.bitsPerComponent=1,b.numComps=1;break}let ft=Rt.get("W","Width"),it=Rt.get("H","Height");if(Number.isInteger(b.width)&&b.width>0&&Number.isInteger(b.height)&&b.height>0&&(b.width!==ft||b.height!==it)&&((0,s.warn)("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),ft=b.width,it=b.height),ft<1||it<1)throw new s.FormatError(`Invalid image width: ${ft} or height: ${it}`);this.width=ft,this.height=it,this.interpolate=Rt.get("I","Interpolate"),this.imageMask=Rt.get("IM","ImageMask")||!1,this.matte=Rt.get("Matte")||!1;let at=b.bitsPerComponent;if(!at&&(at=Rt.get("BPC","BitsPerComponent"),!at))if(this.imageMask)at=1;else throw new s.FormatError(`Bits per component missing in image: ${this.imageMask}`);if(this.bpc=at,!this.imageMask){let bt=Rt.getRaw("CS")||Rt.getRaw("ColorSpace");if(!bt)switch((0,s.info)("JPX images (which do not require color spaces)"),b.numComps){case 1:bt=$.Name.get("DeviceGray");break;case 3:bt=$.Name.get("DeviceRGB");break;case 4:bt=$.Name.get("DeviceCMYK");break;default:throw new Error(`JPX images with ${b.numComps} color components not supported.`)}this.colorSpace=wt.ColorSpace.parse({cs:bt,xref:ut,resources:h?dt:null,pdfFunctionFactory:Bt,localColorSpaceCache:Pt}),this.numComps=this.colorSpace.numComps}if(this.decode=Rt.getArray("D","Decode"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,at)||pt&&!wt.ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=!0;const bt=(1<<at)-1;this.decodeCoefficients=[],this.decodeAddends=[];const St=this.colorSpace&&this.colorSpace.name==="Indexed";for(let ht=0,vt=0;ht<this.decode.length;ht+=2,++vt){const yt=this.decode[ht],At=this.decode[ht+1];this.decodeCoefficients[vt]=St?(At-yt)/bt:At-yt,this.decodeAddends[vt]=St?yt:bt*yt}}et?this.smask=new g({xref:ut,res:dt,image:et,isInline:h,pdfFunctionFactory:Bt,localColorSpaceCache:Pt}):nt&&(nt instanceof Tt.BaseStream?nt.dict.get("IM","ImageMask")?this.mask=new g({xref:ut,res:dt,image:nt,isInline:h,isMask:!0,pdfFunctionFactory:Bt,localColorSpaceCache:Pt}):(0,s.warn)("Ignoring /Mask in image without /ImageMask."):this.mask=nt)}static async buildImage({xref:ut,res:dt,image:b,isInline:h=!1,pdfFunctionFactory:et,localColorSpaceCache:nt}){const pt=b;let Bt=null,Pt=null;const Rt=b.dict.get("SMask"),Ft=b.dict.get("Mask");return Rt?Rt instanceof Tt.BaseStream?Bt=Rt:(0,s.warn)("Unsupported /SMask format."):Ft&&(Ft instanceof Tt.BaseStream||Array.isArray(Ft)?Pt=Ft:(0,s.warn)("Unsupported /Mask format.")),new g({xref:ut,res:dt,image:pt,isInline:h,smask:Bt,mask:Pt,pdfFunctionFactory:et,localColorSpaceCache:nt})}static createRawMask({imgArray:ut,width:dt,height:b,imageIsFromDecodeStream:h,inverseDecode:et,interpolate:nt}){const pt=(dt+7>>3)*b,Bt=ut.byteLength,Pt=pt===Bt;let Rt,Ft;if(h&&(!et||Pt)?Rt=ut:et?(Rt=new Uint8Array(pt),Rt.set(ut),Rt.fill(255,Bt)):Rt=new Uint8Array(ut),et)for(Ft=0;Ft<Bt;Ft++)Rt[Ft]^=255;return{data:Rt,width:dt,height:b,interpolate:nt}}static createMask({imgArray:ut,width:dt,height:b,imageIsFromDecodeStream:h,inverseDecode:et,interpolate:nt}){const pt=dt===1&&b===1&&et===(ut.length===0||!!(ut[0]&128));if(pt)return{isSingleOpaquePixel:pt};if(s.FeatureTest.isOffscreenCanvasSupported){const Bt=new OffscreenCanvas(dt,b),Pt=Bt.getContext("2d"),Rt=Pt.createImageData(dt,b);(0,st.applyMaskImageData)({src:ut,dest:Rt.data,width:dt,height:b,inverseDecode:et}),Pt.putImageData(Rt,0,0);const Ft=Bt.transferToImageBitmap();return{data:null,width:dt,height:b,interpolate:nt,bitmap:Ft}}return this.createRawMask({imgArray:ut,width:dt,height:b,inverseDecode:et,imageIsFromDecodeStream:h,interpolate:nt})}get drawWidth(){return Math.max(this.width,this.smask&&this.smask.width||0,this.mask&&this.mask.width||0)}get drawHeight(){return Math.max(this.height,this.smask&&this.smask.height||0,this.mask&&this.mask.height||0)}decodeBuffer(ut){const dt=this.bpc,b=this.numComps,h=this.decodeAddends,et=this.decodeCoefficients,nt=(1<<dt)-1;let pt,Bt;if(dt===1){for(pt=0,Bt=ut.length;pt<Bt;pt++)ut[pt]=+!ut[pt];return}let Pt=0;for(pt=0,Bt=this.width*this.height;pt<Bt;pt++)for(let Rt=0;Rt<b;Rt++)ut[Pt]=d(ut[Pt],h[Rt],et[Rt],nt),Pt++}getComponents(ut){const dt=this.bpc;if(dt===8)return ut;const b=this.width,h=this.height,et=this.numComps,nt=b*h*et;let pt=0,Bt;dt<=8?Bt=new Uint8Array(nt):dt<=16?Bt=new Uint16Array(nt):Bt=new Uint32Array(nt);const Pt=b*et,Rt=(1<<dt)-1;let Ft=0,lt,ft;if(dt===1){let it,at,bt;for(let St=0;St<h;St++){for(at=Ft+(Pt&-8),bt=Ft+Pt;Ft<at;)ft=ut[pt++],Bt[Ft]=ft>>7&1,Bt[Ft+1]=ft>>6&1,Bt[Ft+2]=ft>>5&1,Bt[Ft+3]=ft>>4&1,Bt[Ft+4]=ft>>3&1,Bt[Ft+5]=ft>>2&1,Bt[Ft+6]=ft>>1&1,Bt[Ft+7]=ft&1,Ft+=8;if(Ft<bt)for(ft=ut[pt++],it=128;Ft<bt;)Bt[Ft++]=+!!(ft&it),it>>=1}}else{let it=0;for(ft=0,Ft=0,lt=nt;Ft<lt;++Ft){for(Ft%Pt===0&&(ft=0,it=0);it<dt;)ft=ft<<8|ut[pt++],it+=8;const at=it-dt;let bt=ft>>at;bt<0?bt=0:bt>Rt&&(bt=Rt),Bt[Ft]=bt,ft&=(1<<at)-1,it=at}}return Bt}fillOpacity(ut,dt,b,h,et){const nt=this.smask,pt=this.mask;let Bt,Pt,Rt,Ft,lt,ft;if(nt)Pt=nt.width,Rt=nt.height,Bt=new Uint8ClampedArray(Pt*Rt),nt.fillGrayBuffer(Bt),(Pt!==dt||Rt!==b)&&(Bt=j(Bt,nt.bpc,Pt,Rt,dt,b));else if(pt)if(pt instanceof g){for(Pt=pt.width,Rt=pt.height,Bt=new Uint8ClampedArray(Pt*Rt),pt.numComps=1,pt.fillGrayBuffer(Bt),Ft=0,lt=Pt*Rt;Ft<lt;++Ft)Bt[Ft]=255-Bt[Ft];(Pt!==dt||Rt!==b)&&(Bt=j(Bt,pt.bpc,Pt,Rt,dt,b))}else if(Array.isArray(pt)){Bt=new Uint8ClampedArray(dt*b);const it=this.numComps;for(Ft=0,lt=dt*b;Ft<lt;++Ft){let at=0;const bt=Ft*it;for(ft=0;ft<it;++ft){const St=et[bt+ft],ht=ft*2;if(St<pt[ht]||St>pt[ht+1]){at=255;break}}Bt[Ft]=at}}else throw new s.FormatError("Unknown mask format.");if(Bt)for(Ft=0,ft=3,lt=dt*h;Ft<lt;++Ft,ft+=4)ut[ft]=Bt[Ft];else for(Ft=0,ft=3,lt=dt*h;Ft<lt;++Ft,ft+=4)ut[ft]=255}undoPreblend(ut,dt,b){const h=this.smask&&this.smask.matte;if(!h)return;const et=this.colorSpace.getRgb(h,0),nt=et[0],pt=et[1],Bt=et[2],Pt=dt*b*4;for(let Rt=0;Rt<Pt;Rt+=4){const Ft=ut[Rt+3];if(Ft===0){ut[Rt]=255,ut[Rt+1]=255,ut[Rt+2]=255;continue}const lt=255/Ft;ut[Rt]=(ut[Rt]-nt)*lt+nt,ut[Rt+1]=(ut[Rt+1]-pt)*lt+pt,ut[Rt+2]=(ut[Rt+2]-Bt)*lt+Bt}}createImageData(ut=!1){const dt=this.drawWidth,b=this.drawHeight,h={width:dt,height:b,interpolate:this.interpolate,kind:0,data:null},et=this.numComps,nt=this.width,pt=this.height,Bt=this.bpc,Pt=nt*et*Bt+7>>3;if(!ut){let at;if(this.colorSpace.name==="DeviceGray"&&Bt===1?at=s.ImageKind.GRAYSCALE_1BPP:this.colorSpace.name==="DeviceRGB"&&Bt===8&&!this.needsDecode&&(at=s.ImageKind.RGB_24BPP),at&&!this.smask&&!this.mask&&dt===nt&&b===pt){if(h.kind=at,h.data=this.getImageBytes(pt*Pt,{}),this.needsDecode){(0,s.assert)(at===s.ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");const bt=h.data;for(let St=0,ht=bt.length;St<ht;St++)bt[St]^=255}return h}if(this.image instanceof gt.JpegStream&&!this.smask&&!this.mask){let bt=pt*Pt;switch(this.colorSpace.name){case"DeviceGray":bt*=3;case"DeviceRGB":case"DeviceCMYK":return h.kind=s.ImageKind.RGB_24BPP,h.data=this.getImageBytes(bt,{drawWidth:dt,drawHeight:b,forceRGB:!0}),h}}}const Rt=this.getImageBytes(pt*Pt,{internal:!0}),Ft=0|Rt.length/Pt*b/pt,lt=this.getComponents(Rt);let ft,it;return!ut&&!this.smask&&!this.mask?(h.kind=s.ImageKind.RGB_24BPP,h.data=new Uint8ClampedArray(dt*b*3),ft=0,it=!1):(h.kind=s.ImageKind.RGBA_32BPP,h.data=new Uint8ClampedArray(dt*b*4),ft=1,it=!0,this.fillOpacity(h.data,dt,b,Ft,lt)),this.needsDecode&&this.decodeBuffer(lt),this.colorSpace.fillRgb(h.data,nt,pt,dt,b,Ft,Bt,lt,ft),it&&this.undoPreblend(h.data,dt,Ft),h}fillGrayBuffer(ut){const dt=this.numComps;if(dt!==1)throw new s.FormatError(`Reading gray scale from a color image: ${dt}`);const b=this.width,h=this.height,et=this.bpc,nt=b*dt*et+7>>3,pt=this.getImageBytes(h*nt,{internal:!0}),Bt=this.getComponents(pt);let Pt,Rt;if(et===1){if(Rt=b*h,this.needsDecode)for(Pt=0;Pt<Rt;++Pt)ut[Pt]=Bt[Pt]-1&255;else for(Pt=0;Pt<Rt;++Pt)ut[Pt]=-Bt[Pt]&255;return}this.needsDecode&&this.decodeBuffer(Bt),Rt=b*h;const Ft=255/((1<<et)-1);for(Pt=0;Pt<Rt;++Pt)ut[Pt]=Ft*Bt[Pt]}getImageBytes(ut,{drawWidth:dt,drawHeight:b,forceRGB:h=!1,internal:et=!1}){this.image.reset(),this.image.drawWidth=dt||this.width,this.image.drawHeight=b||this.height,this.image.forceRGB=!!h;const nt=this.image.getBytes(ut);return et||this.image instanceof e.DecodeStream?nt:((0,s.assert)(nt instanceof Uint8Array,'PDFImage.getImageBytes: Unsupported "imageBytes" type.'),new Uint8Array(nt))}}ct.PDFImage=g},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.applyMaskImageData=st;var s=Et(2);function st({src:Tt,srcPos:wt=0,dest:e,destPos:gt=0,width:_,height:$,inverseDecode:d=!1}){const j=s.FeatureTest.isLittleEndian?4278190080:255,[g,o]=d?[0,j]:[j,0],ut=_>>3,dt=_&7,b=Tt.length;e=new Uint32Array(e.buffer);for(let h=0;h<$;h++){for(const nt=wt+ut;wt<nt;wt++){const pt=wt<b?Tt[wt]:255;e[gt++]=pt&128?o:g,e[gt++]=pt&64?o:g,e[gt++]=pt&32?o:g,e[gt++]=pt&16?o:g,e[gt++]=pt&8?o:g,e[gt++]=pt&4?o:g,e[gt++]=pt&2?o:g,e[gt++]=pt&1?o:g}if(dt===0)continue;const et=wt<b?Tt[wt++]:255;for(let nt=0;nt<dt;nt++)e[gt++]=et&1<<7-nt?o:g}return{srcPos:wt,destPos:gt}}},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.incrementalUpdate=et,ct.writeDict=$,ct.writeObject=_;var s=Et(2),st=Et(5),Tt=Et(6),wt=Et(66),e=Et(7),gt=Et(67);function _(nt,pt,Bt,Pt){Bt.push(`${nt.num} ${nt.gen} obj
`),pt instanceof st.Dict?$(pt,Bt,Pt):pt instanceof e.BaseStream&&d(pt,Bt,Pt),Bt.push(`
endobj
`)}function $(nt,pt,Bt){pt.push("<<");for(const Pt of nt.getKeys())pt.push(` /${(0,Tt.escapePDFName)(Pt)} `),g(nt.getRaw(Pt),pt,Bt);pt.push(">>")}function d(nt,pt,Bt){$(nt.dict,pt,Bt),pt.push(` stream
`);let Pt=nt.getString();Bt!==null&&(Pt=Bt.encryptString(Pt)),pt.push(Pt,`
endstream
`)}function j(nt,pt,Bt){pt.push("[");let Pt=!0;for(const Rt of nt)Pt?Pt=!1:pt.push(" "),g(Rt,pt,Bt);pt.push("]")}function g(nt,pt,Bt){nt instanceof st.Name?pt.push(`/${(0,Tt.escapePDFName)(nt.name)}`):nt instanceof st.Ref?pt.push(`${nt.num} ${nt.gen} R`):Array.isArray(nt)?j(nt,pt,Bt):typeof nt=="string"?(Bt!==null&&(nt=Bt.encryptString(nt)),pt.push(`(${(0,s.escapeString)(nt)})`)):typeof nt=="number"?pt.push((0,Tt.numberToString)(nt)):typeof nt=="boolean"?pt.push(nt.toString()):nt instanceof st.Dict?$(nt,pt,Bt):nt instanceof e.BaseStream?d(nt,pt,Bt):nt===null?pt.push("null"):(0,s.warn)(`Unhandled value in writer: ${typeof nt}, please file a bug.`)}function o(nt,pt,Bt,Pt){for(let Rt=pt+Bt-1;Rt>Bt-1;Rt--)Pt[Rt]=nt&255,nt>>=8;return Bt+pt}function ut(nt,pt,Bt){for(let Pt=0,Rt=nt.length;Pt<Rt;Pt++)Bt[pt+Pt]=nt.charCodeAt(Pt)&255}function dt(nt,pt){const Bt=Math.floor(Date.now()/1e3),Pt=pt.filename||"",Rt=[Bt.toString(),Pt,nt.toString()];let Ft=Rt.reduce((it,at)=>it+at.length,0);for(const it of Object.values(pt.info))Rt.push(it),Ft+=it.length;const lt=new Uint8Array(Ft);let ft=0;for(const it of Rt)ut(it,ft,lt),ft+=it.length;return(0,s.bytesToString)((0,gt.calculateMD5)(lt))}function b(nt,pt){const Bt=new wt.SimpleXMLParser({hasAttributes:!0}).parseFromString(nt);for(const{xfa:Rt}of pt){if(!Rt)continue;const{path:Ft,value:lt}=Rt;if(!Ft)continue;const ft=Bt.documentElement.searchNode((0,Tt.parseXFAPath)(Ft),0);ft?Array.isArray(lt)?ft.childNodes=lt.map(it=>new wt.SimpleDOMNode("value",it)):ft.childNodes=[new wt.SimpleDOMNode("#text",lt)]:(0,s.warn)(`Node not found for path: ${Ft}`)}const Pt=[];return Bt.documentElement.dump(Pt),Pt.join("")}function h({xfaData:nt,xfaDatasetsRef:pt,hasXfaDatasetsEntry:Bt,acroFormRef:Pt,acroForm:Rt,newRefs:Ft,xref:lt,xrefInfo:ft}){if(lt===null)return;if(!Bt){if(!Pt){(0,s.warn)("XFA - Cannot save it");return}const bt=Rt.get("XFA"),St=bt.slice();St.splice(2,0,"datasets"),St.splice(3,0,pt),Rt.set("XFA",St);const ht=lt.encrypt;let vt=null;ht&&(vt=ht.createCipherTransform(Pt.num,Pt.gen));const yt=[`${Pt.num} ${Pt.gen} obj
`];$(Rt,yt,vt),yt.push(`
`),Rt.set("XFA",bt),Ft.push({ref:Pt,data:yt.join("")})}if(nt===null){const bt=lt.fetchIfRef(pt);nt=b(bt.getString(),Ft)}const it=lt.encrypt;it&&(nt=it.createCipherTransform(pt.num,pt.gen).encryptString(nt));const at=`${pt.num} ${pt.gen} obj
<< /Type /EmbeddedFile /Length ${nt.length}>>
stream
`+nt+`
endstream
endobj
`;Ft.push({ref:pt,data:at})}function et({originalData:nt,xrefInfo:pt,newRefs:Bt,xref:Pt=null,hasXfa:Rt=!1,xfaDatasetsRef:Ft=null,hasXfaDatasetsEntry:lt=!1,acroFormRef:ft=null,acroForm:it=null,xfaData:at=null}){Rt&&h({xfaData:at,xfaDatasetsRef:Ft,hasXfaDatasetsEntry:lt,acroFormRef:ft,acroForm:it,newRefs:Bt,xref:Pt,xrefInfo:pt});const bt=new st.Dict(null),St=pt.newRef;let ht,vt;const yt=nt.at(-1);yt===10||yt===13?(ht=[],vt=nt.length):(ht=[`
`],vt=nt.length+1),bt.set("Size",St.num+1),bt.set("Prev",pt.startXRef),bt.set("Type",st.Name.get("XRef")),pt.rootRef!==null&&bt.set("Root",pt.rootRef),pt.infoRef!==null&&bt.set("Info",pt.infoRef),pt.encryptRef!==null&&bt.set("Encrypt",pt.encryptRef),Bt.push({ref:St,data:""}),Bt=Bt.sort((jt,Ot)=>jt.ref.num-Ot.ref.num);const At=[[0,1,65535]],Nt=[0,1];let Ht=0;for(const{ref:jt,data:Ot}of Bt)Ht=Math.max(Ht,vt),At.push([1,vt,Math.min(jt.gen,65535)]),vt+=Ot.length,Nt.push(jt.num,1),ht.push(Ot);if(bt.set("Index",Nt),Array.isArray(pt.fileIds)&&pt.fileIds.length>0){const jt=dt(vt,pt);bt.set("ID",[pt.fileIds[0],jt])}const rt=[1,Math.ceil(Math.log2(Ht)/8),2],Mt=(rt[0]+rt[1]+rt[2])*At.length;bt.set("W",rt),bt.set("Length",Mt),ht.push(`${St.num} ${St.gen} obj
`),$(bt,ht,null),ht.push(` stream
`);const _t=ht.reduce((jt,Ot)=>jt+Ot.length,0),Lt=`
endstream
endobj
startxref
${vt}
%%EOF
`,It=new Uint8Array(nt.length+_t+Mt+Lt.length);It.set(nt);let Dt=nt.length;for(const jt of ht)ut(jt,Dt,It),Dt+=jt.length;for(const[jt,Ot,Xt]of At)Dt=o(jt,rt[0],Dt,It),Dt=o(Ot,rt[1],Dt,It),Dt=o(Xt,rt[2],Dt,It);return ut(Lt,Dt,It),It}},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.XMLParserErrorCode=ct.XMLParserBase=ct.SimpleXMLParser=ct.SimpleDOMNode=void 0;var s=Et(6);const st={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};ct.XMLParserErrorCode=st;function Tt($,d){const j=$[d];return j===" "||j===`
`||j==="\r"||j==="	"}function wt($){for(let d=0,j=$.length;d<j;d++)if(!Tt($,d))return!1;return!0}class e{_resolveEntities(d){return d.replace(/&([^;]+);/g,(j,g)=>{if(g.substring(0,2)==="#x")return String.fromCodePoint(parseInt(g.substring(2),16));if(g.substring(0,1)==="#")return String.fromCodePoint(parseInt(g.substring(1),10));switch(g){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return this.onResolveEntity(g)})}_parseContent(d,j){const g=[];let o=j;function ut(){for(;o<d.length&&Tt(d,o);)++o}for(;o<d.length&&!Tt(d,o)&&d[o]!==">"&&d[o]!=="/";)++o;const dt=d.substring(j,o);for(ut();o<d.length&&d[o]!==">"&&d[o]!=="/"&&d[o]!=="?";){ut();let b="",h="";for(;o<d.length&&!Tt(d,o)&&d[o]!=="=";)b+=d[o],++o;if(ut(),d[o]!=="=")return null;++o,ut();const et=d[o];if(et!=='"'&&et!=="'")return null;const nt=d.indexOf(et,++o);if(nt<0)return null;h=d.substring(o,nt),g.push({name:b,value:this._resolveEntities(h)}),o=nt+1,ut()}return{name:dt,attributes:g,parsed:o-j}}_parseProcessingInstruction(d,j){let g=j;function o(){for(;g<d.length&&Tt(d,g);)++g}for(;g<d.length&&!Tt(d,g)&&d[g]!==">"&&d[g]!=="?"&&d[g]!=="/";)++g;const ut=d.substring(j,g);o();const dt=g;for(;g<d.length&&(d[g]!=="?"||d[g+1]!==">");)++g;const b=d.substring(dt,g);return{name:ut,value:b,parsed:g-j}}parseXml(d){let j=0;for(;j<d.length;){const g=d[j];let o=j;if(g==="<"){++o;const ut=d[o];let dt;switch(ut){case"/":if(++o,dt=d.indexOf(">",o),dt<0){this.onError(st.UnterminatedElement);return}this.onEndElement(d.substring(o,dt)),o=dt+1;break;case"?":++o;const b=this._parseProcessingInstruction(d,o);if(d.substring(o+b.parsed,o+b.parsed+2)!=="?>"){this.onError(st.UnterminatedXmlDeclaration);return}this.onPi(b.name,b.value),o+=b.parsed+2;break;case"!":if(d.substring(o+1,o+3)==="--"){if(dt=d.indexOf("-->",o+3),dt<0){this.onError(st.UnterminatedComment);return}this.onComment(d.substring(o+3,dt)),o=dt+3}else if(d.substring(o+1,o+8)==="[CDATA["){if(dt=d.indexOf("]]>",o+8),dt<0){this.onError(st.UnterminatedCdat);return}this.onCdata(d.substring(o+8,dt)),o=dt+3}else if(d.substring(o+1,o+8)==="DOCTYPE"){const nt=d.indexOf("[",o+8);let pt=!1;if(dt=d.indexOf(">",o+8),dt<0){this.onError(st.UnterminatedDoctypeDeclaration);return}if(nt>0&&dt>nt){if(dt=d.indexOf("]>",o+8),dt<0){this.onError(st.UnterminatedDoctypeDeclaration);return}pt=!0}const Bt=d.substring(o+8,dt+(pt?1:0));this.onDoctype(Bt),o=dt+(pt?2:1)}else{this.onError(st.MalformedElement);return}break;default:const h=this._parseContent(d,o);if(h===null){this.onError(st.MalformedElement);return}let et=!1;if(d.substring(o+h.parsed,o+h.parsed+2)==="/>")et=!0;else if(d.substring(o+h.parsed,o+h.parsed+1)!==">"){this.onError(st.UnterminatedElement);return}this.onBeginElement(h.name,h.attributes,et),o+=h.parsed+(et?2:1);break}}else{for(;o<d.length&&d[o]!=="<";)o++;const ut=d.substring(j,o);this.onText(this._resolveEntities(ut))}j=o}}onResolveEntity(d){return`&${d};`}onPi(d,j){}onComment(d){}onCdata(d){}onDoctype(d){}onText(d){}onBeginElement(d,j,g){}onEndElement(d){}onError(d){}}ct.XMLParserBase=e;class gt{constructor(d,j){this.nodeName=d,this.nodeValue=j,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){return this.childNodes&&this.childNodes[0]}get nextSibling(){const d=this.parentNode.childNodes;if(!d)return;const j=d.indexOf(this);if(j!==-1)return d[j+1]}get textContent(){return this.childNodes?this.childNodes.map(function(d){return d.textContent}).join(""):this.nodeValue||""}get children(){return this.childNodes||[]}hasChildNodes(){return this.childNodes&&this.childNodes.length>0}searchNode(d,j){if(j>=d.length)return this;const g=d[j],o=[];let ut=this;for(;;){if(g.name===ut.nodeName)if(g.pos===0){const dt=ut.searchNode(d,j+1);if(dt!==null)return dt}else{if(o.length===0)return null;{const[dt]=o.pop();let b=0;for(const h of dt.childNodes)if(g.name===h.nodeName){if(b===g.pos)return h.searchNode(d,j+1);b++}return ut.searchNode(d,j+1)}}if(ut.childNodes&&ut.childNodes.length!==0)o.push([ut,0]),ut=ut.childNodes[0];else{if(o.length===0)return null;for(;o.length!==0;){const[dt,b]=o.pop(),h=b+1;if(h<dt.childNodes.length){o.push([dt,h]),ut=dt.childNodes[h];break}}if(o.length===0)return null}}}dump(d){if(this.nodeName==="#text"){d.push((0,s.encodeToXmlString)(this.nodeValue));return}if(d.push(`<${this.nodeName}`),this.attributes)for(const j of this.attributes)d.push(` ${j.name}="${(0,s.encodeToXmlString)(j.value)}"`);if(this.hasChildNodes()){d.push(">");for(const j of this.childNodes)j.dump(d);d.push(`</${this.nodeName}>`)}else this.nodeValue?d.push(`>${(0,s.encodeToXmlString)(this.nodeValue)}</${this.nodeName}>`):d.push("/>")}}ct.SimpleDOMNode=gt;class _ extends e{constructor({hasAttributes:d=!1,lowerCaseName:j=!1}){super(),this._currentFragment=null,this._stack=null,this._errorCode=st.NoError,this._hasAttributes=d,this._lowerCaseName=j}parseFromString(d){if(this._currentFragment=[],this._stack=[],this._errorCode=st.NoError,this.parseXml(d),this._errorCode!==st.NoError)return;const[j]=this._currentFragment;if(j)return{documentElement:j}}onText(d){if(wt(d))return;const j=new gt("#text",d);this._currentFragment.push(j)}onCdata(d){const j=new gt("#text",d);this._currentFragment.push(j)}onBeginElement(d,j,g){this._lowerCaseName&&(d=d.toLowerCase());const o=new gt(d);o.childNodes=[],this._hasAttributes&&(o.attributes=j),this._currentFragment.push(o),!g&&(this._stack.push(this._currentFragment),this._currentFragment=o.childNodes)}onEndElement(d){this._currentFragment=this._stack.pop()||[];const j=this._currentFragment.at(-1);if(!j)return null;for(let g=0,o=j.childNodes.length;g<o;g++)j.childNodes[g].parentNode=j;return j}onError(d){this._errorCode=d}}ct.SimpleXMLParser=_},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.calculateSHA256=ct.calculateMD5=ct.PDF20=ct.PDF17=ct.CipherTransformFactory=ct.ARCFourCipher=ct.AES256Cipher=ct.AES128Cipher=void 0,ct.calculateSHA384=d,ct.calculateSHA512=void 0;var s=Et(2),st=Et(5),Tt=Et(68);class wt{constructor(pt){this.a=0,this.b=0;const Bt=new Uint8Array(256),Pt=pt.length;for(let Rt=0;Rt<256;++Rt)Bt[Rt]=Rt;for(let Rt=0,Ft=0;Rt<256;++Rt){const lt=Bt[Rt];Ft=Ft+lt+pt[Rt%Pt]&255,Bt[Rt]=Bt[Ft],Bt[Ft]=lt}this.s=Bt}encryptBlock(pt){let Bt=this.a,Pt=this.b;const Rt=this.s,Ft=pt.length,lt=new Uint8Array(Ft);for(let ft=0;ft<Ft;++ft){Bt=Bt+1&255;const it=Rt[Bt];Pt=Pt+it&255;const at=Rt[Pt];Rt[Bt]=at,Rt[Pt]=it,lt[ft]=pt[ft]^Rt[it+at&255]}return this.a=Bt,this.b=Pt,lt}decryptBlock(pt){return this.encryptBlock(pt)}encrypt(pt){return this.encryptBlock(pt)}}ct.ARCFourCipher=wt;const e=function(){const pt=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),Bt=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);function Pt(Rt,Ft,lt){let ft=1732584193,it=-271733879,at=-1732584194,bt=271733878;const St=lt+72&-64,ht=new Uint8Array(St);let vt,yt;for(vt=0;vt<lt;++vt)ht[vt]=Rt[Ft++];ht[vt++]=128;const At=St-8;for(;vt<At;)ht[vt++]=0;ht[vt++]=lt<<3&255,ht[vt++]=lt>>5&255,ht[vt++]=lt>>13&255,ht[vt++]=lt>>21&255,ht[vt++]=lt>>>29&255,ht[vt++]=0,ht[vt++]=0,ht[vt++]=0;const Nt=new Int32Array(16);for(vt=0;vt<St;){for(yt=0;yt<16;++yt,vt+=4)Nt[yt]=ht[vt]|ht[vt+1]<<8|ht[vt+2]<<16|ht[vt+3]<<24;let Ht=ft,xt=it,rt=at,mt=bt,Mt,_t;for(yt=0;yt<64;++yt){yt<16?(Mt=xt&rt|~xt&mt,_t=yt):yt<32?(Mt=mt&xt|~mt&rt,_t=5*yt+1&15):yt<48?(Mt=xt^rt^mt,_t=3*yt+5&15):(Mt=rt^(xt|~mt),_t=7*yt&15);const Lt=mt,It=Ht+Mt+Bt[yt]+Nt[_t]|0,Dt=pt[yt];mt=rt,rt=xt,xt=xt+(It<<Dt|It>>>32-Dt)|0,Ht=Lt}ft=ft+Ht|0,it=it+xt|0,at=at+rt|0,bt=bt+mt|0}return new Uint8Array([ft&255,ft>>8&255,ft>>16&255,ft>>>24&255,it&255,it>>8&255,it>>16&255,it>>>24&255,at&255,at>>8&255,at>>16&255,at>>>24&255,bt&255,bt>>8&255,bt>>16&255,bt>>>24&255])}return Pt}();ct.calculateMD5=e;class gt{constructor(pt,Bt){this.high=pt|0,this.low=Bt|0}and(pt){this.high&=pt.high,this.low&=pt.low}xor(pt){this.high^=pt.high,this.low^=pt.low}or(pt){this.high|=pt.high,this.low|=pt.low}shiftRight(pt){pt>=32?(this.low=this.high>>>pt-32|0,this.high=0):(this.low=this.low>>>pt|this.high<<32-pt,this.high=this.high>>>pt|0)}shiftLeft(pt){pt>=32?(this.high=this.low<<pt-32,this.low=0):(this.high=this.high<<pt|this.low>>>32-pt,this.low<<=pt)}rotateRight(pt){let Bt,Pt;pt&32?(Pt=this.low,Bt=this.high):(Bt=this.low,Pt=this.high),pt&=31,this.low=Bt>>>pt|Pt<<32-pt,this.high=Pt>>>pt|Bt<<32-pt}not(){this.high=~this.high,this.low=~this.low}add(pt){const Bt=(this.low>>>0)+(pt.low>>>0);let Pt=(this.high>>>0)+(pt.high>>>0);Bt>4294967295&&(Pt+=1),this.low=Bt|0,this.high=Pt|0}copyTo(pt,Bt){pt[Bt]=this.high>>>24&255,pt[Bt+1]=this.high>>16&255,pt[Bt+2]=this.high>>8&255,pt[Bt+3]=this.high&255,pt[Bt+4]=this.low>>>24&255,pt[Bt+5]=this.low>>16&255,pt[Bt+6]=this.low>>8&255,pt[Bt+7]=this.low&255}assign(pt){this.high=pt.high,this.low=pt.low}}const _=function(){function pt(bt,St){return bt>>>St|bt<<32-St}function Bt(bt,St,ht){return bt&St^~bt&ht}function Pt(bt,St,ht){return bt&St^bt&ht^St&ht}function Rt(bt){return pt(bt,2)^pt(bt,13)^pt(bt,22)}function Ft(bt){return pt(bt,6)^pt(bt,11)^pt(bt,25)}function lt(bt){return pt(bt,7)^pt(bt,18)^bt>>>3}function ft(bt){return pt(bt,17)^pt(bt,19)^bt>>>10}const it=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function at(bt,St,ht){let vt=1779033703,yt=3144134277,At=1013904242,Nt=2773480762,Ht=1359893119,xt=2600822924,rt=528734635,mt=1541459225;const Mt=Math.ceil((ht+9)/64)*64,_t=new Uint8Array(Mt);let Lt,It;for(Lt=0;Lt<ht;++Lt)_t[Lt]=bt[St++];_t[Lt++]=128;const Dt=Mt-8;for(;Lt<Dt;)_t[Lt++]=0;_t[Lt++]=0,_t[Lt++]=0,_t[Lt++]=0,_t[Lt++]=ht>>>29&255,_t[Lt++]=ht>>21&255,_t[Lt++]=ht>>13&255,_t[Lt++]=ht>>5&255,_t[Lt++]=ht<<3&255;const jt=new Uint32Array(64);for(Lt=0;Lt<Mt;){for(It=0;It<16;++It)jt[It]=_t[Lt]<<24|_t[Lt+1]<<16|_t[Lt+2]<<8|_t[Lt+3],Lt+=4;for(It=16;It<64;++It)jt[It]=ft(jt[It-2])+jt[It-7]+lt(jt[It-15])+jt[It-16]|0;let Ot=vt,Xt=yt,Ut=At,Gt=Nt,qt=Ht,Kt=xt,Vt=rt,Yt=mt,Zt,Qt;for(It=0;It<64;++It)Zt=Yt+Ft(qt)+Bt(qt,Kt,Vt)+it[It]+jt[It],Qt=Rt(Ot)+Pt(Ot,Xt,Ut),Yt=Vt,Vt=Kt,Kt=qt,qt=Gt+Zt|0,Gt=Ut,Ut=Xt,Xt=Ot,Ot=Zt+Qt|0;vt=vt+Ot|0,yt=yt+Xt|0,At=At+Ut|0,Nt=Nt+Gt|0,Ht=Ht+qt|0,xt=xt+Kt|0,rt=rt+Vt|0,mt=mt+Yt|0}return new Uint8Array([vt>>24&255,vt>>16&255,vt>>8&255,vt&255,yt>>24&255,yt>>16&255,yt>>8&255,yt&255,At>>24&255,At>>16&255,At>>8&255,At&255,Nt>>24&255,Nt>>16&255,Nt>>8&255,Nt&255,Ht>>24&255,Ht>>16&255,Ht>>8&255,Ht&255,xt>>24&255,xt>>16&255,xt>>8&255,xt&255,rt>>24&255,rt>>16&255,rt>>8&255,rt&255,mt>>24&255,mt>>16&255,mt>>8&255,mt&255])}return at}();ct.calculateSHA256=_;const $=function(){function pt(at,bt,St,ht,vt){at.assign(bt),at.and(St),vt.assign(bt),vt.not(),vt.and(ht),at.xor(vt)}function Bt(at,bt,St,ht,vt){at.assign(bt),at.and(St),vt.assign(bt),vt.and(ht),at.xor(vt),vt.assign(St),vt.and(ht),at.xor(vt)}function Pt(at,bt,St){at.assign(bt),at.rotateRight(28),St.assign(bt),St.rotateRight(34),at.xor(St),St.assign(bt),St.rotateRight(39),at.xor(St)}function Rt(at,bt,St){at.assign(bt),at.rotateRight(14),St.assign(bt),St.rotateRight(18),at.xor(St),St.assign(bt),St.rotateRight(41),at.xor(St)}function Ft(at,bt,St){at.assign(bt),at.rotateRight(1),St.assign(bt),St.rotateRight(8),at.xor(St),St.assign(bt),St.shiftRight(7),at.xor(St)}function lt(at,bt,St){at.assign(bt),at.rotateRight(19),St.assign(bt),St.rotateRight(61),at.xor(St),St.assign(bt),St.shiftRight(6),at.xor(St)}const ft=[new gt(1116352408,3609767458),new gt(1899447441,602891725),new gt(3049323471,3964484399),new gt(3921009573,2173295548),new gt(961987163,4081628472),new gt(1508970993,3053834265),new gt(2453635748,2937671579),new gt(2870763221,3664609560),new gt(3624381080,2734883394),new gt(310598401,1164996542),new gt(607225278,1323610764),new gt(1426881987,3590304994),new gt(1925078388,4068182383),new gt(2162078206,991336113),new gt(2614888103,633803317),new gt(3248222580,3479774868),new gt(3835390401,2666613458),new gt(4022224774,944711139),new gt(264347078,2341262773),new gt(604807628,2007800933),new gt(770255983,1495990901),new gt(1249150122,1856431235),new gt(1555081692,3175218132),new gt(1996064986,2198950837),new gt(2554220882,3999719339),new gt(2821834349,766784016),new gt(2952996808,2566594879),new gt(3210313671,3203337956),new gt(3336571891,1034457026),new gt(3584528711,2466948901),new gt(113926993,3758326383),new gt(338241895,168717936),new gt(666307205,1188179964),new gt(773529912,1546045734),new gt(1294757372,1522805485),new gt(1396182291,2643833823),new gt(1695183700,2343527390),new gt(1986661051,1014477480),new gt(2177026350,1206759142),new gt(2456956037,344077627),new gt(2730485921,1290863460),new gt(2820302411,3158454273),new gt(3259730800,3505952657),new gt(3345764771,106217008),new gt(3516065817,3606008344),new gt(3600352804,1432725776),new gt(4094571909,1467031594),new gt(275423344,851169720),new gt(430227734,3100823752),new gt(506948616,1363258195),new gt(659060556,3750685593),new gt(883997877,3785050280),new gt(958139571,3318307427),new gt(1322822218,3812723403),new gt(1537002063,2003034995),new gt(1747873779,3602036899),new gt(1955562222,1575990012),new gt(2024104815,1125592928),new gt(2227730452,2716904306),new gt(2361852424,442776044),new gt(2428436474,593698344),new gt(2756734187,3733110249),new gt(3204031479,2999351573),new gt(3329325298,3815920427),new gt(3391569614,3928383900),new gt(3515267271,566280711),new gt(3940187606,3454069534),new gt(4118630271,4000239992),new gt(116418474,1914138554),new gt(174292421,2731055270),new gt(289380356,3203993006),new gt(460393269,320620315),new gt(685471733,587496836),new gt(852142971,1086792851),new gt(1017036298,365543100),new gt(1126000580,2618297676),new gt(1288033470,3409855158),new gt(1501505948,4234509866),new gt(1607167915,987167468),new gt(1816402316,1246189591)];function it(at,bt,St,ht=!1){let vt,yt,At,Nt,Ht,xt,rt,mt;ht?(vt=new gt(3418070365,3238371032),yt=new gt(1654270250,914150663),At=new gt(2438529370,812702999),Nt=new gt(355462360,4144912697),Ht=new gt(1731405415,4290775857),xt=new gt(2394180231,1750603025),rt=new gt(3675008525,1694076839),mt=new gt(1203062813,3204075428)):(vt=new gt(1779033703,4089235720),yt=new gt(3144134277,2227873595),At=new gt(1013904242,4271175723),Nt=new gt(2773480762,1595750129),Ht=new gt(1359893119,2917565137),xt=new gt(2600822924,725511199),rt=new gt(528734635,4215389547),mt=new gt(1541459225,327033209));const Mt=Math.ceil((St+17)/128)*128,_t=new Uint8Array(Mt);let Lt,It;for(Lt=0;Lt<St;++Lt)_t[Lt]=at[bt++];_t[Lt++]=128;const Dt=Mt-16;for(;Lt<Dt;)_t[Lt++]=0;_t[Lt++]=0,_t[Lt++]=0,_t[Lt++]=0,_t[Lt++]=0,_t[Lt++]=0,_t[Lt++]=0,_t[Lt++]=0,_t[Lt++]=0,_t[Lt++]=0,_t[Lt++]=0,_t[Lt++]=0,_t[Lt++]=St>>>29&255,_t[Lt++]=St>>21&255,_t[Lt++]=St>>13&255,_t[Lt++]=St>>5&255,_t[Lt++]=St<<3&255;const jt=new Array(80);for(Lt=0;Lt<80;Lt++)jt[Lt]=new gt(0,0);let Ot=new gt(0,0),Xt=new gt(0,0),Ut=new gt(0,0),Gt=new gt(0,0),qt=new gt(0,0),Kt=new gt(0,0),Vt=new gt(0,0),Yt=new gt(0,0);const Zt=new gt(0,0),Qt=new gt(0,0),en=new gt(0,0),rn=new gt(0,0);let an;for(Lt=0;Lt<Mt;){for(It=0;It<16;++It)jt[It].high=_t[Lt]<<24|_t[Lt+1]<<16|_t[Lt+2]<<8|_t[Lt+3],jt[It].low=_t[Lt+4]<<24|_t[Lt+5]<<16|_t[Lt+6]<<8|_t[Lt+7],Lt+=8;for(It=16;It<80;++It)an=jt[It],lt(an,jt[It-2],rn),an.add(jt[It-7]),Ft(en,jt[It-15],rn),an.add(en),an.add(jt[It-16]);for(Ot.assign(vt),Xt.assign(yt),Ut.assign(At),Gt.assign(Nt),qt.assign(Ht),Kt.assign(xt),Vt.assign(rt),Yt.assign(mt),It=0;It<80;++It)Zt.assign(Yt),Rt(en,qt,rn),Zt.add(en),pt(en,qt,Kt,Vt,rn),Zt.add(en),Zt.add(ft[It]),Zt.add(jt[It]),Pt(Qt,Ot,rn),Bt(en,Ot,Xt,Ut,rn),Qt.add(en),an=Yt,Yt=Vt,Vt=Kt,Kt=qt,Gt.add(Zt),qt=Gt,Gt=Ut,Ut=Xt,Xt=Ot,an.assign(Zt),an.add(Qt),Ot=an;vt.add(Ot),yt.add(Xt),At.add(Ut),Nt.add(Gt),Ht.add(qt),xt.add(Kt),rt.add(Vt),mt.add(Yt)}let fn;return ht?(fn=new Uint8Array(48),vt.copyTo(fn,0),yt.copyTo(fn,8),At.copyTo(fn,16),Nt.copyTo(fn,24),Ht.copyTo(fn,32),xt.copyTo(fn,40)):(fn=new Uint8Array(64),vt.copyTo(fn,0),yt.copyTo(fn,8),At.copyTo(fn,16),Nt.copyTo(fn,24),Ht.copyTo(fn,32),xt.copyTo(fn,40),rt.copyTo(fn,48),mt.copyTo(fn,56)),fn}return it}();ct.calculateSHA512=$;function d(nt,pt,Bt){return $(nt,pt,Bt,!0)}class j{decryptBlock(pt){return pt}encrypt(pt){return pt}}class g{constructor(){this.constructor===g&&(0,s.unreachable)("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(let pt=0;pt<256;pt++)pt<128?this._mixCol[pt]=pt<<1:this._mixCol[pt]=pt<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}_expandKey(pt){(0,s.unreachable)("Cannot call `_expandKey` on the base class")}_decrypt(pt,Bt){let Pt,Rt,Ft;const lt=new Uint8Array(16);lt.set(pt);for(let ft=0,it=this._keySize;ft<16;++ft,++it)lt[ft]^=Bt[it];for(let ft=this._cyclesOfRepetition-1;ft>=1;--ft){Pt=lt[13],lt[13]=lt[9],lt[9]=lt[5],lt[5]=lt[1],lt[1]=Pt,Pt=lt[14],Rt=lt[10],lt[14]=lt[6],lt[10]=lt[2],lt[6]=Pt,lt[2]=Rt,Pt=lt[15],Rt=lt[11],Ft=lt[7],lt[15]=lt[3],lt[11]=Pt,lt[7]=Rt,lt[3]=Ft;for(let it=0;it<16;++it)lt[it]=this._inv_s[lt[it]];for(let it=0,at=ft*16;it<16;++it,++at)lt[it]^=Bt[at];for(let it=0;it<16;it+=4){const at=this._mix[lt[it]],bt=this._mix[lt[it+1]],St=this._mix[lt[it+2]],ht=this._mix[lt[it+3]];Pt=at^bt>>>8^bt<<24^St>>>16^St<<16^ht>>>24^ht<<8,lt[it]=Pt>>>24&255,lt[it+1]=Pt>>16&255,lt[it+2]=Pt>>8&255,lt[it+3]=Pt&255}}Pt=lt[13],lt[13]=lt[9],lt[9]=lt[5],lt[5]=lt[1],lt[1]=Pt,Pt=lt[14],Rt=lt[10],lt[14]=lt[6],lt[10]=lt[2],lt[6]=Pt,lt[2]=Rt,Pt=lt[15],Rt=lt[11],Ft=lt[7],lt[15]=lt[3],lt[11]=Pt,lt[7]=Rt,lt[3]=Ft;for(let ft=0;ft<16;++ft)lt[ft]=this._inv_s[lt[ft]],lt[ft]^=Bt[ft];return lt}_encrypt(pt,Bt){const Pt=this._s;let Rt,Ft,lt;const ft=new Uint8Array(16);ft.set(pt);for(let it=0;it<16;++it)ft[it]^=Bt[it];for(let it=1;it<this._cyclesOfRepetition;it++){for(let at=0;at<16;++at)ft[at]=Pt[ft[at]];lt=ft[1],ft[1]=ft[5],ft[5]=ft[9],ft[9]=ft[13],ft[13]=lt,lt=ft[2],Ft=ft[6],ft[2]=ft[10],ft[6]=ft[14],ft[10]=lt,ft[14]=Ft,lt=ft[3],Ft=ft[7],Rt=ft[11],ft[3]=ft[15],ft[7]=lt,ft[11]=Ft,ft[15]=Rt;for(let at=0;at<16;at+=4){const bt=ft[at+0],St=ft[at+1],ht=ft[at+2],vt=ft[at+3];Rt=bt^St^ht^vt,ft[at+0]^=Rt^this._mixCol[bt^St],ft[at+1]^=Rt^this._mixCol[St^ht],ft[at+2]^=Rt^this._mixCol[ht^vt],ft[at+3]^=Rt^this._mixCol[vt^bt]}for(let at=0,bt=it*16;at<16;++at,++bt)ft[at]^=Bt[bt]}for(let it=0;it<16;++it)ft[it]=Pt[ft[it]];lt=ft[1],ft[1]=ft[5],ft[5]=ft[9],ft[9]=ft[13],ft[13]=lt,lt=ft[2],Ft=ft[6],ft[2]=ft[10],ft[6]=ft[14],ft[10]=lt,ft[14]=Ft,lt=ft[3],Ft=ft[7],Rt=ft[11],ft[3]=ft[15],ft[7]=lt,ft[11]=Ft,ft[15]=Rt;for(let it=0,at=this._keySize;it<16;++it,++at)ft[it]^=Bt[at];return ft}_decryptBlock2(pt,Bt){const Pt=pt.length;let Rt=this.buffer,Ft=this.bufferPosition;const lt=[];let ft=this.iv;for(let bt=0;bt<Pt;++bt){if(Rt[Ft]=pt[bt],++Ft,Ft<16)continue;const St=this._decrypt(Rt,this._key);for(let ht=0;ht<16;++ht)St[ht]^=ft[ht];ft=Rt,lt.push(St),Rt=new Uint8Array(16),Ft=0}if(this.buffer=Rt,this.bufferLength=Ft,this.iv=ft,lt.length===0)return new Uint8Array(0);let it=16*lt.length;if(Bt){const bt=lt.at(-1);let St=bt[15];if(St<=16){for(let ht=15,vt=16-St;ht>=vt;--ht)if(bt[ht]!==St){St=0;break}it-=St,lt[lt.length-1]=bt.subarray(0,16-St)}}const at=new Uint8Array(it);for(let bt=0,St=0,ht=lt.length;bt<ht;++bt,St+=16)at.set(lt[bt],St);return at}decryptBlock(pt,Bt,Pt=null){const Rt=pt.length,Ft=this.buffer;let lt=this.bufferPosition;if(Pt)this.iv=Pt;else{for(let ft=0;lt<16&&ft<Rt;++ft,++lt)Ft[lt]=pt[ft];if(lt<16)return this.bufferLength=lt,new Uint8Array(0);this.iv=Ft,pt=pt.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(pt,Bt)}encrypt(pt,Bt){const Pt=pt.length;let Rt=this.buffer,Ft=this.bufferPosition;const lt=[];Bt||(Bt=new Uint8Array(16));for(let at=0;at<Pt;++at){if(Rt[Ft]=pt[at],++Ft,Ft<16)continue;for(let St=0;St<16;++St)Rt[St]^=Bt[St];const bt=this._encrypt(Rt,this._key);Bt=bt,lt.push(bt),Rt=new Uint8Array(16),Ft=0}if(this.buffer=Rt,this.bufferLength=Ft,this.iv=Bt,lt.length===0)return new Uint8Array(0);const ft=16*lt.length,it=new Uint8Array(ft);for(let at=0,bt=0,St=lt.length;at<St;++at,bt+=16)it.set(lt[at],bt);return it}}class o extends g{constructor(pt){super(),this._cyclesOfRepetition=10,this._keySize=160,this._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),this._key=this._expandKey(pt)}_expandKey(pt){const Pt=this._s,Rt=this._rcon,Ft=new Uint8Array(176);Ft.set(pt);for(let lt=16,ft=1;lt<176;++ft){let it=Ft[lt-3],at=Ft[lt-2],bt=Ft[lt-1],St=Ft[lt-4];it=Pt[it],at=Pt[at],bt=Pt[bt],St=Pt[St],it^=Rt[ft];for(let ht=0;ht<4;++ht)Ft[lt]=it^=Ft[lt-16],lt++,Ft[lt]=at^=Ft[lt-16],lt++,Ft[lt]=bt^=Ft[lt-16],lt++,Ft[lt]=St^=Ft[lt-16],lt++}return Ft}}ct.AES128Cipher=o;class ut extends g{constructor(pt){super(),this._cyclesOfRepetition=14,this._keySize=224,this._key=this._expandKey(pt)}_expandKey(pt){const Pt=this._s,Rt=new Uint8Array(240);Rt.set(pt);let Ft=1,lt,ft,it,at;for(let bt=32,St=1;bt<240;++St){bt%32===16?(lt=Pt[lt],ft=Pt[ft],it=Pt[it],at=Pt[at]):bt%32===0&&(lt=Rt[bt-3],ft=Rt[bt-2],it=Rt[bt-1],at=Rt[bt-4],lt=Pt[lt],ft=Pt[ft],it=Pt[it],at=Pt[at],lt^=Ft,(Ft<<=1)>=256&&(Ft=(Ft^27)&255));for(let ht=0;ht<4;++ht)Rt[bt]=lt^=Rt[bt-32],bt++,Rt[bt]=ft^=Rt[bt-32],bt++,Rt[bt]=it^=Rt[bt-32],bt++,Rt[bt]=at^=Rt[bt-32],bt++}return Rt}}ct.AES256Cipher=ut;class dt{checkOwnerPassword(pt,Bt,Pt,Rt){const Ft=new Uint8Array(pt.length+56);Ft.set(pt,0),Ft.set(Bt,pt.length),Ft.set(Pt,pt.length+Bt.length);const lt=_(Ft,0,Ft.length);return(0,s.isArrayEqual)(lt,Rt)}checkUserPassword(pt,Bt,Pt){const Rt=new Uint8Array(pt.length+8);Rt.set(pt,0),Rt.set(Bt,pt.length);const Ft=_(Rt,0,Rt.length);return(0,s.isArrayEqual)(Ft,Pt)}getOwnerKey(pt,Bt,Pt,Rt){const Ft=new Uint8Array(pt.length+56);Ft.set(pt,0),Ft.set(Bt,pt.length),Ft.set(Pt,pt.length+Bt.length);const lt=_(Ft,0,Ft.length);return new ut(lt).decryptBlock(Rt,!1,new Uint8Array(16))}getUserKey(pt,Bt,Pt){const Rt=new Uint8Array(pt.length+8);Rt.set(pt,0),Rt.set(Bt,pt.length);const Ft=_(Rt,0,Rt.length);return new ut(Ft).decryptBlock(Pt,!1,new Uint8Array(16))}}ct.PDF17=dt;const b=function(){function pt(Pt,Rt,Ft){let lt=_(Rt,0,Rt.length).subarray(0,32),ft=[0],it=0;for(;it<64||ft.at(-1)>it-32;){const at=Pt.length+lt.length+Ft.length,bt=new Uint8Array(at);let St=0;bt.set(Pt,St),St+=Pt.length,bt.set(lt,St),St+=lt.length,bt.set(Ft,St);const ht=new Uint8Array(at*64);for(let At=0,Nt=0;At<64;At++,Nt+=at)ht.set(bt,Nt);ft=new o(lt.subarray(0,16)).encrypt(ht,lt.subarray(16,32));let yt=0;for(let At=0;At<16;At++)yt*=256%3,yt%=3,yt+=(ft[At]>>>0)%3,yt%=3;yt===0?lt=_(ft,0,ft.length):yt===1?lt=d(ft,0,ft.length):yt===2&&(lt=$(ft,0,ft.length)),it++}return lt.subarray(0,32)}class Bt{hash(Rt,Ft,lt){return pt(Rt,Ft,lt)}checkOwnerPassword(Rt,Ft,lt,ft){const it=new Uint8Array(Rt.length+56);it.set(Rt,0),it.set(Ft,Rt.length),it.set(lt,Rt.length+Ft.length);const at=pt(Rt,it,lt);return(0,s.isArrayEqual)(at,ft)}checkUserPassword(Rt,Ft,lt){const ft=new Uint8Array(Rt.length+8);ft.set(Rt,0),ft.set(Ft,Rt.length);const it=pt(Rt,ft,[]);return(0,s.isArrayEqual)(it,lt)}getOwnerKey(Rt,Ft,lt,ft){const it=new Uint8Array(Rt.length+56);it.set(Rt,0),it.set(Ft,Rt.length),it.set(lt,Rt.length+Ft.length);const at=pt(Rt,it,lt);return new ut(at).decryptBlock(ft,!1,new Uint8Array(16))}getUserKey(Rt,Ft,lt){const ft=new Uint8Array(Rt.length+8);ft.set(Rt,0),ft.set(Ft,Rt.length);const it=pt(Rt,ft,[]);return new ut(it).decryptBlock(lt,!1,new Uint8Array(16))}}return Bt}();ct.PDF20=b;class h{constructor(pt,Bt){this.StringCipherConstructor=pt,this.StreamCipherConstructor=Bt}createStream(pt,Bt){const Pt=new this.StreamCipherConstructor;return new Tt.DecryptStream(pt,Bt,function(Ft,lt){return Pt.decryptBlock(Ft,lt)})}decryptString(pt){const Bt=new this.StringCipherConstructor;let Pt=(0,s.stringToBytes)(pt);return Pt=Bt.decryptBlock(Pt,!0),(0,s.bytesToString)(Pt)}encryptString(pt){const Bt=new this.StringCipherConstructor;if(Bt instanceof g){const Ft=16-pt.length%16;pt+=String.fromCharCode(Ft).repeat(Ft);const lt=new Uint8Array(16);if(typeof crypto<"u")crypto.getRandomValues(lt);else for(let at=0;at<16;at++)lt[at]=Math.floor(256*Math.random());let ft=(0,s.stringToBytes)(pt);ft=Bt.encrypt(ft,lt);const it=new Uint8Array(16+ft.length);return it.set(lt),it.set(ft,16),(0,s.bytesToString)(it)}let Pt=(0,s.stringToBytes)(pt);return Pt=Bt.encrypt(Pt),(0,s.bytesToString)(Pt)}}const et=function(){const pt=new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]);function Bt(at,bt,St,ht,vt,yt,At,Nt,Ht,xt,rt,mt){if(bt){const _t=Math.min(127,bt.length);bt=bt.subarray(0,_t)}else bt=[];let Mt;return at===6?Mt=new b:Mt=new dt,Mt.checkUserPassword(bt,Nt,At)?Mt.getUserKey(bt,Ht,rt):bt.length&&Mt.checkOwnerPassword(bt,ht,yt,St)?Mt.getOwnerKey(bt,vt,yt,xt):null}function Pt(at,bt,St,ht,vt,yt,At,Nt){const Ht=40+St.length+at.length,xt=new Uint8Array(Ht);let rt=0,mt,Mt;if(bt)for(Mt=Math.min(32,bt.length);rt<Mt;++rt)xt[rt]=bt[rt];for(mt=0;rt<32;)xt[rt++]=pt[mt++];for(mt=0,Mt=St.length;mt<Mt;++mt)xt[rt++]=St[mt];for(xt[rt++]=vt&255,xt[rt++]=vt>>8&255,xt[rt++]=vt>>16&255,xt[rt++]=vt>>>24&255,mt=0,Mt=at.length;mt<Mt;++mt)xt[rt++]=at[mt];yt>=4&&!Nt&&(xt[rt++]=255,xt[rt++]=255,xt[rt++]=255,xt[rt++]=255);let _t=e(xt,0,rt);const Lt=At>>3;if(yt>=3)for(mt=0;mt<50;++mt)_t=e(_t,0,Lt);const It=_t.subarray(0,Lt);let Dt,jt;if(yt>=3){for(rt=0;rt<32;++rt)xt[rt]=pt[rt];for(mt=0,Mt=at.length;mt<Mt;++mt)xt[rt++]=at[mt];Dt=new wt(It),jt=Dt.encryptBlock(e(xt,0,rt)),Mt=It.length;const Ot=new Uint8Array(Mt);for(mt=1;mt<=19;++mt){for(let Xt=0;Xt<Mt;++Xt)Ot[Xt]=It[Xt]^mt;Dt=new wt(Ot),jt=Dt.encryptBlock(jt)}for(mt=0,Mt=jt.length;mt<Mt;++mt)if(ht[mt]!==jt[mt])return null}else for(Dt=new wt(It),jt=Dt.encryptBlock(pt),mt=0,Mt=jt.length;mt<Mt;++mt)if(ht[mt]!==jt[mt])return null;return It}function Rt(at,bt,St,ht){const vt=new Uint8Array(32);let yt=0;const At=Math.min(32,at.length);for(;yt<At;++yt)vt[yt]=at[yt];let Nt=0;for(;yt<32;)vt[yt++]=pt[Nt++];let Ht=e(vt,0,yt);const xt=ht>>3;if(St>=3)for(Nt=0;Nt<50;++Nt)Ht=e(Ht,0,Ht.length);let rt,mt;if(St>=3){mt=bt;const Mt=new Uint8Array(xt);for(Nt=19;Nt>=0;Nt--){for(let _t=0;_t<xt;++_t)Mt[_t]=Ht[_t]^Nt;rt=new wt(Mt),mt=rt.encryptBlock(mt)}}else rt=new wt(Ht.subarray(0,xt)),mt=rt.encryptBlock(bt);return mt}const Ft=st.Name.get("Identity");function lt(at,bt,St,ht=!1){const vt=new Uint8Array(St.length+9),yt=St.length;let At;for(At=0;At<yt;++At)vt[At]=St[At];return vt[At++]=at&255,vt[At++]=at>>8&255,vt[At++]=at>>16&255,vt[At++]=bt&255,vt[At++]=bt>>8&255,ht&&(vt[At++]=115,vt[At++]=65,vt[At++]=108,vt[At++]=84),e(vt,0,At).subarray(0,Math.min(St.length+5,16))}function ft(at,bt,St,ht,vt){if(!(bt instanceof st.Name))throw new s.FormatError("Invalid crypt filter name.");const yt=at.get(bt.name);let At;if(yt!=null&&(At=yt.get("CFM")),!At||At.name==="None")return function(){return new j};if(At.name==="V2")return function(){return new wt(lt(St,ht,vt,!1))};if(At.name==="AESV2")return function(){return new o(lt(St,ht,vt,!0))};if(At.name==="AESV3")return function(){return new ut(vt)};throw new s.FormatError("Unknown crypto method")}class it{constructor(bt,St,ht){const vt=bt.get("Filter");if(!(0,st.isName)(vt,"Standard"))throw new s.FormatError("unknown encryption method");this.filterName=vt.name,this.dict=bt;const yt=bt.get("V");if(!Number.isInteger(yt)||yt!==1&&yt!==2&&yt!==4&&yt!==5)throw new s.FormatError("unsupported encryption algorithm");this.algorithm=yt;let At=bt.get("Length");if(!At)if(yt<=3)At=40;else{const It=bt.get("CF"),Dt=bt.get("StmF");if(It instanceof st.Dict&&Dt instanceof st.Name){It.suppressEncryption=!0;const jt=It.get(Dt.name);At=jt&&jt.get("Length")||128,At<40&&(At<<=3)}}if(!Number.isInteger(At)||At<40||At%8!==0)throw new s.FormatError("invalid key length");const Nt=(0,s.stringToBytes)(bt.get("O")).subarray(0,32),Ht=(0,s.stringToBytes)(bt.get("U")).subarray(0,32),xt=bt.get("P"),rt=bt.get("R"),mt=(yt===4||yt===5)&&bt.get("EncryptMetadata")!==!1;this.encryptMetadata=mt;const Mt=(0,s.stringToBytes)(St);let _t;if(ht){if(rt===6)try{ht=(0,s.utf8StringToString)(ht)}catch{(0,s.warn)("CipherTransformFactory: Unable to convert UTF8 encoded password.")}_t=(0,s.stringToBytes)(ht)}let Lt;if(yt!==5)Lt=Pt(Mt,_t,Nt,Ht,xt,rt,At,mt);else{const It=(0,s.stringToBytes)(bt.get("O")).subarray(32,40),Dt=(0,s.stringToBytes)(bt.get("O")).subarray(40,48),jt=(0,s.stringToBytes)(bt.get("U")).subarray(0,48),Ot=(0,s.stringToBytes)(bt.get("U")).subarray(32,40),Xt=(0,s.stringToBytes)(bt.get("U")).subarray(40,48),Ut=(0,s.stringToBytes)(bt.get("OE")),Gt=(0,s.stringToBytes)(bt.get("UE"));(0,s.stringToBytes)(bt.get("Perms")),Lt=Bt(rt,_t,Nt,It,Dt,jt,Ht,Ot,Xt,Ut,Gt)}if(!Lt&&!ht)throw new s.PasswordException("No password given",s.PasswordResponses.NEED_PASSWORD);if(!Lt&&ht){const It=Rt(_t,Nt,rt,At);Lt=Pt(Mt,It,Nt,Ht,xt,rt,At,mt)}if(!Lt)throw new s.PasswordException("Incorrect Password",s.PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=Lt,yt>=4){const It=bt.get("CF");It instanceof st.Dict&&(It.suppressEncryption=!0),this.cf=It,this.stmf=bt.get("StmF")||Ft,this.strf=bt.get("StrF")||Ft,this.eff=bt.get("EFF")||this.stmf}}createCipherTransform(bt,St){if(this.algorithm===4||this.algorithm===5)return new h(ft(this.cf,this.strf,bt,St,this.encryptionKey),ft(this.cf,this.stmf,bt,St,this.encryptionKey));const ht=lt(bt,St,this.encryptionKey,!1),vt=function(){return new wt(ht)};return new h(vt,vt)}}return it}();ct.CipherTransformFactory=et},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.DecryptStream=void 0;var s=Et(19);const st=512;class Tt extends s.DecodeStream{constructor(e,gt,_){super(gt),this.str=e,this.dict=e.dict,this.decrypt=_,this.nextChunk=null,this.initialized=!1}readBlock(){let e;if(this.initialized?e=this.nextChunk:(e=this.str.getBytes(st),this.initialized=!0),!e||e.length===0){this.eof=!0;return}this.nextChunk=this.str.getBytes(st);const gt=this.nextChunk&&this.nextChunk.length>0,_=this.decrypt;e=_(e,!gt);let $=this.bufferLength;const d=e.length,j=this.ensureBuffer($+d);for(let g=0;g<d;g++)j[$++]=e[g];this.bufferLength=$}}ct.DecryptStream=Tt},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.Catalog=void 0;var s=Et(6),st=Et(2),Tt=Et(5),wt=Et(70),e=Et(7),gt=Et(71),_=Et(14),$=Et(72),d=Et(59),j=Et(73),g=Et(74);function o(dt){return dt instanceof Tt.Dict&&(dt=dt.get("D")),Array.isArray(dt)?dt:null}class ut{constructor(b,h){if(this.pdfManager=b,this.xref=h,this._catDict=h.getCatalogObj(),!(this._catDict instanceof Tt.Dict))throw new st.FormatError("Catalog object is not a dictionary.");this.toplevelPagesDict,this._actualNumPages=null,this.fontCache=new Tt.RefSetCache,this.builtInCMapCache=new Map,this.standardFontDataCache=new Map,this.globalImageCache=new d.GlobalImageCache,this.pageKidsCountCache=new Tt.RefSetCache,this.pageIndexCache=new Tt.RefSetCache,this.nonBlendModesSet=new Tt.RefSet}get version(){const b=this._catDict.get("Version");return(0,st.shadow)(this,"version",b instanceof Tt.Name?b.name:null)}get lang(){const b=this._catDict.get("Lang");return(0,st.shadow)(this,"lang",typeof b=="string"?(0,st.stringToPDFString)(b):null)}get needsRendering(){const b=this._catDict.get("NeedsRendering");return(0,st.shadow)(this,"needsRendering",typeof b=="boolean"?b:!1)}get collection(){let b=null;try{const h=this._catDict.get("Collection");h instanceof Tt.Dict&&h.size>0&&(b=h)}catch(h){if(h instanceof s.MissingDataException)throw h;(0,st.info)("Cannot fetch Collection entry; assuming no collection is present.")}return(0,st.shadow)(this,"collection",b)}get acroForm(){let b=null;try{const h=this._catDict.get("AcroForm");h instanceof Tt.Dict&&h.size>0&&(b=h)}catch(h){if(h instanceof s.MissingDataException)throw h;(0,st.info)("Cannot fetch AcroForm entry; assuming no forms are present.")}return(0,st.shadow)(this,"acroForm",b)}get acroFormRef(){const b=this._catDict.getRaw("AcroForm");return(0,st.shadow)(this,"acroFormRef",b instanceof Tt.Ref?b:null)}get metadata(){const b=this._catDict.getRaw("Metadata");if(!(b instanceof Tt.Ref))return(0,st.shadow)(this,"metadata",null);let h=null;try{const et=!(this.xref.encrypt&&this.xref.encrypt.encryptMetadata),nt=this.xref.fetch(b,et);if(nt instanceof e.BaseStream&&nt.dict instanceof Tt.Dict){const pt=nt.dict.get("Type"),Bt=nt.dict.get("Subtype");if((0,Tt.isName)(pt,"Metadata")&&(0,Tt.isName)(Bt,"XML")){const Pt=(0,st.stringToUTF8String)(nt.getString());Pt&&(h=new j.MetadataParser(Pt).serializable)}}}catch(et){if(et instanceof s.MissingDataException)throw et;(0,st.info)(`Skipping invalid Metadata: "${et}".`)}return(0,st.shadow)(this,"metadata",h)}get markInfo(){let b=null;try{b=this._readMarkInfo()}catch(h){if(h instanceof s.MissingDataException)throw h;(0,st.warn)("Unable to read mark info.")}return(0,st.shadow)(this,"markInfo",b)}_readMarkInfo(){const b=this._catDict.get("MarkInfo");if(!(b instanceof Tt.Dict))return null;const h={Marked:!1,UserProperties:!1,Suspects:!1};for(const et in h){const nt=b.get(et);typeof nt=="boolean"&&(h[et]=nt)}return h}get structTreeRoot(){let b=null;try{b=this._readStructTreeRoot()}catch(h){if(h instanceof s.MissingDataException)throw h;(0,st.warn)("Unable read to structTreeRoot info.")}return(0,st.shadow)(this,"structTreeRoot",b)}_readStructTreeRoot(){const b=this._catDict.get("StructTreeRoot");if(!(b instanceof Tt.Dict))return null;const h=new g.StructTreeRoot(b);return h.init(),h}get toplevelPagesDict(){const b=this._catDict.get("Pages");if(!(b instanceof Tt.Dict))throw new st.FormatError("Invalid top-level pages dictionary.");return(0,st.shadow)(this,"toplevelPagesDict",b)}get documentOutline(){let b=null;try{b=this._readDocumentOutline()}catch(h){if(h instanceof s.MissingDataException)throw h;(0,st.warn)("Unable to read document outline.")}return(0,st.shadow)(this,"documentOutline",b)}_readDocumentOutline(){let b=this._catDict.get("Outlines");if(!(b instanceof Tt.Dict)||(b=b.getRaw("First"),!(b instanceof Tt.Ref)))return null;const h={items:[]},et=[{obj:b,parent:h}],nt=new Tt.RefSet;nt.put(b);const pt=this.xref,Bt=new Uint8ClampedArray(3);for(;et.length>0;){const Pt=et.shift(),Rt=pt.fetchIfRef(Pt.obj);if(Rt===null)continue;if(!Rt.has("Title"))throw new st.FormatError("Invalid outline item encountered.");const Ft={url:null,dest:null};ut.parseDestDictionary({destDict:Rt,resultObj:Ft,docBaseUrl:this.pdfManager.docBaseUrl});const lt=Rt.get("Title"),ft=Rt.get("F")||0,it=Rt.getArray("C"),at=Rt.get("Count");let bt=Bt;Array.isArray(it)&&it.length===3&&(it[0]!==0||it[1]!==0||it[2]!==0)&&(bt=_.ColorSpace.singletons.rgb.getRgb(it,0));const St={dest:Ft.dest,url:Ft.url,unsafeUrl:Ft.unsafeUrl,newWindow:Ft.newWindow,title:(0,st.stringToPDFString)(lt),color:bt,count:Number.isInteger(at)?at:void 0,bold:!!(ft&2),italic:!!(ft&1),items:[]};Pt.parent.items.push(St),b=Rt.getRaw("First"),b instanceof Tt.Ref&&!nt.has(b)&&(et.push({obj:b,parent:St}),nt.put(b)),b=Rt.getRaw("Next"),b instanceof Tt.Ref&&!nt.has(b)&&(et.push({obj:b,parent:Pt.parent}),nt.put(b))}return h.items.length>0?h.items:null}get permissions(){let b=null;try{b=this._readPermissions()}catch(h){if(h instanceof s.MissingDataException)throw h;(0,st.warn)("Unable to read permissions.")}return(0,st.shadow)(this,"permissions",b)}_readPermissions(){const b=this.xref.trailer.get("Encrypt");if(!(b instanceof Tt.Dict))return null;let h=b.get("P");if(typeof h!="number")return null;h+=4294967296;const et=[];for(const nt in st.PermissionFlag){const pt=st.PermissionFlag[nt];h&pt&&et.push(pt)}return et}get optionalContentConfig(){let b=null;try{const h=this._catDict.get("OCProperties");if(!h)return(0,st.shadow)(this,"optionalContentConfig",null);const et=h.get("D");if(!et)return(0,st.shadow)(this,"optionalContentConfig",null);const nt=h.get("OCGs");if(!Array.isArray(nt))return(0,st.shadow)(this,"optionalContentConfig",null);const pt=[],Bt=[];for(const Pt of nt){if(!(Pt instanceof Tt.Ref))continue;Bt.push(Pt);const Rt=this.xref.fetchIfRef(Pt);pt.push({id:Pt.toString(),name:typeof Rt.get("Name")=="string"?(0,st.stringToPDFString)(Rt.get("Name")):null,intent:typeof Rt.get("Intent")=="string"?(0,st.stringToPDFString)(Rt.get("Intent")):null})}b=this._readOptionalContentConfig(et,Bt),b.groups=pt}catch(h){if(h instanceof s.MissingDataException)throw h;(0,st.warn)(`Unable to read optional content config: ${h}`)}return(0,st.shadow)(this,"optionalContentConfig",b)}_readOptionalContentConfig(b,h){function et(Ft){const lt=[];if(Array.isArray(Ft))for(const ft of Ft)ft instanceof Tt.Ref&&h.includes(ft)&&lt.push(ft.toString());return lt}function nt(Ft,lt=0){if(!Array.isArray(Ft))return null;const ft=[];for(const at of Ft){if(at instanceof Tt.Ref&&h.includes(at)){Pt.put(at),ft.push(at.toString());continue}const bt=pt(at,lt);bt&&ft.push(bt)}if(lt>0)return ft;const it=[];for(const at of h)Pt.has(at)||it.push(at.toString());return it.length&&ft.push({name:null,order:it}),ft}function pt(Ft,lt){if(++lt>Rt)return(0,st.warn)("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;const ft=Bt.fetchIfRef(Ft);if(!Array.isArray(ft))return null;const it=Bt.fetchIfRef(ft[0]);if(typeof it!="string")return null;const at=nt(ft.slice(1),lt);return!at||!at.length?null:{name:(0,st.stringToPDFString)(it),order:at}}const Bt=this.xref,Pt=new Tt.RefSet,Rt=10;return{name:typeof b.get("Name")=="string"?(0,st.stringToPDFString)(b.get("Name")):null,creator:typeof b.get("Creator")=="string"?(0,st.stringToPDFString)(b.get("Creator")):null,baseState:b.get("BaseState")instanceof Tt.Name?b.get("BaseState").name:null,on:et(b.get("ON")),off:et(b.get("OFF")),order:nt(b.get("Order")),groups:null}}setActualNumPages(b=null){this._actualNumPages=b}get hasActualNumPages(){return this._actualNumPages!==null}get _pagesCount(){const b=this.toplevelPagesDict.get("Count");if(!Number.isInteger(b))throw new st.FormatError("Page count in top-level pages dictionary is not an integer.");return(0,st.shadow)(this,"_pagesCount",b)}get numPages(){return this.hasActualNumPages?this._actualNumPages:this._pagesCount}get destinations(){const b=this._readDests(),h=Object.create(null);if(b instanceof wt.NameTree)for(const[et,nt]of b.getAll()){const pt=o(nt);pt&&(h[(0,st.stringToPDFString)(et)]=pt)}else b instanceof Tt.Dict&&b.forEach(function(et,nt){const pt=o(nt);pt&&(h[et]=pt)});return(0,st.shadow)(this,"destinations",h)}getDestination(b){const h=this._readDests();if(h instanceof wt.NameTree){const et=o(h.get(b));if(et)return et;const nt=this.destinations[b];if(nt)return(0,st.warn)(`Found "${b}" at an incorrect position in the NameTree.`),nt}else if(h instanceof Tt.Dict){const et=o(h.get(b));if(et)return et}return null}_readDests(){const b=this._catDict.get("Names");if(b&&b.has("Dests"))return new wt.NameTree(b.getRaw("Dests"),this.xref);if(this._catDict.has("Dests"))return this._catDict.get("Dests")}get pageLabels(){let b=null;try{b=this._readPageLabels()}catch(h){if(h instanceof s.MissingDataException)throw h;(0,st.warn)("Unable to read page labels.")}return(0,st.shadow)(this,"pageLabels",b)}_readPageLabels(){const b=this._catDict.getRaw("PageLabels");if(!b)return null;const h=new Array(this.numPages);let et=null,nt="";const Bt=new wt.NumberTree(b,this.xref).getAll();let Pt="",Rt=1;for(let Ft=0,lt=this.numPages;Ft<lt;Ft++){const ft=Bt.get(Ft);if(ft!==void 0){if(!(ft instanceof Tt.Dict))throw new st.FormatError("PageLabel is not a dictionary.");if(ft.has("Type")&&!(0,Tt.isName)(ft.get("Type"),"PageLabel"))throw new st.FormatError("Invalid type in PageLabel dictionary.");if(ft.has("S")){const it=ft.get("S");if(!(it instanceof Tt.Name))throw new st.FormatError("Invalid style in PageLabel dictionary.");et=it.name}else et=null;if(ft.has("P")){const it=ft.get("P");if(typeof it!="string")throw new st.FormatError("Invalid prefix in PageLabel dictionary.");nt=(0,st.stringToPDFString)(it)}else nt="";if(ft.has("St")){const it=ft.get("St");if(!(Number.isInteger(it)&&it>=1))throw new st.FormatError("Invalid start in PageLabel dictionary.");Rt=it}else Rt=1}switch(et){case"D":Pt=Rt;break;case"R":case"r":Pt=(0,s.toRomanNumerals)(Rt,et==="r");break;case"A":case"a":const it=26,St=et==="a"?97:65,ht=Rt-1;Pt=String.fromCharCode(St+ht%it).repeat(Math.floor(ht/it)+1);break;default:if(et)throw new st.FormatError(`Invalid style "${et}" in PageLabel dictionary.`);Pt=""}h[Ft]=nt+Pt,Rt++}return h}get pageLayout(){const b=this._catDict.get("PageLayout");let h="";if(b instanceof Tt.Name)switch(b.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":h=b.name}return(0,st.shadow)(this,"pageLayout",h)}get pageMode(){const b=this._catDict.get("PageMode");let h="UseNone";if(b instanceof Tt.Name)switch(b.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":h=b.name}return(0,st.shadow)(this,"pageMode",h)}get viewerPreferences(){const b=this._catDict.get("ViewerPreferences");if(!(b instanceof Tt.Dict))return(0,st.shadow)(this,"viewerPreferences",null);let h=null;for(const et of b.getKeys()){const nt=b.get(et);let pt;switch(et){case"HideToolbar":case"HideMenubar":case"HideWindowUI":case"FitWindow":case"CenterWindow":case"DisplayDocTitle":case"PickTrayByPDFSize":typeof nt=="boolean"&&(pt=nt);break;case"NonFullScreenPageMode":if(nt instanceof Tt.Name)switch(nt.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":pt=nt.name;break;default:pt="UseNone"}break;case"Direction":if(nt instanceof Tt.Name)switch(nt.name){case"L2R":case"R2L":pt=nt.name;break;default:pt="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":if(nt instanceof Tt.Name)switch(nt.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":pt=nt.name;break;default:pt="CropBox"}break;case"PrintScaling":if(nt instanceof Tt.Name)switch(nt.name){case"None":case"AppDefault":pt=nt.name;break;default:pt="AppDefault"}break;case"Duplex":if(nt instanceof Tt.Name)switch(nt.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":pt=nt.name;break;default:pt="None"}break;case"PrintPageRange":Array.isArray(nt)&&nt.length%2===0&&nt.every((Pt,Rt,Ft)=>Number.isInteger(Pt)&&Pt>0&&(Rt===0||Pt>=Ft[Rt-1])&&Pt<=this.numPages)&&(pt=nt);break;case"NumCopies":Number.isInteger(nt)&&nt>0&&(pt=nt);break;default:(0,st.warn)(`Ignoring non-standard key in ViewerPreferences: ${et}.`);continue}if(pt===void 0){(0,st.warn)(`Bad value, for key "${et}", in ViewerPreferences: ${nt}.`);continue}h||(h=Object.create(null)),h[et]=pt}return(0,st.shadow)(this,"viewerPreferences",h)}get openAction(){const b=this._catDict.get("OpenAction"),h=Object.create(null);if(b instanceof Tt.Dict){const et=new Tt.Dict(this.xref);et.set("A",b);const nt={url:null,dest:null,action:null};ut.parseDestDictionary({destDict:et,resultObj:nt}),Array.isArray(nt.dest)?h.dest=nt.dest:nt.action&&(h.action=nt.action)}else Array.isArray(b)&&(h.dest=b);return(0,st.shadow)(this,"openAction",(0,st.objectSize)(h)>0?h:null)}get attachments(){const b=this._catDict.get("Names");let h=null;if(b instanceof Tt.Dict&&b.has("EmbeddedFiles")){const et=new wt.NameTree(b.getRaw("EmbeddedFiles"),this.xref);for(const[nt,pt]of et.getAll()){const Bt=new $.FileSpec(pt,this.xref);h||(h=Object.create(null)),h[(0,st.stringToPDFString)(nt)]=Bt.serializable}}return(0,st.shadow)(this,"attachments",h)}get xfaImages(){const b=this._catDict.get("Names");let h=null;if(b instanceof Tt.Dict&&b.has("XFAImages")){const et=new wt.NameTree(b.getRaw("XFAImages"),this.xref);for(const[nt,pt]of et.getAll())h||(h=new Tt.Dict(this.xref)),h.set((0,st.stringToPDFString)(nt),pt)}return(0,st.shadow)(this,"xfaImages",h)}_collectJavaScript(){const b=this._catDict.get("Names");let h=null;function et(pt,Bt){if(!(Bt instanceof Tt.Dict)||!(0,Tt.isName)(Bt.get("S"),"JavaScript"))return;let Pt=Bt.get("JS");if(Pt instanceof e.BaseStream)Pt=Pt.getString();else if(typeof Pt!="string")return;h===null&&(h=new Map),Pt=(0,st.stringToPDFString)(Pt).replace(/\u0000/g,""),h.set(pt,Pt)}if(b instanceof Tt.Dict&&b.has("JavaScript")){const pt=new wt.NameTree(b.getRaw("JavaScript"),this.xref);for(const[Bt,Pt]of pt.getAll())et((0,st.stringToPDFString)(Bt),Pt)}const nt=this._catDict.get("OpenAction");return nt&&et("OpenAction",nt),h}get javaScript(){const b=this._collectJavaScript();return(0,st.shadow)(this,"javaScript",b?[...b.values()]:null)}get jsActions(){const b=this._collectJavaScript();let h=(0,s.collectActions)(this.xref,this._catDict,st.DocumentActionEventType);if(b){h||(h=Object.create(null));for(const[et,nt]of b)et in h?h[et].push(nt):h[et]=[nt]}return(0,st.shadow)(this,"jsActions",h)}async fontFallback(b,h){const et=await Promise.all(this.fontCache);for(const nt of et)if(nt.loadedName===b){nt.fallback(h);return}}async cleanup(b=!1){(0,gt.clearGlobalCaches)(),this.globalImageCache.clear(b),this.pageKidsCountCache.clear(),this.pageIndexCache.clear(),this.nonBlendModesSet.clear();const h=await Promise.all(this.fontCache);for(const{dict:et}of h)delete et.cacheKey;this.fontCache.clear(),this.builtInCMapCache.clear(),this.standardFontDataCache.clear()}async getPageDict(b){const h=[this.toplevelPagesDict],et=new Tt.RefSet,nt=this._catDict.getRaw("Pages");nt instanceof Tt.Ref&&et.put(nt);const pt=this.xref,Bt=this.pageKidsCountCache,Pt=this.pageIndexCache;let Rt=0;for(;h.length;){const Ft=h.pop();if(Ft instanceof Tt.Ref){const at=Bt.get(Ft);if(at>=0&&Rt+at<=b){Rt+=at;continue}if(et.has(Ft))throw new st.FormatError("Pages tree contains circular reference.");et.put(Ft);const bt=await pt.fetchAsync(Ft);if(bt instanceof Tt.Dict){let St=bt.getRaw("Type");if(St instanceof Tt.Ref&&(St=await pt.fetchAsync(St)),(0,Tt.isName)(St,"Page")||!bt.has("Kids")){if(Bt.has(Ft)||Bt.put(Ft,1),Pt.has(Ft)||Pt.put(Ft,Rt),Rt===b)return[bt,Ft];Rt++;continue}}h.push(bt);continue}if(!(Ft instanceof Tt.Dict))throw new st.FormatError("Page dictionary kid reference points to wrong type of object.");const{objId:lt}=Ft;let ft=Ft.getRaw("Count");if(ft instanceof Tt.Ref&&(ft=await pt.fetchAsync(ft)),Number.isInteger(ft)&&ft>=0&&(lt&&!Bt.has(lt)&&Bt.put(lt,ft),Rt+ft<=b)){Rt+=ft;continue}let it=Ft.getRaw("Kids");if(it instanceof Tt.Ref&&(it=await pt.fetchAsync(it)),!Array.isArray(it)){let at=Ft.getRaw("Type");if(at instanceof Tt.Ref&&(at=await pt.fetchAsync(at)),(0,Tt.isName)(at,"Page")||!Ft.has("Kids")){if(Rt===b)return[Ft,null];Rt++;continue}throw new st.FormatError("Page dictionary kids object is not an array.")}for(let at=it.length-1;at>=0;at--)h.push(it[at])}throw new Error(`Page index ${b} not found.`)}async getAllPageDicts(b=!1){const h=[{currentNode:this.toplevelPagesDict,posInKids:0}],et=new Tt.RefSet,nt=this._catDict.getRaw("Pages");nt instanceof Tt.Ref&&et.put(nt);const pt=new Map,Bt=this.xref,Pt=this.pageIndexCache;let Rt=0;function Ft(ft,it){it&&!Pt.has(it)&&Pt.put(it,Rt),pt.set(Rt++,[ft,it])}function lt(ft){if(ft instanceof s.XRefEntryException&&!b)throw ft;pt.set(Rt++,[ft,null])}for(;h.length>0;){const ft=h.at(-1),{currentNode:it,posInKids:at}=ft;let bt=it.getRaw("Kids");if(bt instanceof Tt.Ref)try{bt=await Bt.fetchAsync(bt)}catch(yt){lt(yt);break}if(!Array.isArray(bt)){lt(new st.FormatError("Page dictionary kids object is not an array."));break}if(at>=bt.length){h.pop();continue}const St=bt[at];let ht;if(St instanceof Tt.Ref){if(et.has(St)){lt(new st.FormatError("Pages tree contains circular reference."));break}et.put(St);try{ht=await Bt.fetchAsync(St)}catch(yt){lt(yt);break}}else ht=St;if(!(ht instanceof Tt.Dict)){lt(new st.FormatError("Page dictionary kid reference points to wrong type of object."));break}let vt=ht.getRaw("Type");if(vt instanceof Tt.Ref)try{vt=await Bt.fetchAsync(vt)}catch(yt){lt(yt);break}(0,Tt.isName)(vt,"Page")||!ht.has("Kids")?Ft(ht,St instanceof Tt.Ref?St:null):h.push({currentNode:ht,posInKids:0}),ft.posInKids++}return pt}getPageIndex(b){const h=this.pageIndexCache.get(b);if(h!==void 0)return Promise.resolve(h);const et=this.xref;function nt(Pt){let Rt=0,Ft;return et.fetchAsync(Pt).then(function(lt){if((0,Tt.isRefsEqual)(Pt,b)&&!(0,Tt.isDict)(lt,"Page")&&!(lt instanceof Tt.Dict&&!lt.has("Type")&&lt.has("Contents")))throw new st.FormatError("The reference does not point to a /Page dictionary.");if(!lt)return null;if(!(lt instanceof Tt.Dict))throw new st.FormatError("Node must be a dictionary.");return Ft=lt.getRaw("Parent"),lt.getAsync("Parent")}).then(function(lt){if(!lt)return null;if(!(lt instanceof Tt.Dict))throw new st.FormatError("Parent must be a dictionary.");return lt.getAsync("Kids")}).then(function(lt){if(!lt)return null;const ft=[];let it=!1;for(let at=0,bt=lt.length;at<bt;at++){const St=lt[at];if(!(St instanceof Tt.Ref))throw new st.FormatError("Kid must be a reference.");if((0,Tt.isRefsEqual)(St,Pt)){it=!0;break}ft.push(et.fetchAsync(St).then(function(ht){if(!(ht instanceof Tt.Dict))throw new st.FormatError("Kid node must be a dictionary.");ht.has("Count")?Rt+=ht.get("Count"):Rt++}))}if(!it)throw new st.FormatError("Kid reference not found in parent's kids.");return Promise.all(ft).then(function(){return[Rt,Ft]})})}let pt=0;const Bt=Pt=>nt(Pt).then(Rt=>{if(!Rt)return this.pageIndexCache.put(b,pt),pt;const[Ft,lt]=Rt;return pt+=Ft,Bt(lt)});return Bt(b)}get baseUrl(){const b=this._catDict.get("URI");if(b instanceof Tt.Dict){const h=b.get("Base");if(typeof h=="string"){const et=(0,st.createValidAbsoluteUrl)(h,null,{tryConvertEncoding:!0});if(et)return(0,st.shadow)(this,"baseUrl",et.href)}}return(0,st.shadow)(this,"baseUrl",null)}static parseDestDictionary(b){const h=b.destDict;if(!(h instanceof Tt.Dict)){(0,st.warn)("parseDestDictionary: `destDict` must be a dictionary.");return}const et=b.resultObj;if(typeof et!="object"){(0,st.warn)("parseDestDictionary: `resultObj` must be an object.");return}const nt=b.docBaseUrl||null;let pt=h.get("A"),Bt,Pt;if(pt instanceof Tt.Dict||(h.has("Dest")?pt=h.get("Dest"):(pt=h.get("AA"),pt instanceof Tt.Dict&&(pt.has("D")?pt=pt.get("D"):pt.has("U")&&(pt=pt.get("U"))))),pt instanceof Tt.Dict){const Rt=pt.get("S");if(!(Rt instanceof Tt.Name)){(0,st.warn)("parseDestDictionary: Invalid type in Action dictionary.");return}const Ft=Rt.name;switch(Ft){case"ResetForm":const lt=pt.get("Flags"),ft=((typeof lt=="number"?lt:0)&1)===0,it=[],at=[];for(const Ht of pt.get("Fields")||[])Ht instanceof Tt.Ref?at.push(Ht.toString()):typeof Ht=="string"&&it.push((0,st.stringToPDFString)(Ht));et.resetForm={fields:it,refs:at,include:ft};break;case"URI":Bt=pt.get("URI"),Bt instanceof Tt.Name&&(Bt="/"+Bt.name);break;case"GoTo":Pt=pt.get("D");break;case"Launch":case"GoToR":const bt=pt.get("F");bt instanceof Tt.Dict?Bt=bt.get("F")||null:typeof bt=="string"&&(Bt=bt);let St=pt.get("D");if(St&&(St instanceof Tt.Name&&(St=St.name),typeof Bt=="string")){const Ht=Bt.split("#")[0];typeof St=="string"?Bt=Ht+"#"+St:Array.isArray(St)&&(Bt=Ht+"#"+JSON.stringify(St))}const ht=pt.get("NewWindow");typeof ht=="boolean"&&(et.newWindow=ht);break;case"Named":const vt=pt.get("N");vt instanceof Tt.Name&&(et.action=vt.name);break;case"JavaScript":const yt=pt.get("JS");let At;yt instanceof e.BaseStream?At=yt.getString():typeof yt=="string"&&(At=yt);const Nt=At&&(0,s.recoverJsURL)((0,st.stringToPDFString)(At));if(Nt){Bt=Nt.url,et.newWindow=Nt.newWindow;break}default:if(Ft==="JavaScript"||Ft==="SubmitForm")break;(0,st.warn)(`parseDestDictionary - unsupported action: "${Ft}".`);break}}else h.has("Dest")&&(Pt=h.get("Dest"));if(typeof Bt=="string"){const Rt=(0,st.createValidAbsoluteUrl)(Bt,nt,{addDefaultProtocol:!0,tryConvertEncoding:!0});Rt&&(et.url=Rt.href),et.unsafeUrl=Bt}Pt&&(Pt instanceof Tt.Name&&(Pt=Pt.name),typeof Pt=="string"?et.dest=(0,st.stringToPDFString)(Pt):Array.isArray(Pt)&&(et.dest=Pt))}}ct.Catalog=ut},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.NumberTree=ct.NameTree=void 0;var s=Et(5),st=Et(2);class Tt{constructor(_,$,d){this.constructor===Tt&&(0,st.unreachable)("Cannot initialize NameOrNumberTree."),this.root=_,this.xref=$,this._type=d}getAll(){const _=new Map;if(!this.root)return _;const $=this.xref,d=new s.RefSet;d.put(this.root);const j=[this.root];for(;j.length>0;){const g=$.fetchIfRef(j.shift());if(!(g instanceof s.Dict))continue;if(g.has("Kids")){const ut=g.get("Kids");if(!Array.isArray(ut))continue;for(const dt of ut){if(d.has(dt))throw new st.FormatError(`Duplicate entry in "${this._type}" tree.`);j.push(dt),d.put(dt)}continue}const o=g.get(this._type);if(Array.isArray(o))for(let ut=0,dt=o.length;ut<dt;ut+=2)_.set($.fetchIfRef(o[ut]),$.fetchIfRef(o[ut+1]))}return _}get(_){if(!this.root)return null;const $=this.xref;let d=$.fetchIfRef(this.root),j=0;const g=10;for(;d.has("Kids");){if(++j>g)return(0,st.warn)(`Search depth limit reached for "${this._type}" tree.`),null;const ut=d.get("Kids");if(!Array.isArray(ut))return null;let dt=0,b=ut.length-1;for(;dt<=b;){const h=dt+b>>1,et=$.fetchIfRef(ut[h]),nt=et.get("Limits");if(_<$.fetchIfRef(nt[0]))b=h-1;else if(_>$.fetchIfRef(nt[1]))dt=h+1;else{d=et;break}}if(dt>b)return null}const o=d.get(this._type);if(Array.isArray(o)){let ut=0,dt=o.length-2;for(;ut<=dt;){const b=ut+dt>>1,h=b+(b&1),et=$.fetchIfRef(o[h]);if(_<et)dt=h-2;else if(_>et)ut=h+2;else return $.fetchIfRef(o[h+1])}}return null}}class wt extends Tt{constructor(_,$){super(_,$,"Names")}}ct.NameTree=wt;class e extends Tt{constructor(_,$){super(_,$,"Nums")}}ct.NumberTree=e},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.clearGlobalCaches=Tt;var s=Et(5),st=Et(40);function Tt(){(0,s.clearPrimitiveCaches)(),(0,st.clearUnicodeCaches)()}},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.FileSpec=void 0;var s=Et(2),st=Et(7),Tt=Et(5);function wt(gt){return gt.has("UF")?gt.get("UF"):gt.has("F")?gt.get("F"):gt.has("Unix")?gt.get("Unix"):gt.has("Mac")?gt.get("Mac"):gt.has("DOS")?gt.get("DOS"):null}class e{constructor(_,$){_ instanceof Tt.Dict&&(this.xref=$,this.root=_,_.has("FS")&&(this.fs=_.get("FS")),this.description=_.has("Desc")?(0,s.stringToPDFString)(_.get("Desc")):"",_.has("RF")&&(0,s.warn)("Related file specifications are not supported"),this.contentAvailable=!0,_.has("EF")||(this.contentAvailable=!1,(0,s.warn)("Non-embedded file specifications are not supported")))}get filename(){if(!this._filename&&this.root){const _=wt(this.root)||"unnamed";this._filename=(0,s.stringToPDFString)(_).replace(/\\\\/g,"\\").replace(/\\\//g,"/").replace(/\\/g,"/")}return this._filename}get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=wt(this.root.get("EF")));let _=null;if(this.contentRef){const $=this.xref.fetchIfRef(this.contentRef);$ instanceof st.BaseStream?_=$.getBytes():(0,s.warn)("Embedded file specification points to non-existing/invalid content")}else(0,s.warn)("Embedded file specification does not have a content");return _}get serializable(){return{filename:this.filename,content:this.content}}}ct.FileSpec=e},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.MetadataParser=void 0;var s=Et(66);class st{constructor(wt){wt=this._repair(wt);const gt=new s.SimpleXMLParser({lowerCaseName:!0}).parseFromString(wt);this._metadataMap=new Map,this._data=wt,gt&&this._parse(gt)}_repair(wt){return wt.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,function(e,gt){const _=gt.replace(/\\([0-3])([0-7])([0-7])/g,function(d,j,g,o){return String.fromCharCode(j*64+g*8+o*1)}).replace(/&(amp|apos|gt|lt|quot);/g,function(d,j){switch(j){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${j} isn't defined.`)}),$=[];for(let d=0,j=_.length;d<j;d+=2){const g=_.charCodeAt(d)*256+_.charCodeAt(d+1);g>=32&&g<127&&g!==60&&g!==62&&g!==38?$.push(String.fromCharCode(g)):$.push("&#x"+(65536+g).toString(16).substring(1)+";")}return">"+$.join("")})}_getSequence(wt){const e=wt.nodeName;return e!=="rdf:bag"&&e!=="rdf:seq"&&e!=="rdf:alt"?null:wt.childNodes.filter(gt=>gt.nodeName==="rdf:li")}_parseArray(wt){if(!wt.hasChildNodes())return;const[e]=wt.childNodes,gt=this._getSequence(e)||[];this._metadataMap.set(wt.nodeName,gt.map(_=>_.textContent.trim()))}_parse(wt){let e=wt.documentElement;if(e.nodeName!=="rdf:rdf")for(e=e.firstChild;e&&e.nodeName!=="rdf:rdf";)e=e.nextSibling;if(!(!e||e.nodeName!=="rdf:rdf"||!e.hasChildNodes())){for(const gt of e.childNodes)if(gt.nodeName==="rdf:description")for(const _ of gt.childNodes){const $=_.nodeName;switch($){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(_);continue}this._metadataMap.set($,_.textContent.trim())}}}get serializable(){return{parsedData:this._metadataMap,rawData:this._data}}}ct.MetadataParser=st},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.StructTreeRoot=ct.StructTreePage=void 0;var s=Et(5),st=Et(2),Tt=Et(70);const wt=40,e={PAGE_CONTENT:"PAGE_CONTENT",STREAM_CONTENT:"STREAM_CONTENT",OBJECT:"OBJECT",ELEMENT:"ELEMENT"};class gt{constructor(g){this.dict=g,this.roleMap=new Map}init(){this.readRoleMap()}readRoleMap(){const g=this.dict.get("RoleMap");g instanceof s.Dict&&g.forEach((o,ut)=>{ut instanceof s.Name&&this.roleMap.set(o,ut.name)})}}ct.StructTreeRoot=gt;class _{constructor(g,o){this.tree=g,this.dict=o,this.kids=[],this.parseKids()}get role(){const g=this.dict.get("S"),o=g instanceof s.Name?g.name:"",{root:ut}=this.tree;return ut.roleMap.has(o)?ut.roleMap.get(o):o}parseKids(){let g=null;const o=this.dict.getRaw("Pg");o instanceof s.Ref&&(g=o.toString());const ut=this.dict.get("K");if(Array.isArray(ut))for(const dt of ut){const b=this.parseKid(g,dt);b&&this.kids.push(b)}else{const dt=this.parseKid(g,ut);dt&&this.kids.push(dt)}}parseKid(g,o){if(Number.isInteger(o))return this.tree.pageDict.objId!==g?null:new $({type:e.PAGE_CONTENT,mcid:o,pageObjId:g});let ut=null;if(o instanceof s.Ref?ut=this.dict.xref.fetch(o):o instanceof s.Dict&&(ut=o),!ut)return null;const dt=ut.getRaw("Pg");dt instanceof s.Ref&&(g=dt.toString());const b=ut.get("Type")instanceof s.Name?ut.get("Type").name:null;return b==="MCR"?this.tree.pageDict.objId!==g?null:new $({type:e.STREAM_CONTENT,refObjId:ut.getRaw("Stm")instanceof s.Ref?ut.getRaw("Stm").toString():null,pageObjId:g,mcid:ut.get("MCID")}):b==="OBJR"?this.tree.pageDict.objId!==g?null:new $({type:e.OBJECT,refObjId:ut.getRaw("Obj")instanceof s.Ref?ut.getRaw("Obj").toString():null,pageObjId:g}):new $({type:e.ELEMENT,dict:ut})}}class ${constructor({type:g,dict:o=null,mcid:ut=null,pageObjId:dt=null,refObjId:b=null}){this.type=g,this.dict=o,this.mcid=ut,this.pageObjId=dt,this.refObjId=b,this.parentNode=null}}class d{constructor(g,o){this.root=g,this.rootDict=g?g.dict:null,this.pageDict=o,this.nodes=[]}parse(){if(!this.root||!this.rootDict)return;const g=this.rootDict.get("ParentTree");if(!g)return;const o=this.pageDict.get("StructParents");if(!Number.isInteger(o))return;const dt=new Tt.NumberTree(g,this.rootDict.xref).get(o);if(!Array.isArray(dt))return;const b=new Map;for(const h of dt)h instanceof s.Ref&&this.addNode(this.rootDict.xref.fetch(h),b)}addNode(g,o,ut=0){if(ut>wt)return(0,st.warn)("StructTree MAX_DEPTH reached."),null;if(o.has(g))return o.get(g);const dt=new _(this,g);o.set(g,dt);const b=g.get("P");if(!b||(0,s.isName)(b.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(g,dt)||o.delete(g),dt;const h=this.addNode(b,o,ut+1);if(!h)return dt;let et=!1;for(const nt of h.kids)nt.type===e.ELEMENT&&nt.dict===g&&(nt.parentNode=dt,et=!0);return et||o.delete(g),dt}addTopLevelNode(g,o){const ut=this.rootDict.get("K");if(!ut)return!1;if(ut instanceof s.Dict)return ut.objId!==g.objId?!1:(this.nodes[0]=o,!0);if(!Array.isArray(ut))return!0;let dt=!1;for(let b=0;b<ut.length;b++){const h=ut[b];h&&h.toString()===g.objId&&(this.nodes[b]=o,dt=!0)}return dt}get serializable(){function g(ut,dt,b=0){if(b>wt){(0,st.warn)("StructTree too deep to be fully serialized.");return}const h=Object.create(null);h.role=ut.role,h.children=[],dt.children.push(h);const et=ut.dict.get("Alt");typeof et=="string"&&(h.alt=(0,st.stringToPDFString)(et));const nt=ut.dict.get("Lang");typeof nt=="string"&&(h.lang=(0,st.stringToPDFString)(nt));for(const pt of ut.kids){const Bt=pt.type===e.ELEMENT?pt.parentNode:null;if(Bt){g(Bt,h,b+1);continue}else pt.type===e.PAGE_CONTENT||pt.type===e.STREAM_CONTENT?h.children.push({type:"content",id:`page${pt.pageObjId}_mcid${pt.mcid}`}):pt.type===e.OBJECT&&h.children.push({type:"object",id:pt.refObjId})}}const o=Object.create(null);o.children=[],o.role="Root";for(const ut of this.nodes)ut&&g(ut,o);return o}}ct.StructTreePage=d},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.ObjectLoader=void 0;var s=Et(5),st=Et(7),Tt=Et(6),wt=Et(2);function e($){return $ instanceof s.Ref||$ instanceof s.Dict||$ instanceof st.BaseStream||Array.isArray($)}function gt($,d){if($ instanceof s.Dict)$=$.getRawValues();else if($ instanceof st.BaseStream)$=$.dict.getRawValues();else if(!Array.isArray($))return;for(const j of $)e(j)&&d.push(j)}class _{constructor(d,j,g){this.dict=d,this.keys=j,this.xref=g,this.refSet=null}async load(){if(this.xref.stream.isDataLoaded)return;const{keys:d,dict:j}=this;this.refSet=new s.RefSet;const g=[];for(let o=0,ut=d.length;o<ut;o++){const dt=j.getRaw(d[o]);dt!==void 0&&g.push(dt)}return this._walk(g)}async _walk(d){const j=[],g=[];for(;d.length;){let o=d.pop();if(o instanceof s.Ref){if(this.refSet.has(o))continue;try{this.refSet.put(o),o=this.xref.fetch(o)}catch(ut){if(!(ut instanceof Tt.MissingDataException)){(0,wt.warn)(`ObjectLoader._walk - requesting all data: "${ut}".`),this.refSet=null;const{manager:dt}=this.xref.stream;return dt.requestAllChunks()}j.push(o),g.push({begin:ut.begin,end:ut.end})}}if(o instanceof st.BaseStream){const ut=o.getBaseStreams();if(ut){let dt=!1;for(const b of ut)b.isDataLoaded||(dt=!0,g.push({begin:b.start,end:b.end}));dt&&j.push(o)}}gt(o,d)}if(g.length){await this.xref.stream.manager.requestRanges(g);for(const o of j)o instanceof s.Ref&&this.refSet.remove(o);return this._walk(j)}this.refSet=null}}ct.ObjectLoader=_},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.XFAFactory=void 0;var s=Et(77),st=Et(81),Tt=Et(87),wt=Et(85),e=Et(78),gt=Et(2),_=Et(88),$=Et(98);class d{constructor(g){try{this.root=new _.XFAParser().parse(d._createDocument(g));const o=new st.Binder(this.root);this.form=o.bind(),this.dataHandler=new Tt.DataHandler(this.root,o.getData()),this.form[s.$globalData].template=this.form}catch(o){(0,gt.warn)(`XFA - an error occurred during parsing and binding: ${o}`)}}isValid(){return this.root&&this.form}_createPagesHelper(){const g=this.form[s.$toPages]();return new Promise((o,ut)=>{const dt=()=>{try{const b=g.next();b.done?o(b.value):setTimeout(dt,0)}catch(b){ut(b)}};setTimeout(dt,0)})}async _createPages(){try{this.pages=await this._createPagesHelper(),this.dims=this.pages.children.map(g=>{const{width:o,height:ut}=g.attributes.style;return[0,0,parseInt(o),parseInt(ut)]})}catch(g){(0,gt.warn)(`XFA - an error occurred during layout: ${g}`)}}getBoundingBox(g){return this.dims[g]}async getNumPages(){return this.pages||await this._createPages(),this.dims.length}setImages(g){this.form[s.$globalData].images=g}setFonts(g){this.form[s.$globalData].fontFinder=new wt.FontFinder(g);const o=[];for(let ut of this.form[s.$globalData].usedTypefaces)ut=(0,e.stripQuotes)(ut),this.form[s.$globalData].fontFinder.find(ut)||o.push(ut);return o.length>0?o:null}appendFonts(g,o){this.form[s.$globalData].fontFinder.add(g,o)}async getPages(){this.pages||await this._createPages();const g=this.pages;return this.pages=null,g}serializeData(g){return this.dataHandler.serialize(g)}static _createDocument(g){return g["/xdp:xdp"]?Object.values(g).join(""):g["xdp:xdp"]}static getRichTextAsHtml(g){if(!g||typeof g!="string")return null;try{let o=new _.XFAParser($.XhtmlNamespace,!0).parse(g);if(!["body","xhtml"].includes(o[s.$nodeName])){const h=$.XhtmlNamespace.body({});h[s.$appendChild](o),o=h}const ut=o[s.$toHTML]();if(!ut.success)return null;const{html:dt}=ut,{attributes:b}=dt;return b&&(b.class&&(b.class=b.class.filter(h=>!h.startsWith("xfa"))),b.dir="auto"),{html:dt,str:o[s.$text]()}}catch(o){(0,gt.warn)(`XFA - an error occurred during parsing of rich text: ${o}`)}return null}}ct.XFAFactory=d},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.XmlObject=ct.XFAObjectArray=ct.XFAObject=ct.XFAAttribute=ct.StringObject=ct.OptionObject=ct.Option10=ct.Option01=ct.IntegerObject=ct.ContentObject=ct.$uid=ct.$toStyle=ct.$toString=ct.$toPages=ct.$toHTML=ct.$text=ct.$tabIndex=ct.$setValue=ct.$setSetAttributes=ct.$setId=ct.$searchNode=ct.$root=ct.$resolvePrototypes=ct.$removeChild=ct.$pushPara=ct.$pushGlyphs=ct.$popPara=ct.$onText=ct.$onChildCheck=ct.$onChild=ct.$nsAttributes=ct.$nodeName=ct.$namespaceId=ct.$isUsable=ct.$isTransparent=ct.$isThereMoreWidth=ct.$isSplittable=ct.$isNsAgnostic=ct.$isDescendent=ct.$isDataValue=ct.$isCDATAXml=ct.$isBindable=ct.$insertAt=ct.$indexOf=ct.$ids=ct.$hasSettableValue=ct.$globalData=ct.$getTemplateRoot=ct.$getSubformParent=ct.$getRealChildrenByNameIt=ct.$getParent=ct.$getNextPage=ct.$getExtra=ct.$getDataValue=ct.$getContainedChildren=ct.$getChildrenByNameIt=ct.$getChildrenByName=ct.$getChildrenByClass=ct.$getChildren=ct.$getAvailableSpace=ct.$getAttributes=ct.$getAttributeIt=ct.$flushHTML=ct.$finalize=ct.$extra=ct.$dump=ct.$data=ct.$content=ct.$consumed=ct.$clone=ct.$cleanup=ct.$cleanPage=ct.$clean=ct.$childrenToHTML=ct.$appendChild=ct.$addHTML=ct.$acceptWhitespace=void 0;var s=Et(78),st=Et(2),Tt=Et(6),wt=Et(79),e=Et(80);const gt=Symbol();ct.$acceptWhitespace=gt;const _=Symbol();ct.$addHTML=_;const $=Symbol();ct.$appendChild=$;const d=Symbol();ct.$childrenToHTML=d;const j=Symbol();ct.$clean=j;const g=Symbol();ct.$cleanPage=g;const o=Symbol();ct.$cleanup=o;const ut=Symbol();ct.$clone=ut;const dt=Symbol();ct.$consumed=dt;const b=Symbol("content");ct.$content=b;const h=Symbol("data");ct.$data=h;const et=Symbol();ct.$dump=et;const nt=Symbol("extra");ct.$extra=nt;const pt=Symbol();ct.$finalize=pt;const Bt=Symbol();ct.$flushHTML=Bt;const Pt=Symbol();ct.$getAttributeIt=Pt;const Rt=Symbol();ct.$getAttributes=Rt;const Ft=Symbol();ct.$getAvailableSpace=Ft;const lt=Symbol();ct.$getChildrenByClass=lt;const ft=Symbol();ct.$getChildrenByName=ft;const it=Symbol();ct.$getChildrenByNameIt=it;const at=Symbol();ct.$getDataValue=at;const bt=Symbol();ct.$getExtra=bt;const St=Symbol();ct.$getRealChildrenByNameIt=St;const ht=Symbol();ct.$getChildren=ht;const vt=Symbol();ct.$getContainedChildren=vt;const yt=Symbol();ct.$getNextPage=yt;const At=Symbol();ct.$getSubformParent=At;const Nt=Symbol();ct.$getParent=Nt;const Ht=Symbol();ct.$getTemplateRoot=Ht;const xt=Symbol();ct.$globalData=xt;const rt=Symbol();ct.$hasSettableValue=rt;const mt=Symbol();ct.$ids=mt;const Mt=Symbol();ct.$indexOf=Mt;const _t=Symbol();ct.$insertAt=_t;const Lt=Symbol();ct.$isCDATAXml=Lt;const It=Symbol();ct.$isBindable=It;const Dt=Symbol();ct.$isDataValue=Dt;const jt=Symbol();ct.$isDescendent=jt;const Ot=Symbol();ct.$isNsAgnostic=Ot;const Xt=Symbol();ct.$isSplittable=Xt;const Ut=Symbol();ct.$isThereMoreWidth=Ut;const Gt=Symbol();ct.$isTransparent=Gt;const qt=Symbol();ct.$isUsable=qt;const Kt=Symbol(),Vt=Symbol("namespaceId");ct.$namespaceId=Vt;const Yt=Symbol("nodeName");ct.$nodeName=Yt;const Zt=Symbol();ct.$nsAttributes=Zt;const Qt=Symbol();ct.$onChild=Qt;const en=Symbol();ct.$onChildCheck=en;const rn=Symbol();ct.$onText=rn;const an=Symbol();ct.$pushGlyphs=an;const fn=Symbol();ct.$popPara=fn;const un=Symbol();ct.$pushPara=un;const pn=Symbol();ct.$removeChild=pn;const yn=Symbol("root");ct.$root=yn;const On=Symbol();ct.$resolvePrototypes=On;const En=Symbol();ct.$searchNode=En;const An=Symbol();ct.$setId=An;const Cn=Symbol();ct.$setSetAttributes=Cn;const gn=Symbol();ct.$setValue=gn;const hn=Symbol();ct.$tabIndex=hn;const on=Symbol();ct.$text=on;const Dn=Symbol();ct.$toPages=Dn;const Xn=Symbol();ct.$toHTML=Xn;const er=Symbol();ct.$toString=er;const Sn=Symbol();ct.$toStyle=Sn;const xn=Symbol("uid");ct.$uid=xn;const cn=Symbol(),qn=Symbol(),Vn=Symbol(),Gn=Symbol("_children"),lr=Symbol(),$n=Symbol(),tr=Symbol(),pr=Symbol(),jn=Symbol(),ur=Symbol(),rr=Symbol(),Tr=Symbol(),br=Symbol(),yr=Symbol("parent"),cr=Symbol(),Jr=Symbol(),Vr=Symbol();let Un=0;const Mn=wt.NamespaceIds.datasets.id;class zn{constructor(mn,Fn,Bn=!1){this[Vt]=mn,this[Yt]=Fn,this[rr]=Bn,this[yr]=null,this[Gn]=[],this[xn]=`${Fn}${Un++}`,this[xt]=null}[Qt](mn){if(!this[rr]||!this[en](mn))return!1;const Fn=mn[Yt],Bn=this[Fn];if(Bn instanceof Wn){if(Bn.push(mn))return this[$](mn),!0}else return Bn!==null&&this[pn](Bn),this[Fn]=mn,this[$](mn),!0;let Nn="";return this.id?Nn=` (id: ${this.id})`:this.name&&(Nn=` (name: ${this.name} ${this.h.value})`),(0,st.warn)(`XFA - node "${this[Yt]}"${Nn} has already enough "${Fn}"!`),!1}[en](mn){return this.hasOwnProperty(mn[Yt])&&mn[Vt]===this[Vt]}[Ot](){return!1}[gt](){return!1}[Lt](){return!1}[It](){return!1}[fn](){this.para&&this[Ht]()[nt].paraStack.pop()}[un](){this[Ht]()[nt].paraStack.push(this.para)}[An](mn){this.id&&this[Vt]===wt.NamespaceIds.template.id&&mn.set(this.id,this)}[Ht](){return this[xt].template}[Xt](){return!1}[Ut](){return!1}[$](mn){mn[yr]=this,this[Gn].push(mn),!mn[xt]&&this[xt]&&(mn[xt]=this[xt])}[pn](mn){const Fn=this[Gn].indexOf(mn);this[Gn].splice(Fn,1)}[rt](){return this.hasOwnProperty("value")}[gn](mn){}[rn](mn){}[pt](){}[j](mn){delete this[rr],this[o]&&(mn.clean(this[o]),delete this[o])}[Mt](mn){return this[Gn].indexOf(mn)}[_t](mn,Fn){Fn[yr]=this,this[Gn].splice(mn,0,Fn),!Fn[xt]&&this[xt]&&(Fn[xt]=this[xt])}[Gt](){return!this.name}[Kt](){return""}[on](){return this[Gn].length===0?this[b]:this[Gn].map(mn=>mn[on]()).join("")}get[Vn](){const mn=Object.getPrototypeOf(this);if(!mn._attributes){const Fn=mn._attributes=new Set;for(const Bn of Object.getOwnPropertyNames(this)){if(this[Bn]===null||this[Bn]instanceof zn||this[Bn]instanceof Wn)break;Fn.add(Bn)}}return(0,st.shadow)(this,Vn,mn._attributes)}[jt](mn){let Fn=this;for(;Fn;){if(Fn===mn)return!0;Fn=Fn[Nt]()}return!1}[Nt](){return this[yr]}[At](){return this[Nt]()}[ht](mn=null){return mn?this[mn]:this[Gn]}[et](){const mn=Object.create(null);this[b]&&(mn.$content=this[b]);for(const Fn of Object.getOwnPropertyNames(this)){const Bn=this[Fn];Bn!==null&&(Bn instanceof zn?mn[Fn]=Bn[et]():Bn instanceof Wn?Bn.isEmpty()||(mn[Fn]=Bn.dump()):mn[Fn]=Bn)}return mn}[Sn](){return null}[Xn](){return s.HTMLResult.EMPTY}*[vt](){for(const mn of this[ht]())yield mn}*[pr](mn,Fn){for(const Bn of this[vt]())if(!mn||Fn===mn.has(Bn[Yt])){const Nn=this[Ft](),nr=Bn[Xn](Nn);nr.success||(this[nt].failingNode=Bn),yield nr}}[Bt](){return null}[_](mn,Fn){this[nt].children.push(mn)}[Ft](){}[d]({filter:mn=null,include:Fn=!0}){if(!this[nt].generator)this[nt].generator=this[pr](mn,Fn);else{const Bn=this[Ft](),Nn=this[nt].failingNode[Xn](Bn);if(!Nn.success)return Nn;Nn.html&&this[_](Nn.html,Nn.bbox),delete this[nt].failingNode}for(;;){const Bn=this[nt].generator.next();if(Bn.done)break;const Nn=Bn.value;if(!Nn.success)return Nn;Nn.html&&this[_](Nn.html,Nn.bbox)}return this[nt].generator=null,s.HTMLResult.EMPTY}[Cn](mn){this[Jr]=new Set(Object.keys(mn))}[ur](mn){const Fn=this[Vn],Bn=this[Jr];return[...mn].filter(Nn=>Fn.has(Nn)&&!Bn.has(Nn))}[On](mn,Fn=new Set){for(const Bn of this[Gn])Bn[cr](mn,Fn)}[cr](mn,Fn){const Bn=this[jn](mn,Fn);Bn?this[cn](Bn,mn,Fn):this[On](mn,Fn)}[jn](mn,Fn){const{use:Bn,usehref:Nn}=this;if(!Bn&&!Nn)return null;let nr=null,Ar=null,Gr=null,Sr=Bn;if(Nn?(Sr=Nn,Nn.startsWith("#som(")&&Nn.endsWith(")")?Ar=Nn.slice(5,Nn.length-1):Nn.startsWith(".#som(")&&Nn.endsWith(")")?Ar=Nn.slice(6,Nn.length-1):Nn.startsWith("#")?Gr=Nn.slice(1):Nn.startsWith(".#")&&(Gr=Nn.slice(2))):Bn.startsWith("#")?Gr=Bn.slice(1):Ar=Bn,this.use=this.usehref="",Gr?nr=mn.get(Gr):(nr=(0,e.searchNode)(mn.get(yn),this,Ar,!0,!1),nr&&(nr=nr[0])),!nr)return(0,st.warn)(`XFA - Invalid prototype reference: ${Sr}.`),null;if(nr[Yt]!==this[Yt])return(0,st.warn)(`XFA - Incompatible prototype: ${nr[Yt]} !== ${this[Yt]}.`),null;if(Fn.has(nr))return(0,st.warn)("XFA - Cycle detected in prototypes use."),null;Fn.add(nr);const Er=nr[jn](mn,Fn);return Er&&nr[cn](Er,mn,Fn),nr[On](mn,Fn),Fn.delete(nr),nr}[cn](mn,Fn,Bn){if(Bn.has(mn)){(0,st.warn)("XFA - Cycle detected in prototypes use.");return}!this[b]&&mn[b]&&(this[b]=mn[b]),new Set(Bn).add(mn);for(const nr of this[ur](mn[Jr]))this[nr]=mn[nr],this[Jr]&&this[Jr].add(nr);for(const nr of Object.getOwnPropertyNames(this)){if(this[Vn].has(nr))continue;const Ar=this[nr],Gr=mn[nr];if(Ar instanceof Wn){for(const Sr of Ar[Gn])Sr[cr](Fn,Bn);for(let Sr=Ar[Gn].length,Er=Gr[Gn].length;Sr<Er;Sr++){const Wr=mn[Gn][Sr][ut]();if(Ar.push(Wr))Wr[yr]=this,this[Gn].push(Wr),Wr[cr](Fn,Bn);else break}continue}if(Ar!==null){Ar[On](Fn,Bn),Gr&&Ar[cn](Gr,Fn,Bn);continue}if(Gr!==null){const Sr=Gr[ut]();Sr[yr]=this,this[nr]=Sr,this[Gn].push(Sr),Sr[cr](Fn,Bn)}}}static[lr](mn){return Array.isArray(mn)?mn.map(Fn=>zn[lr](Fn)):typeof mn=="object"&&mn!==null?Object.assign({},mn):mn}[ut](){const mn=Object.create(Object.getPrototypeOf(this));for(const Fn of Object.getOwnPropertySymbols(this))try{mn[Fn]=this[Fn]}catch{(0,st.shadow)(mn,Fn,this[Fn])}mn[xn]=`${mn[Yt]}${Un++}`,mn[Gn]=[];for(const Fn of Object.getOwnPropertyNames(this)){if(this[Vn].has(Fn)){mn[Fn]=zn[lr](this[Fn]);continue}const Bn=this[Fn];Bn instanceof Wn?mn[Fn]=new Wn(Bn[Tr]):mn[Fn]=null}for(const Fn of this[Gn]){const Bn=Fn[Yt],Nn=Fn[ut]();mn[Gn].push(Nn),Nn[yr]=mn,mn[Bn]===null?mn[Bn]=Nn:mn[Bn][Gn].push(Nn)}return mn}[ht](mn=null){return mn?this[Gn].filter(Fn=>Fn[Yt]===mn):this[Gn]}[lt](mn){return this[mn]}[ft](mn,Fn,Bn=!0){return Array.from(this[it](mn,Fn,Bn))}*[it](mn,Fn,Bn=!0){if(mn==="parent"){yield this[yr];return}for(const Nn of this[Gn])Nn[Yt]===mn&&(yield Nn),Nn.name===mn&&(yield Nn),(Fn||Nn[Gt]())&&(yield*Nn[it](mn,Fn,!1));Bn&&this[Vn].has(mn)&&(yield new sr(this,mn,this[mn]))}}ct.XFAObject=zn;class Wn{constructor(mn=1/0){this[Tr]=mn,this[Gn]=[]}push(mn){return this[Gn].length<=this[Tr]?(this[Gn].push(mn),!0):((0,st.warn)(`XFA - node "${mn[Yt]}" accepts no more than ${this[Tr]} children`),!1)}isEmpty(){return this[Gn].length===0}dump(){return this[Gn].length===1?this[Gn][0][et]():this[Gn].map(mn=>mn[et]())}[ut](){const mn=new Wn(this[Tr]);return mn[Gn]=this[Gn].map(Fn=>Fn[ut]()),mn}get children(){return this[Gn]}clear(){this[Gn].length=0}}ct.XFAObjectArray=Wn;class sr{constructor(mn,Fn,Bn){this[yr]=mn,this[Yt]=Fn,this[b]=Bn,this[dt]=!1,this[xn]=`attribute${Un++}`}[Nt](){return this[yr]}[Dt](){return!0}[at](){return this[b].trim()}[gn](mn){mn=mn.value||"",this[b]=mn.toString()}[on](){return this[b]}[jt](mn){return this[yr]===mn||this[yr][jt](mn)}}ct.XFAAttribute=sr;class gr extends zn{constructor(mn,Fn,Bn={}){if(super(mn,Fn),this[b]="",this[$n]=null,Fn!=="#text"){const Nn=new Map;this[qn]=Nn;for(const[nr,Ar]of Object.entries(Bn))Nn.set(nr,new sr(this,nr,Ar));if(Bn.hasOwnProperty(Zt)){const nr=Bn[Zt].xfa.dataNode;nr!==void 0&&(nr==="dataGroup"?this[$n]=!1:nr==="dataValue"&&(this[$n]=!0))}}this[dt]=!1}[er](mn){const Fn=this[Yt];if(Fn==="#text"){mn.push((0,Tt.encodeToXmlString)(this[b]));return}const Bn=(0,st.utf8StringToString)(Fn),Nn=this[Vt]===Mn?"xfa:":"";mn.push(`<${Nn}${Bn}`);for(const[nr,Ar]of this[qn].entries()){const Gr=(0,st.utf8StringToString)(nr);mn.push(` ${Gr}="${(0,Tt.encodeToXmlString)(Ar[b])}"`)}if(this[$n]!==null&&(this[$n]?mn.push(' xfa:dataNode="dataValue"'):mn.push(' xfa:dataNode="dataGroup"')),!this[b]&&this[Gn].length===0){mn.push("/>");return}if(mn.push(">"),this[b])typeof this[b]=="string"?mn.push((0,Tt.encodeToXmlString)(this[b])):this[b][er](mn);else for(const nr of this[Gn])nr[er](mn);mn.push(`</${Nn}${Bn}>`)}[Qt](mn){if(this[b]){const Fn=new gr(this[Vt],"#text");this[$](Fn),Fn[b]=this[b],this[b]=""}return this[$](mn),!0}[rn](mn){this[b]+=mn}[pt](){if(this[b]&&this[Gn].length>0){const mn=new gr(this[Vt],"#text");this[$](mn),mn[b]=this[b],delete this[b]}}[Xn](){return this[Yt]==="#text"?s.HTMLResult.success({name:"#text",value:this[b]}):s.HTMLResult.EMPTY}[ht](mn=null){return mn?this[Gn].filter(Fn=>Fn[Yt]===mn):this[Gn]}[Rt](){return this[qn]}[lt](mn){const Fn=this[qn].get(mn);return Fn!==void 0?Fn:this[ht](mn)}*[it](mn,Fn){const Bn=this[qn].get(mn);Bn&&(yield Bn);for(const Nn of this[Gn])Nn[Yt]===mn&&(yield Nn),Fn&&(yield*Nn[it](mn,Fn))}*[Pt](mn,Fn){const Bn=this[qn].get(mn);Bn&&(!Fn||!Bn[dt])&&(yield Bn);for(const Nn of this[Gn])yield*Nn[Pt](mn,Fn)}*[St](mn,Fn,Bn){for(const Nn of this[Gn])Nn[Yt]===mn&&(!Bn||!Nn[dt])&&(yield Nn),Fn&&(yield*Nn[St](mn,Fn,Bn))}[Dt](){return this[$n]===null?this[Gn].length===0||this[Gn][0][Vt]===wt.NamespaceIds.xhtml.id:this[$n]}[at](){return this[$n]===null?this[Gn].length===0?this[b].trim():this[Gn][0][Vt]===wt.NamespaceIds.xhtml.id?this[Gn][0][on]().trim():null:this[b].trim()}[gn](mn){mn=mn.value||"",this[b]=mn.toString()}[et](mn=!1){const Fn=Object.create(null);mn&&(Fn.$ns=this[Vt]),this[b]&&(Fn.$content=this[b]),Fn.$name=this[Yt],Fn.children=[];for(const Bn of this[Gn])Fn.children.push(Bn[et](mn));Fn.attributes=Object.create(null);for(const[Bn,Nn]of this[qn])Fn.attributes[Bn]=Nn[b];return Fn}}ct.XmlObject=gr;class ir extends zn{constructor(mn,Fn){super(mn,Fn),this[b]=""}[rn](mn){this[b]+=mn}[pt](){}}ct.ContentObject=ir;class Jn extends ir{constructor(mn,Fn,Bn){super(mn,Fn),this[br]=Bn}[pt](){this[b]=(0,s.getKeyword)({data:this[b],defaultValue:this[br][0],validate:mn=>this[br].includes(mn)})}[j](mn){super[j](mn),delete this[br]}}ct.OptionObject=Jn;class or extends ir{[pt](){this[b]=this[b].trim()}}ct.StringObject=or;class hr extends ir{constructor(mn,Fn,Bn,Nn){super(mn,Fn),this[tr]=Bn,this[Vr]=Nn}[pt](){this[b]=(0,s.getInteger)({data:this[b],defaultValue:this[tr],validate:this[Vr]})}[j](mn){super[j](mn),delete this[tr],delete this[Vr]}}ct.IntegerObject=hr;class kr extends hr{constructor(mn,Fn){super(mn,Fn,0,Bn=>Bn===1)}}ct.Option01=kr;class _r extends hr{constructor(mn,Fn){super(mn,Fn,1,Bn=>Bn===0)}}ct.Option10=_r},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.HTMLResult=void 0,ct.getBBox=ut,ct.getColor=o,ct.getFloat=gt,ct.getInteger=e,ct.getKeyword=_,ct.getMeasurement=d,ct.getRatio=j,ct.getRelevant=g,ct.getStringOption=$,ct.stripQuotes=wt;var s=Et(2);const st={pt:b=>b,cm:b=>b/2.54*72,mm:b=>b/(10*2.54)*72,in:b=>b*72,px:b=>b},Tt=/([+-]?\d+\.?\d*)(.*)/;function wt(b){return b.startsWith("'")||b.startsWith('"')?b.slice(1,b.length-1):b}function e({data:b,defaultValue:h,validate:et}){if(!b)return h;b=b.trim();const nt=parseInt(b,10);return!isNaN(nt)&&et(nt)?nt:h}function gt({data:b,defaultValue:h,validate:et}){if(!b)return h;b=b.trim();const nt=parseFloat(b);return!isNaN(nt)&&et(nt)?nt:h}function _({data:b,defaultValue:h,validate:et}){return b?(b=b.trim(),et(b)?b:h):h}function $(b,h){return _({data:b,defaultValue:h[0],validate:et=>h.includes(et)})}function d(b,h="0"){if(h=h||"0",!b)return d(h);const et=b.trim().match(Tt);if(!et)return d(h);const[,nt,pt]=et,Bt=parseFloat(nt);if(isNaN(Bt))return d(h);if(Bt===0)return 0;const Pt=st[pt];return Pt?Pt(Bt):Bt}function j(b){if(!b)return{num:1,den:1};const h=b.trim().split(/\s*:\s*/).map(pt=>parseFloat(pt)).filter(pt=>!isNaN(pt));if(h.length===1&&h.push(1),h.length===0)return{num:1,den:1};const[et,nt]=h;return{num:et,den:nt}}function g(b){return b?b.trim().split(/\s+/).map(h=>({excluded:h[0]==="-",viewname:h.substring(1)})):[]}function o(b,h=[0,0,0]){let[et,nt,pt]=h;if(!b)return{r:et,g:nt,b:pt};const Bt=b.trim().split(/\s*,\s*/).map(Pt=>Math.min(Math.max(0,parseInt(Pt.trim(),10)),255)).map(Pt=>isNaN(Pt)?0:Pt);return Bt.length<3?{r:et,g:nt,b:pt}:([et,nt,pt]=Bt,{r:et,g:nt,b:pt})}function ut(b){if(!b)return{x:-1,y:-1,width:-1,height:-1};const et=b.trim().split(/\s*,\s*/).map(Rt=>d(Rt,"-1"));if(et.length<4||et[2]<0||et[3]<0)return{x:-1,y:-1,width:-1,height:-1};const[nt,pt,Bt,Pt]=et;return{x:nt,y:pt,width:Bt,height:Pt}}class dt{static get FAILURE(){return(0,s.shadow)(this,"FAILURE",new dt(!1,null,null,null))}static get EMPTY(){return(0,s.shadow)(this,"EMPTY",new dt(!0,null,null,null))}constructor(h,et,nt,pt){this.success=h,this.html=et,this.bbox=nt,this.breakNode=pt}isBreak(){return!!this.breakNode}static breakNode(h){return new dt(!1,null,null,h)}static success(h,et=null){return new dt(!0,h,et,null)}}ct.HTMLResult=dt},(zt,ct)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.NamespaceIds=ct.$buildXFAObject=void 0;const Et=Symbol();ct.$buildXFAObject=Et;const s={config:{id:0,check:st=>st.startsWith("http://www.xfa.org/schema/xci/")},connectionSet:{id:1,check:st=>st.startsWith("http://www.xfa.org/schema/xfa-connection-set/")},datasets:{id:2,check:st=>st.startsWith("http://www.xfa.org/schema/xfa-data/")},form:{id:3,check:st=>st.startsWith("http://www.xfa.org/schema/xfa-form/")},localeSet:{id:4,check:st=>st.startsWith("http://www.xfa.org/schema/xfa-locale-set/")},pdf:{id:5,check:st=>st==="http://ns.adobe.com/xdp/pdf/"},signature:{id:6,check:st=>st==="http://www.w3.org/2000/09/xmldsig#"},sourceSet:{id:7,check:st=>st.startsWith("http://www.xfa.org/schema/xfa-source-set/")},stylesheet:{id:8,check:st=>st==="http://www.w3.org/1999/XSL/Transform"},template:{id:9,check:st=>st.startsWith("http://www.xfa.org/schema/xfa-template/")},xdc:{id:10,check:st=>st.startsWith("http://www.xfa.org/schema/xdc/")},xdp:{id:11,check:st=>st==="http://ns.adobe.com/xdp/"},xfdf:{id:12,check:st=>st==="http://ns.adobe.com/xfdf/"},xhtml:{id:13,check:st=>st==="http://www.w3.org/1999/xhtml"},xmpmeta:{id:14,check:st=>st==="http://ns.adobe.com/xmpmeta/"}};ct.NamespaceIds=s},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.createDataNode=dt,ct.searchNode=o;var s=Et(77),st=Et(79),Tt=Et(2);const wt=/^[^.[]+/,e=/^[^\]]+/,gt={dot:0,dotDot:1,dotHash:2,dotBracket:3,dotParen:4},_=new Map([["$data",(b,h)=>b.datasets?b.datasets.data:b],["$record",(b,h)=>(b.datasets?b.datasets.data:b)[s.$getChildren]()[0]],["$template",(b,h)=>b.template],["$connectionSet",(b,h)=>b.connectionSet],["$form",(b,h)=>b.form],["$layout",(b,h)=>b.layout],["$host",(b,h)=>b.host],["$dataWindow",(b,h)=>b.dataWindow],["$event",(b,h)=>b.event],["!",(b,h)=>b.datasets],["$xfa",(b,h)=>b],["xfa",(b,h)=>b],["$",(b,h)=>h]]),$=new WeakMap,d=st.NamespaceIds.datasets.id;function j(b){return b=b.trim(),b==="*"?1/0:parseInt(b,10)||0}function g(b,h,et=!0){let nt=b.match(wt);if(!nt)return null;let[pt]=nt;const Bt=[{name:pt,cacheName:"."+pt,index:0,js:null,formCalc:null,operator:gt.dot}];let Pt=pt.length;for(;Pt<b.length;){const Rt=Pt;if(b.charAt(Pt++)==="["){if(nt=b.slice(Pt).match(e),!nt)return(0,Tt.warn)("XFA - Invalid index in SOM expression"),null;Bt.at(-1).index=j(nt[0]),Pt+=nt[0].length+1;continue}let lt;switch(b.charAt(Pt)){case".":if(!h)return null;Pt++,lt=gt.dotDot;break;case"#":Pt++,lt=gt.dotHash;break;case"[":if(et)return(0,Tt.warn)("XFA - SOM expression contains a FormCalc subexpression which is not supported for now."),null;lt=gt.dotBracket;break;case"(":if(et)return(0,Tt.warn)("XFA - SOM expression contains a JavaScript subexpression which is not supported for now."),null;lt=gt.dotParen;break;default:lt=gt.dot;break}if(nt=b.slice(Pt).match(wt),!nt)break;[pt]=nt,Pt+=pt.length,Bt.push({name:pt,cacheName:b.slice(Rt,Pt),operator:lt,index:0,js:null,formCalc:null})}return Bt}function o(b,h,et,nt=!0,pt=!0){const Bt=g(et,nt);if(!Bt)return null;const Pt=_.get(Bt[0].name);let Rt=0,Ft;Pt?(Ft=!0,b=[Pt(b,h)],Rt=1):(Ft=h===null,b=[h||b]);for(let lt=Bt.length;Rt<lt;Rt++){const{name:ft,cacheName:it,operator:at,index:bt}=Bt[Rt],St=[];for(const ht of b){if(!(ht instanceof s.XFAObject))continue;let vt,yt;if(pt&&(yt=$.get(ht),yt||(yt=new Map,$.set(ht,yt)),vt=yt.get(it)),!vt){switch(at){case gt.dot:vt=ht[s.$getChildrenByName](ft,!1);break;case gt.dotDot:vt=ht[s.$getChildrenByName](ft,!0);break;case gt.dotHash:vt=ht[s.$getChildrenByClass](ft),vt instanceof s.XFAObjectArray?vt=vt.children:vt=[vt];break}pt&&yt.set(it,vt)}vt.length>0&&St.push(vt)}if(St.length===0&&!Ft&&Rt===0){if(h=h[s.$getParent](),!h)return null;Rt=-1,b=[h];continue}isFinite(bt)?b=St.filter(ht=>bt<ht.length).map(ht=>ht[bt]):b=St.flat()}return b.length===0?null:b}function ut(b,h){let et=null;for(const{name:nt,index:pt}of h){for(let Bt=0,Pt=isFinite(pt)?pt:0;Bt<=Pt;Bt++){const Rt=b[s.$namespaceId]===d?-1:b[s.$namespaceId];et=new s.XmlObject(Rt,nt),b[s.$appendChild](et)}b=et}return et}function dt(b,h,et){const nt=g(et);if(!nt||nt.some(Pt=>Pt.operator===gt.dotDot))return null;const pt=_.get(nt[0].name);let Bt=0;pt?(b=pt(b,h),Bt=1):b=h||b;for(let Pt=nt.length;Bt<Pt;Bt++){const{name:Rt,operator:Ft,index:lt}=nt[Bt];if(!isFinite(lt))return nt[Bt].index=0,ut(b,nt.slice(Bt));let ft;switch(Ft){case gt.dot:ft=b[s.$getChildrenByName](Rt,!1);break;case gt.dotDot:ft=b[s.$getChildrenByName](Rt,!0);break;case gt.dotHash:ft=b[s.$getChildrenByClass](Rt),ft instanceof s.XFAObjectArray?ft=ft.children:ft=[ft];break}if(ft.length===0)return ut(b,nt.slice(Bt));if(lt<ft.length){const it=ft[lt];if(!(it instanceof s.XFAObject))return(0,Tt.warn)("XFA - Cannot create a node."),null;b=it}else return nt[Bt].index=lt-ft.length,ut(b,nt.slice(Bt))}return null}},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.Binder=void 0;var s=Et(77),st=Et(82),Tt=Et(80),wt=Et(79),e=Et(2);const gt=wt.NamespaceIds.datasets.id;function _(d){const j=new st.Text({});return j[s.$content]=d,j}class ${constructor(j){this.root=j,this.datasets=j.datasets,j.datasets&&j.datasets.data?this.data=j.datasets.data:this.data=new s.XmlObject(wt.NamespaceIds.datasets.id,"data"),this.emptyMerge=this.data[s.$getChildren]().length===0,this.root.form=this.form=j.template[s.$clone]()}_isConsumeData(){return!this.emptyMerge&&this._mergeMode}_isMatchTemplate(){return!this._isConsumeData()}bind(){return this._bindElement(this.form,this.data),this.form}getData(){return this.data}_bindValue(j,g,o){if(j[s.$data]=g,j[s.$hasSettableValue]())if(g[s.$isDataValue]()){const ut=g[s.$getDataValue]();j[s.$setValue](_(ut))}else if(j instanceof st.Field&&j.ui&&j.ui.choiceList&&j.ui.choiceList.open==="multiSelect"){const ut=g[s.$getChildren]().map(dt=>dt[s.$content].trim()).join(`
`);j[s.$setValue](_(ut))}else this._isConsumeData()&&(0,e.warn)("XFA - Nodes haven't the same type.");else!g[s.$isDataValue]()||this._isMatchTemplate()?this._bindElement(j,g):(0,e.warn)("XFA - Nodes haven't the same type.")}_findDataByNameToConsume(j,g,o,ut){if(!j)return null;let dt,b;for(let h=0;h<3;h++){for(dt=o[s.$getRealChildrenByNameIt](j,!1,!0);b=dt.next().value,!!b;)if(g===b[s.$isDataValue]())return b;if(o[s.$namespaceId]===wt.NamespaceIds.datasets.id&&o[s.$nodeName]==="data")break;o=o[s.$getParent]()}return ut?(dt=this.data[s.$getRealChildrenByNameIt](j,!0,!1),b=dt.next().value,b||(dt=this.data[s.$getAttributeIt](j,!0),b=dt.next().value,b&&b[s.$isDataValue]())?b:null):null}_setProperties(j,g){if(j.hasOwnProperty("setProperty"))for(const{ref:o,target:ut,connection:dt}of j.setProperty.children){if(dt||!o)continue;const b=(0,Tt.searchNode)(this.root,g,o,!1,!1);if(!b){(0,e.warn)(`XFA - Invalid reference: ${o}.`);continue}const[h]=b;if(!h[s.$isDescendent](this.data)){(0,e.warn)("XFA - Invalid node: must be a data node.");continue}const et=(0,Tt.searchNode)(this.root,j,ut,!1,!1);if(!et){(0,e.warn)(`XFA - Invalid target: ${ut}.`);continue}const[nt]=et;if(!nt[s.$isDescendent](j)){(0,e.warn)("XFA - Invalid target: must be a property or subproperty.");continue}const pt=nt[s.$getParent]();if(nt instanceof st.SetProperty||pt instanceof st.SetProperty){(0,e.warn)("XFA - Invalid target: cannot be a setProperty or one of its properties.");continue}if(nt instanceof st.BindItems||pt instanceof st.BindItems){(0,e.warn)("XFA - Invalid target: cannot be a bindItems or one of its properties.");continue}const Bt=h[s.$text](),Pt=nt[s.$nodeName];if(nt instanceof s.XFAAttribute){const Rt=Object.create(null);Rt[Pt]=Bt;const Ft=Reflect.construct(Object.getPrototypeOf(pt).constructor,[Rt]);pt[Pt]=Ft[Pt];continue}if(!nt.hasOwnProperty(s.$content)){(0,e.warn)("XFA - Invalid node to use in setProperty");continue}nt[s.$data]=h,nt[s.$content]=Bt,nt[s.$finalize]()}}_bindItems(j,g){if(!j.hasOwnProperty("items")||!j.hasOwnProperty("bindItems")||j.bindItems.isEmpty())return;for(const dt of j.items.children)j[s.$removeChild](dt);j.items.clear();const o=new st.Items({}),ut=new st.Items({});j[s.$appendChild](o),j.items.push(o),j[s.$appendChild](ut),j.items.push(ut);for(const{ref:dt,labelRef:b,valueRef:h,connection:et}of j.bindItems.children){if(et||!dt)continue;const nt=(0,Tt.searchNode)(this.root,g,dt,!1,!1);if(!nt){(0,e.warn)(`XFA - Invalid reference: ${dt}.`);continue}for(const pt of nt){if(!pt[s.$isDescendent](this.datasets)){(0,e.warn)(`XFA - Invalid ref (${dt}): must be a datasets child.`);continue}const Bt=(0,Tt.searchNode)(this.root,pt,b,!0,!1);if(!Bt){(0,e.warn)(`XFA - Invalid label: ${b}.`);continue}const[Pt]=Bt;if(!Pt[s.$isDescendent](this.datasets)){(0,e.warn)("XFA - Invalid label: must be a datasets child.");continue}const Rt=(0,Tt.searchNode)(this.root,pt,h,!0,!1);if(!Rt){(0,e.warn)(`XFA - Invalid value: ${h}.`);continue}const[Ft]=Rt;if(!Ft[s.$isDescendent](this.datasets)){(0,e.warn)("XFA - Invalid value: must be a datasets child.");continue}const lt=_(Pt[s.$text]()),ft=_(Ft[s.$text]());o[s.$appendChild](lt),o.text.push(lt),ut[s.$appendChild](ft),ut.text.push(ft)}}}_bindOccurrences(j,g,o){let ut;if(g.length>1&&(ut=j[s.$clone](),ut[s.$removeChild](ut.occur),ut.occur=null),this._bindValue(j,g[0],o),this._setProperties(j,g[0]),this._bindItems(j,g[0]),g.length===1)return;const dt=j[s.$getParent](),b=j[s.$nodeName],h=dt[s.$indexOf](j);for(let et=1,nt=g.length;et<nt;et++){const pt=g[et],Bt=ut[s.$clone]();dt[b].push(Bt),dt[s.$insertAt](h+et,Bt),this._bindValue(Bt,pt,o),this._setProperties(Bt,pt),this._bindItems(Bt,pt)}}_createOccurrences(j){if(!this.emptyMerge)return;const{occur:g}=j;if(!g||g.initial<=1)return;const o=j[s.$getParent](),ut=j[s.$nodeName];if(!(o[ut]instanceof s.XFAObjectArray))return;let dt;j.name?dt=o[ut].children.filter(et=>et.name===j.name).length:dt=o[ut].children.length;const b=o[s.$indexOf](j)+1,h=g.initial-dt;if(h){const et=j[s.$clone]();et[s.$removeChild](et.occur),et.occur=null,o[ut].push(et),o[s.$insertAt](b,et);for(let nt=1;nt<h;nt++){const pt=et[s.$clone]();o[ut].push(pt),o[s.$insertAt](b+nt,pt)}}}_getOccurInfo(j){const{name:g,occur:o}=j;if(!o||!g)return[1,1];const ut=o.max===-1?1/0:o.max;return[o.min,ut]}_setAndBind(j,g){this._setProperties(j,g),this._bindItems(j,g),this._bindElement(j,g)}_bindElement(j,g){const o=[];this._createOccurrences(j);for(const ut of j[s.$getChildren]()){if(ut[s.$data])continue;if(this._mergeMode===void 0&&ut[s.$nodeName]==="subform"){this._mergeMode=ut.mergeMode==="consumeData";const Bt=g[s.$getChildren]();if(Bt.length>0)this._bindOccurrences(ut,[Bt[0]],null);else if(this.emptyMerge){const Pt=g[s.$namespaceId]===gt?-1:g[s.$namespaceId],Rt=ut[s.$data]=new s.XmlObject(Pt,ut.name||"root");g[s.$appendChild](Rt),this._bindElement(ut,Rt)}continue}if(!ut[s.$isBindable]())continue;let dt=!1,b=null,h=null,et=null;if(ut.bind){switch(ut.bind.match){case"none":this._setAndBind(ut,g);continue;case"global":dt=!0;break;case"dataRef":if(!ut.bind.ref){(0,e.warn)(`XFA - ref is empty in node ${ut[s.$nodeName]}.`),this._setAndBind(ut,g);continue}h=ut.bind.ref;break}ut.bind.picture&&(b=ut.bind.picture[s.$content])}const[nt,pt]=this._getOccurInfo(ut);if(h)if(et=(0,Tt.searchNode)(this.root,g,h,!0,!1),et===null){if(et=(0,Tt.createDataNode)(this.data,g,h),!et)continue;this._isConsumeData()&&(et[s.$consumed]=!0),this._setAndBind(ut,et);continue}else this._isConsumeData()&&(et=et.filter(Bt=>!Bt[s.$consumed])),et.length>pt?et=et.slice(0,pt):et.length===0&&(et=null),et&&this._isConsumeData()&&et.forEach(Bt=>{Bt[s.$consumed]=!0});else{if(!ut.name){this._setAndBind(ut,g);continue}if(this._isConsumeData()){const Bt=[];for(;Bt.length<pt;){const Pt=this._findDataByNameToConsume(ut.name,ut[s.$hasSettableValue](),g,dt);if(!Pt)break;Pt[s.$consumed]=!0,Bt.push(Pt)}et=Bt.length>0?Bt:null}else{if(et=g[s.$getRealChildrenByNameIt](ut.name,!1,this.emptyMerge).next().value,!et){if(nt===0){o.push(ut);continue}const Bt=g[s.$namespaceId]===gt?-1:g[s.$namespaceId];et=ut[s.$data]=new s.XmlObject(Bt,ut.name),this.emptyMerge&&(et[s.$consumed]=!0),g[s.$appendChild](et),this._setAndBind(ut,et);continue}this.emptyMerge&&(et[s.$consumed]=!0),et=[et]}}et?this._bindOccurrences(ut,et,b):nt>0?this._setAndBind(ut,g):o.push(ut)}o.forEach(ut=>ut[s.$getParent]()[s.$removeChild](ut))}}ct.Binder=$},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.Value=ct.Text=ct.TemplateNamespace=ct.Template=ct.SetProperty=ct.Items=ct.Field=ct.BindItems=void 0;var s=Et(77),st=Et(79),Tt=Et(83),wt=Et(84),e=Et(78),gt=Et(2),_=Et(85),$=Et(6),d=Et(80);const j=st.NamespaceIds.template.id,g="http://www.w3.org/2000/svg",o=2,ut=3,dt=5e3,b=/^H(\d+)$/,h=new Set(["image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/apng","image/x-png","image/bmp","image/x-ms-bmp","image/tiff","image/tif","application/octet-stream"]),et=[[[66,77],"image/bmp"],[[255,216,255],"image/jpeg"],[[73,73,42,0],"image/tiff"],[[77,77,0,42],"image/tiff"],[[71,73,70,56,57,97],"image/gif"],[[137,80,78,71,13,10,26,10],"image/png"]];function nt(Tn){if(!Tn||!Tn.border)return{w:0,h:0};const Ct=Tn.border[s.$getExtra]();return Ct?{w:Ct.widths[0]+Ct.widths[2]+Ct.insets[0]+Ct.insets[2],h:Ct.widths[1]+Ct.widths[3]+Ct.insets[1]+Ct.insets[3]}:{w:0,h:0}}function pt(Tn){return Tn.margin&&(Tn.margin.topInset||Tn.margin.rightInset||Tn.margin.bottomInset||Tn.margin.leftInset)}function Bt(Tn,Ct){if(!Tn.value){const Jt=new zs({});Tn[s.$appendChild](Jt),Tn.value=Jt}Tn.value[s.$setValue](Ct)}function*Pt(Tn){for(const Ct of Tn[s.$getChildren]()){if(Ct instanceof so){yield*Ct[s.$getContainedChildren]();continue}yield Ct}}function Rt(Tn){return Tn.validate&&Tn.validate.nullTest==="error"}function Ft(Tn){for(;Tn;){if(!Tn.traversal){Tn[s.$tabIndex]=Tn[s.$getParent]()[s.$tabIndex];return}if(Tn[s.$tabIndex])return;let Ct=null;for(const kn of Tn.traversal[s.$getChildren]())if(kn.operation==="next"){Ct=kn;break}if(!Ct||!Ct.ref){Tn[s.$tabIndex]=Tn[s.$getParent]()[s.$tabIndex];return}const Jt=Tn[s.$getTemplateRoot]();Tn[s.$tabIndex]=++Jt[s.$tabIndex];const vn=Jt[s.$searchNode](Ct.ref,Tn);if(!vn)return;Tn=vn[0]}}function lt(Tn,Ct){const Jt=Tn.assist;if(Jt){const vn=Jt[s.$toHTML]();vn&&(Ct.title=vn);const Kn=Jt.role.match(b);if(Kn){const mr="heading",fr=Kn[1];Ct.role=mr,Ct["aria-level"]=fr}}if(Tn.layout==="table")Ct.role="table";else if(Tn.layout==="row")Ct.role="row";else{const vn=Tn[s.$getParent]();vn.layout==="row"&&(vn.assist&&vn.assist.role==="TH"?Ct.role="columnheader":Ct.role="cell")}}function ft(Tn){if(!Tn.assist)return null;const Ct=Tn.assist;return Ct.speak&&Ct.speak[s.$content]!==""?Ct.speak[s.$content]:Ct.toolTip?Ct.toolTip[s.$content]:null}function it(Tn){return e.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:Object.create(null)},children:[{name:"span",attributes:{style:Object.create(null)},value:Tn}]})}function at(Tn){const Ct=Tn[s.$getTemplateRoot]();Ct[s.$extra].firstUnsplittable===null&&(Ct[s.$extra].firstUnsplittable=Tn,Ct[s.$extra].noLayoutFailure=!0)}function bt(Tn){const Ct=Tn[s.$getTemplateRoot]();Ct[s.$extra].firstUnsplittable===Tn&&(Ct[s.$extra].noLayoutFailure=!1)}function St(Tn){if(Tn[s.$extra]||(Tn[s.$extra]=Object.create(null),Tn.targetType==="auto"))return!1;const Ct=Tn[s.$getTemplateRoot]();let Jt=null;if(Tn.target){if(Jt=Ct[s.$searchNode](Tn.target,Tn[s.$getParent]()),!Jt)return!1;Jt=Jt[0]}const{currentPageArea:vn,currentContentArea:kn}=Ct[s.$extra];if(Tn.targetType==="pageArea")return Jt instanceof Nn||(Jt=null),Tn.startNew?(Tn[s.$extra].target=Jt||vn,!0):Jt&&Jt!==vn?(Tn[s.$extra].target=Jt,!0):!1;Jt instanceof Qt||(Jt=null);const Kn=Jt&&Jt[s.$getParent]();let mr,fr=Kn;if(Tn.startNew)if(Jt){const vr=Kn.contentArea.children,Pr=vr.indexOf(kn),$r=vr.indexOf(Jt);Pr!==-1&&Pr<$r&&(fr=null),mr=$r-1}else mr=vn.contentArea.children.indexOf(kn);else if(Jt&&Jt!==kn)mr=Kn.contentArea.children.indexOf(Jt)-1,fr=Kn===vn?null:Kn;else return!1;return Tn[s.$extra].target=fr,Tn[s.$extra].index=mr,!0}function ht(Tn,Ct,Jt){const vn=Tn[s.$getTemplateRoot](),kn=vn[s.$extra].noLayoutFailure,Kn=Ct[s.$getSubformParent];Ct[s.$getSubformParent]=()=>Tn,vn[s.$extra].noLayoutFailure=!0;const mr=Ct[s.$toHTML](Jt);Tn[s.$addHTML](mr.html,mr.bbox),vn[s.$extra].noLayoutFailure=kn,Ct[s.$getSubformParent]=Kn}class vt extends s.StringObject{constructor(Ct){super(j,"appearanceFilter"),this.id=Ct.id||"",this.type=(0,e.getStringOption)(Ct.type,["optional","required"]),this.use=Ct.use||"",this.usehref=Ct.usehref||""}}class yt extends s.XFAObject{constructor(Ct){super(j,"arc",!0),this.circular=(0,e.getInteger)({data:Ct.circular,defaultValue:0,validate:Jt=>Jt===1}),this.hand=(0,e.getStringOption)(Ct.hand,["even","left","right"]),this.id=Ct.id||"",this.startAngle=(0,e.getFloat)({data:Ct.startAngle,defaultValue:0,validate:Jt=>!0}),this.sweepAngle=(0,e.getFloat)({data:Ct.sweepAngle,defaultValue:360,validate:Jt=>!0}),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.edge=null,this.fill=null}[s.$toHTML](){const Ct=this.edge||new Cn({}),Jt=Ct[s.$toStyle](),vn=Object.create(null);this.fill&&this.fill.presence==="visible"?Object.assign(vn,this.fill[s.$toStyle]()):vn.fill="transparent",vn.strokeWidth=(0,wt.measureToString)(Ct.presence==="visible"?Ct.thickness:0),vn.stroke=Jt.color;let kn;const Kn={xmlns:g,style:{width:"100%",height:"100%",overflow:"visible"}};if(this.sweepAngle===360)kn={name:"ellipse",attributes:{xmlns:g,cx:"50%",cy:"50%",rx:"50%",ry:"50%",style:vn}};else{const vr=this.startAngle*Math.PI/180,Pr=this.sweepAngle*Math.PI/180,$r=this.sweepAngle>180?1:0,[Qr,Zr,Nr,_i]=[50*(1+Math.cos(vr)),50*(1-Math.sin(vr)),50*(1+Math.cos(vr+Pr)),50*(1-Math.sin(vr+Pr))];kn={name:"path",attributes:{xmlns:g,d:`M ${Qr} ${Zr} A 50 50 0 ${$r} 0 ${Nr} ${_i}`,vectorEffect:"non-scaling-stroke",style:vn}},Object.assign(Kn,{viewBox:"0 0 100 100",preserveAspectRatio:"none"})}const mr={name:"svg",children:[kn],attributes:Kn},fr=this[s.$getParent]()[s.$getParent]();return pt(fr)?e.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[mr]}):(mr.attributes.style.position="absolute",e.HTMLResult.success(mr))}}class At extends s.XFAObject{constructor(Ct){super(j,"area",!0),this.colSpan=(0,e.getInteger)({data:Ct.colSpan,defaultValue:1,validate:Jt=>Jt>=1||Jt===-1}),this.id=Ct.id||"",this.name=Ct.name||"",this.relevant=(0,e.getRelevant)(Ct.relevant),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.x=(0,e.getMeasurement)(Ct.x,"0pt"),this.y=(0,e.getMeasurement)(Ct.y,"0pt"),this.desc=null,this.extras=null,this.area=new s.XFAObjectArray,this.draw=new s.XFAObjectArray,this.exObject=new s.XFAObjectArray,this.exclGroup=new s.XFAObjectArray,this.field=new s.XFAObjectArray,this.subform=new s.XFAObjectArray,this.subformSet=new s.XFAObjectArray}*[s.$getContainedChildren](){yield*Pt(this)}[s.$isTransparent](){return!0}[s.$isBindable](){return!0}[s.$addHTML](Ct,Jt){const[vn,kn,Kn,mr]=Jt;this[s.$extra].width=Math.max(this[s.$extra].width,vn+Kn),this[s.$extra].height=Math.max(this[s.$extra].height,kn+mr),this[s.$extra].children.push(Ct)}[s.$getAvailableSpace](){return this[s.$extra].availableSpace}[s.$toHTML](Ct){const Jt=(0,wt.toStyle)(this,"position"),vn={style:Jt,id:this[s.$uid],class:["xfaArea"]};(0,wt.isPrintOnly)(this)&&vn.class.push("xfaPrintOnly"),this.name&&(vn.xfaName=this.name);const kn=[];this[s.$extra]={children:kn,width:0,height:0,availableSpace:Ct};const Kn=this[s.$childrenToHTML]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0});if(!Kn.success)return Kn.isBreak()?Kn:(delete this[s.$extra],e.HTMLResult.FAILURE);Jt.width=(0,wt.measureToString)(this[s.$extra].width),Jt.height=(0,wt.measureToString)(this[s.$extra].height);const mr={name:"div",attributes:vn,children:kn},fr=[this.x,this.y,this[s.$extra].width,this[s.$extra].height];return delete this[s.$extra],e.HTMLResult.success(mr,fr)}}class Nt extends s.XFAObject{constructor(Ct){super(j,"assist",!0),this.id=Ct.id||"",this.role=Ct.role||"",this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.speak=null,this.toolTip=null}[s.$toHTML](){return this.toolTip&&this.toolTip[s.$content]?this.toolTip[s.$content]:null}}class Ht extends s.XFAObject{constructor(Ct){super(j,"barcode",!0),this.charEncoding=(0,e.getKeyword)({data:Ct.charEncoding?Ct.charEncoding.toLowerCase():"",defaultValue:"",validate:Jt=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(Jt)||Jt.match(/iso-8859-\d{2}/)}),this.checksum=(0,e.getStringOption)(Ct.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),this.dataColumnCount=(0,e.getInteger)({data:Ct.dataColumnCount,defaultValue:-1,validate:Jt=>Jt>=0}),this.dataLength=(0,e.getInteger)({data:Ct.dataLength,defaultValue:-1,validate:Jt=>Jt>=0}),this.dataPrep=(0,e.getStringOption)(Ct.dataPrep,["none","flateCompress"]),this.dataRowCount=(0,e.getInteger)({data:Ct.dataRowCount,defaultValue:-1,validate:Jt=>Jt>=0}),this.endChar=Ct.endChar||"",this.errorCorrectionLevel=(0,e.getInteger)({data:Ct.errorCorrectionLevel,defaultValue:-1,validate:Jt=>Jt>=0&&Jt<=8}),this.id=Ct.id||"",this.moduleHeight=(0,e.getMeasurement)(Ct.moduleHeight,"5mm"),this.moduleWidth=(0,e.getMeasurement)(Ct.moduleWidth,"0.25mm"),this.printCheckDigit=(0,e.getInteger)({data:Ct.printCheckDigit,defaultValue:0,validate:Jt=>Jt===1}),this.rowColumnRatio=(0,e.getRatio)(Ct.rowColumnRatio),this.startChar=Ct.startChar||"",this.textLocation=(0,e.getStringOption)(Ct.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),this.truncate=(0,e.getInteger)({data:Ct.truncate,defaultValue:0,validate:Jt=>Jt===1}),this.type=(0,e.getStringOption)(Ct.type?Ct.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),this.upsMode=(0,e.getStringOption)(Ct.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.wideNarrowRatio=(0,e.getRatio)(Ct.wideNarrowRatio),this.encrypt=null,this.extras=null}}class xt extends s.XFAObject{constructor(Ct){super(j,"bind",!0),this.match=(0,e.getStringOption)(Ct.match,["once","dataRef","global","none"]),this.ref=Ct.ref||"",this.picture=null}}class rt extends s.XFAObject{constructor(Ct){super(j,"bindItems"),this.connection=Ct.connection||"",this.labelRef=Ct.labelRef||"",this.ref=Ct.ref||"",this.valueRef=Ct.valueRef||""}}ct.BindItems=rt;class mt extends s.XFAObject{constructor(Ct){super(j,"bookend"),this.id=Ct.id||"",this.leader=Ct.leader||"",this.trailer=Ct.trailer||"",this.use=Ct.use||"",this.usehref=Ct.usehref||""}}class Mt extends s.Option01{constructor(Ct){super(j,"boolean"),this.id=Ct.id||"",this.name=Ct.name||"",this.use=Ct.use||"",this.usehref=Ct.usehref||""}[s.$toHTML](Ct){return it(this[s.$content]===1?"1":"0")}}class _t extends s.XFAObject{constructor(Ct){super(j,"border",!0),this.break=(0,e.getStringOption)(Ct.break,["close","open"]),this.hand=(0,e.getStringOption)(Ct.hand,["even","left","right"]),this.id=Ct.id||"",this.presence=(0,e.getStringOption)(Ct.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,e.getRelevant)(Ct.relevant),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.corner=new s.XFAObjectArray(4),this.edge=new s.XFAObjectArray(4),this.extras=null,this.fill=null,this.margin=null}[s.$getExtra](){if(!this[s.$extra]){const Ct=this.edge.children.slice();if(Ct.length<4){const kn=Ct.at(-1)||new Cn({});for(let Kn=Ct.length;Kn<4;Kn++)Ct.push(kn)}const Jt=Ct.map(kn=>kn.thickness),vn=[0,0,0,0];this.margin&&(vn[0]=this.margin.topInset,vn[1]=this.margin.rightInset,vn[2]=this.margin.bottomInset,vn[3]=this.margin.leftInset),this[s.$extra]={widths:Jt,insets:vn,edges:Ct}}return this[s.$extra]}[s.$toStyle](){const{edges:Ct}=this[s.$getExtra](),Jt=Ct.map(kn=>{const Kn=kn[s.$toStyle]();return Kn.color=Kn.color||"#000000",Kn}),vn=Object.create(null);if(this.margin&&Object.assign(vn,this.margin[s.$toStyle]()),this.fill&&this.fill.presence==="visible"&&Object.assign(vn,this.fill[s.$toStyle]()),this.corner.children.some(kn=>kn.radius!==0)){const kn=this.corner.children.map(Kn=>Kn[s.$toStyle]());if(kn.length===2||kn.length===3){const Kn=kn.at(-1);for(let mr=kn.length;mr<4;mr++)kn.push(Kn)}vn.borderRadius=kn.map(Kn=>Kn.radius).join(" ")}switch(this.presence){case"invisible":case"hidden":vn.borderStyle="";break;case"inactive":vn.borderStyle="none";break;default:vn.borderStyle=Jt.map(kn=>kn.style).join(" ");break}return vn.borderWidth=Jt.map(kn=>kn.width).join(" "),vn.borderColor=Jt.map(kn=>kn.color).join(" "),vn}}class Lt extends s.XFAObject{constructor(Ct){super(j,"break",!0),this.after=(0,e.getStringOption)(Ct.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.afterTarget=Ct.afterTarget||"",this.before=(0,e.getStringOption)(Ct.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.beforeTarget=Ct.beforeTarget||"",this.bookendLeader=Ct.bookendLeader||"",this.bookendTrailer=Ct.bookendTrailer||"",this.id=Ct.id||"",this.overflowLeader=Ct.overflowLeader||"",this.overflowTarget=Ct.overflowTarget||"",this.overflowTrailer=Ct.overflowTrailer||"",this.startNew=(0,e.getInteger)({data:Ct.startNew,defaultValue:0,validate:Jt=>Jt===1}),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.extras=null}}class It extends s.XFAObject{constructor(Ct){super(j,"breakAfter",!0),this.id=Ct.id||"",this.leader=Ct.leader||"",this.startNew=(0,e.getInteger)({data:Ct.startNew,defaultValue:0,validate:Jt=>Jt===1}),this.target=Ct.target||"",this.targetType=(0,e.getStringOption)(Ct.targetType,["auto","contentArea","pageArea"]),this.trailer=Ct.trailer||"",this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.script=null}}class Dt extends s.XFAObject{constructor(Ct){super(j,"breakBefore",!0),this.id=Ct.id||"",this.leader=Ct.leader||"",this.startNew=(0,e.getInteger)({data:Ct.startNew,defaultValue:0,validate:Jt=>Jt===1}),this.target=Ct.target||"",this.targetType=(0,e.getStringOption)(Ct.targetType,["auto","contentArea","pageArea"]),this.trailer=Ct.trailer||"",this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.script=null}[s.$toHTML](Ct){return this[s.$extra]={},e.HTMLResult.FAILURE}}class jt extends s.XFAObject{constructor(Ct){super(j,"button",!0),this.highlight=(0,e.getStringOption)(Ct.highlight,["inverted","none","outline","push"]),this.id=Ct.id||"",this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.extras=null}[s.$toHTML](Ct){const vn=this[s.$getParent]()[s.$getParent](),kn={name:"button",attributes:{id:this[s.$uid],class:["xfaButton"],style:{}},children:[]};for(const Kn of vn.event.children){if(Kn.activity!=="click"||!Kn.script)continue;const mr=(0,$.recoverJsURL)(Kn.script[s.$content]);if(!mr)continue;const fr=(0,wt.fixURL)(mr.url);fr&&kn.children.push({name:"a",attributes:{id:"link"+this[s.$uid],href:fr,newWindow:mr.newWindow,class:["xfaLink"],style:{}},children:[]})}return e.HTMLResult.success(kn)}}class Ot extends s.XFAObject{constructor(Ct){super(j,"calculate",!0),this.id=Ct.id||"",this.override=(0,e.getStringOption)(Ct.override,["disabled","error","ignore","warning"]),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.extras=null,this.message=null,this.script=null}}class Xt extends s.XFAObject{constructor(Ct){super(j,"caption",!0),this.id=Ct.id||"",this.placement=(0,e.getStringOption)(Ct.placement,["left","bottom","inline","right","top"]),this.presence=(0,e.getStringOption)(Ct.presence,["visible","hidden","inactive","invisible"]),this.reserve=Math.ceil((0,e.getMeasurement)(Ct.reserve)),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.extras=null,this.font=null,this.margin=null,this.para=null,this.value=null}[s.$setValue](Ct){Bt(this,Ct)}[s.$getExtra](Ct){if(!this[s.$extra]){let{width:Jt,height:vn}=Ct;switch(this.placement){case"left":case"right":case"inline":Jt=this.reserve<=0?Jt:this.reserve;break;case"top":case"bottom":vn=this.reserve<=0?vn:this.reserve;break}this[s.$extra]=(0,wt.layoutNode)(this,{width:Jt,height:vn})}return this[s.$extra]}[s.$toHTML](Ct){if(!this.value)return e.HTMLResult.EMPTY;this[s.$pushPara]();const Jt=this.value[s.$toHTML](Ct).html;if(!Jt)return this[s.$popPara](),e.HTMLResult.EMPTY;const vn=this.reserve;if(this.reserve<=0){const{w:mr,h:fr}=this[s.$getExtra](Ct);switch(this.placement){case"left":case"right":case"inline":this.reserve=mr;break;case"top":case"bottom":this.reserve=fr;break}}const kn=[];typeof Jt=="string"?kn.push({name:"#text",value:Jt}):kn.push(Jt);const Kn=(0,wt.toStyle)(this,"font","margin","visibility");switch(this.placement){case"left":case"right":this.reserve>0&&(Kn.width=(0,wt.measureToString)(this.reserve));break;case"top":case"bottom":this.reserve>0&&(Kn.height=(0,wt.measureToString)(this.reserve));break}return(0,wt.setPara)(this,null,Jt),this[s.$popPara](),this.reserve=vn,e.HTMLResult.success({name:"div",attributes:{style:Kn,class:["xfaCaption"]},children:kn})}}class Ut extends s.StringObject{constructor(Ct){super(j,"certificate"),this.id=Ct.id||"",this.name=Ct.name||"",this.use=Ct.use||"",this.usehref=Ct.usehref||""}}class Gt extends s.XFAObject{constructor(Ct){super(j,"certificates",!0),this.credentialServerPolicy=(0,e.getStringOption)(Ct.credentialServerPolicy,["optional","required"]),this.id=Ct.id||"",this.url=Ct.url||"",this.urlPolicy=Ct.urlPolicy||"",this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.encryption=null,this.issuers=null,this.keyUsage=null,this.oids=null,this.signing=null,this.subjectDNs=null}}class qt extends s.XFAObject{constructor(Ct){super(j,"checkButton",!0),this.id=Ct.id||"",this.mark=(0,e.getStringOption)(Ct.mark,["default","check","circle","cross","diamond","square","star"]),this.shape=(0,e.getStringOption)(Ct.shape,["square","round"]),this.size=(0,e.getMeasurement)(Ct.size,"10pt"),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.border=null,this.extras=null,this.margin=null}[s.$toHTML](Ct){const Jt=(0,wt.toStyle)("margin"),vn=(0,wt.measureToString)(this.size);Jt.width=Jt.height=vn;let kn,Kn,mr;const fr=this[s.$getParent]()[s.$getParent](),vr=fr.items.children.length&&fr.items.children[0][s.$toHTML]().html||[],Pr={on:(vr[0]!==void 0?vr[0]:"on").toString(),off:(vr[1]!==void 0?vr[1]:"off").toString()},Qr=(fr.value&&fr.value[s.$text]()||"off")===Pr.on||void 0,Zr=fr[s.$getSubformParent](),Nr=fr[s.$uid];let _i;Zr instanceof Vn?(mr=Zr[s.$uid],kn="radio",Kn="xfaRadio",_i=Zr[s.$data]&&Zr[s.$data][s.$uid]||Zr[s.$uid]):(kn="checkbox",Kn="xfaCheckbox",_i=fr[s.$data]&&fr[s.$data][s.$uid]||fr[s.$uid]);const Fr={name:"input",attributes:{class:[Kn],style:Jt,fieldId:Nr,dataId:_i,type:kn,checked:Qr,xfaOn:Pr.on,xfaOff:Pr.off,"aria-label":ft(fr),"aria-required":!1}};return mr&&(Fr.attributes.name=mr),Rt(fr)&&(Fr.attributes["aria-required"]=!0,Fr.attributes.required=!0),e.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Fr]})}}class Kt extends s.XFAObject{constructor(Ct){super(j,"choiceList",!0),this.commitOn=(0,e.getStringOption)(Ct.commitOn,["select","exit"]),this.id=Ct.id||"",this.open=(0,e.getStringOption)(Ct.open,["userControl","always","multiSelect","onEntry"]),this.textEntry=(0,e.getInteger)({data:Ct.textEntry,defaultValue:0,validate:Jt=>Jt===1}),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.border=null,this.extras=null,this.margin=null}[s.$toHTML](Ct){const Jt=(0,wt.toStyle)(this,"border","margin"),kn=this[s.$getParent]()[s.$getParent](),mr={fontSize:`calc(${kn.font&&kn.font.size||10}px * var(--scale-factor))`},fr=[];if(kn.items.children.length>0){const Pr=kn.items;let $r=0,Qr=0;Pr.children.length===2&&($r=Pr.children[0].save,Qr=1-$r);const Zr=Pr.children[$r][s.$toHTML]().html,Nr=Pr.children[Qr][s.$toHTML]().html;let _i=!1;const Fr=kn.value&&kn.value[s.$text]()||"";for(let ts=0,Or=Zr.length;ts<Or;ts++){const Ir={name:"option",attributes:{value:Nr[ts]||Zr[ts],style:mr},value:Zr[ts]};Nr[ts]===Fr&&(Ir.attributes.selected=_i=!0),fr.push(Ir)}_i||fr.splice(0,0,{name:"option",attributes:{hidden:!0,selected:!0},value:" "})}const vr={class:["xfaSelect"],fieldId:kn[s.$uid],dataId:kn[s.$data]&&kn[s.$data][s.$uid]||kn[s.$uid],style:Jt,"aria-label":ft(kn),"aria-required":!1};return Rt(kn)&&(vr["aria-required"]=!0,vr.required=!0),this.open==="multiSelect"&&(vr.multiple=!0),e.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[{name:"select",children:fr,attributes:vr}]})}}class Vt extends s.XFAObject{constructor(Ct){super(j,"color",!0),this.cSpace=(0,e.getStringOption)(Ct.cSpace,["SRGB"]),this.id=Ct.id||"",this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.value=Ct.value?(0,e.getColor)(Ct.value):"",this.extras=null}[s.$hasSettableValue](){return!1}[s.$toStyle](){return this.value?gt.Util.makeHexColor(this.value.r,this.value.g,this.value.b):null}}class Yt extends s.XFAObject{constructor(Ct){super(j,"comb"),this.id=Ct.id||"",this.numberOfCells=(0,e.getInteger)({data:Ct.numberOfCells,defaultValue:0,validate:Jt=>Jt>=0}),this.use=Ct.use||"",this.usehref=Ct.usehref||""}}class Zt extends s.XFAObject{constructor(Ct){super(j,"connect",!0),this.connection=Ct.connection||"",this.id=Ct.id||"",this.ref=Ct.ref||"",this.usage=(0,e.getStringOption)(Ct.usage,["exportAndImport","exportOnly","importOnly"]),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.picture=null}}class Qt extends s.XFAObject{constructor(Ct){super(j,"contentArea",!0),this.h=(0,e.getMeasurement)(Ct.h),this.id=Ct.id||"",this.name=Ct.name||"",this.relevant=(0,e.getRelevant)(Ct.relevant),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.w=(0,e.getMeasurement)(Ct.w),this.x=(0,e.getMeasurement)(Ct.x,"0pt"),this.y=(0,e.getMeasurement)(Ct.y,"0pt"),this.desc=null,this.extras=null}[s.$toHTML](Ct){const Jt=(0,wt.measureToString)(this.x),vn=(0,wt.measureToString)(this.y),kn={left:Jt,top:vn,width:(0,wt.measureToString)(this.w),height:(0,wt.measureToString)(this.h)},Kn=["xfaContentarea"];return(0,wt.isPrintOnly)(this)&&Kn.push("xfaPrintOnly"),e.HTMLResult.success({name:"div",children:[],attributes:{style:kn,class:Kn,id:this[s.$uid]}})}}class en extends s.XFAObject{constructor(Ct){super(j,"corner",!0),this.id=Ct.id||"",this.inverted=(0,e.getInteger)({data:Ct.inverted,defaultValue:0,validate:Jt=>Jt===1}),this.join=(0,e.getStringOption)(Ct.join,["square","round"]),this.presence=(0,e.getStringOption)(Ct.presence,["visible","hidden","inactive","invisible"]),this.radius=(0,e.getMeasurement)(Ct.radius),this.stroke=(0,e.getStringOption)(Ct.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,e.getMeasurement)(Ct.thickness,"0.5pt"),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.color=null,this.extras=null}[s.$toStyle](){const Ct=(0,wt.toStyle)(this,"visibility");return Ct.radius=(0,wt.measureToString)(this.join==="square"?0:this.radius),Ct}}class rn extends s.ContentObject{constructor(Ct){super(j,"date"),this.id=Ct.id||"",this.name=Ct.name||"",this.use=Ct.use||"",this.usehref=Ct.usehref||""}[s.$finalize](){const Ct=this[s.$content].trim();this[s.$content]=Ct?new Date(Ct):null}[s.$toHTML](Ct){return it(this[s.$content]?this[s.$content].toString():"")}}class an extends s.ContentObject{constructor(Ct){super(j,"dateTime"),this.id=Ct.id||"",this.name=Ct.name||"",this.use=Ct.use||"",this.usehref=Ct.usehref||""}[s.$finalize](){const Ct=this[s.$content].trim();this[s.$content]=Ct?new Date(Ct):null}[s.$toHTML](Ct){return it(this[s.$content]?this[s.$content].toString():"")}}class fn extends s.XFAObject{constructor(Ct){super(j,"dateTimeEdit",!0),this.hScrollPolicy=(0,e.getStringOption)(Ct.hScrollPolicy,["auto","off","on"]),this.id=Ct.id||"",this.picker=(0,e.getStringOption)(Ct.picker,["host","none"]),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[s.$toHTML](Ct){const Jt=(0,wt.toStyle)(this,"border","font","margin"),vn=this[s.$getParent]()[s.$getParent](),kn={name:"input",attributes:{type:"text",fieldId:vn[s.$uid],dataId:vn[s.$data]&&vn[s.$data][s.$uid]||vn[s.$uid],class:["xfaTextfield"],style:Jt,"aria-label":ft(vn),"aria-required":!1}};return Rt(vn)&&(kn.attributes["aria-required"]=!0,kn.attributes.required=!0),e.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[kn]})}}class un extends s.ContentObject{constructor(Ct){super(j,"decimal"),this.fracDigits=(0,e.getInteger)({data:Ct.fracDigits,defaultValue:2,validate:Jt=>!0}),this.id=Ct.id||"",this.leadDigits=(0,e.getInteger)({data:Ct.leadDigits,defaultValue:-1,validate:Jt=>!0}),this.name=Ct.name||"",this.use=Ct.use||"",this.usehref=Ct.usehref||""}[s.$finalize](){const Ct=parseFloat(this[s.$content].trim());this[s.$content]=isNaN(Ct)?null:Ct}[s.$toHTML](Ct){return it(this[s.$content]!==null?this[s.$content].toString():"")}}class pn extends s.XFAObject{constructor(Ct){super(j,"defaultUi",!0),this.id=Ct.id||"",this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.extras=null}}class yn extends s.XFAObject{constructor(Ct){super(j,"desc",!0),this.id=Ct.id||"",this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.boolean=new s.XFAObjectArray,this.date=new s.XFAObjectArray,this.dateTime=new s.XFAObjectArray,this.decimal=new s.XFAObjectArray,this.exData=new s.XFAObjectArray,this.float=new s.XFAObjectArray,this.image=new s.XFAObjectArray,this.integer=new s.XFAObjectArray,this.text=new s.XFAObjectArray,this.time=new s.XFAObjectArray}}class On extends s.OptionObject{constructor(Ct){super(j,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"]),this.id=Ct.id||"",this.use=Ct.use||"",this.usehref=Ct.usehref||""}}class En extends s.XFAObject{constructor(Ct){super(j,"digestMethods",!0),this.id=Ct.id||"",this.type=(0,e.getStringOption)(Ct.type,["optional","required"]),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.digestMethod=new s.XFAObjectArray}}class An extends s.XFAObject{constructor(Ct){super(j,"draw",!0),this.anchorType=(0,e.getStringOption)(Ct.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,e.getInteger)({data:Ct.colSpan,defaultValue:1,validate:Jt=>Jt>=1||Jt===-1}),this.h=Ct.h?(0,e.getMeasurement)(Ct.h):"",this.hAlign=(0,e.getStringOption)(Ct.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Ct.id||"",this.locale=Ct.locale||"",this.maxH=(0,e.getMeasurement)(Ct.maxH,"0pt"),this.maxW=(0,e.getMeasurement)(Ct.maxW,"0pt"),this.minH=(0,e.getMeasurement)(Ct.minH,"0pt"),this.minW=(0,e.getMeasurement)(Ct.minW,"0pt"),this.name=Ct.name||"",this.presence=(0,e.getStringOption)(Ct.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,e.getRelevant)(Ct.relevant),this.rotate=(0,e.getInteger)({data:Ct.rotate,defaultValue:0,validate:Jt=>Jt%90===0}),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.w=Ct.w?(0,e.getMeasurement)(Ct.w):"",this.x=(0,e.getMeasurement)(Ct.x,"0pt"),this.y=(0,e.getMeasurement)(Ct.y,"0pt"),this.assist=null,this.border=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.value=null,this.setProperty=new s.XFAObjectArray}[s.$setValue](Ct){Bt(this,Ct)}[s.$toHTML](Ct){if(Ft(this),this.presence==="hidden"||this.presence==="inactive")return e.HTMLResult.EMPTY;(0,wt.fixDimensions)(this),this[s.$pushPara]();const Jt=this.w,vn=this.h,{w:kn,h:Kn,isBroken:mr}=(0,wt.layoutNode)(this,Ct);if(kn&&this.w===""){if(mr&&this[s.$getSubformParent]()[s.$isThereMoreWidth]())return this[s.$popPara](),e.HTMLResult.FAILURE;this.w=kn}if(Kn&&this.h===""&&(this.h=Kn),at(this),!(0,Tt.checkDimensions)(this,Ct))return this.w=Jt,this.h=vn,this[s.$popPara](),e.HTMLResult.FAILURE;bt(this);const fr=(0,wt.toStyle)(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","border","margin");(0,wt.setMinMaxDimensions)(this,fr),fr.margin&&(fr.padding=fr.margin,delete fr.margin);const vr=["xfaDraw"];this.font&&vr.push("xfaFont"),(0,wt.isPrintOnly)(this)&&vr.push("xfaPrintOnly");const Pr={style:fr,id:this[s.$uid],class:vr};this.name&&(Pr.xfaName=this.name);const $r={name:"div",attributes:Pr,children:[]};lt(this,Pr);const Qr=(0,wt.computeBbox)(this,$r,Ct),Zr=this.value?this.value[s.$toHTML](Ct).html:null;return Zr===null?(this.w=Jt,this.h=vn,this[s.$popPara](),e.HTMLResult.success((0,wt.createWrapper)(this,$r),Qr)):($r.children.push(Zr),(0,wt.setPara)(this,fr,Zr),this.w=Jt,this.h=vn,this[s.$popPara](),e.HTMLResult.success((0,wt.createWrapper)(this,$r),Qr))}}class Cn extends s.XFAObject{constructor(Ct){super(j,"edge",!0),this.cap=(0,e.getStringOption)(Ct.cap,["square","butt","round"]),this.id=Ct.id||"",this.presence=(0,e.getStringOption)(Ct.presence,["visible","hidden","inactive","invisible"]),this.stroke=(0,e.getStringOption)(Ct.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,e.getMeasurement)(Ct.thickness,"0.5pt"),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.color=null,this.extras=null}[s.$toStyle](){const Ct=(0,wt.toStyle)(this,"visibility");if(Object.assign(Ct,{linecap:this.cap,width:(0,wt.measureToString)(this.thickness),color:this.color?this.color[s.$toStyle]():"#000000",style:""}),this.presence!=="visible")Ct.style="none";else switch(this.stroke){case"solid":Ct.style="solid";break;case"dashDot":Ct.style="dashed";break;case"dashDotDot":Ct.style="dashed";break;case"dashed":Ct.style="dashed";break;case"dotted":Ct.style="dotted";break;case"embossed":Ct.style="ridge";break;case"etched":Ct.style="groove";break;case"lowered":Ct.style="inset";break;case"raised":Ct.style="outset";break}return Ct}}class gn extends s.OptionObject{constructor(Ct){super(j,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"]),this.id=Ct.id||"",this.use=Ct.use||"",this.usehref=Ct.usehref||""}}class hn extends s.XFAObject{constructor(Ct){super(j,"encodings",!0),this.id=Ct.id||"",this.type=(0,e.getStringOption)(Ct.type,["optional","required"]),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.encoding=new s.XFAObjectArray}}class on extends s.XFAObject{constructor(Ct){super(j,"encrypt",!0),this.id=Ct.id||"",this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.certificate=null}}class Dn extends s.XFAObject{constructor(Ct){super(j,"encryptData",!0),this.id=Ct.id||"",this.operation=(0,e.getStringOption)(Ct.operation,["encrypt","decrypt"]),this.target=Ct.target||"",this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.filter=null,this.manifest=null}}class Xn extends s.XFAObject{constructor(Ct){super(j,"encryption",!0),this.id=Ct.id||"",this.type=(0,e.getStringOption)(Ct.type,["optional","required"]),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.certificate=new s.XFAObjectArray}}class er extends s.OptionObject{constructor(Ct){super(j,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"]),this.id=Ct.id||"",this.use=Ct.use||"",this.usehref=Ct.usehref||""}}class Sn extends s.XFAObject{constructor(Ct){super(j,"encryptionMethods",!0),this.id=Ct.id||"",this.type=(0,e.getStringOption)(Ct.type,["optional","required"]),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.encryptionMethod=new s.XFAObjectArray}}class xn extends s.XFAObject{constructor(Ct){super(j,"event",!0),this.activity=(0,e.getStringOption)(Ct.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),this.id=Ct.id||"",this.listen=(0,e.getStringOption)(Ct.listen,["refOnly","refAndDescendents"]),this.name=Ct.name||"",this.ref=Ct.ref||"",this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.extras=null,this.encryptData=null,this.execute=null,this.script=null,this.signData=null,this.submit=null}}class cn extends s.ContentObject{constructor(Ct){super(j,"exData"),this.contentType=Ct.contentType||"",this.href=Ct.href||"",this.id=Ct.id||"",this.maxLength=(0,e.getInteger)({data:Ct.maxLength,defaultValue:-1,validate:Jt=>Jt>=-1}),this.name=Ct.name||"",this.rid=Ct.rid||"",this.transferEncoding=(0,e.getStringOption)(Ct.transferEncoding,["none","base64","package"]),this.use=Ct.use||"",this.usehref=Ct.usehref||""}[s.$isCDATAXml](){return this.contentType==="text/html"}[s.$onChild](Ct){return this.contentType==="text/html"&&Ct[s.$namespaceId]===st.NamespaceIds.xhtml.id?(this[s.$content]=Ct,!0):this.contentType==="text/xml"?(this[s.$content]=Ct,!0):!1}[s.$toHTML](Ct){return this.contentType!=="text/html"||!this[s.$content]?e.HTMLResult.EMPTY:this[s.$content][s.$toHTML](Ct)}}class qn extends s.XFAObject{constructor(Ct){super(j,"exObject",!0),this.archive=Ct.archive||"",this.classId=Ct.classId||"",this.codeBase=Ct.codeBase||"",this.codeType=Ct.codeType||"",this.id=Ct.id||"",this.name=Ct.name||"",this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.extras=null,this.boolean=new s.XFAObjectArray,this.date=new s.XFAObjectArray,this.dateTime=new s.XFAObjectArray,this.decimal=new s.XFAObjectArray,this.exData=new s.XFAObjectArray,this.exObject=new s.XFAObjectArray,this.float=new s.XFAObjectArray,this.image=new s.XFAObjectArray,this.integer=new s.XFAObjectArray,this.text=new s.XFAObjectArray,this.time=new s.XFAObjectArray}}class Vn extends s.XFAObject{constructor(Ct){super(j,"exclGroup",!0),this.access=(0,e.getStringOption)(Ct.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=Ct.accessKey||"",this.anchorType=(0,e.getStringOption)(Ct.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,e.getInteger)({data:Ct.colSpan,defaultValue:1,validate:Jt=>Jt>=1||Jt===-1}),this.h=Ct.h?(0,e.getMeasurement)(Ct.h):"",this.hAlign=(0,e.getStringOption)(Ct.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Ct.id||"",this.layout=(0,e.getStringOption)(Ct.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.maxH=(0,e.getMeasurement)(Ct.maxH,"0pt"),this.maxW=(0,e.getMeasurement)(Ct.maxW,"0pt"),this.minH=(0,e.getMeasurement)(Ct.minH,"0pt"),this.minW=(0,e.getMeasurement)(Ct.minW,"0pt"),this.name=Ct.name||"",this.presence=(0,e.getStringOption)(Ct.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,e.getRelevant)(Ct.relevant),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.w=Ct.w?(0,e.getMeasurement)(Ct.w):"",this.x=(0,e.getMeasurement)(Ct.x,"0pt"),this.y=(0,e.getMeasurement)(Ct.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.margin=null,this.para=null,this.traversal=null,this.validate=null,this.connect=new s.XFAObjectArray,this.event=new s.XFAObjectArray,this.field=new s.XFAObjectArray,this.setProperty=new s.XFAObjectArray}[s.$isBindable](){return!0}[s.$hasSettableValue](){return!0}[s.$setValue](Ct){for(const Jt of this.field.children){if(!Jt.value){const vn=new zs({});Jt[s.$appendChild](vn),Jt.value=vn}Jt.value[s.$setValue](Ct)}}[s.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[s.$extra].attempt===0&&this[s.$extra].numberInLine>0||this[s.$getParent]()[s.$isThereMoreWidth]()}[s.$isSplittable](){const Ct=this[s.$getSubformParent]();return Ct[s.$isSplittable]()?this[s.$extra]._isSplittable!==void 0?this[s.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[s.$extra]._isSplittable=!1,!1):Ct.layout&&Ct.layout.endsWith("-tb")&&Ct[s.$extra].numberInLine!==0?!1:(this[s.$extra]._isSplittable=!0,!0):!1}[s.$flushHTML](){return(0,Tt.flushHTML)(this)}[s.$addHTML](Ct,Jt){(0,Tt.addHTML)(this,Ct,Jt)}[s.$getAvailableSpace](){return(0,Tt.getAvailableSpace)(this)}[s.$toHTML](Ct){if(Ft(this),this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return e.HTMLResult.EMPTY;(0,wt.fixDimensions)(this);const Jt=[],vn={id:this[s.$uid],class:[]};(0,wt.setAccess)(this,vn.class),this[s.$extra]||(this[s.$extra]=Object.create(null)),Object.assign(this[s.$extra],{children:Jt,attributes:vn,attempt:0,line:null,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,Ct.width),height:Math.min(this.h||1/0,Ct.height)},width:0,height:0,prevHeight:0,currentWidth:0});const kn=this[s.$isSplittable]();if(kn||at(this),!(0,Tt.checkDimensions)(this,Ct))return e.HTMLResult.FAILURE;const Kn=new Set(["field"]);if(this.layout.includes("row")){const Or=this[s.$getSubformParent]().columnWidths;Array.isArray(Or)&&Or.length>0&&(this[s.$extra].columnWidths=Or,this[s.$extra].currentColumn=0)}const mr=(0,wt.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),fr=["xfaExclgroup"],vr=(0,wt.layoutClass)(this);vr&&fr.push(vr),(0,wt.isPrintOnly)(this)&&fr.push("xfaPrintOnly"),vn.style=mr,vn.class=fr,this.name&&(vn.xfaName=this.name),this[s.$pushPara]();const Pr=this.layout==="lr-tb"||this.layout==="rl-tb",$r=Pr?o:1;for(;this[s.$extra].attempt<$r;this[s.$extra].attempt++){Pr&&this[s.$extra].attempt===o-1&&(this[s.$extra].numberInLine=0);const Or=this[s.$childrenToHTML]({filter:Kn,include:!0});if(Or.success)break;if(Or.isBreak())return this[s.$popPara](),Or;if(Pr&&this[s.$extra].attempt===0&&this[s.$extra].numberInLine===0&&!this[s.$getTemplateRoot]()[s.$extra].noLayoutFailure){this[s.$extra].attempt=$r;break}}if(this[s.$popPara](),kn||bt(this),this[s.$extra].attempt===$r)return kn||delete this[s.$extra],e.HTMLResult.FAILURE;let Qr=0,Zr=0;this.margin&&(Qr=this.margin.leftInset+this.margin.rightInset,Zr=this.margin.topInset+this.margin.bottomInset);const Nr=Math.max(this[s.$extra].width+Qr,this.w||0),_i=Math.max(this[s.$extra].height+Zr,this.h||0),Fr=[this.x,this.y,Nr,_i];this.w===""&&(mr.width=(0,wt.measureToString)(Nr)),this.h===""&&(mr.height=(0,wt.measureToString)(_i));const ts={name:"div",attributes:vn,children:Jt};return lt(this,vn),delete this[s.$extra],e.HTMLResult.success((0,wt.createWrapper)(this,ts),Fr)}}class Gn extends s.XFAObject{constructor(Ct){super(j,"execute"),this.connection=Ct.connection||"",this.executeType=(0,e.getStringOption)(Ct.executeType,["import","remerge"]),this.id=Ct.id||"",this.runAt=(0,e.getStringOption)(Ct.runAt,["client","both","server"]),this.use=Ct.use||"",this.usehref=Ct.usehref||""}}class lr extends s.XFAObject{constructor(Ct){super(j,"extras",!0),this.id=Ct.id||"",this.name=Ct.name||"",this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.boolean=new s.XFAObjectArray,this.date=new s.XFAObjectArray,this.dateTime=new s.XFAObjectArray,this.decimal=new s.XFAObjectArray,this.exData=new s.XFAObjectArray,this.extras=new s.XFAObjectArray,this.float=new s.XFAObjectArray,this.image=new s.XFAObjectArray,this.integer=new s.XFAObjectArray,this.text=new s.XFAObjectArray,this.time=new s.XFAObjectArray}}class $n extends s.XFAObject{constructor(Ct){super(j,"field",!0),this.access=(0,e.getStringOption)(Ct.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=Ct.accessKey||"",this.anchorType=(0,e.getStringOption)(Ct.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,e.getInteger)({data:Ct.colSpan,defaultValue:1,validate:Jt=>Jt>=1||Jt===-1}),this.h=Ct.h?(0,e.getMeasurement)(Ct.h):"",this.hAlign=(0,e.getStringOption)(Ct.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Ct.id||"",this.locale=Ct.locale||"",this.maxH=(0,e.getMeasurement)(Ct.maxH,"0pt"),this.maxW=(0,e.getMeasurement)(Ct.maxW,"0pt"),this.minH=(0,e.getMeasurement)(Ct.minH,"0pt"),this.minW=(0,e.getMeasurement)(Ct.minW,"0pt"),this.name=Ct.name||"",this.presence=(0,e.getStringOption)(Ct.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,e.getRelevant)(Ct.relevant),this.rotate=(0,e.getInteger)({data:Ct.rotate,defaultValue:0,validate:Jt=>Jt%90===0}),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.w=Ct.w?(0,e.getMeasurement)(Ct.w):"",this.x=(0,e.getMeasurement)(Ct.x,"0pt"),this.y=(0,e.getMeasurement)(Ct.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.format=null,this.items=new s.XFAObjectArray(2),this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.validate=null,this.value=null,this.bindItems=new s.XFAObjectArray,this.connect=new s.XFAObjectArray,this.event=new s.XFAObjectArray,this.setProperty=new s.XFAObjectArray}[s.$isBindable](){return!0}[s.$setValue](Ct){Bt(this,Ct)}[s.$toHTML](Ct){if(Ft(this),!this.ui){this.ui=new Eo({}),this.ui[s.$globalData]=this[s.$globalData],this[s.$appendChild](this.ui);let Or;switch(this.items.children.length){case 0:Or=new $o({}),this.ui.textEdit=Or;break;case 1:Or=new qt({}),this.ui.checkButton=Or;break;case 2:Or=new Kt({}),this.ui.choiceList=Or;break}this.ui[s.$appendChild](Or)}if(!this.ui||this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return e.HTMLResult.EMPTY;this.caption&&delete this.caption[s.$extra],this[s.$pushPara]();const Jt=this.caption?this.caption[s.$toHTML](Ct).html:null,vn=this.w,kn=this.h;let Kn=0,mr=0;this.margin&&(Kn=this.margin.leftInset+this.margin.rightInset,mr=this.margin.topInset+this.margin.bottomInset);let fr=null;if(this.w===""||this.h===""){let Or=null,Ir=null,us=0,Lr=0;if(this.ui.checkButton)us=Lr=this.ui.checkButton.size;else{const{w:Bs,h:vs}=(0,wt.layoutNode)(this,Ct);Bs!==null?(us=Bs,Lr=vs):Lr=(0,_.getMetrics)(this.font,!0).lineNoGap}if(fr=nt(this.ui[s.$getExtra]()),us+=fr.w,Lr+=fr.h,this.caption){const{w:Bs,h:vs,isBroken:ss}=this.caption[s.$getExtra](Ct);if(ss&&this[s.$getSubformParent]()[s.$isThereMoreWidth]())return this[s.$popPara](),e.HTMLResult.FAILURE;switch(Or=Bs,Ir=vs,this.caption.placement){case"left":case"right":case"inline":Or+=us;break;case"top":case"bottom":Ir+=Lr;break}}else Or=us,Ir=Lr;Or&&this.w===""&&(Or+=Kn,this.w=Math.min(this.maxW<=0?1/0:this.maxW,this.minW+1<Or?Or:this.minW)),Ir&&this.h===""&&(Ir+=mr,this.h=Math.min(this.maxH<=0?1/0:this.maxH,this.minH+1<Ir?Ir:this.minH))}if(this[s.$popPara](),(0,wt.fixDimensions)(this),at(this),!(0,Tt.checkDimensions)(this,Ct))return this.w=vn,this.h=kn,this[s.$popPara](),e.HTMLResult.FAILURE;bt(this);const vr=(0,wt.toStyle)(this,"font","dimensions","position","rotate","anchorType","presence","margin","hAlign");(0,wt.setMinMaxDimensions)(this,vr);const Pr=["xfaField"];this.font&&Pr.push("xfaFont"),(0,wt.isPrintOnly)(this)&&Pr.push("xfaPrintOnly");const $r={style:vr,id:this[s.$uid],class:Pr};vr.margin&&(vr.padding=vr.margin,delete vr.margin),(0,wt.setAccess)(this,Pr),this.name&&($r.xfaName=this.name);const Qr=[],Zr={name:"div",attributes:$r,children:Qr};lt(this,$r);const Nr=this.border?this.border[s.$toStyle]():null,_i=(0,wt.computeBbox)(this,Zr,Ct),Fr=this.ui[s.$toHTML]().html;if(!Fr)return Object.assign(vr,Nr),e.HTMLResult.success((0,wt.createWrapper)(this,Zr),_i);this[s.$tabIndex]&&(Fr.children&&Fr.children[0]?Fr.children[0].attributes.tabindex=this[s.$tabIndex]:Fr.attributes.tabindex=this[s.$tabIndex]),Fr.attributes.style||(Fr.attributes.style=Object.create(null));let ts=null;if(this.ui.button?(Fr.children.length===1&&([ts]=Fr.children.splice(0,1)),Object.assign(Fr.attributes.style,Nr)):Object.assign(vr,Nr),Qr.push(Fr),this.value){if(this.ui.imageEdit)Fr.children.push(this.value[s.$toHTML]().html);else if(!this.ui.button){let Or="";if(this.value.exData)Or=this.value.exData[s.$text]();else if(this.value.text)Or=this.value.text[s.$getExtra]();else{const Ir=this.value[s.$toHTML]().html;Ir!==null&&(Or=Ir.children[0].value)}this.ui.textEdit&&this.value.text&&this.value.text.maxChars&&(Fr.children[0].attributes.maxLength=this.value.text.maxChars),Or&&(this.ui.numericEdit&&(Or=parseFloat(Or),Or=isNaN(Or)?"":Or.toString()),Fr.children[0].name==="textarea"?Fr.children[0].attributes.textContent=Or:Fr.children[0].attributes.value=Or)}}if(!this.ui.imageEdit&&Fr.children&&Fr.children[0]&&this.h){fr=fr||nt(this.ui[s.$getExtra]());let Or=0;if(this.caption&&["top","bottom"].includes(this.caption.placement)){Or=this.caption.reserve,Or<=0&&(Or=this.caption[s.$getExtra](Ct).h);const Ir=this.h-Or-mr-fr.h;Fr.children[0].attributes.style.height=(0,wt.measureToString)(Ir)}else Fr.children[0].attributes.style.height="100%"}if(ts&&Fr.children.push(ts),!Jt)return Fr.attributes.class&&Fr.attributes.class.push("xfaLeft"),this.w=vn,this.h=kn,e.HTMLResult.success((0,wt.createWrapper)(this,Zr),_i);if(this.ui.button)return vr.padding&&delete vr.padding,Jt.name==="div"&&(Jt.name="span"),Fr.children.push(Jt),e.HTMLResult.success(Zr,_i);switch(this.ui.checkButton&&(Jt.attributes.class[0]="xfaCaptionForCheckButton"),Fr.attributes.class||(Fr.attributes.class=[]),Fr.children.splice(0,0,Jt),this.caption.placement){case"left":Fr.attributes.class.push("xfaLeft");break;case"right":Fr.attributes.class.push("xfaRight");break;case"top":Fr.attributes.class.push("xfaTop");break;case"bottom":Fr.attributes.class.push("xfaBottom");break;case"inline":Fr.attributes.class.push("xfaLeft");break}return this.w=vn,this.h=kn,e.HTMLResult.success((0,wt.createWrapper)(this,Zr),_i)}}ct.Field=$n;class tr extends s.XFAObject{constructor(Ct){super(j,"fill",!0),this.id=Ct.id||"",this.presence=(0,e.getStringOption)(Ct.presence,["visible","hidden","inactive","invisible"]),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.color=null,this.extras=null,this.linear=null,this.pattern=null,this.radial=null,this.solid=null,this.stipple=null}[s.$toStyle](){const Ct=this[s.$getParent](),vn=Ct[s.$getParent]()[s.$getParent](),kn=Object.create(null);let Kn="color",mr=Kn;Ct instanceof _t&&(Kn="background-color",mr="background",vn instanceof Eo&&(kn.backgroundColor="white")),(Ct instanceof vo||Ct instanceof yt)&&(Kn=mr="fill",kn.fill="white");for(const fr of Object.getOwnPropertyNames(this)){if(fr==="extras"||fr==="color")continue;const vr=this[fr];if(!(vr instanceof s.XFAObject))continue;const Pr=vr[s.$toStyle](this.color);return Pr&&(kn[Pr.startsWith("#")?Kn:mr]=Pr),kn}if(this.color&&this.color.value){const fr=this.color[s.$toStyle]();kn[fr.startsWith("#")?Kn:mr]=fr}return kn}}class pr extends s.XFAObject{constructor(Ct){super(j,"filter",!0),this.addRevocationInfo=(0,e.getStringOption)(Ct.addRevocationInfo,["","required","optional","none"]),this.id=Ct.id||"",this.name=Ct.name||"",this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.version=(0,e.getInteger)({data:this.version,defaultValue:5,validate:Jt=>Jt>=1&&Jt<=5}),this.appearanceFilter=null,this.certificates=null,this.digestMethods=null,this.encodings=null,this.encryptionMethods=null,this.handler=null,this.lockDocument=null,this.mdp=null,this.reasons=null,this.timeStamp=null}}class jn extends s.ContentObject{constructor(Ct){super(j,"float"),this.id=Ct.id||"",this.name=Ct.name||"",this.use=Ct.use||"",this.usehref=Ct.usehref||""}[s.$finalize](){const Ct=parseFloat(this[s.$content].trim());this[s.$content]=isNaN(Ct)?null:Ct}[s.$toHTML](Ct){return it(this[s.$content]!==null?this[s.$content].toString():"")}}class ur extends s.XFAObject{constructor(Ct){super(j,"font",!0),this.baselineShift=(0,e.getMeasurement)(Ct.baselineShift),this.fontHorizontalScale=(0,e.getFloat)({data:Ct.fontHorizontalScale,defaultValue:100,validate:Jt=>Jt>=0}),this.fontVerticalScale=(0,e.getFloat)({data:Ct.fontVerticalScale,defaultValue:100,validate:Jt=>Jt>=0}),this.id=Ct.id||"",this.kerningMode=(0,e.getStringOption)(Ct.kerningMode,["none","pair"]),this.letterSpacing=(0,e.getMeasurement)(Ct.letterSpacing,"0"),this.lineThrough=(0,e.getInteger)({data:Ct.lineThrough,defaultValue:0,validate:Jt=>Jt===1||Jt===2}),this.lineThroughPeriod=(0,e.getStringOption)(Ct.lineThroughPeriod,["all","word"]),this.overline=(0,e.getInteger)({data:Ct.overline,defaultValue:0,validate:Jt=>Jt===1||Jt===2}),this.overlinePeriod=(0,e.getStringOption)(Ct.overlinePeriod,["all","word"]),this.posture=(0,e.getStringOption)(Ct.posture,["normal","italic"]),this.size=(0,e.getMeasurement)(Ct.size,"10pt"),this.typeface=Ct.typeface||"Courier",this.underline=(0,e.getInteger)({data:Ct.underline,defaultValue:0,validate:Jt=>Jt===1||Jt===2}),this.underlinePeriod=(0,e.getStringOption)(Ct.underlinePeriod,["all","word"]),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.weight=(0,e.getStringOption)(Ct.weight,["normal","bold"]),this.extras=null,this.fill=null}[s.$clean](Ct){super[s.$clean](Ct),this[s.$globalData].usedTypefaces.add(this.typeface)}[s.$toStyle](){const Ct=(0,wt.toStyle)(this,"fill"),Jt=Ct.color;return Jt&&(Jt==="#000000"?delete Ct.color:Jt.startsWith("#")||(Ct.background=Jt,Ct.backgroundClip="text",Ct.color="transparent")),this.baselineShift&&(Ct.verticalAlign=(0,wt.measureToString)(this.baselineShift)),Ct.fontKerning=this.kerningMode==="none"?"none":"normal",Ct.letterSpacing=(0,wt.measureToString)(this.letterSpacing),this.lineThrough!==0&&(Ct.textDecoration="line-through",this.lineThrough===2&&(Ct.textDecorationStyle="double")),this.overline!==0&&(Ct.textDecoration="overline",this.overline===2&&(Ct.textDecorationStyle="double")),Ct.fontStyle=this.posture,Ct.fontSize=(0,wt.measureToString)(.99*this.size),(0,wt.setFontFamily)(this,this,this[s.$globalData].fontFinder,Ct),this.underline!==0&&(Ct.textDecoration="underline",this.underline===2&&(Ct.textDecorationStyle="double")),Ct.fontWeight=this.weight,Ct}}class rr extends s.XFAObject{constructor(Ct){super(j,"format",!0),this.id=Ct.id||"",this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.extras=null,this.picture=null}}class Tr extends s.StringObject{constructor(Ct){super(j,"handler"),this.id=Ct.id||"",this.type=(0,e.getStringOption)(Ct.type,["optional","required"]),this.use=Ct.use||"",this.usehref=Ct.usehref||""}}class br extends s.XFAObject{constructor(Ct){super(j,"hyphenation"),this.excludeAllCaps=(0,e.getInteger)({data:Ct.excludeAllCaps,defaultValue:0,validate:Jt=>Jt===1}),this.excludeInitialCap=(0,e.getInteger)({data:Ct.excludeInitialCap,defaultValue:0,validate:Jt=>Jt===1}),this.hyphenate=(0,e.getInteger)({data:Ct.hyphenate,defaultValue:0,validate:Jt=>Jt===1}),this.id=Ct.id||"",this.pushCharacterCount=(0,e.getInteger)({data:Ct.pushCharacterCount,defaultValue:3,validate:Jt=>Jt>=0}),this.remainCharacterCount=(0,e.getInteger)({data:Ct.remainCharacterCount,defaultValue:3,validate:Jt=>Jt>=0}),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.wordCharacterCount=(0,e.getInteger)({data:Ct.wordCharacterCount,defaultValue:7,validate:Jt=>Jt>=0})}}class yr extends s.StringObject{constructor(Ct){super(j,"image"),this.aspect=(0,e.getStringOption)(Ct.aspect,["fit","actual","height","none","width"]),this.contentType=Ct.contentType||"",this.href=Ct.href||"",this.id=Ct.id||"",this.name=Ct.name||"",this.transferEncoding=(0,e.getStringOption)(Ct.transferEncoding,["base64","none","package"]),this.use=Ct.use||"",this.usehref=Ct.usehref||""}[s.$toHTML](){if(this.contentType&&!h.has(this.contentType.toLowerCase()))return e.HTMLResult.EMPTY;let Ct=this[s.$globalData].images&&this[s.$globalData].images.get(this.href);if(!Ct&&(this.href||!this[s.$content])||(!Ct&&this.transferEncoding==="base64"&&(Ct=(0,gt.stringToBytes)(atob(this[s.$content]))),!Ct))return e.HTMLResult.EMPTY;if(!this.contentType){for(const[Kn,mr]of et)if(Ct.length>Kn.length&&Kn.every((fr,vr)=>fr===Ct[vr])){this.contentType=mr;break}if(!this.contentType)return e.HTMLResult.EMPTY}const Jt=new Blob([Ct],{type:this.contentType});let vn;switch(this.aspect){case"fit":case"actual":break;case"height":vn={height:"100%",objectFit:"fill"};break;case"none":vn={width:"100%",height:"100%",objectFit:"fill"};break;case"width":vn={width:"100%",objectFit:"fill"};break}const kn=this[s.$getParent]();return e.HTMLResult.success({name:"img",attributes:{class:["xfaImage"],style:vn,src:URL.createObjectURL(Jt),alt:kn?ft(kn[s.$getParent]()):null}})}}class cr extends s.XFAObject{constructor(Ct){super(j,"imageEdit",!0),this.data=(0,e.getStringOption)(Ct.data,["link","embed"]),this.id=Ct.id||"",this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.border=null,this.extras=null,this.margin=null}[s.$toHTML](Ct){return this.data==="embed"?e.HTMLResult.success({name:"div",children:[],attributes:{}}):e.HTMLResult.EMPTY}}class Jr extends s.ContentObject{constructor(Ct){super(j,"integer"),this.id=Ct.id||"",this.name=Ct.name||"",this.use=Ct.use||"",this.usehref=Ct.usehref||""}[s.$finalize](){const Ct=parseInt(this[s.$content].trim(),10);this[s.$content]=isNaN(Ct)?null:Ct}[s.$toHTML](Ct){return it(this[s.$content]!==null?this[s.$content].toString():"")}}class Vr extends s.XFAObject{constructor(Ct){super(j,"issuers",!0),this.id=Ct.id||"",this.type=(0,e.getStringOption)(Ct.type,["optional","required"]),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.certificate=new s.XFAObjectArray}}class Un extends s.XFAObject{constructor(Ct){super(j,"items",!0),this.id=Ct.id||"",this.name=Ct.name||"",this.presence=(0,e.getStringOption)(Ct.presence,["visible","hidden","inactive","invisible"]),this.ref=Ct.ref||"",this.save=(0,e.getInteger)({data:Ct.save,defaultValue:0,validate:Jt=>Jt===1}),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.boolean=new s.XFAObjectArray,this.date=new s.XFAObjectArray,this.dateTime=new s.XFAObjectArray,this.decimal=new s.XFAObjectArray,this.exData=new s.XFAObjectArray,this.float=new s.XFAObjectArray,this.image=new s.XFAObjectArray,this.integer=new s.XFAObjectArray,this.text=new s.XFAObjectArray,this.time=new s.XFAObjectArray}[s.$toHTML](){const Ct=[];for(const Jt of this[s.$getChildren]())Ct.push(Jt[s.$text]());return e.HTMLResult.success(Ct)}}ct.Items=Un;class Mn extends s.XFAObject{constructor(Ct){super(j,"keep",!0),this.id=Ct.id||"";const Jt=["none","contentArea","pageArea"];this.intact=(0,e.getStringOption)(Ct.intact,Jt),this.next=(0,e.getStringOption)(Ct.next,Jt),this.previous=(0,e.getStringOption)(Ct.previous,Jt),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.extras=null}}class zn extends s.XFAObject{constructor(Ct){super(j,"keyUsage");const Jt=["","yes","no"];this.crlSign=(0,e.getStringOption)(Ct.crlSign,Jt),this.dataEncipherment=(0,e.getStringOption)(Ct.dataEncipherment,Jt),this.decipherOnly=(0,e.getStringOption)(Ct.decipherOnly,Jt),this.digitalSignature=(0,e.getStringOption)(Ct.digitalSignature,Jt),this.encipherOnly=(0,e.getStringOption)(Ct.encipherOnly,Jt),this.id=Ct.id||"",this.keyAgreement=(0,e.getStringOption)(Ct.keyAgreement,Jt),this.keyCertSign=(0,e.getStringOption)(Ct.keyCertSign,Jt),this.keyEncipherment=(0,e.getStringOption)(Ct.keyEncipherment,Jt),this.nonRepudiation=(0,e.getStringOption)(Ct.nonRepudiation,Jt),this.type=(0,e.getStringOption)(Ct.type,["optional","required"]),this.use=Ct.use||"",this.usehref=Ct.usehref||""}}class Wn extends s.XFAObject{constructor(Ct){super(j,"line",!0),this.hand=(0,e.getStringOption)(Ct.hand,["even","left","right"]),this.id=Ct.id||"",this.slope=(0,e.getStringOption)(Ct.slope,["\\","/"]),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.edge=null}[s.$toHTML](){const Ct=this[s.$getParent]()[s.$getParent](),Jt=this.edge||new Cn({}),vn=Jt[s.$toStyle](),kn=Object.create(null),Kn=Jt.presence==="visible"?Jt.thickness:0;kn.strokeWidth=(0,wt.measureToString)(Kn),kn.stroke=vn.color;let mr,fr,vr,Pr,$r="100%",Qr="100%";Ct.w<=Kn?([mr,fr,vr,Pr]=["50%",0,"50%","100%"],$r=kn.strokeWidth):Ct.h<=Kn?([mr,fr,vr,Pr]=[0,"50%","100%","50%"],Qr=kn.strokeWidth):this.slope==="\\"?[mr,fr,vr,Pr]=[0,0,"100%","100%"]:[mr,fr,vr,Pr]=[0,"100%","100%",0];const Nr={name:"svg",children:[{name:"line",attributes:{xmlns:g,x1:mr,y1:fr,x2:vr,y2:Pr,style:kn}}],attributes:{xmlns:g,width:$r,height:Qr,style:{overflow:"visible"}}};return pt(Ct)?e.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[Nr]}):(Nr.attributes.style.position="absolute",e.HTMLResult.success(Nr))}}class sr extends s.XFAObject{constructor(Ct){super(j,"linear",!0),this.id=Ct.id||"",this.type=(0,e.getStringOption)(Ct.type,["toRight","toBottom","toLeft","toTop"]),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.color=null,this.extras=null}[s.$toStyle](Ct){Ct=Ct?Ct[s.$toStyle]():"#FFFFFF";const Jt=this.type.replace(/([RBLT])/," $1").toLowerCase(),vn=this.color?this.color[s.$toStyle]():"#000000";return`linear-gradient(${Jt}, ${Ct}, ${vn})`}}class gr extends s.ContentObject{constructor(Ct){super(j,"lockDocument"),this.id=Ct.id||"",this.type=(0,e.getStringOption)(Ct.type,["optional","required"]),this.use=Ct.use||"",this.usehref=Ct.usehref||""}[s.$finalize](){this[s.$content]=(0,e.getStringOption)(this[s.$content],["auto","0","1"])}}class ir extends s.XFAObject{constructor(Ct){super(j,"manifest",!0),this.action=(0,e.getStringOption)(Ct.action,["include","all","exclude"]),this.id=Ct.id||"",this.name=Ct.name||"",this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.extras=null,this.ref=new s.XFAObjectArray}}class Jn extends s.XFAObject{constructor(Ct){super(j,"margin",!0),this.bottomInset=(0,e.getMeasurement)(Ct.bottomInset,"0"),this.id=Ct.id||"",this.leftInset=(0,e.getMeasurement)(Ct.leftInset,"0"),this.rightInset=(0,e.getMeasurement)(Ct.rightInset,"0"),this.topInset=(0,e.getMeasurement)(Ct.topInset,"0"),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.extras=null}[s.$toStyle](){return{margin:(0,wt.measureToString)(this.topInset)+" "+(0,wt.measureToString)(this.rightInset)+" "+(0,wt.measureToString)(this.bottomInset)+" "+(0,wt.measureToString)(this.leftInset)}}}class or extends s.XFAObject{constructor(Ct){super(j,"mdp"),this.id=Ct.id||"",this.permissions=(0,e.getInteger)({data:Ct.permissions,defaultValue:2,validate:Jt=>Jt===1||Jt===3}),this.signatureType=(0,e.getStringOption)(Ct.signatureType,["filler","author"]),this.use=Ct.use||"",this.usehref=Ct.usehref||""}}class hr extends s.XFAObject{constructor(Ct){super(j,"medium"),this.id=Ct.id||"",this.imagingBBox=(0,e.getBBox)(Ct.imagingBBox),this.long=(0,e.getMeasurement)(Ct.long),this.orientation=(0,e.getStringOption)(Ct.orientation,["portrait","landscape"]),this.short=(0,e.getMeasurement)(Ct.short),this.stock=Ct.stock||"",this.trayIn=(0,e.getStringOption)(Ct.trayIn,["auto","delegate","pageFront"]),this.trayOut=(0,e.getStringOption)(Ct.trayOut,["auto","delegate"]),this.use=Ct.use||"",this.usehref=Ct.usehref||""}}class kr extends s.XFAObject{constructor(Ct){super(j,"message",!0),this.id=Ct.id||"",this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.text=new s.XFAObjectArray}}class _r extends s.XFAObject{constructor(Ct){super(j,"numericEdit",!0),this.hScrollPolicy=(0,e.getStringOption)(Ct.hScrollPolicy,["auto","off","on"]),this.id=Ct.id||"",this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[s.$toHTML](Ct){const Jt=(0,wt.toStyle)(this,"border","font","margin"),vn=this[s.$getParent]()[s.$getParent](),kn={name:"input",attributes:{type:"text",fieldId:vn[s.$uid],dataId:vn[s.$data]&&vn[s.$data][s.$uid]||vn[s.$uid],class:["xfaTextfield"],style:Jt,"aria-label":ft(vn),"aria-required":!1}};return Rt(vn)&&(kn.attributes["aria-required"]=!0,kn.attributes.required=!0),e.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[kn]})}}class dr extends s.XFAObject{constructor(Ct){super(j,"occur",!0),this.id=Ct.id||"",this.initial=Ct.initial!==""?(0,e.getInteger)({data:Ct.initial,defaultValue:"",validate:Jt=>!0}):"",this.max=Ct.max!==""?(0,e.getInteger)({data:Ct.max,defaultValue:1,validate:Jt=>!0}):"",this.min=Ct.min!==""?(0,e.getInteger)({data:Ct.min,defaultValue:1,validate:Jt=>!0}):"",this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.extras=null}[s.$clean](){const Ct=this[s.$getParent](),Jt=this.min;this.min===""&&(this.min=Ct instanceof Nn||Ct instanceof nr?0:1),this.max===""&&(Jt===""?this.max=Ct instanceof Nn||Ct instanceof nr?-1:1:this.max=this.min),this.max!==-1&&this.max<this.min&&(this.max=this.min),this.initial===""&&(this.initial=Ct instanceof oo?1:this.min)}}class mn extends s.StringObject{constructor(Ct){super(j,"oid"),this.id=Ct.id||"",this.name=Ct.name||"",this.use=Ct.use||"",this.usehref=Ct.usehref||""}}class Fn extends s.XFAObject{constructor(Ct){super(j,"oids",!0),this.id=Ct.id||"",this.type=(0,e.getStringOption)(Ct.type,["optional","required"]),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.oid=new s.XFAObjectArray}}class Bn extends s.XFAObject{constructor(Ct){super(j,"overflow"),this.id=Ct.id||"",this.leader=Ct.leader||"",this.target=Ct.target||"",this.trailer=Ct.trailer||"",this.use=Ct.use||"",this.usehref=Ct.usehref||""}[s.$getExtra](){if(!this[s.$extra]){const Ct=this[s.$getParent](),Jt=this[s.$getTemplateRoot](),vn=Jt[s.$searchNode](this.target,Ct),kn=Jt[s.$searchNode](this.leader,Ct),Kn=Jt[s.$searchNode](this.trailer,Ct);this[s.$extra]={target:vn&&vn[0]||null,leader:kn&&kn[0]||null,trailer:Kn&&Kn[0]||null,addLeader:!1,addTrailer:!1}}return this[s.$extra]}}class Nn extends s.XFAObject{constructor(Ct){super(j,"pageArea",!0),this.blankOrNotBlank=(0,e.getStringOption)(Ct.blankOrNotBlank,["any","blank","notBlank"]),this.id=Ct.id||"",this.initialNumber=(0,e.getInteger)({data:Ct.initialNumber,defaultValue:1,validate:Jt=>!0}),this.name=Ct.name||"",this.numbered=(0,e.getInteger)({data:Ct.numbered,defaultValue:1,validate:Jt=>!0}),this.oddOrEven=(0,e.getStringOption)(Ct.oddOrEven,["any","even","odd"]),this.pagePosition=(0,e.getStringOption)(Ct.pagePosition,["any","first","last","only","rest"]),this.relevant=(0,e.getRelevant)(Ct.relevant),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.desc=null,this.extras=null,this.medium=null,this.occur=null,this.area=new s.XFAObjectArray,this.contentArea=new s.XFAObjectArray,this.draw=new s.XFAObjectArray,this.exclGroup=new s.XFAObjectArray,this.field=new s.XFAObjectArray,this.subform=new s.XFAObjectArray}[s.$isUsable](){return this[s.$extra]?!this.occur||this.occur.max===-1||this[s.$extra].numberOfUse<this.occur.max:(this[s.$extra]={numberOfUse:0},!0)}[s.$cleanPage](){delete this[s.$extra]}[s.$getNextPage](){this[s.$extra]||(this[s.$extra]={numberOfUse:0});const Ct=this[s.$getParent]();return Ct.relation==="orderedOccurrence"&&this[s.$isUsable]()?(this[s.$extra].numberOfUse+=1,this):Ct[s.$getNextPage]()}[s.$getAvailableSpace](){return this[s.$extra].space||{width:0,height:0}}[s.$toHTML](){this[s.$extra]||(this[s.$extra]={numberOfUse:1});const Ct=[];this[s.$extra].children=Ct;const Jt=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(Jt.width=(0,wt.measureToString)(this.medium.short),Jt.height=(0,wt.measureToString)(this.medium.long),this[s.$extra].space={width:this.medium.short,height:this.medium.long},this.medium.orientation==="landscape"){const vn=Jt.width;Jt.width=Jt.height,Jt.height=vn,this[s.$extra].space={width:this.medium.long,height:this.medium.short}}}else(0,gt.warn)("XFA - No medium specified in pageArea: please file a bug.");return this[s.$childrenToHTML]({filter:new Set(["area","draw","field","subform"]),include:!0}),this[s.$childrenToHTML]({filter:new Set(["contentArea"]),include:!0}),e.HTMLResult.success({name:"div",children:Ct,attributes:{class:["xfaPage"],id:this[s.$uid],style:Jt,xfaName:this.name}})}}class nr extends s.XFAObject{constructor(Ct){super(j,"pageSet",!0),this.duplexImposition=(0,e.getStringOption)(Ct.duplexImposition,["longEdge","shortEdge"]),this.id=Ct.id||"",this.name=Ct.name||"",this.relation=(0,e.getStringOption)(Ct.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),this.relevant=(0,e.getRelevant)(Ct.relevant),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.extras=null,this.occur=null,this.pageArea=new s.XFAObjectArray,this.pageSet=new s.XFAObjectArray}[s.$cleanPage](){for(const Ct of this.pageArea.children)Ct[s.$cleanPage]();for(const Ct of this.pageSet.children)Ct[s.$cleanPage]()}[s.$isUsable](){return!this.occur||this.occur.max===-1||this[s.$extra].numberOfUse<this.occur.max}[s.$getNextPage](){if(this[s.$extra]||(this[s.$extra]={numberOfUse:1,pageIndex:-1,pageSetIndex:-1}),this.relation==="orderedOccurrence"){if(this[s.$extra].pageIndex+1<this.pageArea.children.length)return this[s.$extra].pageIndex+=1,this.pageArea.children[this[s.$extra].pageIndex][s.$getNextPage]();if(this[s.$extra].pageSetIndex+1<this.pageSet.children.length)return this[s.$extra].pageSetIndex+=1,this.pageSet.children[this[s.$extra].pageSetIndex][s.$getNextPage]();if(this[s.$isUsable]())return this[s.$extra].numberOfUse+=1,this[s.$extra].pageIndex=-1,this[s.$extra].pageSetIndex=-1,this[s.$getNextPage]();const Kn=this[s.$getParent]();return Kn instanceof nr?Kn[s.$getNextPage]():(this[s.$cleanPage](),this[s.$getNextPage]())}const Ct=this[s.$getTemplateRoot]()[s.$extra].pageNumber,Jt=Ct%2===0?"even":"odd",vn=Ct===0?"first":"rest";let kn=this.pageArea.children.find(Kn=>Kn.oddOrEven===Jt&&Kn.pagePosition===vn);return kn||(kn=this.pageArea.children.find(Kn=>Kn.oddOrEven==="any"&&Kn.pagePosition===vn),kn)||(kn=this.pageArea.children.find(Kn=>Kn.oddOrEven==="any"&&Kn.pagePosition==="any"),kn)?kn:this.pageArea.children[0]}}class Ar extends s.XFAObject{constructor(Ct){super(j,"para",!0),this.hAlign=(0,e.getStringOption)(Ct.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Ct.id||"",this.lineHeight=Ct.lineHeight?(0,e.getMeasurement)(Ct.lineHeight,"0pt"):"",this.marginLeft=Ct.marginLeft?(0,e.getMeasurement)(Ct.marginLeft,"0pt"):"",this.marginRight=Ct.marginRight?(0,e.getMeasurement)(Ct.marginRight,"0pt"):"",this.orphans=(0,e.getInteger)({data:Ct.orphans,defaultValue:0,validate:Jt=>Jt>=0}),this.preserve=Ct.preserve||"",this.radixOffset=Ct.radixOffset?(0,e.getMeasurement)(Ct.radixOffset,"0pt"):"",this.spaceAbove=Ct.spaceAbove?(0,e.getMeasurement)(Ct.spaceAbove,"0pt"):"",this.spaceBelow=Ct.spaceBelow?(0,e.getMeasurement)(Ct.spaceBelow,"0pt"):"",this.tabDefault=Ct.tabDefault?(0,e.getMeasurement)(this.tabDefault):"",this.tabStops=(Ct.tabStops||"").trim().split(/\s+/).map((Jt,vn)=>vn%2===1?(0,e.getMeasurement)(Jt):Jt),this.textIndent=Ct.textIndent?(0,e.getMeasurement)(Ct.textIndent,"0pt"):"",this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.vAlign=(0,e.getStringOption)(Ct.vAlign,["top","bottom","middle"]),this.widows=(0,e.getInteger)({data:Ct.widows,defaultValue:0,validate:Jt=>Jt>=0}),this.hyphenation=null}[s.$toStyle](){const Ct=(0,wt.toStyle)(this,"hAlign");return this.marginLeft!==""&&(Ct.paddingLeft=(0,wt.measureToString)(this.marginLeft)),this.marginRight!==""&&(Ct.paddingight=(0,wt.measureToString)(this.marginRight)),this.spaceAbove!==""&&(Ct.paddingTop=(0,wt.measureToString)(this.spaceAbove)),this.spaceBelow!==""&&(Ct.paddingBottom=(0,wt.measureToString)(this.spaceBelow)),this.textIndent!==""&&(Ct.textIndent=(0,wt.measureToString)(this.textIndent),(0,wt.fixTextIndent)(Ct)),this.lineHeight>0&&(Ct.lineHeight=(0,wt.measureToString)(this.lineHeight)),this.tabDefault!==""&&(Ct.tabSize=(0,wt.measureToString)(this.tabDefault)),this.tabStops.length>0,this.hyphenatation&&Object.assign(Ct,this.hyphenatation[s.$toStyle]()),Ct}}class Gr extends s.XFAObject{constructor(Ct){super(j,"passwordEdit",!0),this.hScrollPolicy=(0,e.getStringOption)(Ct.hScrollPolicy,["auto","off","on"]),this.id=Ct.id||"",this.passwordChar=Ct.passwordChar||"*",this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.border=null,this.extras=null,this.margin=null}}class Sr extends s.XFAObject{constructor(Ct){super(j,"pattern",!0),this.id=Ct.id||"",this.type=(0,e.getStringOption)(Ct.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.color=null,this.extras=null}[s.$toStyle](Ct){Ct=Ct?Ct[s.$toStyle]():"#FFFFFF";const Jt=this.color?this.color[s.$toStyle]():"#000000",vn=5,kn="repeating-linear-gradient",Kn=`${Ct},${Ct} ${vn}px,${Jt} ${vn}px,${Jt} ${2*vn}px`;switch(this.type){case"crossHatch":return`${kn}(to top,${Kn}) ${kn}(to right,${Kn})`;case"crossDiagonal":return`${kn}(45deg,${Kn}) ${kn}(-45deg,${Kn})`;case"diagonalLeft":return`${kn}(45deg,${Kn})`;case"diagonalRight":return`${kn}(-45deg,${Kn})`;case"horizontal":return`${kn}(to top,${Kn})`;case"vertical":return`${kn}(to right,${Kn})`}return""}}class Er extends s.StringObject{constructor(Ct){super(j,"picture"),this.id=Ct.id||"",this.use=Ct.use||"",this.usehref=Ct.usehref||""}}class Wr extends s.XFAObject{constructor(Ct){super(j,"proto",!0),this.appearanceFilter=new s.XFAObjectArray,this.arc=new s.XFAObjectArray,this.area=new s.XFAObjectArray,this.assist=new s.XFAObjectArray,this.barcode=new s.XFAObjectArray,this.bindItems=new s.XFAObjectArray,this.bookend=new s.XFAObjectArray,this.boolean=new s.XFAObjectArray,this.border=new s.XFAObjectArray,this.break=new s.XFAObjectArray,this.breakAfter=new s.XFAObjectArray,this.breakBefore=new s.XFAObjectArray,this.button=new s.XFAObjectArray,this.calculate=new s.XFAObjectArray,this.caption=new s.XFAObjectArray,this.certificate=new s.XFAObjectArray,this.certificates=new s.XFAObjectArray,this.checkButton=new s.XFAObjectArray,this.choiceList=new s.XFAObjectArray,this.color=new s.XFAObjectArray,this.comb=new s.XFAObjectArray,this.connect=new s.XFAObjectArray,this.contentArea=new s.XFAObjectArray,this.corner=new s.XFAObjectArray,this.date=new s.XFAObjectArray,this.dateTime=new s.XFAObjectArray,this.dateTimeEdit=new s.XFAObjectArray,this.decimal=new s.XFAObjectArray,this.defaultUi=new s.XFAObjectArray,this.desc=new s.XFAObjectArray,this.digestMethod=new s.XFAObjectArray,this.digestMethods=new s.XFAObjectArray,this.draw=new s.XFAObjectArray,this.edge=new s.XFAObjectArray,this.encoding=new s.XFAObjectArray,this.encodings=new s.XFAObjectArray,this.encrypt=new s.XFAObjectArray,this.encryptData=new s.XFAObjectArray,this.encryption=new s.XFAObjectArray,this.encryptionMethod=new s.XFAObjectArray,this.encryptionMethods=new s.XFAObjectArray,this.event=new s.XFAObjectArray,this.exData=new s.XFAObjectArray,this.exObject=new s.XFAObjectArray,this.exclGroup=new s.XFAObjectArray,this.execute=new s.XFAObjectArray,this.extras=new s.XFAObjectArray,this.field=new s.XFAObjectArray,this.fill=new s.XFAObjectArray,this.filter=new s.XFAObjectArray,this.float=new s.XFAObjectArray,this.font=new s.XFAObjectArray,this.format=new s.XFAObjectArray,this.handler=new s.XFAObjectArray,this.hyphenation=new s.XFAObjectArray,this.image=new s.XFAObjectArray,this.imageEdit=new s.XFAObjectArray,this.integer=new s.XFAObjectArray,this.issuers=new s.XFAObjectArray,this.items=new s.XFAObjectArray,this.keep=new s.XFAObjectArray,this.keyUsage=new s.XFAObjectArray,this.line=new s.XFAObjectArray,this.linear=new s.XFAObjectArray,this.lockDocument=new s.XFAObjectArray,this.manifest=new s.XFAObjectArray,this.margin=new s.XFAObjectArray,this.mdp=new s.XFAObjectArray,this.medium=new s.XFAObjectArray,this.message=new s.XFAObjectArray,this.numericEdit=new s.XFAObjectArray,this.occur=new s.XFAObjectArray,this.oid=new s.XFAObjectArray,this.oids=new s.XFAObjectArray,this.overflow=new s.XFAObjectArray,this.pageArea=new s.XFAObjectArray,this.pageSet=new s.XFAObjectArray,this.para=new s.XFAObjectArray,this.passwordEdit=new s.XFAObjectArray,this.pattern=new s.XFAObjectArray,this.picture=new s.XFAObjectArray,this.radial=new s.XFAObjectArray,this.reason=new s.XFAObjectArray,this.reasons=new s.XFAObjectArray,this.rectangle=new s.XFAObjectArray,this.ref=new s.XFAObjectArray,this.script=new s.XFAObjectArray,this.setProperty=new s.XFAObjectArray,this.signData=new s.XFAObjectArray,this.signature=new s.XFAObjectArray,this.signing=new s.XFAObjectArray,this.solid=new s.XFAObjectArray,this.speak=new s.XFAObjectArray,this.stipple=new s.XFAObjectArray,this.subform=new s.XFAObjectArray,this.subformSet=new s.XFAObjectArray,this.subjectDN=new s.XFAObjectArray,this.subjectDNs=new s.XFAObjectArray,this.submit=new s.XFAObjectArray,this.text=new s.XFAObjectArray,this.textEdit=new s.XFAObjectArray,this.time=new s.XFAObjectArray,this.timeStamp=new s.XFAObjectArray,this.toolTip=new s.XFAObjectArray,this.traversal=new s.XFAObjectArray,this.traverse=new s.XFAObjectArray,this.ui=new s.XFAObjectArray,this.validate=new s.XFAObjectArray,this.value=new s.XFAObjectArray,this.variables=new s.XFAObjectArray}}class $a extends s.XFAObject{constructor(Ct){super(j,"radial",!0),this.id=Ct.id||"",this.type=(0,e.getStringOption)(Ct.type,["toEdge","toCenter"]),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.color=null,this.extras=null}[s.$toStyle](Ct){Ct=Ct?Ct[s.$toStyle]():"#FFFFFF";const Jt=this.color?this.color[s.$toStyle]():"#000000";return`radial-gradient(circle at center, ${this.type==="toEdge"?`${Ct},${Jt}`:`${Jt},${Ct}`})`}}class ys extends s.StringObject{constructor(Ct){super(j,"reason"),this.id=Ct.id||"",this.name=Ct.name||"",this.use=Ct.use||"",this.usehref=Ct.usehref||""}}class ao extends s.XFAObject{constructor(Ct){super(j,"reasons",!0),this.id=Ct.id||"",this.type=(0,e.getStringOption)(Ct.type,["optional","required"]),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.reason=new s.XFAObjectArray}}class vo extends s.XFAObject{constructor(Ct){super(j,"rectangle",!0),this.hand=(0,e.getStringOption)(Ct.hand,["even","left","right"]),this.id=Ct.id||"",this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.corner=new s.XFAObjectArray(4),this.edge=new s.XFAObjectArray(4),this.fill=null}[s.$toHTML](){const Ct=this.edge.children.length?this.edge.children[0]:new Cn({}),Jt=Ct[s.$toStyle](),vn=Object.create(null);this.fill&&this.fill.presence==="visible"?Object.assign(vn,this.fill[s.$toStyle]()):vn.fill="transparent",vn.strokeWidth=(0,wt.measureToString)(Ct.presence==="visible"?Ct.thickness:0),vn.stroke=Jt.color;const Kn=(this.corner.children.length?this.corner.children[0]:new en({}))[s.$toStyle](),fr={name:"svg",children:[{name:"rect",attributes:{xmlns:g,width:"100%",height:"100%",x:0,y:0,rx:Kn.radius,ry:Kn.radius,style:vn}}],attributes:{xmlns:g,style:{overflow:"visible"},width:"100%",height:"100%"}},vr=this[s.$getParent]()[s.$getParent]();return pt(vr)?e.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[fr]}):(fr.attributes.style.position="absolute",e.HTMLResult.success(fr))}}class _l extends s.StringObject{constructor(Ct){super(j,"ref"),this.id=Ct.id||"",this.use=Ct.use||"",this.usehref=Ct.usehref||""}}class Lo extends s.StringObject{constructor(Ct){super(j,"script"),this.binding=Ct.binding||"",this.contentType=Ct.contentType||"",this.id=Ct.id||"",this.name=Ct.name||"",this.runAt=(0,e.getStringOption)(Ct.runAt,["client","both","server"]),this.use=Ct.use||"",this.usehref=Ct.usehref||""}}class Ao extends s.XFAObject{constructor(Ct){super(j,"setProperty"),this.connection=Ct.connection||"",this.ref=Ct.ref||"",this.target=Ct.target||""}}ct.SetProperty=Ao;class wo extends s.XFAObject{constructor(Ct){super(j,"signData",!0),this.id=Ct.id||"",this.operation=(0,e.getStringOption)(Ct.operation,["sign","clear","verify"]),this.ref=Ct.ref||"",this.target=Ct.target||"",this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.filter=null,this.manifest=null}}class Cl extends s.XFAObject{constructor(Ct){super(j,"signature",!0),this.id=Ct.id||"",this.type=(0,e.getStringOption)(Ct.type,["PDF1.3","PDF1.6"]),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.border=null,this.extras=null,this.filter=null,this.manifest=null,this.margin=null}}class No extends s.XFAObject{constructor(Ct){super(j,"signing",!0),this.id=Ct.id||"",this.type=(0,e.getStringOption)(Ct.type,["optional","required"]),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.certificate=new s.XFAObjectArray}}class So extends s.XFAObject{constructor(Ct){super(j,"solid",!0),this.id=Ct.id||"",this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.extras=null}[s.$toStyle](Ct){return Ct?Ct[s.$toStyle]():"#FFFFFF"}}class _o extends s.StringObject{constructor(Ct){super(j,"speak"),this.disable=(0,e.getInteger)({data:Ct.disable,defaultValue:0,validate:Jt=>Jt===1}),this.id=Ct.id||"",this.priority=(0,e.getStringOption)(Ct.priority,["custom","caption","name","toolTip"]),this.rid=Ct.rid||"",this.use=Ct.use||"",this.usehref=Ct.usehref||""}}class Xs extends s.XFAObject{constructor(Ct){super(j,"stipple",!0),this.id=Ct.id||"",this.rate=(0,e.getInteger)({data:Ct.rate,defaultValue:50,validate:Jt=>Jt>=0&&Jt<=100}),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.color=null,this.extras=null}[s.$toStyle](Ct){const Jt=this.rate/100;return gt.Util.makeHexColor(Math.round(Ct.value.r*(1-Jt)+this.value.r*Jt),Math.round(Ct.value.g*(1-Jt)+this.value.g*Jt),Math.round(Ct.value.b*(1-Jt)+this.value.b*Jt))}}class Co extends s.XFAObject{constructor(Ct){super(j,"subform",!0),this.access=(0,e.getStringOption)(Ct.access,["open","nonInteractive","protected","readOnly"]),this.allowMacro=(0,e.getInteger)({data:Ct.allowMacro,defaultValue:0,validate:Jt=>Jt===1}),this.anchorType=(0,e.getStringOption)(Ct.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,e.getInteger)({data:Ct.colSpan,defaultValue:1,validate:Jt=>Jt>=1||Jt===-1}),this.columnWidths=(Ct.columnWidths||"").trim().split(/\s+/).map(Jt=>Jt==="-1"?-1:(0,e.getMeasurement)(Jt)),this.h=Ct.h?(0,e.getMeasurement)(Ct.h):"",this.hAlign=(0,e.getStringOption)(Ct.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=Ct.id||"",this.layout=(0,e.getStringOption)(Ct.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.locale=Ct.locale||"",this.maxH=(0,e.getMeasurement)(Ct.maxH,"0pt"),this.maxW=(0,e.getMeasurement)(Ct.maxW,"0pt"),this.mergeMode=(0,e.getStringOption)(Ct.mergeMode,["consumeData","matchTemplate"]),this.minH=(0,e.getMeasurement)(Ct.minH,"0pt"),this.minW=(0,e.getMeasurement)(Ct.minW,"0pt"),this.name=Ct.name||"",this.presence=(0,e.getStringOption)(Ct.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,e.getRelevant)(Ct.relevant),this.restoreState=(0,e.getStringOption)(Ct.restoreState,["manual","auto"]),this.scope=(0,e.getStringOption)(Ct.scope,["name","none"]),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.w=Ct.w?(0,e.getMeasurement)(Ct.w):"",this.x=(0,e.getMeasurement)(Ct.x,"0pt"),this.y=(0,e.getMeasurement)(Ct.y,"0pt"),this.assist=null,this.bind=null,this.bookend=null,this.border=null,this.break=null,this.calculate=null,this.desc=null,this.extras=null,this.keep=null,this.margin=null,this.occur=null,this.overflow=null,this.pageSet=null,this.para=null,this.traversal=null,this.validate=null,this.variables=null,this.area=new s.XFAObjectArray,this.breakAfter=new s.XFAObjectArray,this.breakBefore=new s.XFAObjectArray,this.connect=new s.XFAObjectArray,this.draw=new s.XFAObjectArray,this.event=new s.XFAObjectArray,this.exObject=new s.XFAObjectArray,this.exclGroup=new s.XFAObjectArray,this.field=new s.XFAObjectArray,this.proto=new s.XFAObjectArray,this.setProperty=new s.XFAObjectArray,this.subform=new s.XFAObjectArray,this.subformSet=new s.XFAObjectArray}[s.$getSubformParent](){const Ct=this[s.$getParent]();return Ct instanceof so?Ct[s.$getSubformParent]():Ct}[s.$isBindable](){return!0}[s.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[s.$extra].attempt===0&&this[s.$extra].numberInLine>0||this[s.$getParent]()[s.$isThereMoreWidth]()}*[s.$getContainedChildren](){yield*Pt(this)}[s.$flushHTML](){return(0,Tt.flushHTML)(this)}[s.$addHTML](Ct,Jt){(0,Tt.addHTML)(this,Ct,Jt)}[s.$getAvailableSpace](){return(0,Tt.getAvailableSpace)(this)}[s.$isSplittable](){const Ct=this[s.$getSubformParent]();return Ct[s.$isSplittable]()?this[s.$extra]._isSplittable!==void 0?this[s.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[s.$extra]._isSplittable=!1,!1):this.keep&&this.keep.intact!=="none"?(this[s.$extra]._isSplittable=!1,!1):Ct.layout&&Ct.layout.endsWith("-tb")&&Ct[s.$extra].numberInLine!==0?!1:(this[s.$extra]._isSplittable=!0,!0):!1}[s.$toHTML](Ct){if(Ft(this),this.break){if(this.break.after!=="auto"||this.break.afterTarget!==""){const Lr=new It({targetType:this.break.after,target:this.break.afterTarget,startNew:this.break.startNew.toString()});Lr[s.$globalData]=this[s.$globalData],this[s.$appendChild](Lr),this.breakAfter.push(Lr)}if(this.break.before!=="auto"||this.break.beforeTarget!==""){const Lr=new Dt({targetType:this.break.before,target:this.break.beforeTarget,startNew:this.break.startNew.toString()});Lr[s.$globalData]=this[s.$globalData],this[s.$appendChild](Lr),this.breakBefore.push(Lr)}if(this.break.overflowTarget!==""){const Lr=new Bn({target:this.break.overflowTarget,leader:this.break.overflowLeader,trailer:this.break.overflowTrailer});Lr[s.$globalData]=this[s.$globalData],this[s.$appendChild](Lr),this.overflow.push(Lr)}this[s.$removeChild](this.break),this.break=null}if(this.presence==="hidden"||this.presence==="inactive")return e.HTMLResult.EMPTY;if((this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&(0,gt.warn)("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),this.breakBefore.children.length>=1){const Lr=this.breakBefore.children[0];if(St(Lr))return e.HTMLResult.breakNode(Lr)}if(this[s.$extra]&&this[s.$extra].afterBreakAfter)return e.HTMLResult.EMPTY;(0,wt.fixDimensions)(this);const Jt=[],vn={id:this[s.$uid],class:[]};(0,wt.setAccess)(this,vn.class),this[s.$extra]||(this[s.$extra]=Object.create(null)),Object.assign(this[s.$extra],{children:Jt,line:null,attributes:vn,attempt:0,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,Ct.width),height:Math.min(this.h||1/0,Ct.height)},width:0,height:0,prevHeight:0,currentWidth:0});const kn=this[s.$getTemplateRoot](),Kn=kn[s.$extra].noLayoutFailure,mr=this[s.$isSplittable]();if(mr||at(this),!(0,Tt.checkDimensions)(this,Ct))return e.HTMLResult.FAILURE;const fr=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){const Lr=this[s.$getSubformParent]().columnWidths;Array.isArray(Lr)&&Lr.length>0&&(this[s.$extra].columnWidths=Lr,this[s.$extra].currentColumn=0)}const vr=(0,wt.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),Pr=["xfaSubform"],$r=(0,wt.layoutClass)(this);if($r&&Pr.push($r),vn.style=vr,vn.class=Pr,this.name&&(vn.xfaName=this.name),this.overflow){const Lr=this.overflow[s.$getExtra]();Lr.addLeader&&(Lr.addLeader=!1,ht(this,Lr.leader,Ct))}this[s.$pushPara]();const Qr=this.layout==="lr-tb"||this.layout==="rl-tb",Zr=Qr?o:1;for(;this[s.$extra].attempt<Zr;this[s.$extra].attempt++){Qr&&this[s.$extra].attempt===o-1&&(this[s.$extra].numberInLine=0);const Lr=this[s.$childrenToHTML]({filter:fr,include:!0});if(Lr.success)break;if(Lr.isBreak())return this[s.$popPara](),Lr;if(Qr&&this[s.$extra].attempt===0&&this[s.$extra].numberInLine===0&&!kn[s.$extra].noLayoutFailure){this[s.$extra].attempt=Zr;break}}if(this[s.$popPara](),mr||bt(this),kn[s.$extra].noLayoutFailure=Kn,this[s.$extra].attempt===Zr)return this.overflow&&(this[s.$getTemplateRoot]()[s.$extra].overflowNode=this.overflow),mr||delete this[s.$extra],e.HTMLResult.FAILURE;if(this.overflow){const Lr=this.overflow[s.$getExtra]();Lr.addTrailer&&(Lr.addTrailer=!1,ht(this,Lr.trailer,Ct))}let Nr=0,_i=0;this.margin&&(Nr=this.margin.leftInset+this.margin.rightInset,_i=this.margin.topInset+this.margin.bottomInset);const Fr=Math.max(this[s.$extra].width+Nr,this.w||0),ts=Math.max(this[s.$extra].height+_i,this.h||0),Or=[this.x,this.y,Fr,ts];if(this.w===""&&(vr.width=(0,wt.measureToString)(Fr)),this.h===""&&(vr.height=(0,wt.measureToString)(ts)),(vr.width==="0px"||vr.height==="0px")&&Jt.length===0)return e.HTMLResult.EMPTY;const Ir={name:"div",attributes:vn,children:Jt};lt(this,vn);const us=e.HTMLResult.success((0,wt.createWrapper)(this,Ir),Or);if(this.breakAfter.children.length>=1){const Lr=this.breakAfter.children[0];if(St(Lr))return this[s.$extra].afterBreakAfter=us,e.HTMLResult.breakNode(Lr)}return delete this[s.$extra],us}}class so extends s.XFAObject{constructor(Ct){super(j,"subformSet",!0),this.id=Ct.id||"",this.name=Ct.name||"",this.relation=(0,e.getStringOption)(Ct.relation,["ordered","choice","unordered"]),this.relevant=(0,e.getRelevant)(Ct.relevant),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.bookend=null,this.break=null,this.desc=null,this.extras=null,this.occur=null,this.overflow=null,this.breakAfter=new s.XFAObjectArray,this.breakBefore=new s.XFAObjectArray,this.subform=new s.XFAObjectArray,this.subformSet=new s.XFAObjectArray}*[s.$getContainedChildren](){yield*Pt(this)}[s.$getSubformParent](){let Ct=this[s.$getParent]();for(;!(Ct instanceof Co);)Ct=Ct[s.$getParent]();return Ct}[s.$isBindable](){return!0}}class El extends s.ContentObject{constructor(Ct){super(j,"subjectDN"),this.delimiter=Ct.delimiter||",",this.id=Ct.id||"",this.name=Ct.name||"",this.use=Ct.use||"",this.usehref=Ct.usehref||""}[s.$finalize](){this[s.$content]=new Map(this[s.$content].split(this.delimiter).map(Ct=>(Ct=Ct.split("=",2),Ct[0]=Ct[0].trim(),Ct)))}}class Bo extends s.XFAObject{constructor(Ct){super(j,"subjectDNs",!0),this.id=Ct.id||"",this.type=(0,e.getStringOption)(Ct.type,["optional","required"]),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.subjectDN=new s.XFAObjectArray}}class jo extends s.XFAObject{constructor(Ct){super(j,"submit",!0),this.embedPDF=(0,e.getInteger)({data:Ct.embedPDF,defaultValue:0,validate:Jt=>Jt===1}),this.format=(0,e.getStringOption)(Ct.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),this.id=Ct.id||"",this.target=Ct.target||"",this.textEncoding=(0,e.getKeyword)({data:Ct.textEncoding?Ct.textEncoding.toLowerCase():"",defaultValue:"",validate:Jt=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(Jt)||Jt.match(/iso-8859-\d{2}/)}),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.xdpContent=Ct.xdpContent||"",this.encrypt=null,this.encryptData=new s.XFAObjectArray,this.signData=new s.XFAObjectArray}}class oo extends s.XFAObject{constructor(Ct){super(j,"template",!0),this.baseProfile=(0,e.getStringOption)(Ct.baseProfile,["full","interactiveForms"]),this.extras=null,this.subform=new s.XFAObjectArray}[s.$finalize](){this.subform.children.length===0&&(0,gt.warn)("XFA - No subforms in template node."),this.subform.children.length>=2&&(0,gt.warn)("XFA - Several subforms in template node: please file a bug."),this[s.$tabIndex]=dt}[s.$isSplittable](){return!0}[s.$searchNode](Ct,Jt){return Ct.startsWith("#")?[this[s.$ids].get(Ct.slice(1))]:(0,d.searchNode)(this,Jt,Ct,!0,!0)}*[s.$toPages](){if(!this.subform.children.length)return e.HTMLResult.success({name:"div",children:[]});this[s.$extra]={overflowNode:null,firstUnsplittable:null,currentContentArea:null,currentPageArea:null,noLayoutFailure:!1,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank",paraStack:[]};const Ct=this.subform.children[0];Ct.pageSet[s.$cleanPage]();const Jt=Ct.pageSet.pageArea.children,vn={name:"div",children:[]};let kn=null,Kn=null,mr=null;if(Ct.breakBefore.children.length>=1?(Kn=Ct.breakBefore.children[0],mr=Kn.target):Ct.subform.children.length>=1&&Ct.subform.children[0].breakBefore.children.length>=1?(Kn=Ct.subform.children[0].breakBefore.children[0],mr=Kn.target):Ct.break&&Ct.break.beforeTarget?(Kn=Ct.break,mr=Kn.beforeTarget):Ct.subform.children.length>=1&&Ct.subform.children[0].break&&Ct.subform.children[0].break.beforeTarget&&(Kn=Ct.subform.children[0].break,mr=Kn.beforeTarget),Kn){const _i=this[s.$searchNode](mr,Kn[s.$getParent]());_i instanceof Nn&&(kn=_i,Kn[s.$extra]={})}kn||(kn=Jt[0]),kn[s.$extra]={numberOfUse:1};const fr=kn[s.$getParent]();fr[s.$extra]={numberOfUse:1,pageIndex:fr.pageArea.children.indexOf(kn),pageSetIndex:0};let vr,Pr=null,$r=null,Qr=!0,Zr=0,Nr=0;for(;;){if(Qr)Zr=0;else if(vn.children.pop(),++Zr===ut)return(0,gt.warn)("XFA - Something goes wrong: please file a bug."),vn;vr=null,this[s.$extra].currentPageArea=kn;const _i=kn[s.$toHTML]().html;vn.children.push(_i),Pr&&(this[s.$extra].noLayoutFailure=!0,_i.children.push(Pr[s.$toHTML](kn[s.$extra].space).html),Pr=null),$r&&(this[s.$extra].noLayoutFailure=!0,_i.children.push($r[s.$toHTML](kn[s.$extra].space).html),$r=null);const Fr=kn.contentArea.children,ts=_i.children.filter(Ir=>Ir.attributes.class.includes("xfaContentarea"));Qr=!1,this[s.$extra].firstUnsplittable=null,this[s.$extra].noLayoutFailure=!1;const Or=Ir=>{const us=Ct[s.$flushHTML]();us&&(Qr=Qr||us.children&&us.children.length!==0,ts[Ir].children.push(us))};for(let Ir=Nr,us=Fr.length;Ir<us;Ir++){const Lr=this[s.$extra].currentContentArea=Fr[Ir],Bs={width:Lr.w,height:Lr.h};Nr=0,Pr&&(ts[Ir].children.push(Pr[s.$toHTML](Bs).html),Pr=null),$r&&(ts[Ir].children.push($r[s.$toHTML](Bs).html),$r=null);const vs=Ct[s.$toHTML](Bs);if(vs.success)return vs.html?(Qr=Qr||vs.html.children&&vs.html.children.length!==0,ts[Ir].children.push(vs.html)):!Qr&&vn.children.length>1&&vn.children.pop(),vn;if(vs.isBreak()){const ss=vs.breakNode;if(Or(Ir),ss.targetType==="auto")continue;ss.leader&&(Pr=this[s.$searchNode](ss.leader,ss[s.$getParent]()),Pr=Pr?Pr[0]:null),ss.trailer&&($r=this[s.$searchNode](ss.trailer,ss[s.$getParent]()),$r=$r?$r[0]:null),ss.targetType==="pageArea"?(vr=ss[s.$extra].target,Ir=1/0):ss[s.$extra].target?(vr=ss[s.$extra].target,Nr=ss[s.$extra].index+1,Ir=1/0):Ir=ss[s.$extra].index;continue}if(this[s.$extra].overflowNode){const ss=this[s.$extra].overflowNode;this[s.$extra].overflowNode=null;const co=ss[s.$getExtra](),os=co.target;co.addLeader=co.leader!==null,co.addTrailer=co.trailer!==null,Or(Ir);const Y0=Ir;if(Ir=1/0,os instanceof Nn)vr=os;else if(os instanceof Qt){const ds=Fr.indexOf(os);ds!==-1?ds>Y0?Ir=ds-1:Nr=ds:(vr=os[s.$getParent](),Nr=vr.contentArea.children.indexOf(os))}continue}Or(Ir)}this[s.$extra].pageNumber+=1,vr&&(vr[s.$isUsable]()?vr[s.$extra].numberOfUse+=1:vr=null),kn=vr||kn[s.$getNextPage](),yield null}}}ct.Template=oo;class ko extends s.ContentObject{constructor(Ct){super(j,"text"),this.id=Ct.id||"",this.maxChars=(0,e.getInteger)({data:Ct.maxChars,defaultValue:0,validate:Jt=>Jt>=0}),this.name=Ct.name||"",this.rid=Ct.rid||"",this.use=Ct.use||"",this.usehref=Ct.usehref||""}[s.$acceptWhitespace](){return!0}[s.$onChild](Ct){return Ct[s.$namespaceId]===st.NamespaceIds.xhtml.id?(this[s.$content]=Ct,!0):((0,gt.warn)(`XFA - Invalid content in Text: ${Ct[s.$nodeName]}.`),!1)}[s.$onText](Ct){this[s.$content]instanceof s.XFAObject||super[s.$onText](Ct)}[s.$finalize](){typeof this[s.$content]=="string"&&(this[s.$content]=this[s.$content].replace(/\r\n/g,`
`))}[s.$getExtra](){return typeof this[s.$content]=="string"?this[s.$content].split(/[\u2029\u2028\n]/).reduce((Ct,Jt)=>(Jt&&Ct.push(Jt),Ct),[]).join(`
`):this[s.$content][s.$text]()}[s.$toHTML](Ct){if(typeof this[s.$content]=="string"){const Jt=it(this[s.$content]).html;return this[s.$content].includes("\u2029")?(Jt.name="div",Jt.children=[],this[s.$content].split("\u2029").map(vn=>vn.split(/[\u2028\n]/).reduce((kn,Kn)=>(kn.push({name:"span",value:Kn},{name:"br"}),kn),[])).forEach(vn=>{Jt.children.push({name:"p",children:vn})})):/[\u2028\n]/.test(this[s.$content])&&(Jt.name="div",Jt.children=[],this[s.$content].split(/[\u2028\n]/).forEach(vn=>{Jt.children.push({name:"span",value:vn},{name:"br"})})),e.HTMLResult.success(Jt)}return this[s.$content][s.$toHTML](Ct)}}ct.Text=ko;class $o extends s.XFAObject{constructor(Ct){super(j,"textEdit",!0),this.allowRichText=(0,e.getInteger)({data:Ct.allowRichText,defaultValue:0,validate:Jt=>Jt===1}),this.hScrollPolicy=(0,e.getStringOption)(Ct.hScrollPolicy,["auto","off","on"]),this.id=Ct.id||"",this.multiLine=(0,e.getInteger)({data:Ct.multiLine,defaultValue:"",validate:Jt=>Jt===0||Jt===1}),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.vScrollPolicy=(0,e.getStringOption)(Ct.vScrollPolicy,["auto","off","on"]),this.border=null,this.comb=null,this.extras=null,this.margin=null}[s.$toHTML](Ct){const Jt=(0,wt.toStyle)(this,"border","font","margin");let vn;const kn=this[s.$getParent]()[s.$getParent]();return this.multiLine===""&&(this.multiLine=kn instanceof An?1:0),this.multiLine===1?vn={name:"textarea",attributes:{dataId:kn[s.$data]&&kn[s.$data][s.$uid]||kn[s.$uid],fieldId:kn[s.$uid],class:["xfaTextfield"],style:Jt,"aria-label":ft(kn),"aria-required":!1}}:vn={name:"input",attributes:{type:"text",dataId:kn[s.$data]&&kn[s.$data][s.$uid]||kn[s.$uid],fieldId:kn[s.$uid],class:["xfaTextfield"],style:Jt,"aria-label":ft(kn),"aria-required":!1}},Rt(kn)&&(vn.attributes["aria-required"]=!0,vn.attributes.required=!0),e.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[vn]})}}class Fl extends s.StringObject{constructor(Ct){super(j,"time"),this.id=Ct.id||"",this.name=Ct.name||"",this.use=Ct.use||"",this.usehref=Ct.usehref||""}[s.$finalize](){const Ct=this[s.$content].trim();this[s.$content]=Ct?new Date(Ct):null}[s.$toHTML](Ct){return it(this[s.$content]?this[s.$content].toString():"")}}class Tl extends s.XFAObject{constructor(Ct){super(j,"timeStamp"),this.id=Ct.id||"",this.server=Ct.server||"",this.type=(0,e.getStringOption)(Ct.type,["optional","required"]),this.use=Ct.use||"",this.usehref=Ct.usehref||""}}class Uo extends s.StringObject{constructor(Ct){super(j,"toolTip"),this.id=Ct.id||"",this.rid=Ct.rid||"",this.use=Ct.use||"",this.usehref=Ct.usehref||""}}class Pl extends s.XFAObject{constructor(Ct){super(j,"traversal",!0),this.id=Ct.id||"",this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.extras=null,this.traverse=new s.XFAObjectArray}}class Ol extends s.XFAObject{constructor(Ct){super(j,"traverse",!0),this.id=Ct.id||"",this.operation=(0,e.getStringOption)(Ct.operation,["next","back","down","first","left","right","up"]),this.ref=Ct.ref||"",this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.extras=null,this.script=null}get name(){return this.operation}[s.$isTransparent](){return!1}}class Eo extends s.XFAObject{constructor(Ct){super(j,"ui",!0),this.id=Ct.id||"",this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.extras=null,this.picture=null,this.barcode=null,this.button=null,this.checkButton=null,this.choiceList=null,this.dateTimeEdit=null,this.defaultUi=null,this.imageEdit=null,this.numericEdit=null,this.passwordEdit=null,this.signature=null,this.textEdit=null}[s.$getExtra](){if(this[s.$extra]===void 0){for(const Ct of Object.getOwnPropertyNames(this)){if(Ct==="extras"||Ct==="picture")continue;const Jt=this[Ct];if(Jt instanceof s.XFAObject)return this[s.$extra]=Jt,Jt}this[s.$extra]=null}return this[s.$extra]}[s.$toHTML](Ct){const Jt=this[s.$getExtra]();return Jt?Jt[s.$toHTML](Ct):e.HTMLResult.EMPTY}}class Ml extends s.XFAObject{constructor(Ct){super(j,"validate",!0),this.formatTest=(0,e.getStringOption)(Ct.formatTest,["warning","disabled","error"]),this.id=Ct.id||"",this.nullTest=(0,e.getStringOption)(Ct.nullTest,["disabled","error","warning"]),this.scriptTest=(0,e.getStringOption)(Ct.scriptTest,["error","disabled","warning"]),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.extras=null,this.message=null,this.picture=null,this.script=null}}class zs extends s.XFAObject{constructor(Ct){super(j,"value",!0),this.id=Ct.id||"",this.override=(0,e.getInteger)({data:Ct.override,defaultValue:0,validate:Jt=>Jt===1}),this.relevant=(0,e.getRelevant)(Ct.relevant),this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.arc=null,this.boolean=null,this.date=null,this.dateTime=null,this.decimal=null,this.exData=null,this.float=null,this.image=null,this.integer=null,this.line=null,this.rectangle=null,this.text=null,this.time=null}[s.$setValue](Ct){const Jt=this[s.$getParent]();if(Jt instanceof $n&&Jt.ui&&Jt.ui.imageEdit){this.image||(this.image=new yr({}),this[s.$appendChild](this.image)),this.image[s.$content]=Ct[s.$content];return}const vn=Ct[s.$nodeName];if(this[vn]!==null){this[vn][s.$content]=Ct[s.$content];return}for(const kn of Object.getOwnPropertyNames(this)){const Kn=this[kn];Kn instanceof s.XFAObject&&(this[kn]=null,this[s.$removeChild](Kn))}this[Ct[s.$nodeName]]=Ct,this[s.$appendChild](Ct)}[s.$text](){if(this.exData)return typeof this.exData[s.$content]=="string"?this.exData[s.$content].trim():this.exData[s.$content][s.$text]().trim();for(const Ct of Object.getOwnPropertyNames(this)){if(Ct==="image")continue;const Jt=this[Ct];if(Jt instanceof s.XFAObject)return(Jt[s.$content]||"").toString().trim()}return null}[s.$toHTML](Ct){for(const Jt of Object.getOwnPropertyNames(this)){const vn=this[Jt];if(vn instanceof s.XFAObject)return vn[s.$toHTML](Ct)}return e.HTMLResult.EMPTY}}ct.Value=zs;class Il extends s.XFAObject{constructor(Ct){super(j,"variables",!0),this.id=Ct.id||"",this.use=Ct.use||"",this.usehref=Ct.usehref||"",this.boolean=new s.XFAObjectArray,this.date=new s.XFAObjectArray,this.dateTime=new s.XFAObjectArray,this.decimal=new s.XFAObjectArray,this.exData=new s.XFAObjectArray,this.float=new s.XFAObjectArray,this.image=new s.XFAObjectArray,this.integer=new s.XFAObjectArray,this.manifest=new s.XFAObjectArray,this.script=new s.XFAObjectArray,this.text=new s.XFAObjectArray,this.time=new s.XFAObjectArray}[s.$isTransparent](){return!0}}class lo{static[st.$buildXFAObject](Ct,Jt){if(lo.hasOwnProperty(Ct)){const vn=lo[Ct](Jt);return vn[s.$setSetAttributes](Jt),vn}}static appearanceFilter(Ct){return new vt(Ct)}static arc(Ct){return new yt(Ct)}static area(Ct){return new At(Ct)}static assist(Ct){return new Nt(Ct)}static barcode(Ct){return new Ht(Ct)}static bind(Ct){return new xt(Ct)}static bindItems(Ct){return new rt(Ct)}static bookend(Ct){return new mt(Ct)}static boolean(Ct){return new Mt(Ct)}static border(Ct){return new _t(Ct)}static break(Ct){return new Lt(Ct)}static breakAfter(Ct){return new It(Ct)}static breakBefore(Ct){return new Dt(Ct)}static button(Ct){return new jt(Ct)}static calculate(Ct){return new Ot(Ct)}static caption(Ct){return new Xt(Ct)}static certificate(Ct){return new Ut(Ct)}static certificates(Ct){return new Gt(Ct)}static checkButton(Ct){return new qt(Ct)}static choiceList(Ct){return new Kt(Ct)}static color(Ct){return new Vt(Ct)}static comb(Ct){return new Yt(Ct)}static connect(Ct){return new Zt(Ct)}static contentArea(Ct){return new Qt(Ct)}static corner(Ct){return new en(Ct)}static date(Ct){return new rn(Ct)}static dateTime(Ct){return new an(Ct)}static dateTimeEdit(Ct){return new fn(Ct)}static decimal(Ct){return new un(Ct)}static defaultUi(Ct){return new pn(Ct)}static desc(Ct){return new yn(Ct)}static digestMethod(Ct){return new On(Ct)}static digestMethods(Ct){return new En(Ct)}static draw(Ct){return new An(Ct)}static edge(Ct){return new Cn(Ct)}static encoding(Ct){return new gn(Ct)}static encodings(Ct){return new hn(Ct)}static encrypt(Ct){return new on(Ct)}static encryptData(Ct){return new Dn(Ct)}static encryption(Ct){return new Xn(Ct)}static encryptionMethod(Ct){return new er(Ct)}static encryptionMethods(Ct){return new Sn(Ct)}static event(Ct){return new xn(Ct)}static exData(Ct){return new cn(Ct)}static exObject(Ct){return new qn(Ct)}static exclGroup(Ct){return new Vn(Ct)}static execute(Ct){return new Gn(Ct)}static extras(Ct){return new lr(Ct)}static field(Ct){return new $n(Ct)}static fill(Ct){return new tr(Ct)}static filter(Ct){return new pr(Ct)}static float(Ct){return new jn(Ct)}static font(Ct){return new ur(Ct)}static format(Ct){return new rr(Ct)}static handler(Ct){return new Tr(Ct)}static hyphenation(Ct){return new br(Ct)}static image(Ct){return new yr(Ct)}static imageEdit(Ct){return new cr(Ct)}static integer(Ct){return new Jr(Ct)}static issuers(Ct){return new Vr(Ct)}static items(Ct){return new Un(Ct)}static keep(Ct){return new Mn(Ct)}static keyUsage(Ct){return new zn(Ct)}static line(Ct){return new Wn(Ct)}static linear(Ct){return new sr(Ct)}static lockDocument(Ct){return new gr(Ct)}static manifest(Ct){return new ir(Ct)}static margin(Ct){return new Jn(Ct)}static mdp(Ct){return new or(Ct)}static medium(Ct){return new hr(Ct)}static message(Ct){return new kr(Ct)}static numericEdit(Ct){return new _r(Ct)}static occur(Ct){return new dr(Ct)}static oid(Ct){return new mn(Ct)}static oids(Ct){return new Fn(Ct)}static overflow(Ct){return new Bn(Ct)}static pageArea(Ct){return new Nn(Ct)}static pageSet(Ct){return new nr(Ct)}static para(Ct){return new Ar(Ct)}static passwordEdit(Ct){return new Gr(Ct)}static pattern(Ct){return new Sr(Ct)}static picture(Ct){return new Er(Ct)}static proto(Ct){return new Wr(Ct)}static radial(Ct){return new $a(Ct)}static reason(Ct){return new ys(Ct)}static reasons(Ct){return new ao(Ct)}static rectangle(Ct){return new vo(Ct)}static ref(Ct){return new _l(Ct)}static script(Ct){return new Lo(Ct)}static setProperty(Ct){return new Ao(Ct)}static signData(Ct){return new wo(Ct)}static signature(Ct){return new Cl(Ct)}static signing(Ct){return new No(Ct)}static solid(Ct){return new So(Ct)}static speak(Ct){return new _o(Ct)}static stipple(Ct){return new Xs(Ct)}static subform(Ct){return new Co(Ct)}static subformSet(Ct){return new so(Ct)}static subjectDN(Ct){return new El(Ct)}static subjectDNs(Ct){return new Bo(Ct)}static submit(Ct){return new jo(Ct)}static template(Ct){return new oo(Ct)}static text(Ct){return new ko(Ct)}static textEdit(Ct){return new $o(Ct)}static time(Ct){return new Fl(Ct)}static timeStamp(Ct){return new Tl(Ct)}static toolTip(Ct){return new Uo(Ct)}static traversal(Ct){return new Pl(Ct)}static traverse(Ct){return new Ol(Ct)}static ui(Ct){return new Eo(Ct)}static validate(Ct){return new Ml(Ct)}static value(Ct){return new zs(Ct)}static variables(Ct){return new Il(Ct)}}ct.TemplateNamespace=lo},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.addHTML=e,ct.checkDimensions=$,ct.flushHTML=wt,ct.getAvailableSpace=gt;var s=Et(77),st=Et(84);function Tt(d,j){return{name:"div",attributes:{class:[d.layout==="lr-tb"?"xfaLr":"xfaRl"]},children:j}}function wt(d){if(!d[s.$extra])return null;const g={name:"div",attributes:d[s.$extra].attributes,children:d[s.$extra].children};if(d[s.$extra].failingNode){const o=d[s.$extra].failingNode[s.$flushHTML]();o&&(d.layout.endsWith("-tb")?g.children.push(Tt(d,[o])):g.children.push(o))}return g.children.length===0?null:g}function e(d,j,g){const o=d[s.$extra],ut=o.availableSpace,[dt,b,h,et]=g;switch(d.layout){case"position":{o.width=Math.max(o.width,dt+h),o.height=Math.max(o.height,b+et),o.children.push(j);break}case"lr-tb":case"rl-tb":(!o.line||o.attempt===1)&&(o.line=Tt(d,[]),o.children.push(o.line),o.numberInLine=0),o.numberInLine+=1,o.line.children.push(j),o.attempt===0?(o.currentWidth+=h,o.height=Math.max(o.height,o.prevHeight+et)):(o.currentWidth=h,o.prevHeight=o.height,o.height+=et,o.attempt=0),o.width=Math.max(o.width,o.currentWidth);break;case"rl-row":case"row":{o.children.push(j),o.width+=h,o.height=Math.max(o.height,et);const nt=(0,st.measureToString)(o.height);for(const pt of o.children)pt.attributes.style.height=nt;break}case"table":{o.width=Math.min(ut.width,Math.max(o.width,h)),o.height+=et,o.children.push(j);break}case"tb":{o.width=Math.min(ut.width,Math.max(o.width,h)),o.height+=et,o.children.push(j);break}}}function gt(d){const j=d[s.$extra].availableSpace,g=d.margin?d.margin.topInset+d.margin.bottomInset:0,o=d.margin?d.margin.leftInset+d.margin.rightInset:0;switch(d.layout){case"lr-tb":case"rl-tb":return d[s.$extra].attempt===0?{width:j.width-o-d[s.$extra].currentWidth,height:j.height-g-d[s.$extra].prevHeight}:{width:j.width-o,height:j.height-g-d[s.$extra].height};case"rl-row":case"row":return{width:d[s.$extra].columnWidths.slice(d[s.$extra].currentColumn).reduce((dt,b)=>dt+b),height:j.height-o};case"table":case"tb":return{width:j.width-o,height:j.height-g-d[s.$extra].height};case"position":default:return j}}function _(d){let j=d.w===""?NaN:d.w,g=d.h===""?NaN:d.h,[o,ut]=[0,0];switch(d.anchorType||""){case"bottomCenter":[o,ut]=[j/2,g];break;case"bottomLeft":[o,ut]=[0,g];break;case"bottomRight":[o,ut]=[j,g];break;case"middleCenter":[o,ut]=[j/2,g/2];break;case"middleLeft":[o,ut]=[0,g/2];break;case"middleRight":[o,ut]=[j,g/2];break;case"topCenter":[o,ut]=[j/2,0];break;case"topRight":[o,ut]=[j,0];break}let dt,b;switch(d.rotate||0){case 0:[dt,b]=[-o,-ut];break;case 90:[dt,b]=[-ut,o],[j,g]=[g,-j];break;case 180:[dt,b]=[o,ut],[j,g]=[-j,-g];break;case 270:[dt,b]=[ut,-o],[j,g]=[-g,j];break}return[d.x+dt+Math.min(0,j),d.y+b+Math.min(0,g),Math.abs(j),Math.abs(g)]}function $(d,j){if(d[s.$getTemplateRoot]()[s.$extra].firstUnsplittable===null||d.w===0||d.h===0)return!0;const g=2,o=d[s.$getSubformParent](),ut=o[s.$extra]&&o[s.$extra].attempt||0,[,dt,b,h]=_(d);switch(o.layout){case"lr-tb":case"rl-tb":return ut===0?d[s.$getTemplateRoot]()[s.$extra].noLayoutFailure?d.w!==""?Math.round(b-j.width)<=g:j.width>g:d.h!==""&&Math.round(h-j.height)>g?!1:d.w!==""?Math.round(b-j.width)<=g?!0:o[s.$extra].numberInLine===0?j.height>g:!1:j.width>g:d[s.$getTemplateRoot]()[s.$extra].noLayoutFailure?!0:d.h!==""&&Math.round(h-j.height)>g?!1:d.w===""||Math.round(b-j.width)<=g?j.height>g:o[s.$isThereMoreWidth]()?!1:j.height>g;case"table":case"tb":return d[s.$getTemplateRoot]()[s.$extra].noLayoutFailure?!0:d.h!==""&&!d[s.$isSplittable]()?Math.round(h-j.height)<=g:d.w===""||Math.round(b-j.width)<=g?j.height>g:o[s.$isThereMoreWidth]()?!1:j.height>g;case"position":if(d[s.$getTemplateRoot]()[s.$extra].noLayoutFailure||d.h===""||Math.round(h+dt-j.height)<=g)return!0;const et=d[s.$getTemplateRoot]()[s.$extra].currentContentArea;return h+dt>et.h;case"rl-row":case"row":return d[s.$getTemplateRoot]()[s.$extra].noLayoutFailure?!0:d.h!==""?Math.round(h-j.height)<=g:!0;default:return!0}}},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.computeBbox=g,ct.createWrapper=b,ct.fixDimensions=o,ct.fixTextIndent=h,ct.fixURL=Rt,ct.isPrintOnly=nt,ct.layoutClass=ut,ct.layoutNode=j,ct.measureToString=gt,ct.setAccess=et,ct.setFontFamily=Pt,ct.setMinMaxDimensions=$,ct.setPara=Bt,ct.toStyle=dt;var s=Et(77),st=Et(2),Tt=Et(78),wt=Et(85),e=Et(86);function gt(Ft){return typeof Ft=="string"?"0px":Number.isInteger(Ft)?`${Ft}px`:`${Ft.toFixed(2)}px`}const _={anchorType(Ft,lt){const ft=Ft[s.$getSubformParent]();if(!(!ft||ft.layout&&ft.layout!=="position"))switch("transform"in lt||(lt.transform=""),Ft.anchorType){case"bottomCenter":lt.transform+="translate(-50%, -100%)";break;case"bottomLeft":lt.transform+="translate(0,-100%)";break;case"bottomRight":lt.transform+="translate(-100%,-100%)";break;case"middleCenter":lt.transform+="translate(-50%,-50%)";break;case"middleLeft":lt.transform+="translate(0,-50%)";break;case"middleRight":lt.transform+="translate(-100%,-50%)";break;case"topCenter":lt.transform+="translate(-50%,0)";break;case"topRight":lt.transform+="translate(-100%,0)";break}},dimensions(Ft,lt){const ft=Ft[s.$getSubformParent]();let it=Ft.w;const at=Ft.h;if(ft.layout&&ft.layout.includes("row")){const bt=ft[s.$extra],St=Ft.colSpan;let ht;St===-1?(ht=bt.columnWidths.slice(bt.currentColumn).reduce((vt,yt)=>vt+yt,0),bt.currentColumn=0):(ht=bt.columnWidths.slice(bt.currentColumn,bt.currentColumn+St).reduce((vt,yt)=>vt+yt,0),bt.currentColumn=(bt.currentColumn+Ft.colSpan)%bt.columnWidths.length),isNaN(ht)||(it=Ft.w=ht)}it!==""?lt.width=gt(it):lt.width="auto",at!==""?lt.height=gt(at):lt.height="auto"},position(Ft,lt){const ft=Ft[s.$getSubformParent]();ft&&ft.layout&&ft.layout!=="position"||(lt.position="absolute",lt.left=gt(Ft.x),lt.top=gt(Ft.y))},rotate(Ft,lt){Ft.rotate&&("transform"in lt||(lt.transform=""),lt.transform+=`rotate(-${Ft.rotate}deg)`,lt.transformOrigin="top left")},presence(Ft,lt){switch(Ft.presence){case"invisible":lt.visibility="hidden";break;case"hidden":case"inactive":lt.display="none";break}},hAlign(Ft,lt){if(Ft[s.$nodeName]==="para")switch(Ft.hAlign){case"justifyAll":lt.textAlign="justify-all";break;case"radix":lt.textAlign="left";break;default:lt.textAlign=Ft.hAlign}else switch(Ft.hAlign){case"left":lt.alignSelf="start";break;case"center":lt.alignSelf="center";break;case"right":lt.alignSelf="end";break}},margin(Ft,lt){Ft.margin&&(lt.margin=Ft.margin[s.$toStyle]().margin)}};function $(Ft,lt){Ft[s.$getSubformParent]().layout==="position"&&(Ft.minW>0&&(lt.minWidth=gt(Ft.minW)),Ft.maxW>0&&(lt.maxWidth=gt(Ft.maxW)),Ft.minH>0&&(lt.minHeight=gt(Ft.minH)),Ft.maxH>0&&(lt.maxHeight=gt(Ft.maxH)))}function d(Ft,lt,ft,it,at,bt){const St=new e.TextMeasure(lt,ft,it,at);return typeof Ft=="string"?St.addString(Ft):Ft[s.$pushGlyphs](St),St.compute(bt)}function j(Ft,lt){let ft=null,it=null,at=!1;if((!Ft.w||!Ft.h)&&Ft.value){let bt=0,St=0;Ft.margin&&(bt=Ft.margin.leftInset+Ft.margin.rightInset,St=Ft.margin.topInset+Ft.margin.bottomInset);let ht=null,vt=null;Ft.para&&(vt=Object.create(null),ht=Ft.para.lineHeight===""?null:Ft.para.lineHeight,vt.top=Ft.para.spaceAbove===""?0:Ft.para.spaceAbove,vt.bottom=Ft.para.spaceBelow===""?0:Ft.para.spaceBelow,vt.left=Ft.para.marginLeft===""?0:Ft.para.marginLeft,vt.right=Ft.para.marginRight===""?0:Ft.para.marginRight);let yt=Ft.font;if(!yt){const Ht=Ft[s.$getTemplateRoot]();let xt=Ft[s.$getParent]();for(;xt&&xt!==Ht;){if(xt.font){yt=xt.font;break}xt=xt[s.$getParent]()}}const At=(Ft.w||lt.width)-bt,Nt=Ft[s.$globalData].fontFinder;if(Ft.value.exData&&Ft.value.exData[s.$content]&&Ft.value.exData.contentType==="text/html"){const Ht=d(Ft.value.exData[s.$content],yt,vt,ht,Nt,At);it=Ht.width,ft=Ht.height,at=Ht.isBroken}else{const Ht=Ft.value[s.$text]();if(Ht){const xt=d(Ht,yt,vt,ht,Nt,At);it=xt.width,ft=xt.height,at=xt.isBroken}}it!==null&&!Ft.w&&(it+=bt),ft!==null&&!Ft.h&&(ft+=St)}return{w:it,h:ft,isBroken:at}}function g(Ft,lt,ft){let it;if(Ft.w!==""&&Ft.h!=="")it=[Ft.x,Ft.y,Ft.w,Ft.h];else{if(!ft)return null;let at=Ft.w;if(at===""){if(Ft.maxW===0){const St=Ft[s.$getSubformParent]();St.layout==="position"&&St.w!==""?at=0:at=Ft.minW}else at=Math.min(Ft.maxW,ft.width);lt.attributes.style.width=gt(at)}let bt=Ft.h;if(bt===""){if(Ft.maxH===0){const St=Ft[s.$getSubformParent]();St.layout==="position"&&St.h!==""?bt=0:bt=Ft.minH}else bt=Math.min(Ft.maxH,ft.height);lt.attributes.style.height=gt(bt)}it=[Ft.x,Ft.y,at,bt]}return it}function o(Ft){const lt=Ft[s.$getSubformParent]();if(lt.layout&&lt.layout.includes("row")){const ft=lt[s.$extra],it=Ft.colSpan;let at;it===-1?at=ft.columnWidths.slice(ft.currentColumn).reduce((bt,St)=>bt+St,0):at=ft.columnWidths.slice(ft.currentColumn,ft.currentColumn+it).reduce((bt,St)=>bt+St,0),isNaN(at)||(Ft.w=at)}lt.layout&&lt.layout!=="position"&&(Ft.x=Ft.y=0),Ft.layout==="table"&&Ft.w===""&&Array.isArray(Ft.columnWidths)&&(Ft.w=Ft.columnWidths.reduce((ft,it)=>ft+it,0))}function ut(Ft){switch(Ft.layout){case"position":return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb";default:return"xfaPosition"}}function dt(Ft,...lt){const ft=Object.create(null);for(const it of lt){const at=Ft[it];if(at!==null){if(_.hasOwnProperty(it)){_[it](Ft,ft);continue}if(at instanceof s.XFAObject){const bt=at[s.$toStyle]();bt?Object.assign(ft,bt):(0,st.warn)(`(DEBUG) - XFA - style for ${it} not implemented yet`)}}}return ft}function b(Ft,lt){const{attributes:ft}=lt,{style:it}=ft,at={name:"div",attributes:{class:["xfaWrapper"],style:Object.create(null)},children:[]};if(ft.class.push("xfaWrapped"),Ft.border){const{widths:bt,insets:St}=Ft.border[s.$extra];let ht,vt,yt=St[0],At=St[3];const Nt=St[0]+St[2],Ht=St[1]+St[3];switch(Ft.border.hand){case"even":yt-=bt[0]/2,At-=bt[3]/2,ht=`calc(100% + ${(bt[1]+bt[3])/2-Ht}px)`,vt=`calc(100% + ${(bt[0]+bt[2])/2-Nt}px)`;break;case"left":yt-=bt[0],At-=bt[3],ht=`calc(100% + ${bt[1]+bt[3]-Ht}px)`,vt=`calc(100% + ${bt[0]+bt[2]-Nt}px)`;break;case"right":ht=Ht?`calc(100% - ${Ht}px)`:"100%",vt=Nt?`calc(100% - ${Nt}px)`:"100%";break}const xt=["xfaBorder"];nt(Ft.border)&&xt.push("xfaPrintOnly");const rt={name:"div",attributes:{class:xt,style:{top:`${yt}px`,left:`${At}px`,width:ht,height:vt}},children:[]};for(const mt of["border","borderWidth","borderColor","borderRadius","borderStyle"])it[mt]!==void 0&&(rt.attributes.style[mt]=it[mt],delete it[mt]);at.children.push(rt,lt)}else at.children.push(lt);for(const bt of["background","backgroundClip","top","left","width","height","minWidth","minHeight","maxWidth","maxHeight","transform","transformOrigin","visibility"])it[bt]!==void 0&&(at.attributes.style[bt]=it[bt],delete it[bt]);return it.position==="absolute"?at.attributes.style.position="absolute":at.attributes.style.position="relative",delete it.position,it.alignSelf&&(at.attributes.style.alignSelf=it.alignSelf,delete it.alignSelf),at}function h(Ft){const lt=(0,Tt.getMeasurement)(Ft.textIndent,"0px");if(lt>=0)return;const it="padding"+((Ft.textAlign==="right"?"right":"left")==="left"?"Left":"Right"),at=(0,Tt.getMeasurement)(Ft[it],"0px");Ft[it]=`${at-lt}px`}function et(Ft,lt){switch(Ft.access){case"nonInteractive":lt.push("xfaNonInteractive");break;case"readOnly":lt.push("xfaReadOnly");break;case"protected":lt.push("xfaDisabled");break}}function nt(Ft){return Ft.relevant.length>0&&!Ft.relevant[0].excluded&&Ft.relevant[0].viewname==="print"}function pt(Ft){const lt=Ft[s.$getTemplateRoot]()[s.$extra].paraStack;return lt.length?lt.at(-1):null}function Bt(Ft,lt,ft){if(ft.attributes.class&&ft.attributes.class.includes("xfaRich")){lt&&(Ft.h===""&&(lt.height="auto"),Ft.w===""&&(lt.width="auto"));const it=pt(Ft);if(it){const at=ft.attributes.style;switch(at.display="flex",at.flexDirection="column",it.vAlign){case"top":at.justifyContent="start";break;case"bottom":at.justifyContent="end";break;case"middle":at.justifyContent="center";break}const bt=it[s.$toStyle]();for(const[St,ht]of Object.entries(bt))St in at||(at[St]=ht)}}}function Pt(Ft,lt,ft,it){if(!ft){delete it.fontFamily;return}const at=(0,Tt.stripQuotes)(Ft.typeface);it.fontFamily=`"${at}"`;const bt=ft.find(at);if(bt){const{fontFamily:St}=bt.regular.cssFontInfo;St!==at&&(it.fontFamily=`"${St}"`);const ht=pt(lt);if(ht&&ht.lineHeight!==""||it.lineHeight)return;const vt=(0,wt.selectFont)(Ft,bt);vt&&(it.lineHeight=Math.max(1.2,vt.lineHeight))}}function Rt(Ft){const lt=(0,st.createValidAbsoluteUrl)(Ft,null,{addDefaultProtocol:!0,tryConvertEncoding:!0});return lt?lt.href:null}},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.FontFinder=void 0,ct.getMetrics=gt,ct.selectFont=e;var s=Et(77),st=Et(78),Tt=Et(2);class wt{constructor($){this.fonts=new Map,this.cache=new Map,this.warned=new Set,this.defaultFont=null,this.add($)}add($,d=null){for(const g of $)this.addPdfFont(g);for(const g of this.fonts.values())g.regular||(g.regular=g.italic||g.bold||g.bolditalic);if(!d||d.size===0)return;const j=this.fonts.get("PdfJS-Fallback-PdfJS-XFA");for(const g of d)this.fonts.set(g,j)}addPdfFont($){const d=$.cssFontInfo,j=d.fontFamily;let g=this.fonts.get(j);g||(g=Object.create(null),this.fonts.set(j,g),this.defaultFont||(this.defaultFont=g));let o="";const ut=parseFloat(d.fontWeight);parseFloat(d.italicAngle)!==0?o=ut>=700?"bolditalic":"italic":ut>=700&&(o="bold"),o||(($.name.includes("Bold")||$.psName&&$.psName.includes("Bold"))&&(o="bold"),($.name.includes("Italic")||$.name.endsWith("It")||$.psName&&($.psName.includes("Italic")||$.psName.endsWith("It")))&&(o+="italic")),o||(o="regular"),g[o]=$}getDefault(){return this.defaultFont}find($,d=!0){let j=this.fonts.get($)||this.cache.get($);if(j)return j;const g=/,|-|_| |bolditalic|bold|italic|regular|it/gi;let o=$.replace(g,"");if(j=this.fonts.get(o),j)return this.cache.set($,j),j;o=o.toLowerCase();const ut=[];for(const[dt,b]of this.fonts.entries())dt.replace(g,"").toLowerCase().startsWith(o)&&ut.push(b);if(ut.length===0)for(const[,dt]of this.fonts.entries())dt.regular.name&&dt.regular.name.replace(g,"").toLowerCase().startsWith(o)&&ut.push(dt);if(ut.length===0){o=o.replace(/psmt|mt/gi,"");for(const[dt,b]of this.fonts.entries())dt.replace(g,"").toLowerCase().startsWith(o)&&ut.push(b)}if(ut.length===0)for(const dt of this.fonts.values())dt.regular.name&&dt.regular.name.replace(g,"").toLowerCase().startsWith(o)&&ut.push(dt);return ut.length>=1?(ut.length!==1&&d&&(0,Tt.warn)(`XFA - Too many choices to guess the correct font: ${$}`),this.cache.set($,ut[0]),ut[0]):(d&&!this.warned.has($)&&(this.warned.add($),(0,Tt.warn)(`XFA - Cannot find the font: ${$}`)),null)}}ct.FontFinder=wt;function e(_,$){return _.posture==="italic"?_.weight==="bold"?$.bolditalic:$.italic:_.weight==="bold"?$.bold:$.regular}function gt(_,$=!1){let d=null;if(_){const ut=(0,st.stripQuotes)(_.typeface),dt=_[s.$globalData].fontFinder.find(ut);d=e(_,dt)}if(!d)return{lineHeight:12,lineGap:2,lineNoGap:10};const j=_.size||10,g=d.lineHeight?Math.max($?0:1.2,d.lineHeight):1.2,o=d.lineGap===void 0?.2:d.lineGap;return{lineHeight:g*j,lineGap:o*j,lineNoGap:Math.max(1,g-o)*j}}},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.TextMeasure=void 0;var s=Et(85);const st=1.02;class Tt{constructor(_,$,d,j){if(this.lineHeight=d,this.paraMargin=$||{top:0,bottom:0,left:0,right:0},!_){[this.pdfFont,this.xfaFont]=this.defaultFont(j);return}this.xfaFont={typeface:_.typeface,posture:_.posture,weight:_.weight,size:_.size,letterSpacing:_.letterSpacing};const g=j.find(_.typeface);if(!g){[this.pdfFont,this.xfaFont]=this.defaultFont(j);return}this.pdfFont=(0,s.selectFont)(_,g),this.pdfFont||([this.pdfFont,this.xfaFont]=this.defaultFont(j))}defaultFont(_){const $=_.find("Helvetica",!1)||_.find("Myriad Pro",!1)||_.find("Arial",!1)||_.getDefault();if($&&$.regular){const j=$.regular,o={typeface:j.cssFontInfo.fontFamily,posture:"normal",weight:"normal",size:10,letterSpacing:0};return[j,o]}return[null,{typeface:"Courier",posture:"normal",weight:"normal",size:10,letterSpacing:0}]}}class wt{constructor(_,$,d,j){this.fontFinder=j,this.stack=[new Tt(_,$,d,j)]}pushData(_,$,d){const j=this.stack.at(-1);for(const o of["typeface","posture","weight","size","letterSpacing"])_[o]||(_[o]=j.xfaFont[o]);for(const o of["top","bottom","left","right"])isNaN($[o])&&($[o]=j.paraMargin[o]);const g=new Tt(_,$,d||j.lineHeight,this.fontFinder);g.pdfFont||(g.pdfFont=j.pdfFont),this.stack.push(g)}popFont(){this.stack.pop()}topFont(){return this.stack.at(-1)}}class e{constructor(_,$,d,j){this.glyphs=[],this.fontSelector=new wt(_,$,d,j),this.extraHeight=0}pushData(_,$,d){this.fontSelector.pushData(_,$,d)}popFont(_){return this.fontSelector.popFont()}addPara(){const _=this.fontSelector.topFont();this.extraHeight+=_.paraMargin.top+_.paraMargin.bottom}addString(_){if(!_)return;const $=this.fontSelector.topFont(),d=$.xfaFont.size;if($.pdfFont){const j=$.xfaFont.letterSpacing,g=$.pdfFont,o=g.lineHeight||1.2,ut=$.lineHeight||Math.max(1.2,o)*d,dt=g.lineGap===void 0?.2:g.lineGap,b=o-dt,h=Math.max(1,b)*d,et=d/1e3,nt=g.defaultWidth||g.charsToGlyphs(" ")[0].width;for(const pt of _.split(/[\u2029\n]/)){const Bt=g.encodeString(pt).join(""),Pt=g.charsToGlyphs(Bt);for(const Rt of Pt){const Ft=Rt.width||nt;this.glyphs.push([Ft*et+j,ut,h,Rt.unicode,!1])}this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop();return}for(const j of _.split(/[\u2029\n]/)){for(const g of j.split(""))this.glyphs.push([d,1.2*d,d,g,!1]);this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop()}compute(_){let $=-1,d=0,j=0,g=0,o=0,ut=0,dt=!1,b=!0;for(let h=0,et=this.glyphs.length;h<et;h++){const[nt,pt,Bt,Pt,Rt]=this.glyphs[h],Ft=Pt===" ",lt=b?Bt:pt;if(Rt){j=Math.max(j,o),o=0,g+=ut,ut=lt,$=-1,d=0,b=!1;continue}if(Ft){o+nt>_?(j=Math.max(j,o),o=0,g+=ut,ut=lt,$=-1,d=0,dt=!0,b=!1):(ut=Math.max(lt,ut),d=o,o+=nt,$=h);continue}if(o+nt>_){g+=ut,ut=lt,$!==-1?(h=$,j=Math.max(j,d),o=0,$=-1,d=0):(j=Math.max(j,o),o=nt),dt=!0,b=!1;continue}o+=nt,ut=Math.max(lt,ut)}return j=Math.max(j,o),g+=ut+this.extraHeight,{width:st*j,height:g,isBroken:dt}}}ct.TextMeasure=e},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.DataHandler=void 0;var s=Et(77);class st{constructor(wt,e){this.data=e,this.dataset=wt.datasets||null}serialize(wt){const e=[[-1,this.data[s.$getChildren]()]];for(;e.length>0;){const _=e.at(-1),[$,d]=_;if($+1===d.length){e.pop();continue}const j=d[++_[0]],g=wt.get(j[s.$uid]);if(g)j[s.$setValue](g);else{const ut=j[s.$getAttributes]();for(const dt of ut.values()){const b=wt.get(dt[s.$uid]);if(b){dt[s.$setValue](b);break}}}const o=j[s.$getChildren]();o.length>0&&e.push([-1,o])}const gt=['<xfa:datasets xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/">'];if(this.dataset)for(const _ of this.dataset[s.$getChildren]())_[s.$nodeName]!=="data"&&_[s.$toString](gt);return this.data[s.$toString](gt),gt.push("</xfa:datasets>"),gt.join("")}}ct.DataHandler=st},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.XFAParser=void 0;var s=Et(77),st=Et(66),Tt=Et(89),wt=Et(2);class e extends st.XMLParserBase{constructor(_=null,$=!1){super(),this._builder=new Tt.Builder(_),this._stack=[],this._globalData={usedTypefaces:new Set},this._ids=new Map,this._current=this._builder.buildRoot(this._ids),this._errorCode=st.XMLParserErrorCode.NoError,this._whiteRegex=/^\s+$/,this._nbsps=/\xa0+/g,this._richText=$}parse(_){if(this.parseXml(_),this._errorCode===st.XMLParserErrorCode.NoError)return this._current[s.$finalize](),this._current.element}onText(_){if(_=_.replace(this._nbsps,$=>$.slice(1)+" "),this._richText||this._current[s.$acceptWhitespace]()){this._current[s.$onText](_,this._richText);return}this._whiteRegex.test(_)||this._current[s.$onText](_.trim())}onCdata(_){this._current[s.$onText](_)}_mkAttributes(_,$){let d=null,j=null;const g=Object.create({});for(const{name:o,value:ut}of _)if(o==="xmlns")d?(0,wt.warn)(`XFA - multiple namespace definition in <${$}>`):d=ut;else if(o.startsWith("xmlns:")){const dt=o.substring(6);j||(j=[]),j.push({prefix:dt,value:ut})}else{const dt=o.indexOf(":");if(dt===-1)g[o]=ut;else{let b=g[s.$nsAttributes];b||(b=g[s.$nsAttributes]=Object.create(null));const[h,et]=[o.slice(0,dt),o.slice(dt+1)];let nt=b[h];nt||(nt=b[h]=Object.create(null)),nt[et]=ut}}return[d,j,g]}_getNameAndPrefix(_,$){const d=_.indexOf(":");return d===-1?[_,null]:[_.substring(d+1),$?"":_.substring(0,d)]}onBeginElement(_,$,d){const[j,g,o]=this._mkAttributes($,_),[ut,dt]=this._getNameAndPrefix(_,this._builder.isNsAgnostic()),b=this._builder.build({nsPrefix:dt,name:ut,attributes:o,namespace:j,prefixes:g});if(b[s.$globalData]=this._globalData,d){b[s.$finalize](),this._current[s.$onChild](b)&&b[s.$setId](this._ids),b[s.$clean](this._builder);return}this._stack.push(this._current),this._current=b}onEndElement(_){const $=this._current;if($[s.$isCDATAXml]()&&typeof $[s.$content]=="string"){const d=new e;d._globalData=this._globalData;const j=d.parse($[s.$content]);$[s.$content]=null,$[s.$onChild](j)}$[s.$finalize](),this._current=this._stack.pop(),this._current[s.$onChild]($)&&$[s.$setId](this._ids),$[s.$clean](this._builder)}onError(_){this._errorCode=_}}ct.XFAParser=e},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.Builder=void 0;var s=Et(79),st=Et(77),Tt=Et(90),wt=Et(82),e=Et(99),gt=Et(2);class _ extends st.XFAObject{constructor(g){super(-1,"root",Object.create(null)),this.element=null,this[st.$ids]=g}[st.$onChild](g){return this.element=g,!0}[st.$finalize](){super[st.$finalize](),this.element.template instanceof wt.Template&&(this[st.$ids].set(st.$root,this.element),this.element.template[st.$resolvePrototypes](this[st.$ids]),this.element.template[st.$ids]=this[st.$ids])}}class $ extends st.XFAObject{constructor(){super(-1,"",Object.create(null))}[st.$onChild](g){return!1}}class d{constructor(g=null){this._namespaceStack=[],this._nsAgnosticLevel=0,this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max(...Object.values(s.NamespaceIds).map(({id:o})=>o)),this._currentNamespace=g||new e.UnknownNamespace(++this._nextNsId)}buildRoot(g){return new _(g)}build({nsPrefix:g,name:o,attributes:ut,namespace:dt,prefixes:b}){const h=dt!==null;if(h&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(dt)),b&&this._addNamespacePrefix(b),ut.hasOwnProperty(st.$nsAttributes)){const pt=Tt.NamespaceSetUp.datasets,Bt=ut[st.$nsAttributes];let Pt=null;for(const[Rt,Ft]of Object.entries(Bt))if(this._getNamespaceToUse(Rt)===pt){Pt={xfa:Ft};break}Pt?ut[st.$nsAttributes]=Pt:delete ut[st.$nsAttributes]}const et=this._getNamespaceToUse(g),nt=et&&et[s.$buildXFAObject](o,ut)||new $;return nt[st.$isNsAgnostic]()&&this._nsAgnosticLevel++,(h||b||nt[st.$isNsAgnostic]())&&(nt[st.$cleanup]={hasNamespace:h,prefixes:b,nsAgnostic:nt[st.$isNsAgnostic]()}),nt}isNsAgnostic(){return this._nsAgnosticLevel>0}_searchNamespace(g){let o=this._namespaces.get(g);if(o)return o;for(const[ut,{check:dt}]of Object.entries(s.NamespaceIds))if(dt(g)){if(o=Tt.NamespaceSetUp[ut],o)return this._namespaces.set(g,o),o;break}return o=new e.UnknownNamespace(++this._nextNsId),this._namespaces.set(g,o),o}_addNamespacePrefix(g){for(const{prefix:o,value:ut}of g){const dt=this._searchNamespace(ut);let b=this._namespacePrefixes.get(o);b||(b=[],this._namespacePrefixes.set(o,b)),b.push(dt)}}_getNamespaceToUse(g){if(!g)return this._currentNamespace;const o=this._namespacePrefixes.get(g);return o&&o.length>0?o.at(-1):((0,gt.warn)(`Unknown namespace prefix: ${g}.`),null)}clean(g){const{hasNamespace:o,prefixes:ut,nsAgnostic:dt}=g;o&&(this._currentNamespace=this._namespaceStack.pop()),ut&&ut.forEach(({prefix:b})=>{this._namespacePrefixes.get(b).pop()}),dt&&this._nsAgnosticLevel--}}ct.Builder=d},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.NamespaceSetUp=void 0;var s=Et(91),st=Et(92),Tt=Et(93),wt=Et(94),e=Et(95),gt=Et(96),_=Et(82),$=Et(97),d=Et(98);const j={config:s.ConfigNamespace,connection:st.ConnectionSetNamespace,datasets:Tt.DatasetsNamespace,localeSet:wt.LocaleSetNamespace,signature:e.SignatureNamespace,stylesheet:gt.StylesheetNamespace,template:_.TemplateNamespace,xdp:$.XdpNamespace,xhtml:d.XhtmlNamespace};ct.NamespaceSetUp=j},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.ConfigNamespace=void 0;var s=Et(79),st=Et(77),Tt=Et(78),wt=Et(2);const e=s.NamespaceIds.config.id;class gt extends st.XFAObject{constructor(Jt){super(e,"acrobat",!0),this.acrobat7=null,this.autoSave=null,this.common=null,this.validate=null,this.validateApprovalSignatures=null,this.submitUrl=new st.XFAObjectArray}}class _ extends st.XFAObject{constructor(Jt){super(e,"acrobat7",!0),this.dynamicRender=null}}class $ extends st.OptionObject{constructor(Jt){super(e,"ADBE_JSConsole",["delegate","Enable","Disable"])}}class d extends st.OptionObject{constructor(Jt){super(e,"ADBE_JSDebugger",["delegate","Enable","Disable"])}}class j extends st.Option01{constructor(Jt){super(e,"addSilentPrint")}}class g extends st.Option01{constructor(Jt){super(e,"addViewerPreferences")}}class o extends st.Option10{constructor(Jt){super(e,"adjustData")}}class ut extends st.IntegerObject{constructor(Jt){super(e,"adobeExtensionLevel",0,vn=>vn>=1&&vn<=8)}}class dt extends st.XFAObject{constructor(Jt){super(e,"agent",!0),this.name=Jt.name?Jt.name.trim():"",this.common=new st.XFAObjectArray}}class b extends st.ContentObject{constructor(Jt){super(e,"alwaysEmbed")}}class h extends st.StringObject{constructor(Jt){super(e,"amd")}}class et extends st.XFAObject{constructor(Jt){super(e,"area"),this.level=(0,Tt.getInteger)({data:Jt.level,defaultValue:0,validate:vn=>vn>=1&&vn<=3}),this.name=(0,Tt.getStringOption)(Jt.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"])}}class nt extends st.OptionObject{constructor(Jt){super(e,"attributes",["preserve","delegate","ignore"])}}class pt extends st.OptionObject{constructor(Jt){super(e,"autoSave",["disabled","enabled"])}}class Bt extends st.StringObject{constructor(Jt){super(e,"base")}}class Pt extends st.XFAObject{constructor(Jt){super(e,"batchOutput"),this.format=(0,Tt.getStringOption)(Jt.format,["none","concat","zip","zipCompress"])}}class Rt extends st.ContentObject{constructor(Jt){super(e,"behaviorOverride")}[st.$finalize](){this[st.$content]=new Map(this[st.$content].trim().split(/\s+/).filter(Jt=>Jt.includes(":")).map(Jt=>Jt.split(":",2)))}}class Ft extends st.XFAObject{constructor(Jt){super(e,"cache",!0),this.templateCache=null}}class lt extends st.Option01{constructor(Jt){super(e,"change")}}class ft extends st.XFAObject{constructor(Jt){super(e,"common",!0),this.data=null,this.locale=null,this.localeSet=null,this.messaging=null,this.suppressBanner=null,this.template=null,this.validationMessaging=null,this.versionControl=null,this.log=new st.XFAObjectArray}}class it extends st.XFAObject{constructor(Jt){super(e,"compress"),this.scope=(0,Tt.getStringOption)(Jt.scope,["imageOnly","document"])}}class at extends st.Option01{constructor(Jt){super(e,"compressLogicalStructure")}}class bt extends st.Option10{constructor(Jt){super(e,"compressObjectStream")}}class St extends st.XFAObject{constructor(Jt){super(e,"compression",!0),this.compressLogicalStructure=null,this.compressObjectStream=null,this.level=null,this.type=null}}class ht extends st.XFAObject{constructor(Jt){super(e,"config",!0),this.acrobat=null,this.present=null,this.trace=null,this.agent=new st.XFAObjectArray}}class vt extends st.OptionObject{constructor(Jt){super(e,"conformance",["A","B"])}}class yt extends st.Option01{constructor(Jt){super(e,"contentCopy")}}class At extends st.IntegerObject{constructor(Jt){super(e,"copies",1,vn=>vn>=1)}}class Nt extends st.StringObject{constructor(Jt){super(e,"creator")}}class Ht extends st.IntegerObject{constructor(Jt){super(e,"currentPage",0,vn=>vn>=0)}}class xt extends st.XFAObject{constructor(Jt){super(e,"data",!0),this.adjustData=null,this.attributes=null,this.incrementalLoad=null,this.outputXSL=null,this.range=null,this.record=null,this.startNode=null,this.uri=null,this.window=null,this.xsl=null,this.excludeNS=new st.XFAObjectArray,this.transform=new st.XFAObjectArray}}class rt extends st.XFAObject{constructor(Jt){super(e,"debug",!0),this.uri=null}}class mt extends st.ContentObject{constructor(Jt){super(e,"defaultTypeface"),this.writingScript=(0,Tt.getStringOption)(Jt.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"])}}class Mt extends st.OptionObject{constructor(Jt){super(e,"destination",["pdf","pcl","ps","webClient","zpl"])}}class _t extends st.Option01{constructor(Jt){super(e,"documentAssembly")}}class Lt extends st.XFAObject{constructor(Jt){super(e,"driver",!0),this.name=Jt.name?Jt.name.trim():"",this.fontInfo=null,this.xdc=null}}class It extends st.OptionObject{constructor(Jt){super(e,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}}class Dt extends st.OptionObject{constructor(Jt){super(e,"dynamicRender",["forbidden","required"])}}class jt extends st.Option01{constructor(Jt){super(e,"embed")}}class Ot extends st.Option01{constructor(Jt){super(e,"encrypt")}}class Xt extends st.XFAObject{constructor(Jt){super(e,"encryption",!0),this.encrypt=null,this.encryptionLevel=null,this.permissions=null}}class Ut extends st.OptionObject{constructor(Jt){super(e,"encryptionLevel",["40bit","128bit"])}}class Gt extends st.StringObject{constructor(Jt){super(e,"enforce")}}class qt extends st.XFAObject{constructor(Jt){super(e,"equate"),this.force=(0,Tt.getInteger)({data:Jt.force,defaultValue:1,validate:vn=>vn===0}),this.from=Jt.from||"",this.to=Jt.to||""}}class Kt extends st.XFAObject{constructor(Jt){super(e,"equateRange"),this.from=Jt.from||"",this.to=Jt.to||"",this._unicodeRange=Jt.unicodeRange||""}get unicodeRange(){const Jt=[],vn=/U\+([0-9a-fA-F]+)/,kn=this._unicodeRange;for(let Kn of kn.split(",").map(mr=>mr.trim()).filter(mr=>!!mr))Kn=Kn.split("-",2).map(mr=>{const fr=mr.match(vn);return fr?parseInt(fr[1],16):0}),Kn.length===1&&Kn.push(Kn[0]),Jt.push(Kn);return(0,wt.shadow)(this,"unicodeRange",Jt)}}class Vt extends st.ContentObject{constructor(Jt){super(e,"exclude")}[st.$finalize](){this[st.$content]=this[st.$content].trim().split(/\s+/).filter(Jt=>Jt&&["calculate","close","enter","exit","initialize","ready","validate"].includes(Jt))}}class Yt extends st.StringObject{constructor(Jt){super(e,"excludeNS")}}class Zt extends st.OptionObject{constructor(Jt){super(e,"flipLabel",["usePrinterSetting","on","off"])}}class Qt extends st.XFAObject{constructor(Jt){super(e,"fontInfo",!0),this.embed=null,this.map=null,this.subsetBelow=null,this.alwaysEmbed=new st.XFAObjectArray,this.defaultTypeface=new st.XFAObjectArray,this.neverEmbed=new st.XFAObjectArray}}class en extends st.Option01{constructor(Jt){super(e,"formFieldFilling")}}class rn extends st.StringObject{constructor(Jt){super(e,"groupParent")}}class an extends st.OptionObject{constructor(Jt){super(e,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}}class fn extends st.StringObject{constructor(Jt){super(e,"includeXDPContent")}}class un extends st.OptionObject{constructor(Jt){super(e,"incrementalLoad",["none","forwardOnly"])}}class pn extends st.Option01{constructor(Jt){super(e,"incrementalMerge")}}class yn extends st.Option01{constructor(Jt){super(e,"interactive")}}class On extends st.OptionObject{constructor(Jt){super(e,"jog",["usePrinterSetting","none","pageSet"])}}class En extends st.XFAObject{constructor(Jt){super(e,"labelPrinter",!0),this.name=(0,Tt.getStringOption)(Jt.name,["zpl","dpl","ipl","tcpl"]),this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class An extends st.OptionObject{constructor(Jt){super(e,"layout",["paginate","panel"])}}class Cn extends st.IntegerObject{constructor(Jt){super(e,"level",0,vn=>vn>0)}}class gn extends st.Option01{constructor(Jt){super(e,"linearized")}}class hn extends st.StringObject{constructor(Jt){super(e,"locale")}}class on extends st.StringObject{constructor(Jt){super(e,"localeSet")}}class Dn extends st.XFAObject{constructor(Jt){super(e,"log",!0),this.mode=null,this.threshold=null,this.to=null,this.uri=null}}class Xn extends st.XFAObject{constructor(Jt){super(e,"map",!0),this.equate=new st.XFAObjectArray,this.equateRange=new st.XFAObjectArray}}class er extends st.XFAObject{constructor(Jt){super(e,"mediumInfo",!0),this.map=null}}class Sn extends st.XFAObject{constructor(Jt){super(e,"message",!0),this.msgId=null,this.severity=null}}class xn extends st.XFAObject{constructor(Jt){super(e,"messaging",!0),this.message=new st.XFAObjectArray}}class cn extends st.OptionObject{constructor(Jt){super(e,"mode",["append","overwrite"])}}class qn extends st.Option01{constructor(Jt){super(e,"modifyAnnots")}}class Vn extends st.IntegerObject{constructor(Jt){super(e,"msgId",1,vn=>vn>=1)}}class Gn extends st.StringObject{constructor(Jt){super(e,"nameAttr")}}class lr extends st.ContentObject{constructor(Jt){super(e,"neverEmbed")}}class $n extends st.IntegerObject{constructor(Jt){super(e,"numberOfCopies",null,vn=>vn>=2&&vn<=5)}}class tr extends st.XFAObject{constructor(Jt){super(e,"openAction",!0),this.destination=null}}class pr extends st.XFAObject{constructor(Jt){super(e,"output",!0),this.to=null,this.type=null,this.uri=null}}class jn extends st.StringObject{constructor(Jt){super(e,"outputBin")}}class ur extends st.XFAObject{constructor(Jt){super(e,"outputXSL",!0),this.uri=null}}class rr extends st.OptionObject{constructor(Jt){super(e,"overprint",["none","both","draw","field"])}}class Tr extends st.StringObject{constructor(Jt){super(e,"packets")}[st.$finalize](){this[st.$content]!=="*"&&(this[st.$content]=this[st.$content].trim().split(/\s+/).filter(Jt=>["config","datasets","template","xfdf","xslt"].includes(Jt)))}}class br extends st.XFAObject{constructor(Jt){super(e,"pageOffset"),this.x=(0,Tt.getInteger)({data:Jt.x,defaultValue:"useXDCSetting",validate:vn=>!0}),this.y=(0,Tt.getInteger)({data:Jt.y,defaultValue:"useXDCSetting",validate:vn=>!0})}}class yr extends st.StringObject{constructor(Jt){super(e,"pageRange")}[st.$finalize](){const Jt=this[st.$content].trim().split(/\s+/).map(kn=>parseInt(kn,10)),vn=[];for(let kn=0,Kn=Jt.length;kn<Kn;kn+=2)vn.push(Jt.slice(kn,kn+2));this[st.$content]=vn}}class cr extends st.OptionObject{constructor(Jt){super(e,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}}class Jr extends st.OptionObject{constructor(Jt){super(e,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}}class Vr extends st.IntegerObject{constructor(Jt){super(e,"part",1,vn=>!1)}}class Un extends st.XFAObject{constructor(Jt){super(e,"pcl",!0),this.name=Jt.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.pageOffset=null,this.staple=null,this.xdc=null}}class Mn extends st.XFAObject{constructor(Jt){super(e,"pdf",!0),this.name=Jt.name||"",this.adobeExtensionLevel=null,this.batchOutput=null,this.compression=null,this.creator=null,this.encryption=null,this.fontInfo=null,this.interactive=null,this.linearized=null,this.openAction=null,this.pdfa=null,this.producer=null,this.renderPolicy=null,this.scriptModel=null,this.silentPrint=null,this.submitFormat=null,this.tagged=null,this.version=null,this.viewerPreferences=null,this.xdc=null}}class zn extends st.XFAObject{constructor(Jt){super(e,"pdfa",!0),this.amd=null,this.conformance=null,this.includeXDPContent=null,this.part=null}}class Wn extends st.XFAObject{constructor(Jt){super(e,"permissions",!0),this.accessibleContent=null,this.change=null,this.contentCopy=null,this.documentAssembly=null,this.formFieldFilling=null,this.modifyAnnots=null,this.plaintextMetadata=null,this.print=null,this.printHighQuality=null}}class sr extends st.Option01{constructor(Jt){super(e,"pickTrayByPDFSize")}}class gr extends st.StringObject{constructor(Jt){super(e,"picture")}}class ir extends st.Option01{constructor(Jt){super(e,"plaintextMetadata")}}class Jn extends st.OptionObject{constructor(Jt){super(e,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}}class or extends st.XFAObject{constructor(Jt){super(e,"present",!0),this.behaviorOverride=null,this.cache=null,this.common=null,this.copies=null,this.destination=null,this.incrementalMerge=null,this.layout=null,this.output=null,this.overprint=null,this.pagination=null,this.paginationOverride=null,this.script=null,this.validate=null,this.xdp=null,this.driver=new st.XFAObjectArray,this.labelPrinter=new st.XFAObjectArray,this.pcl=new st.XFAObjectArray,this.pdf=new st.XFAObjectArray,this.ps=new st.XFAObjectArray,this.submitUrl=new st.XFAObjectArray,this.webClient=new st.XFAObjectArray,this.zpl=new st.XFAObjectArray}}class hr extends st.Option01{constructor(Jt){super(e,"print")}}class kr extends st.Option01{constructor(Jt){super(e,"printHighQuality")}}class _r extends st.OptionObject{constructor(Jt){super(e,"printScaling",["appdefault","noScaling"])}}class dr extends st.StringObject{constructor(Jt){super(e,"printerName")}}class mn extends st.StringObject{constructor(Jt){super(e,"producer")}}class Fn extends st.XFAObject{constructor(Jt){super(e,"ps",!0),this.name=Jt.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.staple=null,this.xdc=null}}class Bn extends st.ContentObject{constructor(Jt){super(e,"range")}[st.$finalize](){this[st.$content]=this[st.$content].trim().split(/\s*,\s*/,2).map(Jt=>Jt.split("-").map(vn=>parseInt(vn.trim(),10))).filter(Jt=>Jt.every(vn=>!isNaN(vn))).map(Jt=>(Jt.length===1&&Jt.push(Jt[0]),Jt))}}class Nn extends st.ContentObject{constructor(Jt){super(e,"record")}[st.$finalize](){this[st.$content]=this[st.$content].trim();const Jt=parseInt(this[st.$content],10);!isNaN(Jt)&&Jt>=0&&(this[st.$content]=Jt)}}class nr extends st.ContentObject{constructor(Jt){super(e,"relevant")}[st.$finalize](){this[st.$content]=this[st.$content].trim().split(/\s+/)}}class Ar extends st.ContentObject{constructor(Jt){super(e,"rename")}[st.$finalize](){this[st.$content]=this[st.$content].trim(),(this[st.$content].toLowerCase().startsWith("xml")||this[st.$content].match(new RegExp("[\\p{L}_][\\p{L}\\d._\\p{M}-]*","u")))&&(0,wt.warn)("XFA - Rename: invalid XFA name")}}class Gr extends st.OptionObject{constructor(Jt){super(e,"renderPolicy",["server","client"])}}class Sr extends st.OptionObject{constructor(Jt){super(e,"runScripts",["both","client","none","server"])}}class Er extends st.XFAObject{constructor(Jt){super(e,"script",!0),this.currentPage=null,this.exclude=null,this.runScripts=null}}class Wr extends st.OptionObject{constructor(Jt){super(e,"scriptModel",["XFA","none"])}}class $a extends st.OptionObject{constructor(Jt){super(e,"severity",["ignore","error","information","trace","warning"])}}class ys extends st.XFAObject{constructor(Jt){super(e,"silentPrint",!0),this.addSilentPrint=null,this.printerName=null}}class ao extends st.XFAObject{constructor(Jt){super(e,"staple"),this.mode=(0,Tt.getStringOption)(Jt.mode,["usePrinterSetting","on","off"])}}class vo extends st.StringObject{constructor(Jt){super(e,"startNode")}}class _l extends st.IntegerObject{constructor(Jt){super(e,"startPage",0,vn=>!0)}}class Lo extends st.OptionObject{constructor(Jt){super(e,"submitFormat",["html","delegate","fdf","xml","pdf"])}}class Ao extends st.StringObject{constructor(Jt){super(e,"submitUrl")}}class wo extends st.IntegerObject{constructor(Jt){super(e,"subsetBelow",100,vn=>vn>=0&&vn<=100)}}class Cl extends st.Option01{constructor(Jt){super(e,"suppressBanner")}}class No extends st.Option01{constructor(Jt){super(e,"tagged")}}class So extends st.XFAObject{constructor(Jt){super(e,"template",!0),this.base=null,this.relevant=null,this.startPage=null,this.uri=null,this.xsl=null}}class _o extends st.OptionObject{constructor(Jt){super(e,"threshold",["trace","error","information","warning"])}}class Xs extends st.OptionObject{constructor(Jt){super(e,"to",["null","memory","stderr","stdout","system","uri"])}}class Co extends st.XFAObject{constructor(Jt){super(e,"templateCache"),this.maxEntries=(0,Tt.getInteger)({data:Jt.maxEntries,defaultValue:5,validate:vn=>vn>=0})}}class so extends st.XFAObject{constructor(Jt){super(e,"trace",!0),this.area=new st.XFAObjectArray}}class El extends st.XFAObject{constructor(Jt){super(e,"transform",!0),this.groupParent=null,this.ifEmpty=null,this.nameAttr=null,this.picture=null,this.presence=null,this.rename=null,this.whitespace=null}}class Bo extends st.OptionObject{constructor(Jt){super(e,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}}class jo extends st.StringObject{constructor(Jt){super(e,"uri")}}class oo extends st.OptionObject{constructor(Jt){super(e,"validate",["preSubmit","prePrint","preExecute","preSave"])}}class ko extends st.ContentObject{constructor(Jt){super(e,"validateApprovalSignatures")}[st.$finalize](){this[st.$content]=this[st.$content].trim().split(/\s+/).filter(Jt=>["docReady","postSign"].includes(Jt))}}class $o extends st.OptionObject{constructor(Jt){super(e,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}}class Fl extends st.OptionObject{constructor(Jt){super(e,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}}class Tl extends st.XFAObject{constructor(Jt){super(e,"VersionControl"),this.outputBelow=(0,Tt.getStringOption)(Jt.outputBelow,["warn","error","update"]),this.sourceAbove=(0,Tt.getStringOption)(Jt.sourceAbove,["warn","error"]),this.sourceBelow=(0,Tt.getStringOption)(Jt.sourceBelow,["update","maintain"])}}class Uo extends st.XFAObject{constructor(Jt){super(e,"viewerPreferences",!0),this.ADBE_JSConsole=null,this.ADBE_JSDebugger=null,this.addViewerPreferences=null,this.duplexOption=null,this.enforce=null,this.numberOfCopies=null,this.pageRange=null,this.pickTrayByPDFSize=null,this.printScaling=null}}class Pl extends st.XFAObject{constructor(Jt){super(e,"webClient",!0),this.name=Jt.name?Jt.name.trim():"",this.fontInfo=null,this.xdc=null}}class Ol extends st.OptionObject{constructor(Jt){super(e,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}}class Eo extends st.ContentObject{constructor(Jt){super(e,"window")}[st.$finalize](){const Jt=this[st.$content].trim().split(/\s*,\s*/,2).map(vn=>parseInt(vn,10));if(Jt.some(vn=>isNaN(vn))){this[st.$content]=[0,0];return}Jt.length===1&&Jt.push(Jt[0]),this[st.$content]=Jt}}class Ml extends st.XFAObject{constructor(Jt){super(e,"xdc",!0),this.uri=new st.XFAObjectArray,this.xsl=new st.XFAObjectArray}}class zs extends st.XFAObject{constructor(Jt){super(e,"xdp",!0),this.packets=null}}class Il extends st.XFAObject{constructor(Jt){super(e,"xsl",!0),this.debug=null,this.uri=null}}class lo extends st.XFAObject{constructor(Jt){super(e,"zpl",!0),this.name=Jt.name?Jt.name.trim():"",this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class Tn{static[s.$buildXFAObject](Jt,vn){if(Tn.hasOwnProperty(Jt))return Tn[Jt](vn)}static acrobat(Jt){return new gt(Jt)}static acrobat7(Jt){return new _(Jt)}static ADBE_JSConsole(Jt){return new $(Jt)}static ADBE_JSDebugger(Jt){return new d(Jt)}static addSilentPrint(Jt){return new j(Jt)}static addViewerPreferences(Jt){return new g(Jt)}static adjustData(Jt){return new o(Jt)}static adobeExtensionLevel(Jt){return new ut(Jt)}static agent(Jt){return new dt(Jt)}static alwaysEmbed(Jt){return new b(Jt)}static amd(Jt){return new h(Jt)}static area(Jt){return new et(Jt)}static attributes(Jt){return new nt(Jt)}static autoSave(Jt){return new pt(Jt)}static base(Jt){return new Bt(Jt)}static batchOutput(Jt){return new Pt(Jt)}static behaviorOverride(Jt){return new Rt(Jt)}static cache(Jt){return new Ft(Jt)}static change(Jt){return new lt(Jt)}static common(Jt){return new ft(Jt)}static compress(Jt){return new it(Jt)}static compressLogicalStructure(Jt){return new at(Jt)}static compressObjectStream(Jt){return new bt(Jt)}static compression(Jt){return new St(Jt)}static config(Jt){return new ht(Jt)}static conformance(Jt){return new vt(Jt)}static contentCopy(Jt){return new yt(Jt)}static copies(Jt){return new At(Jt)}static creator(Jt){return new Nt(Jt)}static currentPage(Jt){return new Ht(Jt)}static data(Jt){return new xt(Jt)}static debug(Jt){return new rt(Jt)}static defaultTypeface(Jt){return new mt(Jt)}static destination(Jt){return new Mt(Jt)}static documentAssembly(Jt){return new _t(Jt)}static driver(Jt){return new Lt(Jt)}static duplexOption(Jt){return new It(Jt)}static dynamicRender(Jt){return new Dt(Jt)}static embed(Jt){return new jt(Jt)}static encrypt(Jt){return new Ot(Jt)}static encryption(Jt){return new Xt(Jt)}static encryptionLevel(Jt){return new Ut(Jt)}static enforce(Jt){return new Gt(Jt)}static equate(Jt){return new qt(Jt)}static equateRange(Jt){return new Kt(Jt)}static exclude(Jt){return new Vt(Jt)}static excludeNS(Jt){return new Yt(Jt)}static flipLabel(Jt){return new Zt(Jt)}static fontInfo(Jt){return new Qt(Jt)}static formFieldFilling(Jt){return new en(Jt)}static groupParent(Jt){return new rn(Jt)}static ifEmpty(Jt){return new an(Jt)}static includeXDPContent(Jt){return new fn(Jt)}static incrementalLoad(Jt){return new un(Jt)}static incrementalMerge(Jt){return new pn(Jt)}static interactive(Jt){return new yn(Jt)}static jog(Jt){return new On(Jt)}static labelPrinter(Jt){return new En(Jt)}static layout(Jt){return new An(Jt)}static level(Jt){return new Cn(Jt)}static linearized(Jt){return new gn(Jt)}static locale(Jt){return new hn(Jt)}static localeSet(Jt){return new on(Jt)}static log(Jt){return new Dn(Jt)}static map(Jt){return new Xn(Jt)}static mediumInfo(Jt){return new er(Jt)}static message(Jt){return new Sn(Jt)}static messaging(Jt){return new xn(Jt)}static mode(Jt){return new cn(Jt)}static modifyAnnots(Jt){return new qn(Jt)}static msgId(Jt){return new Vn(Jt)}static nameAttr(Jt){return new Gn(Jt)}static neverEmbed(Jt){return new lr(Jt)}static numberOfCopies(Jt){return new $n(Jt)}static openAction(Jt){return new tr(Jt)}static output(Jt){return new pr(Jt)}static outputBin(Jt){return new jn(Jt)}static outputXSL(Jt){return new ur(Jt)}static overprint(Jt){return new rr(Jt)}static packets(Jt){return new Tr(Jt)}static pageOffset(Jt){return new br(Jt)}static pageRange(Jt){return new yr(Jt)}static pagination(Jt){return new cr(Jt)}static paginationOverride(Jt){return new Jr(Jt)}static part(Jt){return new Vr(Jt)}static pcl(Jt){return new Un(Jt)}static pdf(Jt){return new Mn(Jt)}static pdfa(Jt){return new zn(Jt)}static permissions(Jt){return new Wn(Jt)}static pickTrayByPDFSize(Jt){return new sr(Jt)}static picture(Jt){return new gr(Jt)}static plaintextMetadata(Jt){return new ir(Jt)}static presence(Jt){return new Jn(Jt)}static present(Jt){return new or(Jt)}static print(Jt){return new hr(Jt)}static printHighQuality(Jt){return new kr(Jt)}static printScaling(Jt){return new _r(Jt)}static printerName(Jt){return new dr(Jt)}static producer(Jt){return new mn(Jt)}static ps(Jt){return new Fn(Jt)}static range(Jt){return new Bn(Jt)}static record(Jt){return new Nn(Jt)}static relevant(Jt){return new nr(Jt)}static rename(Jt){return new Ar(Jt)}static renderPolicy(Jt){return new Gr(Jt)}static runScripts(Jt){return new Sr(Jt)}static script(Jt){return new Er(Jt)}static scriptModel(Jt){return new Wr(Jt)}static severity(Jt){return new $a(Jt)}static silentPrint(Jt){return new ys(Jt)}static staple(Jt){return new ao(Jt)}static startNode(Jt){return new vo(Jt)}static startPage(Jt){return new _l(Jt)}static submitFormat(Jt){return new Lo(Jt)}static submitUrl(Jt){return new Ao(Jt)}static subsetBelow(Jt){return new wo(Jt)}static suppressBanner(Jt){return new Cl(Jt)}static tagged(Jt){return new No(Jt)}static template(Jt){return new So(Jt)}static templateCache(Jt){return new Co(Jt)}static threshold(Jt){return new _o(Jt)}static to(Jt){return new Xs(Jt)}static trace(Jt){return new so(Jt)}static transform(Jt){return new El(Jt)}static type(Jt){return new Bo(Jt)}static uri(Jt){return new jo(Jt)}static validate(Jt){return new oo(Jt)}static validateApprovalSignatures(Jt){return new ko(Jt)}static validationMessaging(Jt){return new $o(Jt)}static version(Jt){return new Fl(Jt)}static versionControl(Jt){return new Tl(Jt)}static viewerPreferences(Jt){return new Uo(Jt)}static webClient(Jt){return new Pl(Jt)}static whitespace(Jt){return new Ol(Jt)}static window(Jt){return new Eo(Jt)}static xdc(Jt){return new Ml(Jt)}static xdp(Jt){return new zs(Jt)}static xsl(Jt){return new Il(Jt)}static zpl(Jt){return new lo(Jt)}}ct.ConfigNamespace=Tn},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.ConnectionSetNamespace=void 0;var s=Et(79),st=Et(77);const Tt=s.NamespaceIds.connectionSet.id;class wt extends st.XFAObject{constructor(nt){super(Tt,"connectionSet",!0),this.wsdlConnection=new st.XFAObjectArray,this.xmlConnection=new st.XFAObjectArray,this.xsdConnection=new st.XFAObjectArray}}class e extends st.XFAObject{constructor(nt){super(Tt,"effectiveInputPolicy"),this.id=nt.id||"",this.name=nt.name||"",this.use=nt.use||"",this.usehref=nt.usehref||""}}class gt extends st.XFAObject{constructor(nt){super(Tt,"effectiveOutputPolicy"),this.id=nt.id||"",this.name=nt.name||"",this.use=nt.use||"",this.usehref=nt.usehref||""}}class _ extends st.StringObject{constructor(nt){super(Tt,"operation"),this.id=nt.id||"",this.input=nt.input||"",this.name=nt.name||"",this.output=nt.output||"",this.use=nt.use||"",this.usehref=nt.usehref||""}}class $ extends st.StringObject{constructor(nt){super(Tt,"rootElement"),this.id=nt.id||"",this.name=nt.name||"",this.use=nt.use||"",this.usehref=nt.usehref||""}}class d extends st.StringObject{constructor(nt){super(Tt,"soapAction"),this.id=nt.id||"",this.name=nt.name||"",this.use=nt.use||"",this.usehref=nt.usehref||""}}class j extends st.StringObject{constructor(nt){super(Tt,"soapAddress"),this.id=nt.id||"",this.name=nt.name||"",this.use=nt.use||"",this.usehref=nt.usehref||""}}class g extends st.StringObject{constructor(nt){super(Tt,"uri"),this.id=nt.id||"",this.name=nt.name||"",this.use=nt.use||"",this.usehref=nt.usehref||""}}class o extends st.StringObject{constructor(nt){super(Tt,"wsdlAddress"),this.id=nt.id||"",this.name=nt.name||"",this.use=nt.use||"",this.usehref=nt.usehref||""}}class ut extends st.XFAObject{constructor(nt){super(Tt,"wsdlConnection",!0),this.dataDescription=nt.dataDescription||"",this.name=nt.name||"",this.effectiveInputPolicy=null,this.effectiveOutputPolicy=null,this.operation=null,this.soapAction=null,this.soapAddress=null,this.wsdlAddress=null}}class dt extends st.XFAObject{constructor(nt){super(Tt,"xmlConnection",!0),this.dataDescription=nt.dataDescription||"",this.name=nt.name||"",this.uri=null}}class b extends st.XFAObject{constructor(nt){super(Tt,"xsdConnection",!0),this.dataDescription=nt.dataDescription||"",this.name=nt.name||"",this.rootElement=null,this.uri=null}}class h{static[s.$buildXFAObject](nt,pt){if(h.hasOwnProperty(nt))return h[nt](pt)}static connectionSet(nt){return new wt(nt)}static effectiveInputPolicy(nt){return new e(nt)}static effectiveOutputPolicy(nt){return new gt(nt)}static operation(nt){return new _(nt)}static rootElement(nt){return new $(nt)}static soapAction(nt){return new d(nt)}static soapAddress(nt){return new j(nt)}static uri(nt){return new g(nt)}static wsdlAddress(nt){return new o(nt)}static wsdlConnection(nt){return new ut(nt)}static xmlConnection(nt){return new dt(nt)}static xsdConnection(nt){return new b(nt)}}ct.ConnectionSetNamespace=h},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.DatasetsNamespace=void 0;var s=Et(77),st=Et(79);const Tt=st.NamespaceIds.datasets.id;class wt extends s.XmlObject{constructor($){super(Tt,"data",$)}[s.$isNsAgnostic](){return!0}}class e extends s.XFAObject{constructor($){super(Tt,"datasets",!0),this.data=null,this.Signature=null}[s.$onChild]($){const d=$[s.$nodeName];(d==="data"&&$[s.$namespaceId]===Tt||d==="Signature"&&$[s.$namespaceId]===st.NamespaceIds.signature.id)&&(this[d]=$),this[s.$appendChild]($)}}class gt{static[st.$buildXFAObject]($,d){if(gt.hasOwnProperty($))return gt[$](d)}static datasets($){return new e($)}static data($){return new wt($)}}ct.DatasetsNamespace=gt},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.LocaleSetNamespace=void 0;var s=Et(79),st=Et(77),Tt=Et(78);const wt=s.NamespaceIds.localeSet.id;class e extends st.XFAObject{constructor(vt){super(wt,"calendarSymbols",!0),this.name="gregorian",this.dayNames=new st.XFAObjectArray(2),this.eraNames=null,this.meridiemNames=null,this.monthNames=new st.XFAObjectArray(2)}}class gt extends st.StringObject{constructor(vt){super(wt,"currencySymbol"),this.name=(0,Tt.getStringOption)(vt.name,["symbol","isoname","decimal"])}}class _ extends st.XFAObject{constructor(vt){super(wt,"currencySymbols",!0),this.currencySymbol=new st.XFAObjectArray(3)}}class $ extends st.StringObject{constructor(vt){super(wt,"datePattern"),this.name=(0,Tt.getStringOption)(vt.name,["full","long","med","short"])}}class d extends st.XFAObject{constructor(vt){super(wt,"datePatterns",!0),this.datePattern=new st.XFAObjectArray(4)}}class j extends st.ContentObject{constructor(vt){super(wt,"dateTimeSymbols")}}class g extends st.StringObject{constructor(vt){super(wt,"day")}}class o extends st.XFAObject{constructor(vt){super(wt,"dayNames",!0),this.abbr=(0,Tt.getInteger)({data:vt.abbr,defaultValue:0,validate:yt=>yt===1}),this.day=new st.XFAObjectArray(7)}}class ut extends st.StringObject{constructor(vt){super(wt,"era")}}class dt extends st.XFAObject{constructor(vt){super(wt,"eraNames",!0),this.era=new st.XFAObjectArray(2)}}class b extends st.XFAObject{constructor(vt){super(wt,"locale",!0),this.desc=vt.desc||"",this.name="isoname",this.calendarSymbols=null,this.currencySymbols=null,this.datePatterns=null,this.dateTimeSymbols=null,this.numberPatterns=null,this.numberSymbols=null,this.timePatterns=null,this.typeFaces=null}}class h extends st.XFAObject{constructor(vt){super(wt,"localeSet",!0),this.locale=new st.XFAObjectArray}}class et extends st.StringObject{constructor(vt){super(wt,"meridiem")}}class nt extends st.XFAObject{constructor(vt){super(wt,"meridiemNames",!0),this.meridiem=new st.XFAObjectArray(2)}}class pt extends st.StringObject{constructor(vt){super(wt,"month")}}class Bt extends st.XFAObject{constructor(vt){super(wt,"monthNames",!0),this.abbr=(0,Tt.getInteger)({data:vt.abbr,defaultValue:0,validate:yt=>yt===1}),this.month=new st.XFAObjectArray(12)}}class Pt extends st.StringObject{constructor(vt){super(wt,"numberPattern"),this.name=(0,Tt.getStringOption)(vt.name,["full","long","med","short"])}}class Rt extends st.XFAObject{constructor(vt){super(wt,"numberPatterns",!0),this.numberPattern=new st.XFAObjectArray(4)}}class Ft extends st.StringObject{constructor(vt){super(wt,"numberSymbol"),this.name=(0,Tt.getStringOption)(vt.name,["decimal","grouping","percent","minus","zero"])}}class lt extends st.XFAObject{constructor(vt){super(wt,"numberSymbols",!0),this.numberSymbol=new st.XFAObjectArray(5)}}class ft extends st.StringObject{constructor(vt){super(wt,"timePattern"),this.name=(0,Tt.getStringOption)(vt.name,["full","long","med","short"])}}class it extends st.XFAObject{constructor(vt){super(wt,"timePatterns",!0),this.timePattern=new st.XFAObjectArray(4)}}class at extends st.XFAObject{constructor(vt){super(wt,"typeFace",!0),this.name=vt.name|""}}class bt extends st.XFAObject{constructor(vt){super(wt,"typeFaces",!0),this.typeFace=new st.XFAObjectArray}}class St{static[s.$buildXFAObject](vt,yt){if(St.hasOwnProperty(vt))return St[vt](yt)}static calendarSymbols(vt){return new e(vt)}static currencySymbol(vt){return new gt(vt)}static currencySymbols(vt){return new _(vt)}static datePattern(vt){return new $(vt)}static datePatterns(vt){return new d(vt)}static dateTimeSymbols(vt){return new j(vt)}static day(vt){return new g(vt)}static dayNames(vt){return new o(vt)}static era(vt){return new ut(vt)}static eraNames(vt){return new dt(vt)}static locale(vt){return new b(vt)}static localeSet(vt){return new h(vt)}static meridiem(vt){return new et(vt)}static meridiemNames(vt){return new nt(vt)}static month(vt){return new pt(vt)}static monthNames(vt){return new Bt(vt)}static numberPattern(vt){return new Pt(vt)}static numberPatterns(vt){return new Rt(vt)}static numberSymbol(vt){return new Ft(vt)}static numberSymbols(vt){return new lt(vt)}static timePattern(vt){return new ft(vt)}static timePatterns(vt){return new it(vt)}static typeFace(vt){return new at(vt)}static typeFaces(vt){return new bt(vt)}}ct.LocaleSetNamespace=St},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.SignatureNamespace=void 0;var s=Et(79),st=Et(77);const Tt=s.NamespaceIds.signature.id;class wt extends st.XFAObject{constructor(_){super(Tt,"signature",!0)}}class e{static[s.$buildXFAObject](_,$){if(e.hasOwnProperty(_))return e[_]($)}static signature(_){return new wt(_)}}ct.SignatureNamespace=e},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.StylesheetNamespace=void 0;var s=Et(79),st=Et(77);const Tt=s.NamespaceIds.stylesheet.id;class wt extends st.XFAObject{constructor(_){super(Tt,"stylesheet",!0)}}class e{static[s.$buildXFAObject](_,$){if(e.hasOwnProperty(_))return e[_]($)}static stylesheet(_){return new wt(_)}}ct.StylesheetNamespace=e},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.XdpNamespace=void 0;var s=Et(79),st=Et(77);const Tt=s.NamespaceIds.xdp.id;class wt extends st.XFAObject{constructor(_){super(Tt,"xdp",!0),this.uuid=_.uuid||"",this.timeStamp=_.timeStamp||"",this.config=null,this.connectionSet=null,this.datasets=null,this.localeSet=null,this.stylesheet=new st.XFAObjectArray,this.template=null}[st.$onChildCheck](_){const $=s.NamespaceIds[_[st.$nodeName]];return $&&_[st.$namespaceId]===$.id}}class e{static[s.$buildXFAObject](_,$){if(e.hasOwnProperty(_))return e[_]($)}static xdp(_){return new wt(_)}}ct.XdpNamespace=e},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.XhtmlNamespace=void 0;var s=Et(77),st=Et(79),Tt=Et(84),wt=Et(78);const e=st.NamespaceIds.xhtml.id,gt=Symbol(),_=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),$=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",ht=>ht==="none"?"none":"normal"],["xfa-font-horizontal-scale",ht=>`scaleX(${Math.max(0,Math.min(parseInt(ht)/100)).toFixed(2)})`],["xfa-font-vertical-scale",ht=>`scaleY(${Math.max(0,Math.min(parseInt(ht)/100)).toFixed(2)})`],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",(ht,vt)=>(ht=vt.fontSize=(0,wt.getMeasurement)(ht),(0,Tt.measureToString)(.99*ht))],["letter-spacing",ht=>(0,Tt.measureToString)((0,wt.getMeasurement)(ht))],["line-height",ht=>(0,Tt.measureToString)((0,wt.getMeasurement)(ht))],["margin",ht=>(0,Tt.measureToString)((0,wt.getMeasurement)(ht))],["margin-bottom",ht=>(0,Tt.measureToString)((0,wt.getMeasurement)(ht))],["margin-left",ht=>(0,Tt.measureToString)((0,wt.getMeasurement)(ht))],["margin-right",ht=>(0,Tt.measureToString)((0,wt.getMeasurement)(ht))],["margin-top",ht=>(0,Tt.measureToString)((0,wt.getMeasurement)(ht))],["text-indent",ht=>(0,Tt.measureToString)((0,wt.getMeasurement)(ht))],["font-family",ht=>ht],["vertical-align",ht=>(0,Tt.measureToString)((0,wt.getMeasurement)(ht))]]),d=/\s+/g,j=/[\r\n]+/g,g=/\r\n?/g;function o(ht,vt,yt){const At=Object.create(null);if(!ht)return At;const Nt=Object.create(null);for(const[Ht,xt]of ht.split(";").map(rt=>rt.split(":",2))){const rt=$.get(Ht);if(rt==="")continue;let mt=xt;rt&&(typeof rt=="string"?mt=rt:mt=rt(xt,Nt)),Ht.endsWith("scale")?At.transform?At.transform=`${At[Ht]} ${mt}`:At.transform=mt:At[Ht.replaceAll(/-([a-zA-Z])/g,(Mt,_t)=>_t.toUpperCase())]=mt}if(At.fontFamily&&(0,Tt.setFontFamily)({typeface:At.fontFamily,weight:At.fontWeight||"normal",posture:At.fontStyle||"normal",size:Nt.fontSize||0},vt,vt[s.$globalData].fontFinder,At),yt&&At.verticalAlign&&At.verticalAlign!=="0px"&&At.fontSize){const rt=(0,wt.getMeasurement)(At.fontSize);At.fontSize=(0,Tt.measureToString)(rt*.583),At.verticalAlign=(0,Tt.measureToString)(Math.sign((0,wt.getMeasurement)(At.verticalAlign))*rt*.333)}return yt&&At.fontSize&&(At.fontSize=`calc(${At.fontSize} * var(--scale-factor))`),(0,Tt.fixTextIndent)(At),At}function ut(ht){return ht.style?ht.style.trim().split(/\s*;\s*/).filter(vt=>!!vt).map(vt=>vt.split(/\s*:\s*/,2)).filter(([vt,yt])=>(vt==="font-family"&&ht[s.$globalData].usedTypefaces.add(yt),_.has(vt))).map(vt=>vt.join(":")).join(";"):""}const dt=new Set(["body","html"]);class b extends s.XmlObject{constructor(vt,yt){super(e,yt),this[gt]=!1,this.style=vt.style||""}[s.$clean](vt){super[s.$clean](vt),this.style=ut(this)}[s.$acceptWhitespace](){return!dt.has(this[s.$nodeName])}[s.$onText](vt,yt=!1){yt?this[gt]=!0:(vt=vt.replace(j,""),this.style.includes("xfa-spacerun:yes")||(vt=vt.replace(d," "))),vt&&(this[s.$content]+=vt)}[s.$pushGlyphs](vt,yt=!0){const At=Object.create(null),Nt={top:NaN,bottom:NaN,left:NaN,right:NaN};let Ht=null;for(const[xt,rt]of this.style.split(";").map(mt=>mt.split(":",2)))switch(xt){case"font-family":At.typeface=(0,wt.stripQuotes)(rt);break;case"font-size":At.size=(0,wt.getMeasurement)(rt);break;case"font-weight":At.weight=rt;break;case"font-style":At.posture=rt;break;case"letter-spacing":At.letterSpacing=(0,wt.getMeasurement)(rt);break;case"margin":const mt=rt.split(/ \t/).map(Mt=>(0,wt.getMeasurement)(Mt));switch(mt.length){case 1:Nt.top=Nt.bottom=Nt.left=Nt.right=mt[0];break;case 2:Nt.top=Nt.bottom=mt[0],Nt.left=Nt.right=mt[1];break;case 3:Nt.top=mt[0],Nt.bottom=mt[2],Nt.left=Nt.right=mt[1];break;case 4:Nt.top=mt[0],Nt.left=mt[1],Nt.bottom=mt[2],Nt.right=mt[3];break}break;case"margin-top":Nt.top=(0,wt.getMeasurement)(rt);break;case"margin-bottom":Nt.bottom=(0,wt.getMeasurement)(rt);break;case"margin-left":Nt.left=(0,wt.getMeasurement)(rt);break;case"margin-right":Nt.right=(0,wt.getMeasurement)(rt);break;case"line-height":Ht=(0,wt.getMeasurement)(rt);break}if(vt.pushData(At,Nt,Ht),this[s.$content])vt.addString(this[s.$content]);else for(const xt of this[s.$getChildren]()){if(xt[s.$nodeName]==="#text"){vt.addString(xt[s.$content]);continue}xt[s.$pushGlyphs](vt)}yt&&vt.popFont()}[s.$toHTML](vt){const yt=[];if(this[s.$extra]={children:yt},this[s.$childrenToHTML]({}),yt.length===0&&!this[s.$content])return wt.HTMLResult.EMPTY;let At;return this[gt]?At=this[s.$content]?this[s.$content].replace(g,`
`):void 0:At=this[s.$content]||void 0,wt.HTMLResult.success({name:this[s.$nodeName],attributes:{href:this.href,style:o(this.style,this,this[gt])},children:yt,value:At})}}class h extends b{constructor(vt){super(vt,"a"),this.href=(0,Tt.fixURL)(vt.href)||""}}class et extends b{constructor(vt){super(vt,"b")}[s.$pushGlyphs](vt){vt.pushFont({weight:"bold"}),super[s.$pushGlyphs](vt),vt.popFont()}}class nt extends b{constructor(vt){super(vt,"body")}[s.$toHTML](vt){const yt=super[s.$toHTML](vt),{html:At}=yt;return At?(At.name="div",At.attributes.class=["xfaRich"],yt):wt.HTMLResult.EMPTY}}class pt extends b{constructor(vt){super(vt,"br")}[s.$text](){return`
`}[s.$pushGlyphs](vt){vt.addString(`
`)}[s.$toHTML](vt){return wt.HTMLResult.success({name:"br"})}}class Bt extends b{constructor(vt){super(vt,"html")}[s.$toHTML](vt){const yt=[];if(this[s.$extra]={children:yt},this[s.$childrenToHTML]({}),yt.length===0)return wt.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},value:this[s.$content]||""});if(yt.length===1){const At=yt[0];if(At.attributes&&At.attributes.class.includes("xfaRich"))return wt.HTMLResult.success(At)}return wt.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},children:yt})}}class Pt extends b{constructor(vt){super(vt,"i")}[s.$pushGlyphs](vt){vt.pushFont({posture:"italic"}),super[s.$pushGlyphs](vt),vt.popFont()}}class Rt extends b{constructor(vt){super(vt,"li")}}class Ft extends b{constructor(vt){super(vt,"ol")}}class lt extends b{constructor(vt){super(vt,"p")}[s.$pushGlyphs](vt){super[s.$pushGlyphs](vt,!1),vt.addString(`
`),vt.addPara(),vt.popFont()}[s.$text](){return this[s.$getParent]()[s.$getChildren]().at(-1)===this?super[s.$text]():super[s.$text]()+`
`}}class ft extends b{constructor(vt){super(vt,"span")}}class it extends b{constructor(vt){super(vt,"sub")}}class at extends b{constructor(vt){super(vt,"sup")}}class bt extends b{constructor(vt){super(vt,"ul")}}class St{static[st.$buildXFAObject](vt,yt){if(St.hasOwnProperty(vt))return St[vt](yt)}static a(vt){return new h(vt)}static b(vt){return new et(vt)}static body(vt){return new nt(vt)}static br(vt){return new pt(vt)}static html(vt){return new Bt(vt)}static i(vt){return new Pt(vt)}static li(vt){return new Rt(vt)}static ol(vt){return new Ft(vt)}static p(vt){return new lt(vt)}static span(vt){return new ft(vt)}static sub(vt){return new it(vt)}static sup(vt){return new at(vt)}static ul(vt){return new bt(vt)}}ct.XhtmlNamespace=St},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.UnknownNamespace=void 0;var s=Et(79),st=Et(77);class Tt{constructor(e){this.namespaceId=e}[s.$buildXFAObject](e,gt){return new st.XmlObject(this.namespaceId,e,gt)}}ct.UnknownNamespace=Tt},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.DatasetReader=void 0;var s=Et(2),st=Et(6),Tt=Et(66);function wt(_){try{return(0,s.stringToUTF8String)(_)}catch($){return(0,s.warn)(`UTF-8 decoding failed: "${$}".`),_}}class e extends Tt.SimpleXMLParser{constructor($){super($),this.node=null}onEndElement($){const d=super.onEndElement($);if(d&&$==="xfa:datasets")throw this.node=d,new Error("Aborting DatasetXMLParser.")}}class gt{constructor($){if($.datasets)this.node=new Tt.SimpleXMLParser({hasAttributes:!0}).parseFromString($.datasets).documentElement;else{const d=new e({hasAttributes:!0});try{d.parseFromString($["xdp:xdp"])}catch{}this.node=d.node}}getValue($){if(!this.node||!$)return"";const d=this.node.searchNode((0,st.parseXFAPath)($),0);if(!d)return"";const j=d.firstChild;return j&&j.nodeName==="value"?d.children.map(g=>wt(g.textContent)):wt(d.textContent)}}ct.DatasetReader=gt},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.XRef=void 0;var s=Et(2),st=Et(5),Tt=Et(6),wt=Et(17),e=Et(7),gt=Et(67);class _{constructor(d,j){this.stream=d,this.pdfManager=j,this.entries=[],this.xrefstms=Object.create(null),this._cacheMap=new Map,this._pendingRefs=new st.RefSet,this.stats=new Tt.DocStats(j.msgHandler),this._newRefNum=null}getNewRef(){return this._newRefNum===null&&(this._newRefNum=this.entries.length||1),st.Ref.get(this._newRefNum++,0)}resetNewRef(){this._newRefNum=null}setStartXRef(d){this.startXRefQueue=[d]}parse(d=!1){let j;d?((0,s.warn)("Indexing all PDF objects"),j=this.indexObjects()):j=this.readXRef(),j.assignXref(this),this.trailer=j;let g;try{g=j.get("Encrypt")}catch(ut){if(ut instanceof Tt.MissingDataException)throw ut;(0,s.warn)(`XRef.parse - Invalid "Encrypt" reference: "${ut}".`)}if(g instanceof st.Dict){const ut=j.get("ID"),dt=ut&&ut.length?ut[0]:"";g.suppressEncryption=!0,this.encrypt=new gt.CipherTransformFactory(g,dt,this.pdfManager.password)}let o;try{o=j.get("Root")}catch(ut){if(ut instanceof Tt.MissingDataException)throw ut;(0,s.warn)(`XRef.parse - Invalid "Root" reference: "${ut}".`)}if(o instanceof st.Dict)try{if(o.get("Pages")instanceof st.Dict){this.root=o;return}}catch(ut){if(ut instanceof Tt.MissingDataException)throw ut;(0,s.warn)(`XRef.parse - Invalid "Pages" reference: "${ut}".`)}throw d?new s.InvalidPDFException("Invalid Root reference."):new Tt.XRefParseException}processXRefTable(d){"tableState"in this||(this.tableState={entryNum:0,streamPos:d.lexer.stream.pos,parserBuf1:d.buf1,parserBuf2:d.buf2});const j=this.readXRefTable(d);if(!(0,st.isCmd)(j,"trailer"))throw new s.FormatError("Invalid XRef table: could not find trailer dictionary");let g=d.getObj();if(!(g instanceof st.Dict)&&g.dict&&(g=g.dict),!(g instanceof st.Dict))throw new s.FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,g}readXRefTable(d){const j=d.lexer.stream,g=this.tableState;j.pos=g.streamPos,d.buf1=g.parserBuf1,d.buf2=g.parserBuf2;let o;for(;;){if(!("firstEntryNum"in g)||!("entryCount"in g)){if((0,st.isCmd)(o=d.getObj(),"trailer"))break;g.firstEntryNum=o,g.entryCount=d.getObj()}let ut=g.firstEntryNum;const dt=g.entryCount;if(!Number.isInteger(ut)||!Number.isInteger(dt))throw new s.FormatError("Invalid XRef table: wrong types in subsection header");for(let b=g.entryNum;b<dt;b++){g.streamPos=j.pos,g.entryNum=b,g.parserBuf1=d.buf1,g.parserBuf2=d.buf2;const h={};h.offset=d.getObj(),h.gen=d.getObj();const et=d.getObj();if(et instanceof st.Cmd)switch(et.cmd){case"f":h.free=!0;break;case"n":h.uncompressed=!0;break}if(!Number.isInteger(h.offset)||!Number.isInteger(h.gen)||!(h.free||h.uncompressed))throw new s.FormatError(`Invalid entry in XRef subsection: ${ut}, ${dt}`);b===0&&h.free&&ut===1&&(ut=0),this.entries[b+ut]||(this.entries[b+ut]=h)}g.entryNum=0,g.streamPos=j.pos,g.parserBuf1=d.buf1,g.parserBuf2=d.buf2,delete g.firstEntryNum,delete g.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new s.FormatError("Invalid XRef table: unexpected first object");return o}processXRefStream(d){if(!("streamState"in this)){const j=d.dict,g=j.get("W");let o=j.get("Index");o||(o=[0,j.get("Size")]),this.streamState={entryRanges:o,byteWidths:g,entryNum:0,streamPos:d.pos}}return this.readXRefStream(d),delete this.streamState,d.dict}readXRefStream(d){const j=this.streamState;d.pos=j.streamPos;const[g,o,ut]=j.byteWidths,dt=j.entryRanges;for(;dt.length>0;){const[b,h]=dt;if(!Number.isInteger(b)||!Number.isInteger(h))throw new s.FormatError(`Invalid XRef range fields: ${b}, ${h}`);if(!Number.isInteger(g)||!Number.isInteger(o)||!Number.isInteger(ut))throw new s.FormatError(`Invalid XRef entry fields length: ${b}, ${h}`);for(let et=j.entryNum;et<h;++et){j.entryNum=et,j.streamPos=d.pos;let nt=0,pt=0,Bt=0;for(let Rt=0;Rt<g;++Rt){const Ft=d.getByte();if(Ft===-1)throw new s.FormatError("Invalid XRef byteWidths 'type'.");nt=nt<<8|Ft}g===0&&(nt=1);for(let Rt=0;Rt<o;++Rt){const Ft=d.getByte();if(Ft===-1)throw new s.FormatError("Invalid XRef byteWidths 'offset'.");pt=pt<<8|Ft}for(let Rt=0;Rt<ut;++Rt){const Ft=d.getByte();if(Ft===-1)throw new s.FormatError("Invalid XRef byteWidths 'generation'.");Bt=Bt<<8|Ft}const Pt={};switch(Pt.offset=pt,Pt.gen=Bt,nt){case 0:Pt.free=!0;break;case 1:Pt.uncompressed=!0;break;case 2:break;default:throw new s.FormatError(`Invalid XRef entry type: ${nt}`)}this.entries[b+et]||(this.entries[b+et]=Pt)}j.entryNum=0,j.streamPos=d.pos,dt.splice(0,2)}}indexObjects(){function b(yt,At){let Nt="",Ht=yt[At];for(;Ht!==10&&Ht!==13&&Ht!==60&&!(++At>=yt.length);)Nt+=String.fromCharCode(Ht),Ht=yt[At];return Nt}function h(yt,At,Nt){const Ht=Nt.length,xt=yt.length;let rt=0;for(;At<xt;){let mt=0;for(;mt<Ht&&yt[At+mt]===Nt[mt];)++mt;if(mt>=Ht)break;At++,rt++}return rt}const et=/^(\d+)\s+(\d+)\s+obj\b/,nt=/\bendobj[\b\s]$/,pt=/\s+(\d+\s+\d+\s+obj[\b\s<])$/,Bt=25,Pt=new Uint8Array([116,114,97,105,108,101,114]),Rt=new Uint8Array([115,116,97,114,116,120,114,101,102]),Ft=new Uint8Array([111,98,106]),lt=new Uint8Array([47,88,82,101,102]);this.entries.length=0,this._cacheMap.clear();const ft=this.stream;ft.pos=0;const it=ft.getBytes(),at=it.length;let bt=ft.start;const St=[],ht=[];for(;bt<at;){let yt=it[bt];if(yt===9||yt===10||yt===13||yt===32){++bt;continue}if(yt===37){do{if(++bt,bt>=at)break;yt=it[bt]}while(yt!==10&&yt!==13);continue}const At=b(it,bt);let Nt;if(At.startsWith("xref")&&(At.length===4||/\s/.test(At[4])))bt+=h(it,bt,Pt),St.push(bt),bt+=h(it,bt,Rt);else if(Nt=et.exec(At)){const Ht=Nt[1]|0,xt=Nt[2]|0;let rt,mt=bt+At.length,Mt=!1;if(!this.entries[Ht])Mt=!0;else if(this.entries[Ht].gen===xt)try{new wt.Parser({lexer:new wt.Lexer(ft.makeSubStream(mt))}).getObj(),Mt=!0}catch(It){It instanceof Tt.ParserEOFException?(0,s.warn)(`indexObjects -- checking object (${At}): "${It}".`):Mt=!0}for(Mt&&(this.entries[Ht]={offset:bt-ft.start,gen:xt,uncompressed:!0});mt<it.length;){const It=mt+h(it,mt,Ft)+4;rt=It-bt;const Dt=Math.max(It-Bt,mt),jt=(0,s.bytesToString)(it.subarray(Dt,It));if(nt.test(jt))break;{const Ot=pt.exec(jt);if(Ot&&Ot[1]){(0,s.warn)('indexObjects: Found new "obj" inside of another "obj", caused by missing "endobj" -- trying to recover.'),rt-=Ot[1].length;break}}mt=It}const _t=it.subarray(bt,bt+rt),Lt=h(_t,0,lt);Lt<rt&&_t[Lt+5]<64&&(ht.push(bt-ft.start),this.xrefstms[bt-ft.start]=1),bt+=rt}else At.startsWith("trailer")&&(At.length===7||/\s/.test(At[7]))?(St.push(bt),bt+=h(it,bt,Rt)):bt+=At.length+1}for(let yt=0,At=ht.length;yt<At;++yt)this.startXRefQueue.push(ht[yt]),this.readXRef(!0);let vt;for(let yt=0,At=St.length;yt<At;++yt){ft.pos=St[yt];const Nt=new wt.Parser({lexer:new wt.Lexer(ft),xref:this,allowStreams:!0,recoveryMode:!0}),Ht=Nt.getObj();if(!(0,st.isCmd)(Ht,"trailer"))continue;const xt=Nt.getObj();if(xt instanceof st.Dict){try{const rt=xt.get("Root");if(!(rt instanceof st.Dict))continue;const mt=rt.get("Pages");if(!(mt instanceof st.Dict))continue;const Mt=mt.get("Count");if(!Number.isInteger(Mt))continue}catch{continue}if(xt.has("ID"))return xt;vt=xt}}if(vt)return vt;if(this.topDict)return this.topDict;throw new s.InvalidPDFException("Invalid PDF structure.")}readXRef(d=!1){const j=this.stream,g=new Set;try{for(;this.startXRefQueue.length;){const o=this.startXRefQueue[0];if(g.has(o)){(0,s.warn)("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();continue}g.add(o),j.pos=o+j.start;const ut=new wt.Parser({lexer:new wt.Lexer(j),xref:this,allowStreams:!0});let dt=ut.getObj(),b;if((0,st.isCmd)(dt,"xref")){if(b=this.processXRefTable(ut),this.topDict||(this.topDict=b),dt=b.get("XRefStm"),Number.isInteger(dt)){const h=dt;h in this.xrefstms||(this.xrefstms[h]=1,this.startXRefQueue.push(h))}}else if(Number.isInteger(dt)){if(!Number.isInteger(ut.getObj())||!(0,st.isCmd)(ut.getObj(),"obj")||!((dt=ut.getObj())instanceof e.BaseStream))throw new s.FormatError("Invalid XRef stream");if(b=this.processXRefStream(dt),this.topDict||(this.topDict=b),!b)throw new s.FormatError("Failed to read XRef stream")}else throw new s.FormatError("Invalid XRef stream header");dt=b.get("Prev"),Number.isInteger(dt)?this.startXRefQueue.push(dt):dt instanceof st.Ref&&this.startXRefQueue.push(dt.num),this.startXRefQueue.shift()}return this.topDict}catch(o){if(o instanceof Tt.MissingDataException)throw o;(0,s.info)("(while reading XRef): "+o),this.startXRefQueue.shift()}if(!d)throw new Tt.XRefParseException}getEntry(d){const j=this.entries[d];return j&&!j.free&&j.offset?j:null}fetchIfRef(d,j=!1){return d instanceof st.Ref?this.fetch(d,j):d}fetch(d,j=!1){if(!(d instanceof st.Ref))throw new Error("ref object is not a reference");const g=d.num,o=this._cacheMap.get(g);if(o!==void 0)return o instanceof st.Dict&&!o.objId&&(o.objId=d.toString()),o;let ut=this.getEntry(g);if(ut===null)return this._cacheMap.set(g,ut),ut;if(this._pendingRefs.has(d))return this._pendingRefs.remove(d),(0,s.warn)(`Ignoring circular reference: ${d}.`),st.CIRCULAR_REF;this._pendingRefs.put(d);try{ut.uncompressed?ut=this.fetchUncompressed(d,ut,j):ut=this.fetchCompressed(d,ut,j),this._pendingRefs.remove(d)}catch(dt){throw this._pendingRefs.remove(d),dt}return ut instanceof st.Dict?ut.objId=d.toString():ut instanceof e.BaseStream&&(ut.dict.objId=d.toString()),ut}fetchUncompressed(d,j,g=!1){const o=d.gen;let ut=d.num;if(j.gen!==o)throw new Tt.XRefEntryException(`Inconsistent generation in XRef: ${d}`);const dt=this.stream.makeSubStream(j.offset+this.stream.start),b=new wt.Parser({lexer:new wt.Lexer(dt),xref:this,allowStreams:!0}),h=b.getObj(),et=b.getObj(),nt=b.getObj();if(h!==ut||et!==o||!(nt instanceof st.Cmd))throw new Tt.XRefEntryException(`Bad (uncompressed) XRef entry: ${d}`);if(nt.cmd!=="obj"){if(nt.cmd.startsWith("obj")&&(ut=parseInt(nt.cmd.substring(3),10),!Number.isNaN(ut)))return ut;throw new Tt.XRefEntryException(`Bad (uncompressed) XRef entry: ${d}`)}return this.encrypt&&!g?j=b.getObj(this.encrypt.createCipherTransform(ut,o)):j=b.getObj(),j instanceof e.BaseStream||this._cacheMap.set(ut,j),j}fetchCompressed(d,j,g=!1){const o=j.offset,ut=this.fetch(st.Ref.get(o,0));if(!(ut instanceof e.BaseStream))throw new s.FormatError("bad ObjStm stream");const dt=ut.dict.get("First"),b=ut.dict.get("N");if(!Number.isInteger(dt)||!Number.isInteger(b))throw new s.FormatError("invalid first and n parameters for ObjStm stream");let h=new wt.Parser({lexer:new wt.Lexer(ut),xref:this,allowStreams:!0});const et=new Array(b),nt=new Array(b);for(let Pt=0;Pt<b;++Pt){const Rt=h.getObj();if(!Number.isInteger(Rt))throw new s.FormatError(`invalid object number in the ObjStm stream: ${Rt}`);const Ft=h.getObj();if(!Number.isInteger(Ft))throw new s.FormatError(`invalid object offset in the ObjStm stream: ${Ft}`);et[Pt]=Rt,nt[Pt]=Ft}const pt=(ut.start||0)+dt,Bt=new Array(b);for(let Pt=0;Pt<b;++Pt){const Rt=Pt<b-1?nt[Pt+1]-nt[Pt]:void 0;if(Rt<0)throw new s.FormatError("Invalid offset in the ObjStm stream.");h=new wt.Parser({lexer:new wt.Lexer(ut.makeSubStream(pt+nt[Pt],Rt,ut.dict)),xref:this,allowStreams:!0});const Ft=h.getObj();if(Bt[Pt]=Ft,Ft instanceof e.BaseStream)continue;const lt=et[Pt],ft=this.entries[lt];ft&&ft.offset===o&&ft.gen===Pt&&this._cacheMap.set(lt,Ft)}if(j=Bt[j.gen],j===void 0)throw new Tt.XRefEntryException(`Bad (compressed) XRef entry: ${d}`);return j}async fetchIfRefAsync(d,j){return d instanceof st.Ref?this.fetchAsync(d,j):d}async fetchAsync(d,j){try{return this.fetch(d,j)}catch(g){if(!(g instanceof Tt.MissingDataException))throw g;return await this.pdfManager.requestRange(g.begin,g.end),this.fetchAsync(d,j)}}getCatalogObj(){return this.root}}ct.XRef=_},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.MessageHandler=void 0;var s=Et(2);const st={DATA:1,ERROR:2},Tt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function wt(gt){switch(gt instanceof Error||typeof gt=="object"&&gt!==null||(0,s.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),gt.name){case"AbortException":return new s.AbortException(gt.message);case"MissingPDFException":return new s.MissingPDFException(gt.message);case"PasswordException":return new s.PasswordException(gt.message,gt.code);case"UnexpectedResponseException":return new s.UnexpectedResponseException(gt.message,gt.status);case"UnknownErrorException":return new s.UnknownErrorException(gt.message,gt.details);default:return new s.UnknownErrorException(gt.message,gt.toString())}}class e{constructor(_,$,d){this.sourceName=_,this.targetName=$,this.comObj=d,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=j=>{const g=j.data;if(g.targetName!==this.sourceName)return;if(g.stream){this._processStreamMessage(g);return}if(g.callback){const ut=g.callbackId,dt=this.callbackCapabilities[ut];if(!dt)throw new Error(`Cannot resolve callback ${ut}`);if(delete this.callbackCapabilities[ut],g.callback===st.DATA)dt.resolve(g.data);else if(g.callback===st.ERROR)dt.reject(wt(g.reason));else throw new Error("Unexpected callback case");return}const o=this.actionHandler[g.action];if(!o)throw new Error(`Unknown action from worker: ${g.action}`);if(g.callbackId){const ut=this.sourceName,dt=g.sourceName;new Promise(function(b){b(o(g.data))}).then(function(b){d.postMessage({sourceName:ut,targetName:dt,callback:st.DATA,callbackId:g.callbackId,data:b})},function(b){d.postMessage({sourceName:ut,targetName:dt,callback:st.ERROR,callbackId:g.callbackId,reason:wt(b)})});return}if(g.streamId){this._createStreamSink(g);return}o(g.data)},d.addEventListener("message",this._onComObjOnMessage)}on(_,$){const d=this.actionHandler;if(d[_])throw new Error(`There is already an actionName called "${_}"`);d[_]=$}send(_,$,d){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:_,data:$},d)}sendWithPromise(_,$,d){const j=this.callbackId++,g=(0,s.createPromiseCapability)();this.callbackCapabilities[j]=g;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:_,callbackId:j,data:$},d)}catch(o){g.reject(o)}return g.promise}sendWithStream(_,$,d,j){const g=this.streamId++,o=this.sourceName,ut=this.targetName,dt=this.comObj;return new ReadableStream({start:b=>{const h=(0,s.createPromiseCapability)();return this.streamControllers[g]={controller:b,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},dt.postMessage({sourceName:o,targetName:ut,action:_,streamId:g,data:$,desiredSize:b.desiredSize},j),h.promise},pull:b=>{const h=(0,s.createPromiseCapability)();return this.streamControllers[g].pullCall=h,dt.postMessage({sourceName:o,targetName:ut,stream:Tt.PULL,streamId:g,desiredSize:b.desiredSize}),h.promise},cancel:b=>{(0,s.assert)(b instanceof Error,"cancel must have a valid reason");const h=(0,s.createPromiseCapability)();return this.streamControllers[g].cancelCall=h,this.streamControllers[g].isClosed=!0,dt.postMessage({sourceName:o,targetName:ut,stream:Tt.CANCEL,streamId:g,reason:wt(b)}),h.promise}},d)}_createStreamSink(_){const $=_.streamId,d=this.sourceName,j=_.sourceName,g=this.comObj,o=this,ut=this.actionHandler[_.action],dt={enqueue(b,h=1,et){if(this.isCancelled)return;const nt=this.desiredSize;this.desiredSize-=h,nt>0&&this.desiredSize<=0&&(this.sinkCapability=(0,s.createPromiseCapability)(),this.ready=this.sinkCapability.promise),g.postMessage({sourceName:d,targetName:j,stream:Tt.ENQUEUE,streamId:$,chunk:b},et)},close(){this.isCancelled||(this.isCancelled=!0,g.postMessage({sourceName:d,targetName:j,stream:Tt.CLOSE,streamId:$}),delete o.streamSinks[$])},error(b){(0,s.assert)(b instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,g.postMessage({sourceName:d,targetName:j,stream:Tt.ERROR,streamId:$,reason:wt(b)}))},sinkCapability:(0,s.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:_.desiredSize,ready:null};dt.sinkCapability.resolve(),dt.ready=dt.sinkCapability.promise,this.streamSinks[$]=dt,new Promise(function(b){b(ut(_.data,dt))}).then(function(){g.postMessage({sourceName:d,targetName:j,stream:Tt.START_COMPLETE,streamId:$,success:!0})},function(b){g.postMessage({sourceName:d,targetName:j,stream:Tt.START_COMPLETE,streamId:$,reason:wt(b)})})}_processStreamMessage(_){const $=_.streamId,d=this.sourceName,j=_.sourceName,g=this.comObj,o=this.streamControllers[$],ut=this.streamSinks[$];switch(_.stream){case Tt.START_COMPLETE:_.success?o.startCall.resolve():o.startCall.reject(wt(_.reason));break;case Tt.PULL_COMPLETE:_.success?o.pullCall.resolve():o.pullCall.reject(wt(_.reason));break;case Tt.PULL:if(!ut){g.postMessage({sourceName:d,targetName:j,stream:Tt.PULL_COMPLETE,streamId:$,success:!0});break}ut.desiredSize<=0&&_.desiredSize>0&&ut.sinkCapability.resolve(),ut.desiredSize=_.desiredSize,new Promise(function(dt){dt(ut.onPull&&ut.onPull())}).then(function(){g.postMessage({sourceName:d,targetName:j,stream:Tt.PULL_COMPLETE,streamId:$,success:!0})},function(dt){g.postMessage({sourceName:d,targetName:j,stream:Tt.PULL_COMPLETE,streamId:$,reason:wt(dt)})});break;case Tt.ENQUEUE:if((0,s.assert)(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(_.chunk);break;case Tt.CLOSE:if((0,s.assert)(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this._deleteStreamController(o,$);break;case Tt.ERROR:(0,s.assert)(o,"error should have stream controller"),o.controller.error(wt(_.reason)),this._deleteStreamController(o,$);break;case Tt.CANCEL_COMPLETE:_.success?o.cancelCall.resolve():o.cancelCall.reject(wt(_.reason)),this._deleteStreamController(o,$);break;case Tt.CANCEL:if(!ut)break;new Promise(function(dt){dt(ut.onCancel&&ut.onCancel(wt(_.reason)))}).then(function(){g.postMessage({sourceName:d,targetName:j,stream:Tt.CANCEL_COMPLETE,streamId:$,success:!0})},function(dt){g.postMessage({sourceName:d,targetName:j,stream:Tt.CANCEL_COMPLETE,streamId:$,reason:wt(dt)})}),ut.sinkCapability.reject(wt(_.reason)),ut.isCancelled=!0,delete this.streamSinks[$];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(_,$){await Promise.allSettled([_.startCall&&_.startCall.promise,_.pullCall&&_.pullCall.promise,_.cancelCall&&_.cancelCall.promise]),delete this.streamControllers[$]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}ct.MessageHandler=e},(zt,ct,Et)=>{Object.defineProperty(ct,"__esModule",{value:!0}),ct.PDFWorkerStream=void 0;var s=Et(2);class st{constructor(gt){this._msgHandler=gt,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}getFullReader(){return(0,s.assert)(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new Tt(this._msgHandler),this._fullRequestReader}getRangeReader(gt,_){const $=new wt(gt,_,this._msgHandler);return this._rangeRequestReaders.push($),$}cancelAllRequests(gt){this._fullRequestReader&&this._fullRequestReader.cancel(gt);for(const _ of this._rangeRequestReaders.slice(0))_.cancel(gt)}}ct.PDFWorkerStream=st;class Tt{constructor(gt){this._msgHandler=gt,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;const _=this._msgHandler.sendWithStream("GetReader");this._reader=_.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then($=>{this._isStreamingSupported=$.isStreamingSupported,this._isRangeSupported=$.isRangeSupported,this._contentLength=$.contentLength})}get headersReady(){return this._headersReady}get contentLength(){return this._contentLength}get isStreamingSupported(){return this._isStreamingSupported}get isRangeSupported(){return this._isRangeSupported}async read(){const{value:gt,done:_}=await this._reader.read();return _?{value:void 0,done:!0}:{value:gt.buffer,done:!1}}cancel(gt){this._reader.cancel(gt)}}class wt{constructor(gt,_,$){this._msgHandler=$,this.onProgress=null;const d=this._msgHandler.sendWithStream("GetRangeReader",{begin:gt,end:_});this._reader=d.getReader()}get isStreamingSupported(){return!1}async read(){const{value:gt,done:_}=await this._reader.read();return _?{value:void 0,done:!0}:{value:gt.buffer,done:!1}}cancel(gt){this._reader.cancel(gt)}}}],_e={};function ot(zt){var ct=_e[zt];if(ct!==void 0)return ct.exports;var Et=_e[zt]={exports:{}};return c[zt](Et,Et.exports,ot),Et.exports}ot.d=(zt,ct)=>{for(var Et in ct)ot.o(ct,Et)&&!ot.o(zt,Et)&&Object.defineProperty(zt,Et,{enumerable:!0,get:ct[Et]})},ot.o=(zt,ct)=>Object.prototype.hasOwnProperty.call(zt,ct),ot.r=zt=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(zt,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(zt,"__esModule",{value:!0})};var $t={};return(()=>{var zt=$t;Object.defineProperty(zt,"__esModule",{value:!0}),Object.defineProperty(zt,"WorkerMessageHandler",{enumerable:!0,get:function(){return ct.WorkerMessageHandler}});var ct=ot(1)})(),$t})())})(pdf_worker);var pdf_workerExports=pdf_worker.exports;(typeof window<"u"?window:{}).pdfjsWorker=pdf_workerExports;var __createBinding$d=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(i,a,c,_e){_e===void 0&&(_e=c);var ot=Object.getOwnPropertyDescriptor(a,c);(!ot||("get"in ot?!a.__esModule:ot.writable||ot.configurable))&&(ot={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(i,_e,ot)}:function(i,a,c,_e){_e===void 0&&(_e=c),i[_e]=a[c]}),__setModuleDefault$d=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(i,a){Object.defineProperty(i,"default",{enumerable:!0,value:a})}:function(i,a){i.default=a}),__importStar$d=commonjsGlobal&&commonjsGlobal.__importStar||function(i){if(i&&i.__esModule)return i;var a={};if(i!=null)for(var c in i)c!=="default"&&Object.prototype.hasOwnProperty.call(i,c)&&__createBinding$d(a,i,c);return __setModuleDefault$d(a,i),a};Object.defineProperty(usePDF$1,"__esModule",{value:!0});const react_1$s=reactExports,PdfJs=__importStar$d(pdf_minExports),PdfWorker=__importStar$d(pdf_worker_entry),baseHeaders={Accept:"application/pdf"},usePDF=({url:i,data:a,httpHeaders:c})=>{PdfJs.GlobalWorkerOptions.workerSrc=PdfWorker;const[_e,ot]=(0,react_1$s.useState)(0),[$t,zt]=(0,react_1$s.useState)(null),[ct,Et]=(0,react_1$s.useState)(!1);(0,react_1$s.useEffect)(()=>{ot(0),zt(null),Et(!0);const st={url:i,httpHeaders:{...baseHeaders,...c}};PdfJs.getDocument(i?st:a).promise.then(Tt=>{ot(Tt.numPages),zt(Tt),Et(!1)}).catch(()=>{ot(0),zt(null),Et(!0)})},[i,a,c]);const s=(0,react_1$s.useCallback)(st=>$t?$t.getPage(st):null,[$t]);return{pages:_e,error:ct,fetchPage:s}};usePDF$1.default=usePDF;var useAnnotations$1={},object_hash={exports:{}};(function(i,a){(function(c){i.exports=c()})(function(){return function c(_e,ot,$t){function zt(s,st){if(!ot[s]){if(!_e[s]){var Tt=typeof commonjsRequire=="function"&&commonjsRequire;if(!st&&Tt)return Tt(s,!0);if(ct)return ct(s,!0);throw new Error("Cannot find module '"+s+"'")}st=ot[s]={exports:{}},_e[s][0].call(st.exports,function(wt){var e=_e[s][1][wt];return zt(e||wt)},st,st.exports,c,_e,ot,$t)}return ot[s].exports}for(var ct=typeof commonjsRequire=="function"&&commonjsRequire,Et=0;Et<$t.length;Et++)zt($t[Et]);return zt}({1:[function(c,_e,ot){(function($t,zt,ct,Et,s,st,Tt,wt,e){var gt=c("crypto");function _(dt,b){b=j(dt,b);var h;return(h=b.algorithm!=="passthrough"?gt.createHash(b.algorithm):new ut).write===void 0&&(h.write=h.update,h.end=h.update),o(b,h).dispatch(dt),h.update||h.end(""),h.digest?h.digest(b.encoding==="buffer"?void 0:b.encoding):(dt=h.read(),b.encoding!=="buffer"?dt.toString(b.encoding):dt)}(ot=_e.exports=_).sha1=function(dt){return _(dt)},ot.keys=function(dt){return _(dt,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},ot.MD5=function(dt){return _(dt,{algorithm:"md5",encoding:"hex"})},ot.keysMD5=function(dt){return _(dt,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var $=gt.getHashes?gt.getHashes().slice():["sha1","md5"],d=($.push("passthrough"),["buffer","hex","binary","base64"]);function j(dt,b){var h={};if(h.algorithm=(b=b||{}).algorithm||"sha1",h.encoding=b.encoding||"hex",h.excludeValues=!!b.excludeValues,h.algorithm=h.algorithm.toLowerCase(),h.encoding=h.encoding.toLowerCase(),h.ignoreUnknown=b.ignoreUnknown===!0,h.respectType=b.respectType!==!1,h.respectFunctionNames=b.respectFunctionNames!==!1,h.respectFunctionProperties=b.respectFunctionProperties!==!1,h.unorderedArrays=b.unorderedArrays===!0,h.unorderedSets=b.unorderedSets!==!1,h.unorderedObjects=b.unorderedObjects!==!1,h.replacer=b.replacer||void 0,h.excludeKeys=b.excludeKeys||void 0,dt===void 0)throw new Error("Object argument required.");for(var et=0;et<$.length;++et)$[et].toLowerCase()===h.algorithm.toLowerCase()&&(h.algorithm=$[et]);if($.indexOf(h.algorithm)===-1)throw new Error('Algorithm "'+h.algorithm+'"  not supported. supported values: '+$.join(", "));if(d.indexOf(h.encoding)===-1&&h.algorithm!=="passthrough")throw new Error('Encoding "'+h.encoding+'"  not supported. supported values: '+d.join(", "));return h}function g(dt){if(typeof dt=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(dt))!=null}function o(dt,b,h){h=h||[];function et(nt){return b.update?b.update(nt,"utf8"):b.write(nt,"utf8")}return{dispatch:function(nt){return this["_"+((nt=dt.replacer?dt.replacer(nt):nt)===null?"null":typeof nt)](nt)},_object:function(nt){var pt,Bt=Object.prototype.toString.call(nt),Pt=/\[object (.*)\]/i.exec(Bt);if(Pt=(Pt=Pt?Pt[1]:"unknown:["+Bt+"]").toLowerCase(),0<=(Bt=h.indexOf(nt)))return this.dispatch("[CIRCULAR:"+Bt+"]");if(h.push(nt),ct!==void 0&&ct.isBuffer&&ct.isBuffer(nt))return et("buffer:"),et(nt);if(Pt==="object"||Pt==="function"||Pt==="asyncfunction")return Bt=Object.keys(nt),dt.unorderedObjects&&(Bt=Bt.sort()),dt.respectType===!1||g(nt)||Bt.splice(0,0,"prototype","__proto__","constructor"),dt.excludeKeys&&(Bt=Bt.filter(function(Rt){return!dt.excludeKeys(Rt)})),et("object:"+Bt.length+":"),pt=this,Bt.forEach(function(Rt){pt.dispatch(Rt),et(":"),dt.excludeValues||pt.dispatch(nt[Rt]),et(",")});if(!this["_"+Pt]){if(dt.ignoreUnknown)return et("["+Pt+"]");throw new Error('Unknown object type "'+Pt+'"')}this["_"+Pt](nt)},_array:function(nt,Rt){Rt=Rt!==void 0?Rt:dt.unorderedArrays!==!1;var Bt=this;if(et("array:"+nt.length+":"),!Rt||nt.length<=1)return nt.forEach(function(Ft){return Bt.dispatch(Ft)});var Pt=[],Rt=nt.map(function(Ft){var lt=new ut,ft=h.slice();return o(dt,lt,ft).dispatch(Ft),Pt=Pt.concat(ft.slice(h.length)),lt.read().toString()});return h=h.concat(Pt),Rt.sort(),this._array(Rt,!1)},_date:function(nt){return et("date:"+nt.toJSON())},_symbol:function(nt){return et("symbol:"+nt.toString())},_error:function(nt){return et("error:"+nt.toString())},_boolean:function(nt){return et("bool:"+nt.toString())},_string:function(nt){et("string:"+nt.length+":"),et(nt.toString())},_function:function(nt){et("fn:"),g(nt)?this.dispatch("[native]"):this.dispatch(nt.toString()),dt.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(nt.name)),dt.respectFunctionProperties&&this._object(nt)},_number:function(nt){return et("number:"+nt.toString())},_xml:function(nt){return et("xml:"+nt.toString())},_null:function(){return et("Null")},_undefined:function(){return et("Undefined")},_regexp:function(nt){return et("regex:"+nt.toString())},_uint8array:function(nt){return et("uint8array:"),this.dispatch(Array.prototype.slice.call(nt))},_uint8clampedarray:function(nt){return et("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(nt))},_int8array:function(nt){return et("int8array:"),this.dispatch(Array.prototype.slice.call(nt))},_uint16array:function(nt){return et("uint16array:"),this.dispatch(Array.prototype.slice.call(nt))},_int16array:function(nt){return et("int16array:"),this.dispatch(Array.prototype.slice.call(nt))},_uint32array:function(nt){return et("uint32array:"),this.dispatch(Array.prototype.slice.call(nt))},_int32array:function(nt){return et("int32array:"),this.dispatch(Array.prototype.slice.call(nt))},_float32array:function(nt){return et("float32array:"),this.dispatch(Array.prototype.slice.call(nt))},_float64array:function(nt){return et("float64array:"),this.dispatch(Array.prototype.slice.call(nt))},_arraybuffer:function(nt){return et("arraybuffer:"),this.dispatch(new Uint8Array(nt))},_url:function(nt){return et("url:"+nt.toString())},_map:function(nt){return et("map:"),nt=Array.from(nt),this._array(nt,dt.unorderedSets!==!1)},_set:function(nt){return et("set:"),nt=Array.from(nt),this._array(nt,dt.unorderedSets!==!1)},_file:function(nt){return et("file:"),this.dispatch([nt.name,nt.size,nt.type,nt.lastModfied])},_blob:function(){if(dt.ignoreUnknown)return et("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return et("domwindow")},_bigint:function(nt){return et("bigint:"+nt.toString())},_process:function(){return et("process")},_timer:function(){return et("timer")},_pipe:function(){return et("pipe")},_tcp:function(){return et("tcp")},_udp:function(){return et("udp")},_tty:function(){return et("tty")},_statwatcher:function(){return et("statwatcher")},_securecontext:function(){return et("securecontext")},_connection:function(){return et("connection")},_zlib:function(){return et("zlib")},_context:function(){return et("context")},_nodescript:function(){return et("nodescript")},_httpparser:function(){return et("httpparser")},_dataview:function(){return et("dataview")},_signal:function(){return et("signal")},_fsevent:function(){return et("fsevent")},_tlswrap:function(){return et("tlswrap")}}}function ut(){return{buf:"",write:function(dt){this.buf+=dt},end:function(dt){this.buf+=dt},read:function(){return this.buf}}}ot.writeToStream=function(dt,b,h){return h===void 0&&(h=b,b={}),o(b=j(dt,b),h).dispatch(dt)}}).call(this,c("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},c("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(c,_e,ot){(function($t,zt,ct,Et,s,st,Tt,wt,e){(function(gt){var _=typeof Uint8Array<"u"?Uint8Array:Array,$=43,d=47,j=48,g=97,o=65,ut=45,dt=95;function b(h){return h=h.charCodeAt(0),h===$||h===ut?62:h===d||h===dt?63:h<j?-1:h<j+10?h-j+26+26:h<o+26?h-o:h<g+26?h-g+26:void 0}gt.toByteArray=function(h){var et,nt;if(0<h.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var pt=h.length,pt=h.charAt(pt-2)==="="?2:h.charAt(pt-1)==="="?1:0,Bt=new _(3*h.length/4-pt),Pt=0<pt?h.length-4:h.length,Rt=0;function Ft(lt){Bt[Rt++]=lt}for(et=0;et<Pt;et+=4,0)Ft((16711680&(nt=b(h.charAt(et))<<18|b(h.charAt(et+1))<<12|b(h.charAt(et+2))<<6|b(h.charAt(et+3))))>>16),Ft((65280&nt)>>8),Ft(255&nt);return pt==2?Ft(255&(nt=b(h.charAt(et))<<2|b(h.charAt(et+1))>>4)):pt==1&&(Ft((nt=b(h.charAt(et))<<10|b(h.charAt(et+1))<<4|b(h.charAt(et+2))>>2)>>8&255),Ft(255&nt)),Bt},gt.fromByteArray=function(h){var et,nt,pt,Bt,Pt=h.length%3,Rt="";function Ft(lt){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(lt)}for(et=0,pt=h.length-Pt;et<pt;et+=3)nt=(h[et]<<16)+(h[et+1]<<8)+h[et+2],Rt+=Ft((Bt=nt)>>18&63)+Ft(Bt>>12&63)+Ft(Bt>>6&63)+Ft(63&Bt);switch(Pt){case 1:Rt=(Rt+=Ft((nt=h[h.length-1])>>2))+Ft(nt<<4&63)+"==";break;case 2:Rt=(Rt=(Rt+=Ft((nt=(h[h.length-2]<<8)+h[h.length-1])>>10))+Ft(nt>>4&63))+Ft(nt<<2&63)+"="}return Rt}})(ot===void 0?this.base64js={}:ot)}).call(this,c("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},c("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(c,_e,ot){(function($t,zt,$,Et,s,st,Tt,wt,e){var gt=c("base64-js"),_=c("ieee754");function $(rt,mt,Mt){if(!(this instanceof $))return new $(rt,mt,Mt);var _t,Lt,It,Dt,jt=typeof rt;if(mt==="base64"&&jt=="string")for(rt=(Dt=rt).trim?Dt.trim():Dt.replace(/^\s+|\s+$/g,"");rt.length%4!=0;)rt+="=";if(jt=="number")_t=it(rt);else if(jt=="string")_t=$.byteLength(rt,mt);else{if(jt!="object")throw new Error("First argument needs to be a number, array or string.");_t=it(rt.length)}if($._useTypedArrays?Lt=$._augment(new Uint8Array(_t)):((Lt=this).length=_t,Lt._isBuffer=!0),$._useTypedArrays&&typeof rt.byteLength=="number")Lt._set(rt);else if(at(Dt=rt)||$.isBuffer(Dt)||Dt&&typeof Dt=="object"&&typeof Dt.length=="number")for(It=0;It<_t;It++)$.isBuffer(rt)?Lt[It]=rt.readUInt8(It):Lt[It]=rt[It];else if(jt=="string")Lt.write(rt,0,mt);else if(jt=="number"&&!$._useTypedArrays&&!Mt)for(It=0;It<_t;It++)Lt[It]=0;return Lt}function d(rt,mt,Mt,_t){return $._charsWritten=vt(function(Lt){for(var It=[],Dt=0;Dt<Lt.length;Dt++)It.push(255&Lt.charCodeAt(Dt));return It}(mt),rt,Mt,_t)}function j(rt,mt,Mt,_t){return $._charsWritten=vt(function(Lt){for(var It,Dt,jt=[],Ot=0;Ot<Lt.length;Ot++)Dt=Lt.charCodeAt(Ot),It=Dt>>8,Dt=Dt%256,jt.push(Dt),jt.push(It);return jt}(mt),rt,Mt,_t)}function g(rt,mt,Mt){var _t="";Mt=Math.min(rt.length,Mt);for(var Lt=mt;Lt<Mt;Lt++)_t+=String.fromCharCode(rt[Lt]);return _t}function o(rt,mt,Mt,It){It||(xt(typeof Mt=="boolean","missing or invalid endian"),xt(mt!=null,"missing offset"),xt(mt+1<rt.length,"Trying to read beyond buffer length"));var Lt,It=rt.length;if(!(It<=mt))return Mt?(Lt=rt[mt],mt+1<It&&(Lt|=rt[mt+1]<<8)):(Lt=rt[mt]<<8,mt+1<It&&(Lt|=rt[mt+1])),Lt}function ut(rt,mt,Mt,It){It||(xt(typeof Mt=="boolean","missing or invalid endian"),xt(mt!=null,"missing offset"),xt(mt+3<rt.length,"Trying to read beyond buffer length"));var Lt,It=rt.length;if(!(It<=mt))return Mt?(mt+2<It&&(Lt=rt[mt+2]<<16),mt+1<It&&(Lt|=rt[mt+1]<<8),Lt|=rt[mt],mt+3<It&&(Lt+=rt[mt+3]<<24>>>0)):(mt+1<It&&(Lt=rt[mt+1]<<16),mt+2<It&&(Lt|=rt[mt+2]<<8),mt+3<It&&(Lt|=rt[mt+3]),Lt+=rt[mt]<<24>>>0),Lt}function dt(rt,mt,Mt,_t){if(_t||(xt(typeof Mt=="boolean","missing or invalid endian"),xt(mt!=null,"missing offset"),xt(mt+1<rt.length,"Trying to read beyond buffer length")),!(rt.length<=mt))return _t=o(rt,mt,Mt,!0),32768&_t?-1*(65535-_t+1):_t}function b(rt,mt,Mt,_t){if(_t||(xt(typeof Mt=="boolean","missing or invalid endian"),xt(mt!=null,"missing offset"),xt(mt+3<rt.length,"Trying to read beyond buffer length")),!(rt.length<=mt))return _t=ut(rt,mt,Mt,!0),2147483648&_t?-1*(4294967295-_t+1):_t}function h(rt,mt,Mt,_t){return _t||(xt(typeof Mt=="boolean","missing or invalid endian"),xt(mt+3<rt.length,"Trying to read beyond buffer length")),_.read(rt,mt,Mt,23,4)}function et(rt,mt,Mt,_t){return _t||(xt(typeof Mt=="boolean","missing or invalid endian"),xt(mt+7<rt.length,"Trying to read beyond buffer length")),_.read(rt,mt,Mt,52,8)}function nt(rt,mt,Mt,_t,Lt){if(Lt||(xt(mt!=null,"missing value"),xt(typeof _t=="boolean","missing or invalid endian"),xt(Mt!=null,"missing offset"),xt(Mt+1<rt.length,"trying to write beyond buffer length"),At(mt,65535)),Lt=rt.length,!(Lt<=Mt))for(var It=0,Dt=Math.min(Lt-Mt,2);It<Dt;It++)rt[Mt+It]=(mt&255<<8*(_t?It:1-It))>>>8*(_t?It:1-It)}function pt(rt,mt,Mt,_t,Lt){if(Lt||(xt(mt!=null,"missing value"),xt(typeof _t=="boolean","missing or invalid endian"),xt(Mt!=null,"missing offset"),xt(Mt+3<rt.length,"trying to write beyond buffer length"),At(mt,4294967295)),Lt=rt.length,!(Lt<=Mt))for(var It=0,Dt=Math.min(Lt-Mt,4);It<Dt;It++)rt[Mt+It]=mt>>>8*(_t?It:3-It)&255}function Bt(rt,mt,Mt,_t,Lt){Lt||(xt(mt!=null,"missing value"),xt(typeof _t=="boolean","missing or invalid endian"),xt(Mt!=null,"missing offset"),xt(Mt+1<rt.length,"Trying to write beyond buffer length"),Nt(mt,32767,-32768)),rt.length<=Mt||nt(rt,0<=mt?mt:65535+mt+1,Mt,_t,Lt)}function Pt(rt,mt,Mt,_t,Lt){Lt||(xt(mt!=null,"missing value"),xt(typeof _t=="boolean","missing or invalid endian"),xt(Mt!=null,"missing offset"),xt(Mt+3<rt.length,"Trying to write beyond buffer length"),Nt(mt,2147483647,-2147483648)),rt.length<=Mt||pt(rt,0<=mt?mt:4294967295+mt+1,Mt,_t,Lt)}function Rt(rt,mt,Mt,_t,Lt){Lt||(xt(mt!=null,"missing value"),xt(typeof _t=="boolean","missing or invalid endian"),xt(Mt!=null,"missing offset"),xt(Mt+3<rt.length,"Trying to write beyond buffer length"),Ht(mt,34028234663852886e22,-34028234663852886e22)),rt.length<=Mt||_.write(rt,mt,Mt,_t,23,4)}function Ft(rt,mt,Mt,_t,Lt){Lt||(xt(mt!=null,"missing value"),xt(typeof _t=="boolean","missing or invalid endian"),xt(Mt!=null,"missing offset"),xt(Mt+7<rt.length,"Trying to write beyond buffer length"),Ht(mt,17976931348623157e292,-17976931348623157e292)),rt.length<=Mt||_.write(rt,mt,Mt,_t,52,8)}ot.Buffer=$,ot.SlowBuffer=$,ot.INSPECT_MAX_BYTES=50,$.poolSize=8192,$._useTypedArrays=function(){try{var rt=new ArrayBuffer(0),mt=new Uint8Array(rt);return mt.foo=function(){return 42},mt.foo()===42&&typeof mt.subarray=="function"}catch{return!1}}(),$.isEncoding=function(rt){switch(String(rt).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},$.isBuffer=function(rt){return!(rt==null||!rt._isBuffer)},$.byteLength=function(rt,mt){var Mt;switch(rt+="",mt||"utf8"){case"hex":Mt=rt.length/2;break;case"utf8":case"utf-8":Mt=St(rt).length;break;case"ascii":case"binary":case"raw":Mt=rt.length;break;case"base64":Mt=ht(rt).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":Mt=2*rt.length;break;default:throw new Error("Unknown encoding")}return Mt},$.concat=function(rt,mt){if(xt(at(rt),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),rt.length===0)return new $(0);if(rt.length===1)return rt[0];if(typeof mt!="number")for(Lt=mt=0;Lt<rt.length;Lt++)mt+=rt[Lt].length;for(var Mt=new $(mt),_t=0,Lt=0;Lt<rt.length;Lt++){var It=rt[Lt];It.copy(Mt,_t),_t+=It.length}return Mt},$.prototype.write=function(rt,mt,Mt,_t){isFinite(mt)?isFinite(Mt)||(_t=Mt,Mt=void 0):(Ot=_t,_t=mt,mt=Mt,Mt=Ot),mt=Number(mt)||0;var Lt,It,Dt,jt,Ot=this.length-mt;switch((!Mt||Ot<(Mt=Number(Mt)))&&(Mt=Ot),_t=String(_t||"utf8").toLowerCase()){case"hex":Lt=function(Xt,Ut,Gt,qt){Gt=Number(Gt)||0;var Kt=Xt.length-Gt;(!qt||Kt<(qt=Number(qt)))&&(qt=Kt),xt((Kt=Ut.length)%2==0,"Invalid hex string"),Kt/2<qt&&(qt=Kt/2);for(var Vt=0;Vt<qt;Vt++){var Yt=parseInt(Ut.substr(2*Vt,2),16);xt(!isNaN(Yt),"Invalid hex string"),Xt[Gt+Vt]=Yt}return $._charsWritten=2*Vt,Vt}(this,rt,mt,Mt);break;case"utf8":case"utf-8":It=this,Dt=mt,jt=Mt,Lt=$._charsWritten=vt(St(rt),It,Dt,jt);break;case"ascii":case"binary":Lt=d(this,rt,mt,Mt);break;case"base64":It=this,Dt=mt,jt=Mt,Lt=$._charsWritten=vt(ht(rt),It,Dt,jt);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":Lt=j(this,rt,mt,Mt);break;default:throw new Error("Unknown encoding")}return Lt},$.prototype.toString=function(rt,mt,Mt){var _t,Lt,It,Dt,jt=this;if(rt=String(rt||"utf8").toLowerCase(),mt=Number(mt)||0,(Mt=Mt!==void 0?Number(Mt):jt.length)===mt)return"";switch(rt){case"hex":_t=function(Ot,Xt,Ut){var Gt=Ot.length;(!Xt||Xt<0)&&(Xt=0),(!Ut||Ut<0||Gt<Ut)&&(Ut=Gt);for(var qt="",Kt=Xt;Kt<Ut;Kt++)qt+=bt(Ot[Kt]);return qt}(jt,mt,Mt);break;case"utf8":case"utf-8":_t=function(Ot,Xt,Ut){var Gt="",qt="";Ut=Math.min(Ot.length,Ut);for(var Kt=Xt;Kt<Ut;Kt++)Ot[Kt]<=127?(Gt+=yt(qt)+String.fromCharCode(Ot[Kt]),qt=""):qt+="%"+Ot[Kt].toString(16);return Gt+yt(qt)}(jt,mt,Mt);break;case"ascii":case"binary":_t=g(jt,mt,Mt);break;case"base64":Lt=jt,Dt=Mt,_t=(It=mt)===0&&Dt===Lt.length?gt.fromByteArray(Lt):gt.fromByteArray(Lt.slice(It,Dt));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":_t=function(Ot,Xt,Ut){for(var Gt=Ot.slice(Xt,Ut),qt="",Kt=0;Kt<Gt.length;Kt+=2)qt+=String.fromCharCode(Gt[Kt]+256*Gt[Kt+1]);return qt}(jt,mt,Mt);break;default:throw new Error("Unknown encoding")}return _t},$.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},$.prototype.copy=function(rt,mt,Mt,_t){if(mt=mt||0,(_t=_t||_t===0?_t:this.length)!==(Mt=Mt||0)&&rt.length!==0&&this.length!==0){xt(Mt<=_t,"sourceEnd < sourceStart"),xt(0<=mt&&mt<rt.length,"targetStart out of bounds"),xt(0<=Mt&&Mt<this.length,"sourceStart out of bounds"),xt(0<=_t&&_t<=this.length,"sourceEnd out of bounds"),_t>this.length&&(_t=this.length);var Lt=(_t=rt.length-mt<_t-Mt?rt.length-mt+Mt:_t)-Mt;if(Lt<100||!$._useTypedArrays)for(var It=0;It<Lt;It++)rt[It+mt]=this[It+Mt];else rt._set(this.subarray(Mt,Mt+Lt),mt)}},$.prototype.slice=function(rt,mt){var Mt=this.length;if(rt=ft(rt,Mt,0),mt=ft(mt,Mt,Mt),$._useTypedArrays)return $._augment(this.subarray(rt,mt));for(var _t=mt-rt,Lt=new $(_t,void 0,!0),It=0;It<_t;It++)Lt[It]=this[It+rt];return Lt},$.prototype.get=function(rt){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(rt)},$.prototype.set=function(rt,mt){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(rt,mt)},$.prototype.readUInt8=function(rt,mt){if(mt||(xt(rt!=null,"missing offset"),xt(rt<this.length,"Trying to read beyond buffer length")),!(rt>=this.length))return this[rt]},$.prototype.readUInt16LE=function(rt,mt){return o(this,rt,!0,mt)},$.prototype.readUInt16BE=function(rt,mt){return o(this,rt,!1,mt)},$.prototype.readUInt32LE=function(rt,mt){return ut(this,rt,!0,mt)},$.prototype.readUInt32BE=function(rt,mt){return ut(this,rt,!1,mt)},$.prototype.readInt8=function(rt,mt){if(mt||(xt(rt!=null,"missing offset"),xt(rt<this.length,"Trying to read beyond buffer length")),!(rt>=this.length))return 128&this[rt]?-1*(255-this[rt]+1):this[rt]},$.prototype.readInt16LE=function(rt,mt){return dt(this,rt,!0,mt)},$.prototype.readInt16BE=function(rt,mt){return dt(this,rt,!1,mt)},$.prototype.readInt32LE=function(rt,mt){return b(this,rt,!0,mt)},$.prototype.readInt32BE=function(rt,mt){return b(this,rt,!1,mt)},$.prototype.readFloatLE=function(rt,mt){return h(this,rt,!0,mt)},$.prototype.readFloatBE=function(rt,mt){return h(this,rt,!1,mt)},$.prototype.readDoubleLE=function(rt,mt){return et(this,rt,!0,mt)},$.prototype.readDoubleBE=function(rt,mt){return et(this,rt,!1,mt)},$.prototype.writeUInt8=function(rt,mt,Mt){Mt||(xt(rt!=null,"missing value"),xt(mt!=null,"missing offset"),xt(mt<this.length,"trying to write beyond buffer length"),At(rt,255)),mt>=this.length||(this[mt]=rt)},$.prototype.writeUInt16LE=function(rt,mt,Mt){nt(this,rt,mt,!0,Mt)},$.prototype.writeUInt16BE=function(rt,mt,Mt){nt(this,rt,mt,!1,Mt)},$.prototype.writeUInt32LE=function(rt,mt,Mt){pt(this,rt,mt,!0,Mt)},$.prototype.writeUInt32BE=function(rt,mt,Mt){pt(this,rt,mt,!1,Mt)},$.prototype.writeInt8=function(rt,mt,Mt){Mt||(xt(rt!=null,"missing value"),xt(mt!=null,"missing offset"),xt(mt<this.length,"Trying to write beyond buffer length"),Nt(rt,127,-128)),mt>=this.length||(0<=rt?this.writeUInt8(rt,mt,Mt):this.writeUInt8(255+rt+1,mt,Mt))},$.prototype.writeInt16LE=function(rt,mt,Mt){Bt(this,rt,mt,!0,Mt)},$.prototype.writeInt16BE=function(rt,mt,Mt){Bt(this,rt,mt,!1,Mt)},$.prototype.writeInt32LE=function(rt,mt,Mt){Pt(this,rt,mt,!0,Mt)},$.prototype.writeInt32BE=function(rt,mt,Mt){Pt(this,rt,mt,!1,Mt)},$.prototype.writeFloatLE=function(rt,mt,Mt){Rt(this,rt,mt,!0,Mt)},$.prototype.writeFloatBE=function(rt,mt,Mt){Rt(this,rt,mt,!1,Mt)},$.prototype.writeDoubleLE=function(rt,mt,Mt){Ft(this,rt,mt,!0,Mt)},$.prototype.writeDoubleBE=function(rt,mt,Mt){Ft(this,rt,mt,!1,Mt)},$.prototype.fill=function(rt,mt,Mt){if(mt=mt||0,Mt=Mt||this.length,xt(typeof(rt=typeof(rt=rt||0)=="string"?rt.charCodeAt(0):rt)=="number"&&!isNaN(rt),"value is not a number"),xt(mt<=Mt,"end < start"),Mt!==mt&&this.length!==0){xt(0<=mt&&mt<this.length,"start out of bounds"),xt(0<=Mt&&Mt<=this.length,"end out of bounds");for(var _t=mt;_t<Mt;_t++)this[_t]=rt}},$.prototype.inspect=function(){for(var rt=[],mt=this.length,Mt=0;Mt<mt;Mt++)if(rt[Mt]=bt(this[Mt]),Mt===ot.INSPECT_MAX_BYTES){rt[Mt+1]="...";break}return"<Buffer "+rt.join(" ")+">"},$.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if($._useTypedArrays)return new $(this).buffer;for(var rt=new Uint8Array(this.length),mt=0,Mt=rt.length;mt<Mt;mt+=1)rt[mt]=this[mt];return rt.buffer};var lt=$.prototype;function ft(rt,mt,Mt){return typeof rt!="number"?Mt:mt<=(rt=~~rt)?mt:0<=rt||0<=(rt+=mt)?rt:0}function it(rt){return(rt=~~Math.ceil(+rt))<0?0:rt}function at(rt){return(Array.isArray||function(mt){return Object.prototype.toString.call(mt)==="[object Array]"})(rt)}function bt(rt){return rt<16?"0"+rt.toString(16):rt.toString(16)}function St(rt){for(var mt=[],Mt=0;Mt<rt.length;Mt++){var _t=rt.charCodeAt(Mt);if(_t<=127)mt.push(rt.charCodeAt(Mt));else for(var Lt=Mt,It=(55296<=_t&&_t<=57343&&Mt++,encodeURIComponent(rt.slice(Lt,Mt+1)).substr(1).split("%")),Dt=0;Dt<It.length;Dt++)mt.push(parseInt(It[Dt],16))}return mt}function ht(rt){return gt.toByteArray(rt)}function vt(rt,mt,Mt,_t){for(var Lt=0;Lt<_t&&!(Lt+Mt>=mt.length||Lt>=rt.length);Lt++)mt[Lt+Mt]=rt[Lt];return Lt}function yt(rt){try{return decodeURIComponent(rt)}catch{return""}}function At(rt,mt){xt(typeof rt=="number","cannot write a non-number as a number"),xt(0<=rt,"specified a negative value for writing an unsigned value"),xt(rt<=mt,"value is larger than maximum value for type"),xt(Math.floor(rt)===rt,"value has a fractional component")}function Nt(rt,mt,Mt){xt(typeof rt=="number","cannot write a non-number as a number"),xt(rt<=mt,"value larger than maximum allowed value"),xt(Mt<=rt,"value smaller than minimum allowed value"),xt(Math.floor(rt)===rt,"value has a fractional component")}function Ht(rt,mt,Mt){xt(typeof rt=="number","cannot write a non-number as a number"),xt(rt<=mt,"value larger than maximum allowed value"),xt(Mt<=rt,"value smaller than minimum allowed value")}function xt(rt,mt){if(!rt)throw new Error(mt||"Failed assertion")}$._augment=function(rt){return rt._isBuffer=!0,rt._get=rt.get,rt._set=rt.set,rt.get=lt.get,rt.set=lt.set,rt.write=lt.write,rt.toString=lt.toString,rt.toLocaleString=lt.toString,rt.toJSON=lt.toJSON,rt.copy=lt.copy,rt.slice=lt.slice,rt.readUInt8=lt.readUInt8,rt.readUInt16LE=lt.readUInt16LE,rt.readUInt16BE=lt.readUInt16BE,rt.readUInt32LE=lt.readUInt32LE,rt.readUInt32BE=lt.readUInt32BE,rt.readInt8=lt.readInt8,rt.readInt16LE=lt.readInt16LE,rt.readInt16BE=lt.readInt16BE,rt.readInt32LE=lt.readInt32LE,rt.readInt32BE=lt.readInt32BE,rt.readFloatLE=lt.readFloatLE,rt.readFloatBE=lt.readFloatBE,rt.readDoubleLE=lt.readDoubleLE,rt.readDoubleBE=lt.readDoubleBE,rt.writeUInt8=lt.writeUInt8,rt.writeUInt16LE=lt.writeUInt16LE,rt.writeUInt16BE=lt.writeUInt16BE,rt.writeUInt32LE=lt.writeUInt32LE,rt.writeUInt32BE=lt.writeUInt32BE,rt.writeInt8=lt.writeInt8,rt.writeInt16LE=lt.writeInt16LE,rt.writeInt16BE=lt.writeInt16BE,rt.writeInt32LE=lt.writeInt32LE,rt.writeInt32BE=lt.writeInt32BE,rt.writeFloatLE=lt.writeFloatLE,rt.writeFloatBE=lt.writeFloatBE,rt.writeDoubleLE=lt.writeDoubleLE,rt.writeDoubleBE=lt.writeDoubleBE,rt.fill=lt.fill,rt.inspect=lt.inspect,rt.toArrayBuffer=lt.toArrayBuffer,rt}}).call(this,c("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},c("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(c,_e,ot){(function($t,zt,gt,Et,s,st,Tt,wt,e){var gt=c("buffer").Buffer,_=4,$=new gt(_);$.fill(0),_e.exports={hash:function(d,j,g,o){for(var ut=j(function(nt,pt){nt.length%_!=0&&(Bt=nt.length+(_-nt.length%_),nt=gt.concat([nt,$],Bt));for(var Bt,Pt=[],Rt=pt?nt.readInt32BE:nt.readInt32LE,Ft=0;Ft<nt.length;Ft+=_)Pt.push(Rt.call(nt,Ft));return Pt}(d=gt.isBuffer(d)?d:new gt(d),o),8*d.length),j=o,dt=new gt(g),b=j?dt.writeInt32BE:dt.writeInt32LE,h=0;h<ut.length;h++)b.call(dt,ut[h],4*h,!0);return dt}}}).call(this,c("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},c("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(c,_e,ot){(function($t,zt,gt,Et,s,st,Tt,wt,e){var gt=c("buffer").Buffer,_=c("./sha"),$=c("./sha256"),d=c("./rng"),j={sha1:_,sha256:$,md5:c("./md5")},g=64,o=new gt(g);function ut(nt,pt){var Bt=j[nt=nt||"sha1"],Pt=[];return Bt||dt("algorithm:",nt,"is not yet supported"),{update:function(Rt){return gt.isBuffer(Rt)||(Rt=new gt(Rt)),Pt.push(Rt),Rt.length,this},digest:function(Rt){var Ft=gt.concat(Pt),Ft=pt?function(lt,ft,it){gt.isBuffer(ft)||(ft=new gt(ft)),gt.isBuffer(it)||(it=new gt(it)),ft.length>g?ft=lt(ft):ft.length<g&&(ft=gt.concat([ft,o],g));for(var at=new gt(g),bt=new gt(g),St=0;St<g;St++)at[St]=54^ft[St],bt[St]=92^ft[St];return it=lt(gt.concat([at,it])),lt(gt.concat([bt,it]))}(Bt,pt,Ft):Bt(Ft);return Pt=null,Rt?Ft.toString(Rt):Ft}}}function dt(){var nt=[].slice.call(arguments).join(" ");throw new Error([nt,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}o.fill(0),ot.createHash=function(nt){return ut(nt)},ot.createHmac=ut,ot.randomBytes=function(nt,pt){if(!pt||!pt.call)return new gt(d(nt));try{pt.call(this,void 0,new gt(d(nt)))}catch(Bt){pt(Bt)}};var b,h=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],et=function(nt){ot[nt]=function(){dt("sorry,",nt,"is not implemented yet")}};for(b in h)et(h[b])}).call(this,c("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},c("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(c,_e,ot){(function($t,zt,ct,Et,s,st,Tt,wt,e){var gt=c("./helpers");function _(dt,b){dt[b>>5]|=128<<b%32,dt[14+(b+64>>>9<<4)]=b;for(var h=1732584193,et=-271733879,nt=-1732584194,pt=271733878,Bt=0;Bt<dt.length;Bt+=16){var Pt=h,Rt=et,Ft=nt,lt=pt,h=d(h,et,nt,pt,dt[Bt+0],7,-680876936),pt=d(pt,h,et,nt,dt[Bt+1],12,-389564586),nt=d(nt,pt,h,et,dt[Bt+2],17,606105819),et=d(et,nt,pt,h,dt[Bt+3],22,-1044525330);h=d(h,et,nt,pt,dt[Bt+4],7,-176418897),pt=d(pt,h,et,nt,dt[Bt+5],12,1200080426),nt=d(nt,pt,h,et,dt[Bt+6],17,-1473231341),et=d(et,nt,pt,h,dt[Bt+7],22,-45705983),h=d(h,et,nt,pt,dt[Bt+8],7,1770035416),pt=d(pt,h,et,nt,dt[Bt+9],12,-1958414417),nt=d(nt,pt,h,et,dt[Bt+10],17,-42063),et=d(et,nt,pt,h,dt[Bt+11],22,-1990404162),h=d(h,et,nt,pt,dt[Bt+12],7,1804603682),pt=d(pt,h,et,nt,dt[Bt+13],12,-40341101),nt=d(nt,pt,h,et,dt[Bt+14],17,-1502002290),h=j(h,et=d(et,nt,pt,h,dt[Bt+15],22,1236535329),nt,pt,dt[Bt+1],5,-165796510),pt=j(pt,h,et,nt,dt[Bt+6],9,-1069501632),nt=j(nt,pt,h,et,dt[Bt+11],14,643717713),et=j(et,nt,pt,h,dt[Bt+0],20,-373897302),h=j(h,et,nt,pt,dt[Bt+5],5,-701558691),pt=j(pt,h,et,nt,dt[Bt+10],9,38016083),nt=j(nt,pt,h,et,dt[Bt+15],14,-660478335),et=j(et,nt,pt,h,dt[Bt+4],20,-405537848),h=j(h,et,nt,pt,dt[Bt+9],5,568446438),pt=j(pt,h,et,nt,dt[Bt+14],9,-1019803690),nt=j(nt,pt,h,et,dt[Bt+3],14,-187363961),et=j(et,nt,pt,h,dt[Bt+8],20,1163531501),h=j(h,et,nt,pt,dt[Bt+13],5,-1444681467),pt=j(pt,h,et,nt,dt[Bt+2],9,-51403784),nt=j(nt,pt,h,et,dt[Bt+7],14,1735328473),h=g(h,et=j(et,nt,pt,h,dt[Bt+12],20,-1926607734),nt,pt,dt[Bt+5],4,-378558),pt=g(pt,h,et,nt,dt[Bt+8],11,-2022574463),nt=g(nt,pt,h,et,dt[Bt+11],16,1839030562),et=g(et,nt,pt,h,dt[Bt+14],23,-35309556),h=g(h,et,nt,pt,dt[Bt+1],4,-1530992060),pt=g(pt,h,et,nt,dt[Bt+4],11,1272893353),nt=g(nt,pt,h,et,dt[Bt+7],16,-155497632),et=g(et,nt,pt,h,dt[Bt+10],23,-1094730640),h=g(h,et,nt,pt,dt[Bt+13],4,681279174),pt=g(pt,h,et,nt,dt[Bt+0],11,-358537222),nt=g(nt,pt,h,et,dt[Bt+3],16,-722521979),et=g(et,nt,pt,h,dt[Bt+6],23,76029189),h=g(h,et,nt,pt,dt[Bt+9],4,-640364487),pt=g(pt,h,et,nt,dt[Bt+12],11,-421815835),nt=g(nt,pt,h,et,dt[Bt+15],16,530742520),h=o(h,et=g(et,nt,pt,h,dt[Bt+2],23,-995338651),nt,pt,dt[Bt+0],6,-198630844),pt=o(pt,h,et,nt,dt[Bt+7],10,1126891415),nt=o(nt,pt,h,et,dt[Bt+14],15,-1416354905),et=o(et,nt,pt,h,dt[Bt+5],21,-57434055),h=o(h,et,nt,pt,dt[Bt+12],6,1700485571),pt=o(pt,h,et,nt,dt[Bt+3],10,-1894986606),nt=o(nt,pt,h,et,dt[Bt+10],15,-1051523),et=o(et,nt,pt,h,dt[Bt+1],21,-2054922799),h=o(h,et,nt,pt,dt[Bt+8],6,1873313359),pt=o(pt,h,et,nt,dt[Bt+15],10,-30611744),nt=o(nt,pt,h,et,dt[Bt+6],15,-1560198380),et=o(et,nt,pt,h,dt[Bt+13],21,1309151649),h=o(h,et,nt,pt,dt[Bt+4],6,-145523070),pt=o(pt,h,et,nt,dt[Bt+11],10,-1120210379),nt=o(nt,pt,h,et,dt[Bt+2],15,718787259),et=o(et,nt,pt,h,dt[Bt+9],21,-343485551),h=ut(h,Pt),et=ut(et,Rt),nt=ut(nt,Ft),pt=ut(pt,lt)}return Array(h,et,nt,pt)}function $(dt,b,h,et,nt,pt){return ut((b=ut(ut(b,dt),ut(et,pt)))<<nt|b>>>32-nt,h)}function d(dt,b,h,et,nt,pt,Bt){return $(b&h|~b&et,dt,b,nt,pt,Bt)}function j(dt,b,h,et,nt,pt,Bt){return $(b&et|h&~et,dt,b,nt,pt,Bt)}function g(dt,b,h,et,nt,pt,Bt){return $(b^h^et,dt,b,nt,pt,Bt)}function o(dt,b,h,et,nt,pt,Bt){return $(h^(b|~et),dt,b,nt,pt,Bt)}function ut(dt,b){var h=(65535&dt)+(65535&b);return(dt>>16)+(b>>16)+(h>>16)<<16|65535&h}_e.exports=function(dt){return gt.hash(dt,_,16)}}).call(this,c("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},c("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(c,_e,ot){(function($t,zt,ct,Et,s,st,Tt,wt,e){_e.exports=function(gt){for(var _,$=new Array(gt),d=0;d<gt;d++)!(3&d)&&(_=4294967296*Math.random()),$[d]=_>>>((3&d)<<3)&255;return $}}).call(this,c("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},c("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(c,_e,ot){(function($t,zt,ct,Et,s,st,Tt,wt,e){var gt=c("./helpers");function _(j,g){j[g>>5]|=128<<24-g%32,j[15+(g+64>>9<<4)]=g;for(var o,ut,dt,b=Array(80),h=1732584193,et=-271733879,nt=-1732584194,pt=271733878,Bt=-1009589776,Pt=0;Pt<j.length;Pt+=16){for(var Rt=h,Ft=et,lt=nt,ft=pt,it=Bt,at=0;at<80;at++){b[at]=at<16?j[Pt+at]:d(b[at-3]^b[at-8]^b[at-14]^b[at-16],1);var bt=$($(d(h,5),(bt=et,ut=nt,dt=pt,(o=at)<20?bt&ut|~bt&dt:!(o<40)&&o<60?bt&ut|bt&dt|ut&dt:bt^ut^dt)),$($(Bt,b[at]),(o=at)<20?1518500249:o<40?1859775393:o<60?-1894007588:-899497514)),Bt=pt,pt=nt,nt=d(et,30),et=h,h=bt}h=$(h,Rt),et=$(et,Ft),nt=$(nt,lt),pt=$(pt,ft),Bt=$(Bt,it)}return Array(h,et,nt,pt,Bt)}function $(j,g){var o=(65535&j)+(65535&g);return(j>>16)+(g>>16)+(o>>16)<<16|65535&o}function d(j,g){return j<<g|j>>>32-g}_e.exports=function(j){return gt.hash(j,_,20,!0)}}).call(this,c("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},c("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(c,_e,ot){(function($t,zt,ct,Et,s,st,Tt,wt,e){function gt(g,o){var ut=(65535&g)+(65535&o);return(g>>16)+(o>>16)+(ut>>16)<<16|65535&ut}function _(g,o){var ut,dt=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),b=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),h=new Array(64);g[o>>5]|=128<<24-o%32,g[15+(o+64>>9<<4)]=o;for(var et,nt,pt=0;pt<g.length;pt+=16){for(var Bt=b[0],Pt=b[1],Rt=b[2],Ft=b[3],lt=b[4],ft=b[5],it=b[6],at=b[7],bt=0;bt<64;bt++)h[bt]=bt<16?g[bt+pt]:gt(gt(gt((nt=h[bt-2],d(nt,17)^d(nt,19)^j(nt,10)),h[bt-7]),(nt=h[bt-15],d(nt,7)^d(nt,18)^j(nt,3))),h[bt-16]),ut=gt(gt(gt(gt(at,d(nt=lt,6)^d(nt,11)^d(nt,25)),lt&ft^~lt&it),dt[bt]),h[bt]),et=gt(d(et=Bt,2)^d(et,13)^d(et,22),Bt&Pt^Bt&Rt^Pt&Rt),at=it,it=ft,ft=lt,lt=gt(Ft,ut),Ft=Rt,Rt=Pt,Pt=Bt,Bt=gt(ut,et);b[0]=gt(Bt,b[0]),b[1]=gt(Pt,b[1]),b[2]=gt(Rt,b[2]),b[3]=gt(Ft,b[3]),b[4]=gt(lt,b[4]),b[5]=gt(ft,b[5]),b[6]=gt(it,b[6]),b[7]=gt(at,b[7])}return b}var $=c("./helpers"),d=function(g,o){return g>>>o|g<<32-o},j=function(g,o){return g>>>o};_e.exports=function(g){return $.hash(g,_,32,!0)}}).call(this,c("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},c("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(c,_e,ot){(function($t,zt,ct,Et,s,st,Tt,wt,e){ot.read=function(gt,_,$,d,pt){var g,o,ut=8*pt-d-1,dt=(1<<ut)-1,b=dt>>1,h=-7,et=$?pt-1:0,nt=$?-1:1,pt=gt[_+et];for(et+=nt,g=pt&(1<<-h)-1,pt>>=-h,h+=ut;0<h;g=256*g+gt[_+et],et+=nt,h-=8);for(o=g&(1<<-h)-1,g>>=-h,h+=d;0<h;o=256*o+gt[_+et],et+=nt,h-=8);if(g===0)g=1-b;else{if(g===dt)return o?NaN:1/0*(pt?-1:1);o+=Math.pow(2,d),g-=b}return(pt?-1:1)*o*Math.pow(2,g-d)},ot.write=function(gt,_,$,d,j,Bt){var o,ut,dt=8*Bt-j-1,b=(1<<dt)-1,h=b>>1,et=j===23?Math.pow(2,-24)-Math.pow(2,-77):0,nt=d?0:Bt-1,pt=d?1:-1,Bt=_<0||_===0&&1/_<0?1:0;for(_=Math.abs(_),isNaN(_)||_===1/0?(ut=isNaN(_)?1:0,o=b):(o=Math.floor(Math.log(_)/Math.LN2),_*(d=Math.pow(2,-o))<1&&(o--,d*=2),2<=(_+=1<=o+h?et/d:et*Math.pow(2,1-h))*d&&(o++,d/=2),b<=o+h?(ut=0,o=b):1<=o+h?(ut=(_*d-1)*Math.pow(2,j),o+=h):(ut=_*Math.pow(2,h-1)*Math.pow(2,j),o=0));8<=j;gt[$+nt]=255&ut,nt+=pt,ut/=256,j-=8);for(o=o<<j|ut,dt+=j;0<dt;gt[$+nt]=255&o,nt+=pt,o/=256,dt-=8);gt[$+nt-pt]|=128*Bt}}).call(this,c("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},c("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(c,_e,ot){(function($t,zt,ct,Et,s,st,Tt,wt,e){var gt,_,$;function d(){}($t=_e.exports={}).nextTick=(_=typeof window<"u"&&window.setImmediate,$=typeof window<"u"&&window.postMessage&&window.addEventListener,_?function(j){return window.setImmediate(j)}:$?(gt=[],window.addEventListener("message",function(j){var g=j.source;g!==window&&g!==null||j.data!=="process-tick"||(j.stopPropagation(),0<gt.length&&gt.shift()())},!0),function(j){gt.push(j),window.postMessage("process-tick","*")}):function(j){setTimeout(j,0)}),$t.title="browser",$t.browser=!0,$t.env={},$t.argv=[],$t.on=d,$t.addListener=d,$t.once=d,$t.off=d,$t.removeListener=d,$t.removeAllListeners=d,$t.emit=d,$t.binding=function(j){throw new Error("process.binding is not supported")},$t.cwd=function(){return"/"},$t.chdir=function(j){throw new Error("process.chdir is not supported")}}).call(this,c("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},c("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})})(object_hash);var object_hashExports=object_hash.exports,hashHelper={},__importDefault$m=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(hashHelper,"__esModule",{value:!0});hashHelper.generateRandomHash=void 0;const object_hash_1$2=__importDefault$m(object_hashExports),generateRandomHash=()=>{const i=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);return(0,object_hash_1$2.default)({dateTime:new Date().toLocaleString(),rand:i})};hashHelper.generateRandomHash=generateRandomHash;var __importDefault$l=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(useAnnotations$1,"__esModule",{value:!0});const react_1$r=reactExports,object_hash_1$1=__importDefault$l(object_hashExports),hashHelper_1=hashHelper,useAnnotations=(i,a,c)=>{const[_e,ot]=(0,react_1$r.useState)([]),[$t,zt]=(0,react_1$r.useState)("");(0,react_1$r.useEffect)(()=>{c&&ot(i)},[i,c,(0,object_hash_1$1.default)(i)]);const ct=(0,react_1$r.useCallback)(wt=>_e.filter(e=>e.page===wt),[_e]),Et=(0,react_1$r.useCallback)(wt=>{a||(ot(e=>{var gt;const $={id:(((gt=e[e.length-1])===null||gt===void 0?void 0:gt.id)||0)+1,...wt};return[...e,$]}),zt((0,hashHelper_1.generateRandomHash)()))},[a]),s=(0,react_1$r.useCallback)(wt=>{a||(ot(e=>e.map(gt=>gt.id===wt.id?wt:gt)),zt((0,hashHelper_1.generateRandomHash)()))},[a]),st=(0,react_1$r.useCallback)(wt=>{if(a)return;const e=_e.slice().reverse().find(gt=>gt.entity.id===wt.entity.id&&gt.index===wt.index);if(e){const gt=[..._e].map(_=>_.id===e.id?{..._,nerAnnotation:{..._.nerAnnotation,tokens:[..._.nerAnnotation.tokens,...wt.nerAnnotation.tokens],textIds:[..._.nerAnnotation.textIds,...wt.nerAnnotation.textIds]}}:_);ot(gt)}else Et(wt);zt((0,hashHelper_1.generateRandomHash)())},[Et,_e,a]),Tt=(0,react_1$r.useCallback)(wt=>{a||(ot(e=>e.filter(gt=>gt.id!==wt)),zt((0,hashHelper_1.generateRandomHash)()))},[a]);return{annotations:_e,getAnnotationsForPage:ct,addAnnotation:Et,updateAnnotation:s,updateLastAnnotationForEntity:st,removeAnnotation:Tt,lastActionHash:$t}};useAnnotations$1.default=useAnnotations;var useTextMap$1={},textMapHelpers={};function basePropertyOf$1(i){return function(a){return i==null?void 0:i[a]}}var _basePropertyOf=basePropertyOf$1,basePropertyOf=_basePropertyOf,deburredLetters={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},deburrLetter$1=basePropertyOf(deburredLetters),_deburrLetter=deburrLetter$1,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$8=freeGlobal||freeSelf||Function("return this")(),_root=root$8,root$7=_root,Symbol$6=root$7.Symbol,_Symbol=Symbol$6;function arrayMap$2(i,a){for(var c=-1,_e=i==null?0:i.length,ot=Array(_e);++c<_e;)ot[c]=a(i[c],c,i);return ot}var _arrayMap=arrayMap$2,isArray$a=Array.isArray,isArray_1=isArray$a,Symbol$5=_Symbol,objectProto$b=Object.prototype,hasOwnProperty$8=objectProto$b.hasOwnProperty,nativeObjectToString$1=objectProto$b.toString,symToStringTag$1=Symbol$5?Symbol$5.toStringTag:void 0;function getRawTag$1(i){var a=hasOwnProperty$8.call(i,symToStringTag$1),c=i[symToStringTag$1];try{i[symToStringTag$1]=void 0;var _e=!0}catch{}var ot=nativeObjectToString$1.call(i);return _e&&(a?i[symToStringTag$1]=c:delete i[symToStringTag$1]),ot}var _getRawTag=getRawTag$1,objectProto$a=Object.prototype,nativeObjectToString=objectProto$a.toString;function objectToString$1(i){return nativeObjectToString.call(i)}var _objectToString=objectToString$1,Symbol$4=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$4?Symbol$4.toStringTag:void 0;function baseGetTag$5(i){return i==null?i===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(i)?getRawTag(i):objectToString(i)}var _baseGetTag=baseGetTag$5;function isObjectLike$5(i){return i!=null&&typeof i=="object"}var isObjectLike_1=isObjectLike$5,baseGetTag$4=_baseGetTag,isObjectLike$4=isObjectLike_1,symbolTag$1="[object Symbol]";function isSymbol$4(i){return typeof i=="symbol"||isObjectLike$4(i)&&baseGetTag$4(i)==symbolTag$1}var isSymbol_1=isSymbol$4,Symbol$3=_Symbol,arrayMap$1=_arrayMap,isArray$9=isArray_1,isSymbol$3=isSymbol_1,symbolProto$1=Symbol$3?Symbol$3.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString$1(i){if(typeof i=="string")return i;if(isArray$9(i))return arrayMap$1(i,baseToString$1)+"";if(isSymbol$3(i))return symbolToString?symbolToString.call(i):"";var a=i+"";return a=="0"&&1/i==-1/0?"-0":a}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$2(i){return i==null?"":baseToString(i)}var toString_1=toString$2,deburrLetter=_deburrLetter,toString$1=toString_1,reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsCombo="["+rsComboRange+"]",reComboMark=RegExp(rsCombo,"g");function deburr(i){return i=toString$1(i),i&&i.replace(reLatin,deburrLetter).replace(reComboMark,"")}var deburr_1$1=deburr,textLayer={};(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.TextLayerType=void 0,function(a){a.TEXT_LAYER="TEXT_LAYER",a.ORC="OCR"}(i.TextLayerType||(i.TextLayerType={}))})(textLayer);var __importDefault$k=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(textMapHelpers,"__esModule",{value:!0});textMapHelpers.tokenizeText=textMapHelpers.getTextMetrics=textMapHelpers.buildTextMapFromTextLayer=void 0;const deburr_1=__importDefault$k(deburr_1$1),textLayer_1$1=textLayer,buildTextMapFromTextLayer=(i,a,c)=>{const _e=[];if(a===textLayer_1$1.TextLayerType.TEXT_LAYER){let ot=0;i.forEach($t=>{if(!$t.text)return;let zt=0;const{text:ct,fontSize:Et,fontFamily:s,transform:st,coords:Tt}=$t;ct.match(c).forEach(wt=>{const e=calculateTextWidth(wt,Et,s,st);wt!==" "&&(ot+=1,_e.push({...$t,dataI:ot,text:wt,coords:{left:zt+Tt.left,top:Tt.top,width:e,height:Tt.height}})),zt+=e})})}else i.forEach((ot,$t)=>{_e.push({...ot,dataI:$t})});return _e};textMapHelpers.buildTextMapFromTextLayer=buildTextMapFromTextLayer;const calculateTextWidth=(i,a,c,_e)=>{const $t=document.createElement("canvas").getContext("2d");return $t.font=`${a}px ${c}`,$t.measureText(i).width*_e},getTextMetrics=i=>{const c=document.createElement("canvas").getContext("2d");c.font="12px sans-serif";const _e=c.measureText(i),ot=1.2*c.measureText("M").width;return{width:_e.width,height:ot}};textMapHelpers.getTextMetrics=getTextMetrics;const tokenizeText=(i,a,c)=>c?(0,deburr_1.default)(i).match(a):(0,deburr_1.default)(i).match(new RegExp(/[^\s]+/g));textMapHelpers.tokenizeText=tokenizeText;Object.defineProperty(useTextMap$1,"__esModule",{value:!0});const react_1$q=reactExports,textMapHelpers_1$2=textMapHelpers,useTextMap=i=>{const[a,c]=(0,react_1$q.useState)([]);(0,react_1$q.useEffect)(()=>{const ot=Array.from(new Set(i.map(zt=>zt.page)).values()),$t=a.filter(zt=>ot.includes(zt.page));$t.length<a.length&&c($t)},[i,a]);const _e=(0,react_1$q.useCallback)((ot,$t,zt,ct,Et)=>{if(!a.find(s=>s.page===ot)){const s=[...a,{page:ot,textMapItems:(0,textMapHelpers_1$2.buildTextMapFromTextLayer)($t,zt,Et),type:zt,confidence:ct}];c(s)}},[a]);return{textMap:a,addPageToTextMap:_e}};useTextMap$1.default=useTextMap;var Page$1={},__create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__defNormalProp=(i,a,c)=>a in i?__defProp(i,a,{enumerable:!0,configurable:!0,writable:!0,value:c}):i[a]=c,__export=(i,a)=>{for(var c in a)__defProp(i,c,{get:a[c],enumerable:!0})},__copyProps=(i,a,c,_e)=>{if(a&&typeof a=="object"||typeof a=="function")for(let ot of __getOwnPropNames(a))!__hasOwnProp.call(i,ot)&&ot!==c&&__defProp(i,ot,{get:()=>a[ot],enumerable:!(_e=__getOwnPropDesc(a,ot))||_e.enumerable});return i},__toESM=(i,a,c)=>(c=i!=null?__create(__getProtoOf(i)):{},__copyProps(!i||!i.__esModule?__defProp(c,"default",{value:i,enumerable:!0}):c,i)),__toCommonJS=i=>__copyProps(__defProp({},"__esModule",{value:!0}),i),__publicField=(i,a,c)=>__defNormalProp(i,typeof a!="symbol"?a+"":a,c),index_exports={};__export(index_exports,{InView:()=>InView,defaultFallbackInView:()=>defaultFallbackInView,observe:()=>observe,useInView:()=>useInView,useOnInView:()=>useOnInView});var dist=__toCommonJS(index_exports),React=__toESM(reactExports),observerMap=new Map,RootIds=new WeakMap,rootId=0,unsupportedValue;function defaultFallbackInView(i){unsupportedValue=i}function getRootId(i){return i?(RootIds.has(i)||(rootId+=1,RootIds.set(i,rootId.toString())),RootIds.get(i)):"0"}function optionsToId(i){return Object.keys(i).sort().filter(a=>i[a]!==void 0).map(a=>`${a}_${a==="root"?getRootId(i.root):i[a]}`).toString()}function createObserver(i){const a=optionsToId(i);let c=observerMap.get(a);if(!c){const _e=new Map;let ot;const $t=new IntersectionObserver(zt=>{zt.forEach(ct=>{var Et;const s=ct.isIntersecting&&ot.some(st=>ct.intersectionRatio>=st);i.trackVisibility&&typeof ct.isVisible>"u"&&(ct.isVisible=s),(Et=_e.get(ct.target))==null||Et.forEach(st=>{st(s,ct)})})},i);ot=$t.thresholds||(Array.isArray(i.threshold)?i.threshold:[i.threshold||0]),c={id:a,observer:$t,elements:_e},observerMap.set(a,c)}return c}function observe(i,a,c={},_e=unsupportedValue){if(typeof window.IntersectionObserver>"u"&&_e!==void 0){const Et=i.getBoundingClientRect();return a(_e,{isIntersecting:_e,target:i,intersectionRatio:typeof c.threshold=="number"?c.threshold:0,time:0,boundingClientRect:Et,intersectionRect:Et,rootBounds:Et}),()=>{}}const{id:ot,observer:$t,elements:zt}=createObserver(c),ct=zt.get(i)||[];return zt.has(i)||zt.set(i,ct),ct.push(a),$t.observe(i),function(){ct.splice(ct.indexOf(a),1),ct.length===0&&(zt.delete(i),$t.unobserve(i)),zt.size===0&&($t.disconnect(),observerMap.delete(ot))}}function isPlainChildren(i){return typeof i.children!="function"}var InView=class extends React.Component{constructor(i){super(i),__publicField(this,"node",null),__publicField(this,"_unobserveCb",null),__publicField(this,"lastInView"),__publicField(this,"handleNode",a=>{this.node&&(this.unobserve(),!a&&!this.props.triggerOnce&&!this.props.skip&&(this.setState({inView:!!this.props.initialInView,entry:void 0}),this.lastInView=this.props.initialInView)),this.node=a||null,this.observeNode()}),__publicField(this,"handleChange",(a,c)=>{const _e=this.lastInView;this.lastInView=a,!(_e===void 0&&!a)&&(a&&this.props.triggerOnce&&this.unobserve(),isPlainChildren(this.props)||this.setState({inView:a,entry:c}),this.props.onChange&&this.props.onChange(a,c))}),this.state={inView:!!i.initialInView,entry:void 0},this.lastInView=i.initialInView}componentDidMount(){this.unobserve(),this.observeNode()}componentDidUpdate(i){(i.rootMargin!==this.props.rootMargin||i.root!==this.props.root||i.threshold!==this.props.threshold||i.skip!==this.props.skip||i.trackVisibility!==this.props.trackVisibility||i.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())}componentWillUnmount(){this.unobserve()}observeNode(){if(!this.node||this.props.skip)return;const{threshold:i,root:a,rootMargin:c,trackVisibility:_e,delay:ot,fallbackInView:$t}=this.props;this.lastInView===void 0&&(this.lastInView=this.props.initialInView),this._unobserveCb=observe(this.node,this.handleChange,{threshold:i,root:a,rootMargin:c,trackVisibility:_e,delay:ot},$t)}unobserve(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}render(){const{children:i}=this.props;if(typeof i=="function"){const{inView:e,entry:gt}=this.state;return i({inView:e,entry:gt,ref:this.handleNode})}const{as:a,triggerOnce:c,threshold:_e,root:ot,rootMargin:$t,onChange:zt,skip:ct,trackVisibility:Et,delay:s,initialInView:st,fallbackInView:Tt,...wt}=this.props;return React.createElement(a||"div",{ref:this.handleNode,...wt},i)}},React2=__toESM(reactExports);function useInView({threshold:i,delay:a,trackVisibility:c,rootMargin:_e,root:ot,triggerOnce:$t,skip:zt,initialInView:ct,fallbackInView:Et,onChange:s}={}){var st;const[Tt,wt]=React2.useState(null),e=React2.useRef(s),gt=React2.useRef(ct),[_,$]=React2.useState({inView:!!ct,entry:void 0});e.current=s,React2.useEffect(()=>{if(gt.current===void 0&&(gt.current=ct),zt||!Tt)return;let o;return o=observe(Tt,(ut,dt)=>{const b=gt.current;gt.current=ut,!(b===void 0&&!ut)&&($({inView:ut,entry:dt}),e.current&&e.current(ut,dt),dt.isIntersecting&&$t&&o&&(o(),o=void 0))},{root:ot,rootMargin:_e,threshold:i,trackVisibility:c,delay:a},Et),()=>{o&&o()}},[Array.isArray(i)?i.toString():i,Tt,ot,_e,$t,zt,c,Et,a]);const d=(st=_.entry)==null?void 0:st.target,j=React2.useRef(void 0);!Tt&&d&&!$t&&!zt&&j.current!==d&&(j.current=d,$({inView:!!ct,entry:void 0}),gt.current=ct);const g=[wt,_.inView,_.entry];return g.ref=g[0],g.inView=g[1],g.entry=g[2],g}var React3=__toESM(reactExports),_a,_b,useSyncEffect=(_b=(_a=React3.useInsertionEffect)!=null?_a:React3.useLayoutEffect)!=null?_b:React3.useEffect,useOnInView=(i,{threshold:a,root:c,rootMargin:_e,trackVisibility:ot,delay:$t,triggerOnce:zt,skip:ct}={})=>{const Et=React3.useRef(i),s=React3.useRef(null),st=React3.useRef(void 0),Tt=React3.useRef(void 0);return useSyncEffect(()=>{Et.current=i},[i]),React3.useCallback(wt=>{const e=()=>{if(st.current){const d=st.current;st.current=void 0,d()}};if(wt===s.current)return st.current;if(!wt||ct){e(),s.current=null,Tt.current=void 0;return}e(),s.current=wt;let gt=!1;const _=observe(wt,(d,j)=>{const g=Tt.current;Tt.current=d,!(g===void 0&&!d)&&(Et.current(d,j),zt&&d&&$())},{threshold:a,root:c,rootMargin:_e,trackVisibility:ot,delay:$t});function $(){gt||(gt=!0,_(),s.current=null,st.current=void 0,Tt.current=void 0)}return st.current=$,st.current},[Array.isArray(a)?a.toString():a,c,_e,ot,$t,zt,ct])},pdfHelpers={},lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lodash.exports;(function(i,a){(function(){var c,_e="4.17.21",ot=200,$t="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",zt="Expected a function",ct="Invalid `variable` option passed into `_.template`",Et="__lodash_hash_undefined__",s=500,st="__lodash_placeholder__",Tt=1,wt=2,e=4,gt=1,_=2,$=1,d=2,j=4,g=8,o=16,ut=32,dt=64,b=128,h=256,et=512,nt=30,pt="...",Bt=800,Pt=16,Rt=1,Ft=2,lt=3,ft=1/0,it=9007199254740991,at=17976931348623157e292,bt=NaN,St=4294967295,ht=St-1,vt=St>>>1,yt=[["ary",b],["bind",$],["bindKey",d],["curry",g],["curryRight",o],["flip",et],["partial",ut],["partialRight",dt],["rearg",h]],At="[object Arguments]",Nt="[object Array]",Ht="[object AsyncFunction]",xt="[object Boolean]",rt="[object Date]",mt="[object DOMException]",Mt="[object Error]",_t="[object Function]",Lt="[object GeneratorFunction]",It="[object Map]",Dt="[object Number]",jt="[object Null]",Ot="[object Object]",Xt="[object Promise]",Ut="[object Proxy]",Gt="[object RegExp]",qt="[object Set]",Kt="[object String]",Vt="[object Symbol]",Yt="[object Undefined]",Zt="[object WeakMap]",Qt="[object WeakSet]",en="[object ArrayBuffer]",rn="[object DataView]",an="[object Float32Array]",fn="[object Float64Array]",un="[object Int8Array]",pn="[object Int16Array]",yn="[object Int32Array]",On="[object Uint8Array]",En="[object Uint8ClampedArray]",An="[object Uint16Array]",Cn="[object Uint32Array]",gn=/\b__p \+= '';/g,hn=/\b(__p \+=) '' \+/g,on=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Dn=/&(?:amp|lt|gt|quot|#39);/g,Xn=/[&<>"']/g,er=RegExp(Dn.source),Sn=RegExp(Xn.source),xn=/<%-([\s\S]+?)%>/g,cn=/<%([\s\S]+?)%>/g,qn=/<%=([\s\S]+?)%>/g,Vn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gn=/^\w*$/,lr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$n=/[\\^$.*+?()[\]{}|]/g,tr=RegExp($n.source),pr=/^\s+/,jn=/\s/,ur=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,rr=/\{\n\/\* \[wrapped with (.+)\] \*/,Tr=/,? & /,br=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,yr=/[()=,{}\[\]\/\s]/,cr=/\\(\\)?/g,Jr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Vr=/\w*$/,Un=/^[-+]0x[0-9a-f]+$/i,Mn=/^0b[01]+$/i,zn=/^\[object .+?Constructor\]$/,Wn=/^0o[0-7]+$/i,sr=/^(?:0|[1-9]\d*)$/,gr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ir=/($^)/,Jn=/['\n\r\u2028\u2029\\]/g,or="\\ud800-\\udfff",hr="\\u0300-\\u036f",kr="\\ufe20-\\ufe2f",_r="\\u20d0-\\u20ff",dr=hr+kr+_r,mn="\\u2700-\\u27bf",Fn="a-z\\xdf-\\xf6\\xf8-\\xff",Bn="\\xac\\xb1\\xd7\\xf7",Nn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",nr="\\u2000-\\u206f",Ar=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Gr="A-Z\\xc0-\\xd6\\xd8-\\xde",Sr="\\ufe0e\\ufe0f",Er=Bn+Nn+nr+Ar,Wr="[']",$a="["+or+"]",ys="["+Er+"]",ao="["+dr+"]",vo="\\d+",_l="["+mn+"]",Lo="["+Fn+"]",Ao="[^"+or+Er+vo+mn+Fn+Gr+"]",wo="\\ud83c[\\udffb-\\udfff]",Cl="(?:"+ao+"|"+wo+")",No="[^"+or+"]",So="(?:\\ud83c[\\udde6-\\uddff]){2}",_o="[\\ud800-\\udbff][\\udc00-\\udfff]",Xs="["+Gr+"]",Co="\\u200d",so="(?:"+Lo+"|"+Ao+")",El="(?:"+Xs+"|"+Ao+")",Bo="(?:"+Wr+"(?:d|ll|m|re|s|t|ve))?",jo="(?:"+Wr+"(?:D|LL|M|RE|S|T|VE))?",oo=Cl+"?",ko="["+Sr+"]?",$o="(?:"+Co+"(?:"+[No,So,_o].join("|")+")"+ko+oo+")*",Fl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Tl="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Uo=ko+oo+$o,Pl="(?:"+[_l,So,_o].join("|")+")"+Uo,Ol="(?:"+[No+ao+"?",ao,So,_o,$a].join("|")+")",Eo=RegExp(Wr,"g"),Ml=RegExp(ao,"g"),zs=RegExp(wo+"(?="+wo+")|"+Ol+Uo,"g"),Il=RegExp([Xs+"?"+Lo+"+"+Bo+"(?="+[ys,Xs,"$"].join("|")+")",El+"+"+jo+"(?="+[ys,Xs+so,"$"].join("|")+")",Xs+"?"+so+"+"+Bo,Xs+"+"+jo,Tl,Fl,vo,Pl].join("|"),"g"),lo=RegExp("["+Co+or+dr+Sr+"]"),Tn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ct=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Jt=-1,vn={};vn[an]=vn[fn]=vn[un]=vn[pn]=vn[yn]=vn[On]=vn[En]=vn[An]=vn[Cn]=!0,vn[At]=vn[Nt]=vn[en]=vn[xt]=vn[rn]=vn[rt]=vn[Mt]=vn[_t]=vn[It]=vn[Dt]=vn[Ot]=vn[Gt]=vn[qt]=vn[Kt]=vn[Zt]=!1;var kn={};kn[At]=kn[Nt]=kn[en]=kn[rn]=kn[xt]=kn[rt]=kn[an]=kn[fn]=kn[un]=kn[pn]=kn[yn]=kn[It]=kn[Dt]=kn[Ot]=kn[Gt]=kn[qt]=kn[Kt]=kn[Vt]=kn[On]=kn[En]=kn[An]=kn[Cn]=!0,kn[Mt]=kn[_t]=kn[Zt]=!1;var Kn={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},mr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},fr={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},vr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Pr=parseFloat,$r=parseInt,Qr=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Zr=typeof self=="object"&&self&&self.Object===Object&&self,Nr=Qr||Zr||Function("return this")(),_i=a&&!a.nodeType&&a,Fr=_i&&!0&&i&&!i.nodeType&&i,ts=Fr&&Fr.exports===_i,Or=ts&&Qr.process,Ir=function(){try{var Pn=Fr&&Fr.require&&Fr.require("util").types;return Pn||Or&&Or.binding&&Or.binding("util")}catch{}}(),us=Ir&&Ir.isArrayBuffer,Lr=Ir&&Ir.isDate,Bs=Ir&&Ir.isMap,vs=Ir&&Ir.isRegExp,ss=Ir&&Ir.isSet,co=Ir&&Ir.isTypedArray;function os(Pn,Yn,Hn){switch(Hn.length){case 0:return Pn.call(Yn);case 1:return Pn.call(Yn,Hn[0]);case 2:return Pn.call(Yn,Hn[0],Hn[1]);case 3:return Pn.call(Yn,Hn[0],Hn[1],Hn[2])}return Pn.apply(Yn,Hn)}function Y0(Pn,Yn,Hn,wr){for(var Br=-1,na=Pn==null?0:Pn.length;++Br<na;){var ls=Pn[Br];Yn(wr,ls,Hn(ls),Pn)}return wr}function ds(Pn,Yn){for(var Hn=-1,wr=Pn==null?0:Pn.length;++Hn<wr&&Yn(Pn[Hn],Hn,Pn)!==!1;);return Pn}function x2(Pn,Yn){for(var Hn=Pn==null?0:Pn.length;Hn--&&Yn(Pn[Hn],Hn,Pn)!==!1;);return Pn}function M1(Pn,Yn){for(var Hn=-1,wr=Pn==null?0:Pn.length;++Hn<wr;)if(!Yn(Pn[Hn],Hn,Pn))return!1;return!0}function uo(Pn,Yn){for(var Hn=-1,wr=Pn==null?0:Pn.length,Br=0,na=[];++Hn<wr;){var ls=Pn[Hn];Yn(ls,Hn,Pn)&&(na[Br++]=ls)}return na}function t0(Pn,Yn){var Hn=Pn==null?0:Pn.length;return!!Hn&&Ho(Pn,Yn,0)>-1}function J0(Pn,Yn,Hn){for(var wr=-1,Br=Pn==null?0:Pn.length;++wr<Br;)if(Hn(Yn,Pn[wr]))return!0;return!1}function es(Pn,Yn){for(var Hn=-1,wr=Pn==null?0:Pn.length,Br=Array(wr);++Hn<wr;)Br[Hn]=Yn(Pn[Hn],Hn,Pn);return Br}function ho(Pn,Yn){for(var Hn=-1,wr=Yn.length,Br=Pn.length;++Hn<wr;)Pn[Br+Hn]=Yn[Hn];return Pn}function Z0(Pn,Yn,Hn,wr){var Br=-1,na=Pn==null?0:Pn.length;for(wr&&na&&(Hn=Pn[++Br]);++Br<na;)Hn=Yn(Hn,Pn[Br],Br,Pn);return Hn}function b2(Pn,Yn,Hn,wr){var Br=Pn==null?0:Pn.length;for(wr&&Br&&(Hn=Pn[--Br]);Br--;)Hn=Yn(Hn,Pn[Br],Br,Pn);return Hn}function Q0(Pn,Yn){for(var Hn=-1,wr=Pn==null?0:Pn.length;++Hn<wr;)if(Yn(Pn[Hn],Hn,Pn))return!0;return!1}var y2=eu("length");function v2(Pn){return Pn.split("")}function A2(Pn){return Pn.match(br)||[]}function I1(Pn,Yn,Hn){var wr;return Hn(Pn,function(Br,na,ls){if(Yn(Br,na,ls))return wr=na,!1}),wr}function n0(Pn,Yn,Hn,wr){for(var Br=Pn.length,na=Hn+(wr?1:-1);wr?na--:++na<Br;)if(Yn(Pn[na],na,Pn))return na;return-1}function Ho(Pn,Yn,Hn){return Yn===Yn?I2(Pn,Yn,Hn):n0(Pn,D1,Hn)}function w2(Pn,Yn,Hn,wr){for(var Br=Hn-1,na=Pn.length;++Br<na;)if(wr(Pn[Br],Yn))return Br;return-1}function D1(Pn){return Pn!==Pn}function R1(Pn,Yn){var Hn=Pn==null?0:Pn.length;return Hn?nu(Pn,Yn)/Hn:bt}function eu(Pn){return function(Yn){return Yn==null?c:Yn[Pn]}}function tu(Pn){return function(Yn){return Pn==null?c:Pn[Yn]}}function L1(Pn,Yn,Hn,wr,Br){return Br(Pn,function(na,ls,ba){Hn=wr?(wr=!1,na):Yn(Hn,na,ls,ba)}),Hn}function S2(Pn,Yn){var Hn=Pn.length;for(Pn.sort(Yn);Hn--;)Pn[Hn]=Pn[Hn].value;return Pn}function nu(Pn,Yn){for(var Hn,wr=-1,Br=Pn.length;++wr<Br;){var na=Yn(Pn[wr]);na!==c&&(Hn=Hn===c?na:Hn+na)}return Hn}function ru(Pn,Yn){for(var Hn=-1,wr=Array(Pn);++Hn<Pn;)wr[Hn]=Yn(Hn);return wr}function _2(Pn,Yn){return es(Yn,function(Hn){return[Hn,Pn[Hn]]})}function N1(Pn){return Pn&&Pn.slice(0,U1(Pn)+1).replace(pr,"")}function Cs(Pn){return function(Yn){return Pn(Yn)}}function iu(Pn,Yn){return es(Yn,function(Hn){return Pn[Hn]})}function Dl(Pn,Yn){return Pn.has(Yn)}function B1(Pn,Yn){for(var Hn=-1,wr=Pn.length;++Hn<wr&&Ho(Yn,Pn[Hn],0)>-1;);return Hn}function j1(Pn,Yn){for(var Hn=Pn.length;Hn--&&Ho(Yn,Pn[Hn],0)>-1;);return Hn}function C2(Pn,Yn){for(var Hn=Pn.length,wr=0;Hn--;)Pn[Hn]===Yn&&++wr;return wr}var k2=tu(Kn),E2=tu(mr);function F2(Pn){return"\\"+vr[Pn]}function T2(Pn,Yn){return Pn==null?c:Pn[Yn]}function Xo(Pn){return lo.test(Pn)}function P2(Pn){return Tn.test(Pn)}function O2(Pn){for(var Yn,Hn=[];!(Yn=Pn.next()).done;)Hn.push(Yn.value);return Hn}function au(Pn){var Yn=-1,Hn=Array(Pn.size);return Pn.forEach(function(wr,Br){Hn[++Yn]=[Br,wr]}),Hn}function $1(Pn,Yn){return function(Hn){return Pn(Yn(Hn))}}function fo(Pn,Yn){for(var Hn=-1,wr=Pn.length,Br=0,na=[];++Hn<wr;){var ls=Pn[Hn];(ls===Yn||ls===st)&&(Pn[Hn]=st,na[Br++]=Hn)}return na}function r0(Pn){var Yn=-1,Hn=Array(Pn.size);return Pn.forEach(function(wr){Hn[++Yn]=wr}),Hn}function M2(Pn){var Yn=-1,Hn=Array(Pn.size);return Pn.forEach(function(wr){Hn[++Yn]=[wr,wr]}),Hn}function I2(Pn,Yn,Hn){for(var wr=Hn-1,Br=Pn.length;++wr<Br;)if(Pn[wr]===Yn)return wr;return-1}function D2(Pn,Yn,Hn){for(var wr=Hn+1;wr--;)if(Pn[wr]===Yn)return wr;return wr}function zo(Pn){return Xo(Pn)?L2(Pn):y2(Pn)}function js(Pn){return Xo(Pn)?N2(Pn):v2(Pn)}function U1(Pn){for(var Yn=Pn.length;Yn--&&jn.test(Pn.charAt(Yn)););return Yn}var R2=tu(fr);function L2(Pn){for(var Yn=zs.lastIndex=0;zs.test(Pn);)++Yn;return Yn}function N2(Pn){return Pn.match(zs)||[]}function B2(Pn){return Pn.match(Il)||[]}var j2=function Pn(Yn){Yn=Yn==null?Nr:Go.defaults(Nr.Object(),Yn,Go.pick(Nr,Ct));var Hn=Yn.Array,wr=Yn.Date,Br=Yn.Error,na=Yn.Function,ls=Yn.Math,ba=Yn.Object,su=Yn.RegExp,$2=Yn.String,Ms=Yn.TypeError,i0=Hn.prototype,U2=na.prototype,Wo=ba.prototype,a0=Yn["__core-js_shared__"],s0=U2.toString,xa=Wo.hasOwnProperty,H2=0,H1=function(){var tt=/[^.]+$/.exec(a0&&a0.keys&&a0.keys.IE_PROTO||"");return tt?"Symbol(src)_1."+tt:""}(),o0=Wo.toString,X2=s0.call(ba),z2=Nr._,G2=su("^"+s0.call(xa).replace($n,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),l0=ts?Yn.Buffer:c,po=Yn.Symbol,c0=Yn.Uint8Array,X1=l0?l0.allocUnsafe:c,u0=$1(ba.getPrototypeOf,ba),z1=ba.create,G1=Wo.propertyIsEnumerable,h0=i0.splice,W1=po?po.isConcatSpreadable:c,Rl=po?po.iterator:c,Fo=po?po.toStringTag:c,d0=function(){try{var tt=Io(ba,"defineProperty");return tt({},"",{}),tt}catch{}}(),W2=Yn.clearTimeout!==Nr.clearTimeout&&Yn.clearTimeout,q2=wr&&wr.now!==Nr.Date.now&&wr.now,V2=Yn.setTimeout!==Nr.setTimeout&&Yn.setTimeout,f0=ls.ceil,p0=ls.floor,ou=ba.getOwnPropertySymbols,K2=l0?l0.isBuffer:c,q1=Yn.isFinite,Y2=i0.join,J2=$1(ba.keys,ba),cs=ls.max,ps=ls.min,Z2=wr.now,Q2=Yn.parseInt,V1=ls.random,ex=i0.reverse,lu=Io(Yn,"DataView"),Ll=Io(Yn,"Map"),cu=Io(Yn,"Promise"),qo=Io(Yn,"Set"),Nl=Io(Yn,"WeakMap"),Bl=Io(ba,"create"),g0=Nl&&new Nl,Vo={},tx=Do(lu),nx=Do(Ll),rx=Do(cu),ix=Do(qo),ax=Do(Nl),m0=po?po.prototype:c,$l=m0?m0.valueOf:c,K1=m0?m0.toString:c;function ln(tt){if(rs(tt)&&!jr(tt)&&!(tt instanceof Kr)){if(tt instanceof Is)return tt;if(xa.call(tt,"__wrapped__"))return Yp(tt)}return new Is(tt)}var Ko=function(){function tt(){}return function(kt){if(!ns(kt))return{};if(z1)return z1(kt);tt.prototype=kt;var Wt=new tt;return tt.prototype=c,Wt}}();function x0(){}function Is(tt,kt){this.__wrapped__=tt,this.__actions__=[],this.__chain__=!!kt,this.__index__=0,this.__values__=c}ln.templateSettings={escape:xn,evaluate:cn,interpolate:qn,variable:"",imports:{_:ln}},ln.prototype=x0.prototype,ln.prototype.constructor=ln,Is.prototype=Ko(x0.prototype),Is.prototype.constructor=Is;function Kr(tt){this.__wrapped__=tt,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=St,this.__views__=[]}function sx(){var tt=new Kr(this.__wrapped__);return tt.__actions__=As(this.__actions__),tt.__dir__=this.__dir__,tt.__filtered__=this.__filtered__,tt.__iteratees__=As(this.__iteratees__),tt.__takeCount__=this.__takeCount__,tt.__views__=As(this.__views__),tt}function ox(){if(this.__filtered__){var tt=new Kr(this);tt.__dir__=-1,tt.__filtered__=!0}else tt=this.clone(),tt.__dir__*=-1;return tt}function lx(){var tt=this.__wrapped__.value(),kt=this.__dir__,Wt=jr(tt),tn=kt<0,sn=Wt?tt.length:0,dn=v3(0,sn,this.__views__),bn=dn.start,_n=dn.end,In=_n-bn,Zn=tn?_n:bn-1,Qn=this.__iteratees__,ar=Qn.length,xr=0,Cr=ps(In,this.__takeCount__);if(!Wt||!tn&&sn==In&&Cr==In)return yp(tt,this.__actions__);var Dr=[];e:for(;In--&&xr<Cr;){Zn+=kt;for(var Xr=-1,Rr=tt[Zn];++Xr<ar;){var qr=Qn[Xr],Yr=qr.iteratee,Fs=qr.type,bs=Yr(Rr);if(Fs==Ft)Rr=bs;else if(!bs){if(Fs==Rt)continue e;break e}}Dr[xr++]=Rr}return Dr}Kr.prototype=Ko(x0.prototype),Kr.prototype.constructor=Kr;function To(tt){var kt=-1,Wt=tt==null?0:tt.length;for(this.clear();++kt<Wt;){var tn=tt[kt];this.set(tn[0],tn[1])}}function cx(){this.__data__=Bl?Bl(null):{},this.size=0}function ux(tt){var kt=this.has(tt)&&delete this.__data__[tt];return this.size-=kt?1:0,kt}function hx(tt){var kt=this.__data__;if(Bl){var Wt=kt[tt];return Wt===Et?c:Wt}return xa.call(kt,tt)?kt[tt]:c}function dx(tt){var kt=this.__data__;return Bl?kt[tt]!==c:xa.call(kt,tt)}function fx(tt,kt){var Wt=this.__data__;return this.size+=this.has(tt)?0:1,Wt[tt]=Bl&&kt===c?Et:kt,this}To.prototype.clear=cx,To.prototype.delete=ux,To.prototype.get=hx,To.prototype.has=dx,To.prototype.set=fx;function Ys(tt){var kt=-1,Wt=tt==null?0:tt.length;for(this.clear();++kt<Wt;){var tn=tt[kt];this.set(tn[0],tn[1])}}function px(){this.__data__=[],this.size=0}function gx(tt){var kt=this.__data__,Wt=b0(kt,tt);if(Wt<0)return!1;var tn=kt.length-1;return Wt==tn?kt.pop():h0.call(kt,Wt,1),--this.size,!0}function mx(tt){var kt=this.__data__,Wt=b0(kt,tt);return Wt<0?c:kt[Wt][1]}function xx(tt){return b0(this.__data__,tt)>-1}function bx(tt,kt){var Wt=this.__data__,tn=b0(Wt,tt);return tn<0?(++this.size,Wt.push([tt,kt])):Wt[tn][1]=kt,this}Ys.prototype.clear=px,Ys.prototype.delete=gx,Ys.prototype.get=mx,Ys.prototype.has=xx,Ys.prototype.set=bx;function Js(tt){var kt=-1,Wt=tt==null?0:tt.length;for(this.clear();++kt<Wt;){var tn=tt[kt];this.set(tn[0],tn[1])}}function yx(){this.size=0,this.__data__={hash:new To,map:new(Ll||Ys),string:new To}}function vx(tt){var kt=P0(this,tt).delete(tt);return this.size-=kt?1:0,kt}function Ax(tt){return P0(this,tt).get(tt)}function wx(tt){return P0(this,tt).has(tt)}function Sx(tt,kt){var Wt=P0(this,tt),tn=Wt.size;return Wt.set(tt,kt),this.size+=Wt.size==tn?0:1,this}Js.prototype.clear=yx,Js.prototype.delete=vx,Js.prototype.get=Ax,Js.prototype.has=wx,Js.prototype.set=Sx;function Po(tt){var kt=-1,Wt=tt==null?0:tt.length;for(this.__data__=new Js;++kt<Wt;)this.add(tt[kt])}function _x(tt){return this.__data__.set(tt,Et),this}function Cx(tt){return this.__data__.has(tt)}Po.prototype.add=Po.prototype.push=_x,Po.prototype.has=Cx;function $s(tt){var kt=this.__data__=new Ys(tt);this.size=kt.size}function kx(){this.__data__=new Ys,this.size=0}function Ex(tt){var kt=this.__data__,Wt=kt.delete(tt);return this.size=kt.size,Wt}function Fx(tt){return this.__data__.get(tt)}function Tx(tt){return this.__data__.has(tt)}function Px(tt,kt){var Wt=this.__data__;if(Wt instanceof Ys){var tn=Wt.__data__;if(!Ll||tn.length<ot-1)return tn.push([tt,kt]),this.size=++Wt.size,this;Wt=this.__data__=new Js(tn)}return Wt.set(tt,kt),this.size=Wt.size,this}$s.prototype.clear=kx,$s.prototype.delete=Ex,$s.prototype.get=Fx,$s.prototype.has=Tx,$s.prototype.set=Px;function Y1(tt,kt){var Wt=jr(tt),tn=!Wt&&Ro(tt),sn=!Wt&&!tn&&yo(tt),dn=!Wt&&!tn&&!sn&&Qo(tt),bn=Wt||tn||sn||dn,_n=bn?ru(tt.length,$2):[],In=_n.length;for(var Zn in tt)(kt||xa.call(tt,Zn))&&!(bn&&(Zn=="length"||sn&&(Zn=="offset"||Zn=="parent")||dn&&(Zn=="buffer"||Zn=="byteLength"||Zn=="byteOffset")||to(Zn,In)))&&_n.push(Zn);return _n}function J1(tt){var kt=tt.length;return kt?tt[vu(0,kt-1)]:c}function Ox(tt,kt){return O0(As(tt),Oo(kt,0,tt.length))}function Mx(tt){return O0(As(tt))}function uu(tt,kt,Wt){(Wt!==c&&!Us(tt[kt],Wt)||Wt===c&&!(kt in tt))&&Zs(tt,kt,Wt)}function Ul(tt,kt,Wt){var tn=tt[kt];(!(xa.call(tt,kt)&&Us(tn,Wt))||Wt===c&&!(kt in tt))&&Zs(tt,kt,Wt)}function b0(tt,kt){for(var Wt=tt.length;Wt--;)if(Us(tt[Wt][0],kt))return Wt;return-1}function Ix(tt,kt,Wt,tn){return go(tt,function(sn,dn,bn){kt(tn,sn,Wt(sn),bn)}),tn}function Z1(tt,kt){return tt&&Ws(kt,hs(kt),tt)}function Dx(tt,kt){return tt&&Ws(kt,Ss(kt),tt)}function Zs(tt,kt,Wt){kt=="__proto__"&&d0?d0(tt,kt,{configurable:!0,enumerable:!0,value:Wt,writable:!0}):tt[kt]=Wt}function hu(tt,kt){for(var Wt=-1,tn=kt.length,sn=Hn(tn),dn=tt==null;++Wt<tn;)sn[Wt]=dn?c:Gu(tt,kt[Wt]);return sn}function Oo(tt,kt,Wt){return tt===tt&&(Wt!==c&&(tt=tt<=Wt?tt:Wt),kt!==c&&(tt=tt>=kt?tt:kt)),tt}function Ds(tt,kt,Wt,tn,sn,dn){var bn,_n=kt&Tt,In=kt&wt,Zn=kt&e;if(Wt&&(bn=sn?Wt(tt,tn,sn,dn):Wt(tt)),bn!==c)return bn;if(!ns(tt))return tt;var Qn=jr(tt);if(Qn){if(bn=w3(tt),!_n)return As(tt,bn)}else{var ar=gs(tt),xr=ar==_t||ar==Lt;if(yo(tt))return wp(tt,_n);if(ar==Ot||ar==At||xr&&!sn){if(bn=In||xr?{}:Up(tt),!_n)return In?h3(tt,Dx(bn,tt)):u3(tt,Z1(bn,tt))}else{if(!kn[ar])return sn?tt:{};bn=S3(tt,ar,_n)}}dn||(dn=new $s);var Cr=dn.get(tt);if(Cr)return Cr;dn.set(tt,bn),gm(tt)?tt.forEach(function(Rr){bn.add(Ds(Rr,kt,Wt,Rr,tt,dn))}):fm(tt)&&tt.forEach(function(Rr,qr){bn.set(qr,Ds(Rr,kt,Wt,qr,tt,dn))});var Dr=Zn?In?Ou:Pu:In?Ss:hs,Xr=Qn?c:Dr(tt);return ds(Xr||tt,function(Rr,qr){Xr&&(qr=Rr,Rr=tt[qr]),Ul(bn,qr,Ds(Rr,kt,Wt,qr,tt,dn))}),bn}function Rx(tt){var kt=hs(tt);return function(Wt){return Q1(Wt,tt,kt)}}function Q1(tt,kt,Wt){var tn=Wt.length;if(tt==null)return!tn;for(tt=ba(tt);tn--;){var sn=Wt[tn],dn=kt[sn],bn=tt[sn];if(bn===c&&!(sn in tt)||!dn(bn))return!1}return!0}function ep(tt,kt,Wt){if(typeof tt!="function")throw new Ms(zt);return Kl(function(){tt.apply(c,Wt)},kt)}function Hl(tt,kt,Wt,tn){var sn=-1,dn=t0,bn=!0,_n=tt.length,In=[],Zn=kt.length;if(!_n)return In;Wt&&(kt=es(kt,Cs(Wt))),tn?(dn=J0,bn=!1):kt.length>=ot&&(dn=Dl,bn=!1,kt=new Po(kt));e:for(;++sn<_n;){var Qn=tt[sn],ar=Wt==null?Qn:Wt(Qn);if(Qn=tn||Qn!==0?Qn:0,bn&&ar===ar){for(var xr=Zn;xr--;)if(kt[xr]===ar)continue e;In.push(Qn)}else dn(kt,ar,tn)||In.push(Qn)}return In}var go=Ep(Gs),tp=Ep(fu,!0);function Lx(tt,kt){var Wt=!0;return go(tt,function(tn,sn,dn){return Wt=!!kt(tn,sn,dn),Wt}),Wt}function y0(tt,kt,Wt){for(var tn=-1,sn=tt.length;++tn<sn;){var dn=tt[tn],bn=kt(dn);if(bn!=null&&(_n===c?bn===bn&&!Es(bn):Wt(bn,_n)))var _n=bn,In=dn}return In}function Nx(tt,kt,Wt,tn){var sn=tt.length;for(Wt=Ur(Wt),Wt<0&&(Wt=-Wt>sn?0:sn+Wt),tn=tn===c||tn>sn?sn:Ur(tn),tn<0&&(tn+=sn),tn=Wt>tn?0:xm(tn);Wt<tn;)tt[Wt++]=kt;return tt}function np(tt,kt){var Wt=[];return go(tt,function(tn,sn,dn){kt(tn,sn,dn)&&Wt.push(tn)}),Wt}function fs(tt,kt,Wt,tn,sn){var dn=-1,bn=tt.length;for(Wt||(Wt=C3),sn||(sn=[]);++dn<bn;){var _n=tt[dn];kt>0&&Wt(_n)?kt>1?fs(_n,kt-1,Wt,tn,sn):ho(sn,_n):tn||(sn[sn.length]=_n)}return sn}var du=Fp(),rp=Fp(!0);function Gs(tt,kt){return tt&&du(tt,kt,hs)}function fu(tt,kt){return tt&&rp(tt,kt,hs)}function v0(tt,kt){return uo(kt,function(Wt){return no(tt[Wt])})}function Mo(tt,kt){kt=xo(kt,tt);for(var Wt=0,tn=kt.length;tt!=null&&Wt<tn;)tt=tt[qs(kt[Wt++])];return Wt&&Wt==tn?tt:c}function ip(tt,kt,Wt){var tn=kt(tt);return jr(tt)?tn:ho(tn,Wt(tt))}function ms(tt){return tt==null?tt===c?Yt:jt:Fo&&Fo in ba(tt)?y3(tt):M3(tt)}function pu(tt,kt){return tt>kt}function Bx(tt,kt){return tt!=null&&xa.call(tt,kt)}function jx(tt,kt){return tt!=null&&kt in ba(tt)}function $x(tt,kt,Wt){return tt>=ps(kt,Wt)&&tt<cs(kt,Wt)}function gu(tt,kt,Wt){for(var tn=Wt?J0:t0,sn=tt[0].length,dn=tt.length,bn=dn,_n=Hn(dn),In=1/0,Zn=[];bn--;){var Qn=tt[bn];bn&&kt&&(Qn=es(Qn,Cs(kt))),In=ps(Qn.length,In),_n[bn]=!Wt&&(kt||sn>=120&&Qn.length>=120)?new Po(bn&&Qn):c}Qn=tt[0];var ar=-1,xr=_n[0];e:for(;++ar<sn&&Zn.length<In;){var Cr=Qn[ar],Dr=kt?kt(Cr):Cr;if(Cr=Wt||Cr!==0?Cr:0,!(xr?Dl(xr,Dr):tn(Zn,Dr,Wt))){for(bn=dn;--bn;){var Xr=_n[bn];if(!(Xr?Dl(Xr,Dr):tn(tt[bn],Dr,Wt)))continue e}xr&&xr.push(Dr),Zn.push(Cr)}}return Zn}function Ux(tt,kt,Wt,tn){return Gs(tt,function(sn,dn,bn){kt(tn,Wt(sn),dn,bn)}),tn}function Xl(tt,kt,Wt){kt=xo(kt,tt),tt=Gp(tt,kt);var tn=tt==null?tt:tt[qs(Ls(kt))];return tn==null?c:os(tn,tt,Wt)}function ap(tt){return rs(tt)&&ms(tt)==At}function Hx(tt){return rs(tt)&&ms(tt)==en}function Xx(tt){return rs(tt)&&ms(tt)==rt}function zl(tt,kt,Wt,tn,sn){return tt===kt?!0:tt==null||kt==null||!rs(tt)&&!rs(kt)?tt!==tt&&kt!==kt:zx(tt,kt,Wt,tn,zl,sn)}function zx(tt,kt,Wt,tn,sn,dn){var bn=jr(tt),_n=jr(kt),In=bn?Nt:gs(tt),Zn=_n?Nt:gs(kt);In=In==At?Ot:In,Zn=Zn==At?Ot:Zn;var Qn=In==Ot,ar=Zn==Ot,xr=In==Zn;if(xr&&yo(tt)){if(!yo(kt))return!1;bn=!0,Qn=!1}if(xr&&!Qn)return dn||(dn=new $s),bn||Qo(tt)?Bp(tt,kt,Wt,tn,sn,dn):x3(tt,kt,In,Wt,tn,sn,dn);if(!(Wt&gt)){var Cr=Qn&&xa.call(tt,"__wrapped__"),Dr=ar&&xa.call(kt,"__wrapped__");if(Cr||Dr){var Xr=Cr?tt.value():tt,Rr=Dr?kt.value():kt;return dn||(dn=new $s),sn(Xr,Rr,Wt,tn,dn)}}return xr?(dn||(dn=new $s),b3(tt,kt,Wt,tn,sn,dn)):!1}function Gx(tt){return rs(tt)&&gs(tt)==It}function mu(tt,kt,Wt,tn){var sn=Wt.length,dn=sn,bn=!tn;if(tt==null)return!dn;for(tt=ba(tt);sn--;){var _n=Wt[sn];if(bn&&_n[2]?_n[1]!==tt[_n[0]]:!(_n[0]in tt))return!1}for(;++sn<dn;){_n=Wt[sn];var In=_n[0],Zn=tt[In],Qn=_n[1];if(bn&&_n[2]){if(Zn===c&&!(In in tt))return!1}else{var ar=new $s;if(tn)var xr=tn(Zn,Qn,In,tt,kt,ar);if(!(xr===c?zl(Qn,Zn,gt|_,tn,ar):xr))return!1}}return!0}function sp(tt){if(!ns(tt)||E3(tt))return!1;var kt=no(tt)?G2:zn;return kt.test(Do(tt))}function Wx(tt){return rs(tt)&&ms(tt)==Gt}function qx(tt){return rs(tt)&&gs(tt)==qt}function Vx(tt){return rs(tt)&&N0(tt.length)&&!!vn[ms(tt)]}function op(tt){return typeof tt=="function"?tt:tt==null?_s:typeof tt=="object"?jr(tt)?up(tt[0],tt[1]):cp(tt):Fm(tt)}function xu(tt){if(!Vl(tt))return J2(tt);var kt=[];for(var Wt in ba(tt))xa.call(tt,Wt)&&Wt!="constructor"&&kt.push(Wt);return kt}function Kx(tt){if(!ns(tt))return O3(tt);var kt=Vl(tt),Wt=[];for(var tn in tt)tn=="constructor"&&(kt||!xa.call(tt,tn))||Wt.push(tn);return Wt}function bu(tt,kt){return tt<kt}function lp(tt,kt){var Wt=-1,tn=ws(tt)?Hn(tt.length):[];return go(tt,function(sn,dn,bn){tn[++Wt]=kt(sn,dn,bn)}),tn}function cp(tt){var kt=Iu(tt);return kt.length==1&&kt[0][2]?Xp(kt[0][0],kt[0][1]):function(Wt){return Wt===tt||mu(Wt,tt,kt)}}function up(tt,kt){return Ru(tt)&&Hp(kt)?Xp(qs(tt),kt):function(Wt){var tn=Gu(Wt,tt);return tn===c&&tn===kt?Wu(Wt,tt):zl(kt,tn,gt|_)}}function A0(tt,kt,Wt,tn,sn){tt!==kt&&du(kt,function(dn,bn){if(sn||(sn=new $s),ns(dn))Yx(tt,kt,bn,Wt,A0,tn,sn);else{var _n=tn?tn(Nu(tt,bn),dn,bn+"",tt,kt,sn):c;_n===c&&(_n=dn),uu(tt,bn,_n)}},Ss)}function Yx(tt,kt,Wt,tn,sn,dn,bn){var _n=Nu(tt,Wt),In=Nu(kt,Wt),Zn=bn.get(In);if(Zn){uu(tt,Wt,Zn);return}var Qn=dn?dn(_n,In,Wt+"",tt,kt,bn):c,ar=Qn===c;if(ar){var xr=jr(In),Cr=!xr&&yo(In),Dr=!xr&&!Cr&&Qo(In);Qn=In,xr||Cr||Dr?jr(_n)?Qn=_n:is(_n)?Qn=As(_n):Cr?(ar=!1,Qn=wp(In,!0)):Dr?(ar=!1,Qn=Sp(In,!0)):Qn=[]:Yl(In)||Ro(In)?(Qn=_n,Ro(_n)?Qn=bm(_n):(!ns(_n)||no(_n))&&(Qn=Up(In))):ar=!1}ar&&(bn.set(In,Qn),sn(Qn,In,tn,dn,bn),bn.delete(In)),uu(tt,Wt,Qn)}function hp(tt,kt){var Wt=tt.length;if(Wt)return kt+=kt<0?Wt:0,to(kt,Wt)?tt[kt]:c}function dp(tt,kt,Wt){kt.length?kt=es(kt,function(dn){return jr(dn)?function(bn){return Mo(bn,dn.length===1?dn[0]:dn)}:dn}):kt=[_s];var tn=-1;kt=es(kt,Cs(Mr()));var sn=lp(tt,function(dn,bn,_n){var In=es(kt,function(Zn){return Zn(dn)});return{criteria:In,index:++tn,value:dn}});return S2(sn,function(dn,bn){return c3(dn,bn,Wt)})}function Jx(tt,kt){return fp(tt,kt,function(Wt,tn){return Wu(tt,tn)})}function fp(tt,kt,Wt){for(var tn=-1,sn=kt.length,dn={};++tn<sn;){var bn=kt[tn],_n=Mo(tt,bn);Wt(_n,bn)&&Gl(dn,xo(bn,tt),_n)}return dn}function Zx(tt){return function(kt){return Mo(kt,tt)}}function yu(tt,kt,Wt,tn){var sn=tn?w2:Ho,dn=-1,bn=kt.length,_n=tt;for(tt===kt&&(kt=As(kt)),Wt&&(_n=es(tt,Cs(Wt)));++dn<bn;)for(var In=0,Zn=kt[dn],Qn=Wt?Wt(Zn):Zn;(In=sn(_n,Qn,In,tn))>-1;)_n!==tt&&h0.call(_n,In,1),h0.call(tt,In,1);return tt}function pp(tt,kt){for(var Wt=tt?kt.length:0,tn=Wt-1;Wt--;){var sn=kt[Wt];if(Wt==tn||sn!==dn){var dn=sn;to(sn)?h0.call(tt,sn,1):Su(tt,sn)}}return tt}function vu(tt,kt){return tt+p0(V1()*(kt-tt+1))}function Qx(tt,kt,Wt,tn){for(var sn=-1,dn=cs(f0((kt-tt)/(Wt||1)),0),bn=Hn(dn);dn--;)bn[tn?dn:++sn]=tt,tt+=Wt;return bn}function Au(tt,kt){var Wt="";if(!tt||kt<1||kt>it)return Wt;do kt%2&&(Wt+=tt),kt=p0(kt/2),kt&&(tt+=tt);while(kt);return Wt}function zr(tt,kt){return Bu(zp(tt,kt,_s),tt+"")}function e3(tt){return J1(xl(tt))}function t3(tt,kt){var Wt=xl(tt);return O0(Wt,Oo(kt,0,Wt.length))}function Gl(tt,kt,Wt,tn){if(!ns(tt))return tt;kt=xo(kt,tt);for(var sn=-1,dn=kt.length,bn=dn-1,_n=tt;_n!=null&&++sn<dn;){var In=qs(kt[sn]),Zn=Wt;if(In==="__proto__"||In==="constructor"||In==="prototype")return tt;if(sn!=bn){var Qn=_n[In];Zn=tn?tn(Qn,In,_n):c,Zn===c&&(Zn=ns(Qn)?Qn:to(kt[sn+1])?[]:{})}Ul(_n,In,Zn),_n=_n[In]}return tt}var gp=g0?function(tt,kt){return g0.set(tt,kt),tt}:_s,n3=d0?function(tt,kt){return d0(tt,"toString",{configurable:!0,enumerable:!1,value:Vu(kt),writable:!0})}:_s;function r3(tt){return O0(xl(tt))}function Rs(tt,kt,Wt){var tn=-1,sn=tt.length;kt<0&&(kt=-kt>sn?0:sn+kt),Wt=Wt>sn?sn:Wt,Wt<0&&(Wt+=sn),sn=kt>Wt?0:Wt-kt>>>0,kt>>>=0;for(var dn=Hn(sn);++tn<sn;)dn[tn]=tt[tn+kt];return dn}function i3(tt,kt){var Wt;return go(tt,function(tn,sn,dn){return Wt=kt(tn,sn,dn),!Wt}),!!Wt}function w0(tt,kt,Wt){var tn=0,sn=tt==null?tn:tt.length;if(typeof kt=="number"&&kt===kt&&sn<=vt){for(;tn<sn;){var dn=tn+sn>>>1,bn=tt[dn];bn!==null&&!Es(bn)&&(Wt?bn<=kt:bn<kt)?tn=dn+1:sn=dn}return sn}return wu(tt,kt,_s,Wt)}function wu(tt,kt,Wt,tn){var sn=0,dn=tt==null?0:tt.length;if(dn===0)return 0;kt=Wt(kt);for(var bn=kt!==kt,_n=kt===null,In=Es(kt),Zn=kt===c;sn<dn;){var Qn=p0((sn+dn)/2),ar=Wt(tt[Qn]),xr=ar!==c,Cr=ar===null,Dr=ar===ar,Xr=Es(ar);if(bn)var Rr=tn||Dr;else Zn?Rr=Dr&&(tn||xr):_n?Rr=Dr&&xr&&(tn||!Cr):In?Rr=Dr&&xr&&!Cr&&(tn||!Xr):Cr||Xr?Rr=!1:Rr=tn?ar<=kt:ar<kt;Rr?sn=Qn+1:dn=Qn}return ps(dn,ht)}function mp(tt,kt){for(var Wt=-1,tn=tt.length,sn=0,dn=[];++Wt<tn;){var bn=tt[Wt],_n=kt?kt(bn):bn;if(!Wt||!Us(_n,In)){var In=_n;dn[sn++]=bn===0?0:bn}}return dn}function xp(tt){return typeof tt=="number"?tt:Es(tt)?bt:+tt}function ks(tt){if(typeof tt=="string")return tt;if(jr(tt))return es(tt,ks)+"";if(Es(tt))return K1?K1.call(tt):"";var kt=tt+"";return kt=="0"&&1/tt==-ft?"-0":kt}function mo(tt,kt,Wt){var tn=-1,sn=t0,dn=tt.length,bn=!0,_n=[],In=_n;if(Wt)bn=!1,sn=J0;else if(dn>=ot){var Zn=kt?null:g3(tt);if(Zn)return r0(Zn);bn=!1,sn=Dl,In=new Po}else In=kt?[]:_n;e:for(;++tn<dn;){var Qn=tt[tn],ar=kt?kt(Qn):Qn;if(Qn=Wt||Qn!==0?Qn:0,bn&&ar===ar){for(var xr=In.length;xr--;)if(In[xr]===ar)continue e;kt&&In.push(ar),_n.push(Qn)}else sn(In,ar,Wt)||(In!==_n&&In.push(ar),_n.push(Qn))}return _n}function Su(tt,kt){return kt=xo(kt,tt),tt=Gp(tt,kt),tt==null||delete tt[qs(Ls(kt))]}function bp(tt,kt,Wt,tn){return Gl(tt,kt,Wt(Mo(tt,kt)),tn)}function S0(tt,kt,Wt,tn){for(var sn=tt.length,dn=tn?sn:-1;(tn?dn--:++dn<sn)&&kt(tt[dn],dn,tt););return Wt?Rs(tt,tn?0:dn,tn?dn+1:sn):Rs(tt,tn?dn+1:0,tn?sn:dn)}function yp(tt,kt){var Wt=tt;return Wt instanceof Kr&&(Wt=Wt.value()),Z0(kt,function(tn,sn){return sn.func.apply(sn.thisArg,ho([tn],sn.args))},Wt)}function _u(tt,kt,Wt){var tn=tt.length;if(tn<2)return tn?mo(tt[0]):[];for(var sn=-1,dn=Hn(tn);++sn<tn;)for(var bn=tt[sn],_n=-1;++_n<tn;)_n!=sn&&(dn[sn]=Hl(dn[sn]||bn,tt[_n],kt,Wt));return mo(fs(dn,1),kt,Wt)}function vp(tt,kt,Wt){for(var tn=-1,sn=tt.length,dn=kt.length,bn={};++tn<sn;){var _n=tn<dn?kt[tn]:c;Wt(bn,tt[tn],_n)}return bn}function Cu(tt){return is(tt)?tt:[]}function ku(tt){return typeof tt=="function"?tt:_s}function xo(tt,kt){return jr(tt)?tt:Ru(tt,kt)?[tt]:Kp(ga(tt))}var a3=zr;function bo(tt,kt,Wt){var tn=tt.length;return Wt=Wt===c?tn:Wt,!kt&&Wt>=tn?tt:Rs(tt,kt,Wt)}var Ap=W2||function(tt){return Nr.clearTimeout(tt)};function wp(tt,kt){if(kt)return tt.slice();var Wt=tt.length,tn=X1?X1(Wt):new tt.constructor(Wt);return tt.copy(tn),tn}function Eu(tt){var kt=new tt.constructor(tt.byteLength);return new c0(kt).set(new c0(tt)),kt}function s3(tt,kt){var Wt=kt?Eu(tt.buffer):tt.buffer;return new tt.constructor(Wt,tt.byteOffset,tt.byteLength)}function o3(tt){var kt=new tt.constructor(tt.source,Vr.exec(tt));return kt.lastIndex=tt.lastIndex,kt}function l3(tt){return $l?ba($l.call(tt)):{}}function Sp(tt,kt){var Wt=kt?Eu(tt.buffer):tt.buffer;return new tt.constructor(Wt,tt.byteOffset,tt.length)}function _p(tt,kt){if(tt!==kt){var Wt=tt!==c,tn=tt===null,sn=tt===tt,dn=Es(tt),bn=kt!==c,_n=kt===null,In=kt===kt,Zn=Es(kt);if(!_n&&!Zn&&!dn&&tt>kt||dn&&bn&&In&&!_n&&!Zn||tn&&bn&&In||!Wt&&In||!sn)return 1;if(!tn&&!dn&&!Zn&&tt<kt||Zn&&Wt&&sn&&!tn&&!dn||_n&&Wt&&sn||!bn&&sn||!In)return-1}return 0}function c3(tt,kt,Wt){for(var tn=-1,sn=tt.criteria,dn=kt.criteria,bn=sn.length,_n=Wt.length;++tn<bn;){var In=_p(sn[tn],dn[tn]);if(In){if(tn>=_n)return In;var Zn=Wt[tn];return In*(Zn=="desc"?-1:1)}}return tt.index-kt.index}function Cp(tt,kt,Wt,tn){for(var sn=-1,dn=tt.length,bn=Wt.length,_n=-1,In=kt.length,Zn=cs(dn-bn,0),Qn=Hn(In+Zn),ar=!tn;++_n<In;)Qn[_n]=kt[_n];for(;++sn<bn;)(ar||sn<dn)&&(Qn[Wt[sn]]=tt[sn]);for(;Zn--;)Qn[_n++]=tt[sn++];return Qn}function kp(tt,kt,Wt,tn){for(var sn=-1,dn=tt.length,bn=-1,_n=Wt.length,In=-1,Zn=kt.length,Qn=cs(dn-_n,0),ar=Hn(Qn+Zn),xr=!tn;++sn<Qn;)ar[sn]=tt[sn];for(var Cr=sn;++In<Zn;)ar[Cr+In]=kt[In];for(;++bn<_n;)(xr||sn<dn)&&(ar[Cr+Wt[bn]]=tt[sn++]);return ar}function As(tt,kt){var Wt=-1,tn=tt.length;for(kt||(kt=Hn(tn));++Wt<tn;)kt[Wt]=tt[Wt];return kt}function Ws(tt,kt,Wt,tn){var sn=!Wt;Wt||(Wt={});for(var dn=-1,bn=kt.length;++dn<bn;){var _n=kt[dn],In=tn?tn(Wt[_n],tt[_n],_n,Wt,tt):c;In===c&&(In=tt[_n]),sn?Zs(Wt,_n,In):Ul(Wt,_n,In)}return Wt}function u3(tt,kt){return Ws(tt,Du(tt),kt)}function h3(tt,kt){return Ws(tt,jp(tt),kt)}function _0(tt,kt){return function(Wt,tn){var sn=jr(Wt)?Y0:Ix,dn=kt?kt():{};return sn(Wt,tt,Mr(tn,2),dn)}}function Yo(tt){return zr(function(kt,Wt){var tn=-1,sn=Wt.length,dn=sn>1?Wt[sn-1]:c,bn=sn>2?Wt[2]:c;for(dn=tt.length>3&&typeof dn=="function"?(sn--,dn):c,bn&&xs(Wt[0],Wt[1],bn)&&(dn=sn<3?c:dn,sn=1),kt=ba(kt);++tn<sn;){var _n=Wt[tn];_n&&tt(kt,_n,tn,dn)}return kt})}function Ep(tt,kt){return function(Wt,tn){if(Wt==null)return Wt;if(!ws(Wt))return tt(Wt,tn);for(var sn=Wt.length,dn=kt?sn:-1,bn=ba(Wt);(kt?dn--:++dn<sn)&&tn(bn[dn],dn,bn)!==!1;);return Wt}}function Fp(tt){return function(kt,Wt,tn){for(var sn=-1,dn=ba(kt),bn=tn(kt),_n=bn.length;_n--;){var In=bn[tt?_n:++sn];if(Wt(dn[In],In,dn)===!1)break}return kt}}function d3(tt,kt,Wt){var tn=kt&$,sn=Wl(tt);function dn(){var bn=this&&this!==Nr&&this instanceof dn?sn:tt;return bn.apply(tn?Wt:this,arguments)}return dn}function Tp(tt){return function(kt){kt=ga(kt);var Wt=Xo(kt)?js(kt):c,tn=Wt?Wt[0]:kt.charAt(0),sn=Wt?bo(Wt,1).join(""):kt.slice(1);return tn[tt]()+sn}}function Jo(tt){return function(kt){return Z0(km(Cm(kt).replace(Eo,"")),tt,"")}}function Wl(tt){return function(){var kt=arguments;switch(kt.length){case 0:return new tt;case 1:return new tt(kt[0]);case 2:return new tt(kt[0],kt[1]);case 3:return new tt(kt[0],kt[1],kt[2]);case 4:return new tt(kt[0],kt[1],kt[2],kt[3]);case 5:return new tt(kt[0],kt[1],kt[2],kt[3],kt[4]);case 6:return new tt(kt[0],kt[1],kt[2],kt[3],kt[4],kt[5]);case 7:return new tt(kt[0],kt[1],kt[2],kt[3],kt[4],kt[5],kt[6])}var Wt=Ko(tt.prototype),tn=tt.apply(Wt,kt);return ns(tn)?tn:Wt}}function f3(tt,kt,Wt){var tn=Wl(tt);function sn(){for(var dn=arguments.length,bn=Hn(dn),_n=dn,In=Zo(sn);_n--;)bn[_n]=arguments[_n];var Zn=dn<3&&bn[0]!==In&&bn[dn-1]!==In?[]:fo(bn,In);if(dn-=Zn.length,dn<Wt)return Dp(tt,kt,C0,sn.placeholder,c,bn,Zn,c,c,Wt-dn);var Qn=this&&this!==Nr&&this instanceof sn?tn:tt;return os(Qn,this,bn)}return sn}function Pp(tt){return function(kt,Wt,tn){var sn=ba(kt);if(!ws(kt)){var dn=Mr(Wt,3);kt=hs(kt),Wt=function(_n){return dn(sn[_n],_n,sn)}}var bn=tt(kt,Wt,tn);return bn>-1?sn[dn?kt[bn]:bn]:c}}function Op(tt){return eo(function(kt){var Wt=kt.length,tn=Wt,sn=Is.prototype.thru;for(tt&&kt.reverse();tn--;){var dn=kt[tn];if(typeof dn!="function")throw new Ms(zt);if(sn&&!bn&&T0(dn)=="wrapper")var bn=new Is([],!0)}for(tn=bn?tn:Wt;++tn<Wt;){dn=kt[tn];var _n=T0(dn),In=_n=="wrapper"?Mu(dn):c;In&&Lu(In[0])&&In[1]==(b|g|ut|h)&&!In[4].length&&In[9]==1?bn=bn[T0(In[0])].apply(bn,In[3]):bn=dn.length==1&&Lu(dn)?bn[_n]():bn.thru(dn)}return function(){var Zn=arguments,Qn=Zn[0];if(bn&&Zn.length==1&&jr(Qn))return bn.plant(Qn).value();for(var ar=0,xr=Wt?kt[ar].apply(this,Zn):Qn;++ar<Wt;)xr=kt[ar].call(this,xr);return xr}})}function C0(tt,kt,Wt,tn,sn,dn,bn,_n,In,Zn){var Qn=kt&b,ar=kt&$,xr=kt&d,Cr=kt&(g|o),Dr=kt&et,Xr=xr?c:Wl(tt);function Rr(){for(var qr=arguments.length,Yr=Hn(qr),Fs=qr;Fs--;)Yr[Fs]=arguments[Fs];if(Cr)var bs=Zo(Rr),Ts=C2(Yr,bs);if(tn&&(Yr=Cp(Yr,tn,sn,Cr)),dn&&(Yr=kp(Yr,dn,bn,Cr)),qr-=Ts,Cr&&qr<Zn){var as=fo(Yr,bs);return Dp(tt,kt,C0,Rr.placeholder,Wt,Yr,as,_n,In,Zn-qr)}var Hs=ar?Wt:this,io=xr?Hs[tt]:tt;return qr=Yr.length,_n?Yr=I3(Yr,_n):Dr&&qr>1&&Yr.reverse(),Qn&&In<qr&&(Yr.length=In),this&&this!==Nr&&this instanceof Rr&&(io=Xr||Wl(io)),io.apply(Hs,Yr)}return Rr}function Mp(tt,kt){return function(Wt,tn){return Ux(Wt,tt,kt(tn),{})}}function k0(tt,kt){return function(Wt,tn){var sn;if(Wt===c&&tn===c)return kt;if(Wt!==c&&(sn=Wt),tn!==c){if(sn===c)return tn;typeof Wt=="string"||typeof tn=="string"?(Wt=ks(Wt),tn=ks(tn)):(Wt=xp(Wt),tn=xp(tn)),sn=tt(Wt,tn)}return sn}}function Fu(tt){return eo(function(kt){return kt=es(kt,Cs(Mr())),zr(function(Wt){var tn=this;return tt(kt,function(sn){return os(sn,tn,Wt)})})})}function E0(tt,kt){kt=kt===c?" ":ks(kt);var Wt=kt.length;if(Wt<2)return Wt?Au(kt,tt):kt;var tn=Au(kt,f0(tt/zo(kt)));return Xo(kt)?bo(js(tn),0,tt).join(""):tn.slice(0,tt)}function p3(tt,kt,Wt,tn){var sn=kt&$,dn=Wl(tt);function bn(){for(var _n=-1,In=arguments.length,Zn=-1,Qn=tn.length,ar=Hn(Qn+In),xr=this&&this!==Nr&&this instanceof bn?dn:tt;++Zn<Qn;)ar[Zn]=tn[Zn];for(;In--;)ar[Zn++]=arguments[++_n];return os(xr,sn?Wt:this,ar)}return bn}function Ip(tt){return function(kt,Wt,tn){return tn&&typeof tn!="number"&&xs(kt,Wt,tn)&&(Wt=tn=c),kt=ro(kt),Wt===c?(Wt=kt,kt=0):Wt=ro(Wt),tn=tn===c?kt<Wt?1:-1:ro(tn),Qx(kt,Wt,tn,tt)}}function F0(tt){return function(kt,Wt){return typeof kt=="string"&&typeof Wt=="string"||(kt=Ns(kt),Wt=Ns(Wt)),tt(kt,Wt)}}function Dp(tt,kt,Wt,tn,sn,dn,bn,_n,In,Zn){var Qn=kt&g,ar=Qn?bn:c,xr=Qn?c:bn,Cr=Qn?dn:c,Dr=Qn?c:dn;kt|=Qn?ut:dt,kt&=~(Qn?dt:ut),kt&j||(kt&=-4);var Xr=[tt,kt,sn,Cr,ar,Dr,xr,_n,In,Zn],Rr=Wt.apply(c,Xr);return Lu(tt)&&Wp(Rr,Xr),Rr.placeholder=tn,qp(Rr,tt,kt)}function Tu(tt){var kt=ls[tt];return function(Wt,tn){if(Wt=Ns(Wt),tn=tn==null?0:ps(Ur(tn),292),tn&&q1(Wt)){var sn=(ga(Wt)+"e").split("e"),dn=kt(sn[0]+"e"+(+sn[1]+tn));return sn=(ga(dn)+"e").split("e"),+(sn[0]+"e"+(+sn[1]-tn))}return kt(Wt)}}var g3=qo&&1/r0(new qo([,-0]))[1]==ft?function(tt){return new qo(tt)}:Ju;function Rp(tt){return function(kt){var Wt=gs(kt);return Wt==It?au(kt):Wt==qt?M2(kt):_2(kt,tt(kt))}}function Qs(tt,kt,Wt,tn,sn,dn,bn,_n){var In=kt&d;if(!In&&typeof tt!="function")throw new Ms(zt);var Zn=tn?tn.length:0;if(Zn||(kt&=-97,tn=sn=c),bn=bn===c?bn:cs(Ur(bn),0),_n=_n===c?_n:Ur(_n),Zn-=sn?sn.length:0,kt&dt){var Qn=tn,ar=sn;tn=sn=c}var xr=In?c:Mu(tt),Cr=[tt,kt,Wt,tn,sn,Qn,ar,dn,bn,_n];if(xr&&P3(Cr,xr),tt=Cr[0],kt=Cr[1],Wt=Cr[2],tn=Cr[3],sn=Cr[4],_n=Cr[9]=Cr[9]===c?In?0:tt.length:cs(Cr[9]-Zn,0),!_n&&kt&(g|o)&&(kt&=-25),!kt||kt==$)var Dr=d3(tt,kt,Wt);else kt==g||kt==o?Dr=f3(tt,kt,_n):(kt==ut||kt==($|ut))&&!sn.length?Dr=p3(tt,kt,Wt,tn):Dr=C0.apply(c,Cr);var Xr=xr?gp:Wp;return qp(Xr(Dr,Cr),tt,kt)}function Lp(tt,kt,Wt,tn){return tt===c||Us(tt,Wo[Wt])&&!xa.call(tn,Wt)?kt:tt}function Np(tt,kt,Wt,tn,sn,dn){return ns(tt)&&ns(kt)&&(dn.set(kt,tt),A0(tt,kt,c,Np,dn),dn.delete(kt)),tt}function m3(tt){return Yl(tt)?c:tt}function Bp(tt,kt,Wt,tn,sn,dn){var bn=Wt&gt,_n=tt.length,In=kt.length;if(_n!=In&&!(bn&&In>_n))return!1;var Zn=dn.get(tt),Qn=dn.get(kt);if(Zn&&Qn)return Zn==kt&&Qn==tt;var ar=-1,xr=!0,Cr=Wt&_?new Po:c;for(dn.set(tt,kt),dn.set(kt,tt);++ar<_n;){var Dr=tt[ar],Xr=kt[ar];if(tn)var Rr=bn?tn(Xr,Dr,ar,kt,tt,dn):tn(Dr,Xr,ar,tt,kt,dn);if(Rr!==c){if(Rr)continue;xr=!1;break}if(Cr){if(!Q0(kt,function(qr,Yr){if(!Dl(Cr,Yr)&&(Dr===qr||sn(Dr,qr,Wt,tn,dn)))return Cr.push(Yr)})){xr=!1;break}}else if(!(Dr===Xr||sn(Dr,Xr,Wt,tn,dn))){xr=!1;break}}return dn.delete(tt),dn.delete(kt),xr}function x3(tt,kt,Wt,tn,sn,dn,bn){switch(Wt){case rn:if(tt.byteLength!=kt.byteLength||tt.byteOffset!=kt.byteOffset)return!1;tt=tt.buffer,kt=kt.buffer;case en:return!(tt.byteLength!=kt.byteLength||!dn(new c0(tt),new c0(kt)));case xt:case rt:case Dt:return Us(+tt,+kt);case Mt:return tt.name==kt.name&&tt.message==kt.message;case Gt:case Kt:return tt==kt+"";case It:var _n=au;case qt:var In=tn&gt;if(_n||(_n=r0),tt.size!=kt.size&&!In)return!1;var Zn=bn.get(tt);if(Zn)return Zn==kt;tn|=_,bn.set(tt,kt);var Qn=Bp(_n(tt),_n(kt),tn,sn,dn,bn);return bn.delete(tt),Qn;case Vt:if($l)return $l.call(tt)==$l.call(kt)}return!1}function b3(tt,kt,Wt,tn,sn,dn){var bn=Wt&gt,_n=Pu(tt),In=_n.length,Zn=Pu(kt),Qn=Zn.length;if(In!=Qn&&!bn)return!1;for(var ar=In;ar--;){var xr=_n[ar];if(!(bn?xr in kt:xa.call(kt,xr)))return!1}var Cr=dn.get(tt),Dr=dn.get(kt);if(Cr&&Dr)return Cr==kt&&Dr==tt;var Xr=!0;dn.set(tt,kt),dn.set(kt,tt);for(var Rr=bn;++ar<In;){xr=_n[ar];var qr=tt[xr],Yr=kt[xr];if(tn)var Fs=bn?tn(Yr,qr,xr,kt,tt,dn):tn(qr,Yr,xr,tt,kt,dn);if(!(Fs===c?qr===Yr||sn(qr,Yr,Wt,tn,dn):Fs)){Xr=!1;break}Rr||(Rr=xr=="constructor")}if(Xr&&!Rr){var bs=tt.constructor,Ts=kt.constructor;bs!=Ts&&"constructor"in tt&&"constructor"in kt&&!(typeof bs=="function"&&bs instanceof bs&&typeof Ts=="function"&&Ts instanceof Ts)&&(Xr=!1)}return dn.delete(tt),dn.delete(kt),Xr}function eo(tt){return Bu(zp(tt,c,Qp),tt+"")}function Pu(tt){return ip(tt,hs,Du)}function Ou(tt){return ip(tt,Ss,jp)}var Mu=g0?function(tt){return g0.get(tt)}:Ju;function T0(tt){for(var kt=tt.name+"",Wt=Vo[kt],tn=xa.call(Vo,kt)?Wt.length:0;tn--;){var sn=Wt[tn],dn=sn.func;if(dn==null||dn==tt)return sn.name}return kt}function Zo(tt){var kt=xa.call(ln,"placeholder")?ln:tt;return kt.placeholder}function Mr(){var tt=ln.iteratee||Ku;return tt=tt===Ku?op:tt,arguments.length?tt(arguments[0],arguments[1]):tt}function P0(tt,kt){var Wt=tt.__data__;return k3(kt)?Wt[typeof kt=="string"?"string":"hash"]:Wt.map}function Iu(tt){for(var kt=hs(tt),Wt=kt.length;Wt--;){var tn=kt[Wt],sn=tt[tn];kt[Wt]=[tn,sn,Hp(sn)]}return kt}function Io(tt,kt){var Wt=T2(tt,kt);return sp(Wt)?Wt:c}function y3(tt){var kt=xa.call(tt,Fo),Wt=tt[Fo];try{tt[Fo]=c;var tn=!0}catch{}var sn=o0.call(tt);return tn&&(kt?tt[Fo]=Wt:delete tt[Fo]),sn}var Du=ou?function(tt){return tt==null?[]:(tt=ba(tt),uo(ou(tt),function(kt){return G1.call(tt,kt)}))}:Zu,jp=ou?function(tt){for(var kt=[];tt;)ho(kt,Du(tt)),tt=u0(tt);return kt}:Zu,gs=ms;(lu&&gs(new lu(new ArrayBuffer(1)))!=rn||Ll&&gs(new Ll)!=It||cu&&gs(cu.resolve())!=Xt||qo&&gs(new qo)!=qt||Nl&&gs(new Nl)!=Zt)&&(gs=function(tt){var kt=ms(tt),Wt=kt==Ot?tt.constructor:c,tn=Wt?Do(Wt):"";if(tn)switch(tn){case tx:return rn;case nx:return It;case rx:return Xt;case ix:return qt;case ax:return Zt}return kt});function v3(tt,kt,Wt){for(var tn=-1,sn=Wt.length;++tn<sn;){var dn=Wt[tn],bn=dn.size;switch(dn.type){case"drop":tt+=bn;break;case"dropRight":kt-=bn;break;case"take":kt=ps(kt,tt+bn);break;case"takeRight":tt=cs(tt,kt-bn);break}}return{start:tt,end:kt}}function A3(tt){var kt=tt.match(rr);return kt?kt[1].split(Tr):[]}function $p(tt,kt,Wt){kt=xo(kt,tt);for(var tn=-1,sn=kt.length,dn=!1;++tn<sn;){var bn=qs(kt[tn]);if(!(dn=tt!=null&&Wt(tt,bn)))break;tt=tt[bn]}return dn||++tn!=sn?dn:(sn=tt==null?0:tt.length,!!sn&&N0(sn)&&to(bn,sn)&&(jr(tt)||Ro(tt)))}function w3(tt){var kt=tt.length,Wt=new tt.constructor(kt);return kt&&typeof tt[0]=="string"&&xa.call(tt,"index")&&(Wt.index=tt.index,Wt.input=tt.input),Wt}function Up(tt){return typeof tt.constructor=="function"&&!Vl(tt)?Ko(u0(tt)):{}}function S3(tt,kt,Wt){var tn=tt.constructor;switch(kt){case en:return Eu(tt);case xt:case rt:return new tn(+tt);case rn:return s3(tt,Wt);case an:case fn:case un:case pn:case yn:case On:case En:case An:case Cn:return Sp(tt,Wt);case It:return new tn;case Dt:case Kt:return new tn(tt);case Gt:return o3(tt);case qt:return new tn;case Vt:return l3(tt)}}function _3(tt,kt){var Wt=kt.length;if(!Wt)return tt;var tn=Wt-1;return kt[tn]=(Wt>1?"& ":"")+kt[tn],kt=kt.join(Wt>2?", ":" "),tt.replace(ur,`{
/* [wrapped with `+kt+`] */
`)}function C3(tt){return jr(tt)||Ro(tt)||!!(W1&&tt&&tt[W1])}function to(tt,kt){var Wt=typeof tt;return kt=kt??it,!!kt&&(Wt=="number"||Wt!="symbol"&&sr.test(tt))&&tt>-1&&tt%1==0&&tt<kt}function xs(tt,kt,Wt){if(!ns(Wt))return!1;var tn=typeof kt;return(tn=="number"?ws(Wt)&&to(kt,Wt.length):tn=="string"&&kt in Wt)?Us(Wt[kt],tt):!1}function Ru(tt,kt){if(jr(tt))return!1;var Wt=typeof tt;return Wt=="number"||Wt=="symbol"||Wt=="boolean"||tt==null||Es(tt)?!0:Gn.test(tt)||!Vn.test(tt)||kt!=null&&tt in ba(kt)}function k3(tt){var kt=typeof tt;return kt=="string"||kt=="number"||kt=="symbol"||kt=="boolean"?tt!=="__proto__":tt===null}function Lu(tt){var kt=T0(tt),Wt=ln[kt];if(typeof Wt!="function"||!(kt in Kr.prototype))return!1;if(tt===Wt)return!0;var tn=Mu(Wt);return!!tn&&tt===tn[0]}function E3(tt){return!!H1&&H1 in tt}var F3=a0?no:Qu;function Vl(tt){var kt=tt&&tt.constructor,Wt=typeof kt=="function"&&kt.prototype||Wo;return tt===Wt}function Hp(tt){return tt===tt&&!ns(tt)}function Xp(tt,kt){return function(Wt){return Wt==null?!1:Wt[tt]===kt&&(kt!==c||tt in ba(Wt))}}function T3(tt){var kt=R0(tt,function(tn){return Wt.size===s&&Wt.clear(),tn}),Wt=kt.cache;return kt}function P3(tt,kt){var Wt=tt[1],tn=kt[1],sn=Wt|tn,dn=sn<($|d|b),bn=tn==b&&Wt==g||tn==b&&Wt==h&&tt[7].length<=kt[8]||tn==(b|h)&&kt[7].length<=kt[8]&&Wt==g;if(!(dn||bn))return tt;tn&$&&(tt[2]=kt[2],sn|=Wt&$?0:j);var _n=kt[3];if(_n){var In=tt[3];tt[3]=In?Cp(In,_n,kt[4]):_n,tt[4]=In?fo(tt[3],st):kt[4]}return _n=kt[5],_n&&(In=tt[5],tt[5]=In?kp(In,_n,kt[6]):_n,tt[6]=In?fo(tt[5],st):kt[6]),_n=kt[7],_n&&(tt[7]=_n),tn&b&&(tt[8]=tt[8]==null?kt[8]:ps(tt[8],kt[8])),tt[9]==null&&(tt[9]=kt[9]),tt[0]=kt[0],tt[1]=sn,tt}function O3(tt){var kt=[];if(tt!=null)for(var Wt in ba(tt))kt.push(Wt);return kt}function M3(tt){return o0.call(tt)}function zp(tt,kt,Wt){return kt=cs(kt===c?tt.length-1:kt,0),function(){for(var tn=arguments,sn=-1,dn=cs(tn.length-kt,0),bn=Hn(dn);++sn<dn;)bn[sn]=tn[kt+sn];sn=-1;for(var _n=Hn(kt+1);++sn<kt;)_n[sn]=tn[sn];return _n[kt]=Wt(bn),os(tt,this,_n)}}function Gp(tt,kt){return kt.length<2?tt:Mo(tt,Rs(kt,0,-1))}function I3(tt,kt){for(var Wt=tt.length,tn=ps(kt.length,Wt),sn=As(tt);tn--;){var dn=kt[tn];tt[tn]=to(dn,Wt)?sn[dn]:c}return tt}function Nu(tt,kt){if(!(kt==="constructor"&&typeof tt[kt]=="function")&&kt!="__proto__")return tt[kt]}var Wp=Vp(gp),Kl=V2||function(tt,kt){return Nr.setTimeout(tt,kt)},Bu=Vp(n3);function qp(tt,kt,Wt){var tn=kt+"";return Bu(tt,_3(tn,D3(A3(tn),Wt)))}function Vp(tt){var kt=0,Wt=0;return function(){var tn=Z2(),sn=Pt-(tn-Wt);if(Wt=tn,sn>0){if(++kt>=Bt)return arguments[0]}else kt=0;return tt.apply(c,arguments)}}function O0(tt,kt){var Wt=-1,tn=tt.length,sn=tn-1;for(kt=kt===c?tn:kt;++Wt<kt;){var dn=vu(Wt,sn),bn=tt[dn];tt[dn]=tt[Wt],tt[Wt]=bn}return tt.length=kt,tt}var Kp=T3(function(tt){var kt=[];return tt.charCodeAt(0)===46&&kt.push(""),tt.replace(lr,function(Wt,tn,sn,dn){kt.push(sn?dn.replace(cr,"$1"):tn||Wt)}),kt});function qs(tt){if(typeof tt=="string"||Es(tt))return tt;var kt=tt+"";return kt=="0"&&1/tt==-ft?"-0":kt}function Do(tt){if(tt!=null){try{return s0.call(tt)}catch{}try{return tt+""}catch{}}return""}function D3(tt,kt){return ds(yt,function(Wt){var tn="_."+Wt[0];kt&Wt[1]&&!t0(tt,tn)&&tt.push(tn)}),tt.sort()}function Yp(tt){if(tt instanceof Kr)return tt.clone();var kt=new Is(tt.__wrapped__,tt.__chain__);return kt.__actions__=As(tt.__actions__),kt.__index__=tt.__index__,kt.__values__=tt.__values__,kt}function R3(tt,kt,Wt){(Wt?xs(tt,kt,Wt):kt===c)?kt=1:kt=cs(Ur(kt),0);var tn=tt==null?0:tt.length;if(!tn||kt<1)return[];for(var sn=0,dn=0,bn=Hn(f0(tn/kt));sn<tn;)bn[dn++]=Rs(tt,sn,sn+=kt);return bn}function L3(tt){for(var kt=-1,Wt=tt==null?0:tt.length,tn=0,sn=[];++kt<Wt;){var dn=tt[kt];dn&&(sn[tn++]=dn)}return sn}function N3(){var tt=arguments.length;if(!tt)return[];for(var kt=Hn(tt-1),Wt=arguments[0],tn=tt;tn--;)kt[tn-1]=arguments[tn];return ho(jr(Wt)?As(Wt):[Wt],fs(kt,1))}var B3=zr(function(tt,kt){return is(tt)?Hl(tt,fs(kt,1,is,!0)):[]}),j3=zr(function(tt,kt){var Wt=Ls(kt);return is(Wt)&&(Wt=c),is(tt)?Hl(tt,fs(kt,1,is,!0),Mr(Wt,2)):[]}),$3=zr(function(tt,kt){var Wt=Ls(kt);return is(Wt)&&(Wt=c),is(tt)?Hl(tt,fs(kt,1,is,!0),c,Wt):[]});function U3(tt,kt,Wt){var tn=tt==null?0:tt.length;return tn?(kt=Wt||kt===c?1:Ur(kt),Rs(tt,kt<0?0:kt,tn)):[]}function H3(tt,kt,Wt){var tn=tt==null?0:tt.length;return tn?(kt=Wt||kt===c?1:Ur(kt),kt=tn-kt,Rs(tt,0,kt<0?0:kt)):[]}function X3(tt,kt){return tt&&tt.length?S0(tt,Mr(kt,3),!0,!0):[]}function z3(tt,kt){return tt&&tt.length?S0(tt,Mr(kt,3),!0):[]}function G3(tt,kt,Wt,tn){var sn=tt==null?0:tt.length;return sn?(Wt&&typeof Wt!="number"&&xs(tt,kt,Wt)&&(Wt=0,tn=sn),Nx(tt,kt,Wt,tn)):[]}function Jp(tt,kt,Wt){var tn=tt==null?0:tt.length;if(!tn)return-1;var sn=Wt==null?0:Ur(Wt);return sn<0&&(sn=cs(tn+sn,0)),n0(tt,Mr(kt,3),sn)}function Zp(tt,kt,Wt){var tn=tt==null?0:tt.length;if(!tn)return-1;var sn=tn-1;return Wt!==c&&(sn=Ur(Wt),sn=Wt<0?cs(tn+sn,0):ps(sn,tn-1)),n0(tt,Mr(kt,3),sn,!0)}function Qp(tt){var kt=tt==null?0:tt.length;return kt?fs(tt,1):[]}function W3(tt){var kt=tt==null?0:tt.length;return kt?fs(tt,ft):[]}function q3(tt,kt){var Wt=tt==null?0:tt.length;return Wt?(kt=kt===c?1:Ur(kt),fs(tt,kt)):[]}function V3(tt){for(var kt=-1,Wt=tt==null?0:tt.length,tn={};++kt<Wt;){var sn=tt[kt];tn[sn[0]]=sn[1]}return tn}function _g(tt){return tt&&tt.length?tt[0]:c}function K3(tt,kt,Wt){var tn=tt==null?0:tt.length;if(!tn)return-1;var sn=Wt==null?0:Ur(Wt);return sn<0&&(sn=cs(tn+sn,0)),Ho(tt,kt,sn)}function Y3(tt){var kt=tt==null?0:tt.length;return kt?Rs(tt,0,-1):[]}var J3=zr(function(tt){var kt=es(tt,Cu);return kt.length&&kt[0]===tt[0]?gu(kt):[]}),Z3=zr(function(tt){var kt=Ls(tt),Wt=es(tt,Cu);return kt===Ls(Wt)?kt=c:Wt.pop(),Wt.length&&Wt[0]===tt[0]?gu(Wt,Mr(kt,2)):[]}),Q3=zr(function(tt){var kt=Ls(tt),Wt=es(tt,Cu);return kt=typeof kt=="function"?kt:c,kt&&Wt.pop(),Wt.length&&Wt[0]===tt[0]?gu(Wt,c,kt):[]});function e9(tt,kt){return tt==null?"":Y2.call(tt,kt)}function Ls(tt){var kt=tt==null?0:tt.length;return kt?tt[kt-1]:c}function t9(tt,kt,Wt){var tn=tt==null?0:tt.length;if(!tn)return-1;var sn=tn;return Wt!==c&&(sn=Ur(Wt),sn=sn<0?cs(tn+sn,0):ps(sn,tn-1)),kt===kt?D2(tt,kt,sn):n0(tt,D1,sn,!0)}function n9(tt,kt){return tt&&tt.length?hp(tt,Ur(kt)):c}var r9=zr(em);function em(tt,kt){return tt&&tt.length&&kt&&kt.length?yu(tt,kt):tt}function i9(tt,kt,Wt){return tt&&tt.length&&kt&&kt.length?yu(tt,kt,Mr(Wt,2)):tt}function a9(tt,kt,Wt){return tt&&tt.length&&kt&&kt.length?yu(tt,kt,c,Wt):tt}var s9=eo(function(tt,kt){var Wt=tt==null?0:tt.length,tn=hu(tt,kt);return pp(tt,es(kt,function(sn){return to(sn,Wt)?+sn:sn}).sort(_p)),tn});function o9(tt,kt){var Wt=[];if(!(tt&&tt.length))return Wt;var tn=-1,sn=[],dn=tt.length;for(kt=Mr(kt,3);++tn<dn;){var bn=tt[tn];kt(bn,tn,tt)&&(Wt.push(bn),sn.push(tn))}return pp(tt,sn),Wt}function ju(tt){return tt==null?tt:ex.call(tt)}function l9(tt,kt,Wt){var tn=tt==null?0:tt.length;return tn?(Wt&&typeof Wt!="number"&&xs(tt,kt,Wt)?(kt=0,Wt=tn):(kt=kt==null?0:Ur(kt),Wt=Wt===c?tn:Ur(Wt)),Rs(tt,kt,Wt)):[]}function c9(tt,kt){return w0(tt,kt)}function u9(tt,kt,Wt){return wu(tt,kt,Mr(Wt,2))}function h9(tt,kt){var Wt=tt==null?0:tt.length;if(Wt){var tn=w0(tt,kt);if(tn<Wt&&Us(tt[tn],kt))return tn}return-1}function d9(tt,kt){return w0(tt,kt,!0)}function f9(tt,kt,Wt){return wu(tt,kt,Mr(Wt,2),!0)}function p9(tt,kt){var Wt=tt==null?0:tt.length;if(Wt){var tn=w0(tt,kt,!0)-1;if(Us(tt[tn],kt))return tn}return-1}function g9(tt){return tt&&tt.length?mp(tt):[]}function m9(tt,kt){return tt&&tt.length?mp(tt,Mr(kt,2)):[]}function x9(tt){var kt=tt==null?0:tt.length;return kt?Rs(tt,1,kt):[]}function b9(tt,kt,Wt){return tt&&tt.length?(kt=Wt||kt===c?1:Ur(kt),Rs(tt,0,kt<0?0:kt)):[]}function y9(tt,kt,Wt){var tn=tt==null?0:tt.length;return tn?(kt=Wt||kt===c?1:Ur(kt),kt=tn-kt,Rs(tt,kt<0?0:kt,tn)):[]}function v9(tt,kt){return tt&&tt.length?S0(tt,Mr(kt,3),!1,!0):[]}function A9(tt,kt){return tt&&tt.length?S0(tt,Mr(kt,3)):[]}var w9=zr(function(tt){return mo(fs(tt,1,is,!0))}),S9=zr(function(tt){var kt=Ls(tt);return is(kt)&&(kt=c),mo(fs(tt,1,is,!0),Mr(kt,2))}),_9=zr(function(tt){var kt=Ls(tt);return kt=typeof kt=="function"?kt:c,mo(fs(tt,1,is,!0),c,kt)});function C9(tt){return tt&&tt.length?mo(tt):[]}function k9(tt,kt){return tt&&tt.length?mo(tt,Mr(kt,2)):[]}function E9(tt,kt){return kt=typeof kt=="function"?kt:c,tt&&tt.length?mo(tt,c,kt):[]}function $u(tt){if(!(tt&&tt.length))return[];var kt=0;return tt=uo(tt,function(Wt){if(is(Wt))return kt=cs(Wt.length,kt),!0}),ru(kt,function(Wt){return es(tt,eu(Wt))})}function tm(tt,kt){if(!(tt&&tt.length))return[];var Wt=$u(tt);return kt==null?Wt:es(Wt,function(tn){return os(kt,c,tn)})}var F9=zr(function(tt,kt){return is(tt)?Hl(tt,kt):[]}),T9=zr(function(tt){return _u(uo(tt,is))}),P9=zr(function(tt){var kt=Ls(tt);return is(kt)&&(kt=c),_u(uo(tt,is),Mr(kt,2))}),O9=zr(function(tt){var kt=Ls(tt);return kt=typeof kt=="function"?kt:c,_u(uo(tt,is),c,kt)}),M9=zr($u);function I9(tt,kt){return vp(tt||[],kt||[],Ul)}function D9(tt,kt){return vp(tt||[],kt||[],Gl)}var R9=zr(function(tt){var kt=tt.length,Wt=kt>1?tt[kt-1]:c;return Wt=typeof Wt=="function"?(tt.pop(),Wt):c,tm(tt,Wt)});function nm(tt){var kt=ln(tt);return kt.__chain__=!0,kt}function L9(tt,kt){return kt(tt),tt}function M0(tt,kt){return kt(tt)}var N9=eo(function(tt){var kt=tt.length,Wt=kt?tt[0]:0,tn=this.__wrapped__,sn=function(dn){return hu(dn,tt)};return kt>1||this.__actions__.length||!(tn instanceof Kr)||!to(Wt)?this.thru(sn):(tn=tn.slice(Wt,+Wt+(kt?1:0)),tn.__actions__.push({func:M0,args:[sn],thisArg:c}),new Is(tn,this.__chain__).thru(function(dn){return kt&&!dn.length&&dn.push(c),dn}))});function B9(){return nm(this)}function j9(){return new Is(this.value(),this.__chain__)}function $9(){this.__values__===c&&(this.__values__=mm(this.value()));var tt=this.__index__>=this.__values__.length,kt=tt?c:this.__values__[this.__index__++];return{done:tt,value:kt}}function U9(){return this}function H9(tt){for(var kt,Wt=this;Wt instanceof x0;){var tn=Yp(Wt);tn.__index__=0,tn.__values__=c,kt?sn.__wrapped__=tn:kt=tn;var sn=tn;Wt=Wt.__wrapped__}return sn.__wrapped__=tt,kt}function X9(){var tt=this.__wrapped__;if(tt instanceof Kr){var kt=tt;return this.__actions__.length&&(kt=new Kr(this)),kt=kt.reverse(),kt.__actions__.push({func:M0,args:[ju],thisArg:c}),new Is(kt,this.__chain__)}return this.thru(ju)}function z9(){return yp(this.__wrapped__,this.__actions__)}var G9=_0(function(tt,kt,Wt){xa.call(tt,Wt)?++tt[Wt]:Zs(tt,Wt,1)});function W9(tt,kt,Wt){var tn=jr(tt)?M1:Lx;return Wt&&xs(tt,kt,Wt)&&(kt=c),tn(tt,Mr(kt,3))}function q9(tt,kt){var Wt=jr(tt)?uo:np;return Wt(tt,Mr(kt,3))}var V9=Pp(Jp),K9=Pp(Zp);function Y9(tt,kt){return fs(I0(tt,kt),1)}function J9(tt,kt){return fs(I0(tt,kt),ft)}function Z9(tt,kt,Wt){return Wt=Wt===c?1:Ur(Wt),fs(I0(tt,kt),Wt)}function rm(tt,kt){var Wt=jr(tt)?ds:go;return Wt(tt,Mr(kt,3))}function im(tt,kt){var Wt=jr(tt)?x2:tp;return Wt(tt,Mr(kt,3))}var Q9=_0(function(tt,kt,Wt){xa.call(tt,Wt)?tt[Wt].push(kt):Zs(tt,Wt,[kt])});function e6(tt,kt,Wt,tn){tt=ws(tt)?tt:xl(tt),Wt=Wt&&!tn?Ur(Wt):0;var sn=tt.length;return Wt<0&&(Wt=cs(sn+Wt,0)),B0(tt)?Wt<=sn&&tt.indexOf(kt,Wt)>-1:!!sn&&Ho(tt,kt,Wt)>-1}var t6=zr(function(tt,kt,Wt){var tn=-1,sn=typeof kt=="function",dn=ws(tt)?Hn(tt.length):[];return go(tt,function(bn){dn[++tn]=sn?os(kt,bn,Wt):Xl(bn,kt,Wt)}),dn}),n6=_0(function(tt,kt,Wt){Zs(tt,Wt,kt)});function I0(tt,kt){var Wt=jr(tt)?es:lp;return Wt(tt,Mr(kt,3))}function r6(tt,kt,Wt,tn){return tt==null?[]:(jr(kt)||(kt=kt==null?[]:[kt]),Wt=tn?c:Wt,jr(Wt)||(Wt=Wt==null?[]:[Wt]),dp(tt,kt,Wt))}var i6=_0(function(tt,kt,Wt){tt[Wt?0:1].push(kt)},function(){return[[],[]]});function a6(tt,kt,Wt){var tn=jr(tt)?Z0:L1,sn=arguments.length<3;return tn(tt,Mr(kt,4),Wt,sn,go)}function s6(tt,kt,Wt){var tn=jr(tt)?b2:L1,sn=arguments.length<3;return tn(tt,Mr(kt,4),Wt,sn,tp)}function o6(tt,kt){var Wt=jr(tt)?uo:np;return Wt(tt,L0(Mr(kt,3)))}function l6(tt){var kt=jr(tt)?J1:e3;return kt(tt)}function c6(tt,kt,Wt){(Wt?xs(tt,kt,Wt):kt===c)?kt=1:kt=Ur(kt);var tn=jr(tt)?Ox:t3;return tn(tt,kt)}function u6(tt){var kt=jr(tt)?Mx:r3;return kt(tt)}function h6(tt){if(tt==null)return 0;if(ws(tt))return B0(tt)?zo(tt):tt.length;var kt=gs(tt);return kt==It||kt==qt?tt.size:xu(tt).length}function d6(tt,kt,Wt){var tn=jr(tt)?Q0:i3;return Wt&&xs(tt,kt,Wt)&&(kt=c),tn(tt,Mr(kt,3))}var f6=zr(function(tt,kt){if(tt==null)return[];var Wt=kt.length;return Wt>1&&xs(tt,kt[0],kt[1])?kt=[]:Wt>2&&xs(kt[0],kt[1],kt[2])&&(kt=[kt[0]]),dp(tt,fs(kt,1),[])}),D0=q2||function(){return Nr.Date.now()};function p6(tt,kt){if(typeof kt!="function")throw new Ms(zt);return tt=Ur(tt),function(){if(--tt<1)return kt.apply(this,arguments)}}function am(tt,kt,Wt){return kt=Wt?c:kt,kt=tt&&kt==null?tt.length:kt,Qs(tt,b,c,c,c,c,kt)}function sm(tt,kt){var Wt;if(typeof kt!="function")throw new Ms(zt);return tt=Ur(tt),function(){return--tt>0&&(Wt=kt.apply(this,arguments)),tt<=1&&(kt=c),Wt}}var Uu=zr(function(tt,kt,Wt){var tn=$;if(Wt.length){var sn=fo(Wt,Zo(Uu));tn|=ut}return Qs(tt,tn,kt,Wt,sn)}),om=zr(function(tt,kt,Wt){var tn=$|d;if(Wt.length){var sn=fo(Wt,Zo(om));tn|=ut}return Qs(kt,tn,tt,Wt,sn)});function lm(tt,kt,Wt){kt=Wt?c:kt;var tn=Qs(tt,g,c,c,c,c,c,kt);return tn.placeholder=lm.placeholder,tn}function cm(tt,kt,Wt){kt=Wt?c:kt;var tn=Qs(tt,o,c,c,c,c,c,kt);return tn.placeholder=cm.placeholder,tn}function um(tt,kt,Wt){var tn,sn,dn,bn,_n,In,Zn=0,Qn=!1,ar=!1,xr=!0;if(typeof tt!="function")throw new Ms(zt);kt=Ns(kt)||0,ns(Wt)&&(Qn=!!Wt.leading,ar="maxWait"in Wt,dn=ar?cs(Ns(Wt.maxWait)||0,kt):dn,xr="trailing"in Wt?!!Wt.trailing:xr);function Cr(as){var Hs=tn,io=sn;return tn=sn=c,Zn=as,bn=tt.apply(io,Hs),bn}function Dr(as){return Zn=as,_n=Kl(qr,kt),Qn?Cr(as):bn}function Xr(as){var Hs=as-In,io=as-Zn,Tm=kt-Hs;return ar?ps(Tm,dn-io):Tm}function Rr(as){var Hs=as-In,io=as-Zn;return In===c||Hs>=kt||Hs<0||ar&&io>=dn}function qr(){var as=D0();if(Rr(as))return Yr(as);_n=Kl(qr,Xr(as))}function Yr(as){return _n=c,xr&&tn?Cr(as):(tn=sn=c,bn)}function Fs(){_n!==c&&Ap(_n),Zn=0,tn=In=sn=_n=c}function bs(){return _n===c?bn:Yr(D0())}function Ts(){var as=D0(),Hs=Rr(as);if(tn=arguments,sn=this,In=as,Hs){if(_n===c)return Dr(In);if(ar)return Ap(_n),_n=Kl(qr,kt),Cr(In)}return _n===c&&(_n=Kl(qr,kt)),bn}return Ts.cancel=Fs,Ts.flush=bs,Ts}var g6=zr(function(tt,kt){return ep(tt,1,kt)}),m6=zr(function(tt,kt,Wt){return ep(tt,Ns(kt)||0,Wt)});function x6(tt){return Qs(tt,et)}function R0(tt,kt){if(typeof tt!="function"||kt!=null&&typeof kt!="function")throw new Ms(zt);var Wt=function(){var tn=arguments,sn=kt?kt.apply(this,tn):tn[0],dn=Wt.cache;if(dn.has(sn))return dn.get(sn);var bn=tt.apply(this,tn);return Wt.cache=dn.set(sn,bn)||dn,bn};return Wt.cache=new(R0.Cache||Js),Wt}R0.Cache=Js;function L0(tt){if(typeof tt!="function")throw new Ms(zt);return function(){var kt=arguments;switch(kt.length){case 0:return!tt.call(this);case 1:return!tt.call(this,kt[0]);case 2:return!tt.call(this,kt[0],kt[1]);case 3:return!tt.call(this,kt[0],kt[1],kt[2])}return!tt.apply(this,kt)}}function b6(tt){return sm(2,tt)}var y6=a3(function(tt,kt){kt=kt.length==1&&jr(kt[0])?es(kt[0],Cs(Mr())):es(fs(kt,1),Cs(Mr()));var Wt=kt.length;return zr(function(tn){for(var sn=-1,dn=ps(tn.length,Wt);++sn<dn;)tn[sn]=kt[sn].call(this,tn[sn]);return os(tt,this,tn)})}),Hu=zr(function(tt,kt){var Wt=fo(kt,Zo(Hu));return Qs(tt,ut,c,kt,Wt)}),hm=zr(function(tt,kt){var Wt=fo(kt,Zo(hm));return Qs(tt,dt,c,kt,Wt)}),v6=eo(function(tt,kt){return Qs(tt,h,c,c,c,kt)});function A6(tt,kt){if(typeof tt!="function")throw new Ms(zt);return kt=kt===c?kt:Ur(kt),zr(tt,kt)}function w6(tt,kt){if(typeof tt!="function")throw new Ms(zt);return kt=kt==null?0:cs(Ur(kt),0),zr(function(Wt){var tn=Wt[kt],sn=bo(Wt,0,kt);return tn&&ho(sn,tn),os(tt,this,sn)})}function S6(tt,kt,Wt){var tn=!0,sn=!0;if(typeof tt!="function")throw new Ms(zt);return ns(Wt)&&(tn="leading"in Wt?!!Wt.leading:tn,sn="trailing"in Wt?!!Wt.trailing:sn),um(tt,kt,{leading:tn,maxWait:kt,trailing:sn})}function _6(tt){return am(tt,1)}function C6(tt,kt){return Hu(ku(kt),tt)}function k6(){if(!arguments.length)return[];var tt=arguments[0];return jr(tt)?tt:[tt]}function E6(tt){return Ds(tt,e)}function F6(tt,kt){return kt=typeof kt=="function"?kt:c,Ds(tt,e,kt)}function T6(tt){return Ds(tt,Tt|e)}function P6(tt,kt){return kt=typeof kt=="function"?kt:c,Ds(tt,Tt|e,kt)}function O6(tt,kt){return kt==null||Q1(tt,kt,hs(kt))}function Us(tt,kt){return tt===kt||tt!==tt&&kt!==kt}var M6=F0(pu),I6=F0(function(tt,kt){return tt>=kt}),Ro=ap(function(){return arguments}())?ap:function(tt){return rs(tt)&&xa.call(tt,"callee")&&!G1.call(tt,"callee")},jr=Hn.isArray,D6=us?Cs(us):Hx;function ws(tt){return tt!=null&&N0(tt.length)&&!no(tt)}function is(tt){return rs(tt)&&ws(tt)}function R6(tt){return tt===!0||tt===!1||rs(tt)&&ms(tt)==xt}var yo=K2||Qu,L6=Lr?Cs(Lr):Xx;function N6(tt){return rs(tt)&&tt.nodeType===1&&!Yl(tt)}function B6(tt){if(tt==null)return!0;if(ws(tt)&&(jr(tt)||typeof tt=="string"||typeof tt.splice=="function"||yo(tt)||Qo(tt)||Ro(tt)))return!tt.length;var kt=gs(tt);if(kt==It||kt==qt)return!tt.size;if(Vl(tt))return!xu(tt).length;for(var Wt in tt)if(xa.call(tt,Wt))return!1;return!0}function j6(tt,kt){return zl(tt,kt)}function $6(tt,kt,Wt){Wt=typeof Wt=="function"?Wt:c;var tn=Wt?Wt(tt,kt):c;return tn===c?zl(tt,kt,c,Wt):!!tn}function Xu(tt){if(!rs(tt))return!1;var kt=ms(tt);return kt==Mt||kt==mt||typeof tt.message=="string"&&typeof tt.name=="string"&&!Yl(tt)}function U6(tt){return typeof tt=="number"&&q1(tt)}function no(tt){if(!ns(tt))return!1;var kt=ms(tt);return kt==_t||kt==Lt||kt==Ht||kt==Ut}function dm(tt){return typeof tt=="number"&&tt==Ur(tt)}function N0(tt){return typeof tt=="number"&&tt>-1&&tt%1==0&&tt<=it}function ns(tt){var kt=typeof tt;return tt!=null&&(kt=="object"||kt=="function")}function rs(tt){return tt!=null&&typeof tt=="object"}var fm=Bs?Cs(Bs):Gx;function H6(tt,kt){return tt===kt||mu(tt,kt,Iu(kt))}function X6(tt,kt,Wt){return Wt=typeof Wt=="function"?Wt:c,mu(tt,kt,Iu(kt),Wt)}function z6(tt){return pm(tt)&&tt!=+tt}function G6(tt){if(F3(tt))throw new Br($t);return sp(tt)}function W6(tt){return tt===null}function q6(tt){return tt==null}function pm(tt){return typeof tt=="number"||rs(tt)&&ms(tt)==Dt}function Yl(tt){if(!rs(tt)||ms(tt)!=Ot)return!1;var kt=u0(tt);if(kt===null)return!0;var Wt=xa.call(kt,"constructor")&&kt.constructor;return typeof Wt=="function"&&Wt instanceof Wt&&s0.call(Wt)==X2}var zu=vs?Cs(vs):Wx;function V6(tt){return dm(tt)&&tt>=-it&&tt<=it}var gm=ss?Cs(ss):qx;function B0(tt){return typeof tt=="string"||!jr(tt)&&rs(tt)&&ms(tt)==Kt}function Es(tt){return typeof tt=="symbol"||rs(tt)&&ms(tt)==Vt}var Qo=co?Cs(co):Vx;function K6(tt){return tt===c}function Y6(tt){return rs(tt)&&gs(tt)==Zt}function J6(tt){return rs(tt)&&ms(tt)==Qt}var Z6=F0(bu),Q6=F0(function(tt,kt){return tt<=kt});function mm(tt){if(!tt)return[];if(ws(tt))return B0(tt)?js(tt):As(tt);if(Rl&&tt[Rl])return O2(tt[Rl]());var kt=gs(tt),Wt=kt==It?au:kt==qt?r0:xl;return Wt(tt)}function ro(tt){if(!tt)return tt===0?tt:0;if(tt=Ns(tt),tt===ft||tt===-ft){var kt=tt<0?-1:1;return kt*at}return tt===tt?tt:0}function Ur(tt){var kt=ro(tt),Wt=kt%1;return kt===kt?Wt?kt-Wt:kt:0}function xm(tt){return tt?Oo(Ur(tt),0,St):0}function Ns(tt){if(typeof tt=="number")return tt;if(Es(tt))return bt;if(ns(tt)){var kt=typeof tt.valueOf=="function"?tt.valueOf():tt;tt=ns(kt)?kt+"":kt}if(typeof tt!="string")return tt===0?tt:+tt;tt=N1(tt);var Wt=Mn.test(tt);return Wt||Wn.test(tt)?$r(tt.slice(2),Wt?2:8):Un.test(tt)?bt:+tt}function bm(tt){return Ws(tt,Ss(tt))}function ey(tt){return tt?Oo(Ur(tt),-it,it):tt===0?tt:0}function ga(tt){return tt==null?"":ks(tt)}var ty=Yo(function(tt,kt){if(Vl(kt)||ws(kt)){Ws(kt,hs(kt),tt);return}for(var Wt in kt)xa.call(kt,Wt)&&Ul(tt,Wt,kt[Wt])}),ym=Yo(function(tt,kt){Ws(kt,Ss(kt),tt)}),j0=Yo(function(tt,kt,Wt,tn){Ws(kt,Ss(kt),tt,tn)}),ny=Yo(function(tt,kt,Wt,tn){Ws(kt,hs(kt),tt,tn)}),ry=eo(hu);function iy(tt,kt){var Wt=Ko(tt);return kt==null?Wt:Z1(Wt,kt)}var ay=zr(function(tt,kt){tt=ba(tt);var Wt=-1,tn=kt.length,sn=tn>2?kt[2]:c;for(sn&&xs(kt[0],kt[1],sn)&&(tn=1);++Wt<tn;)for(var dn=kt[Wt],bn=Ss(dn),_n=-1,In=bn.length;++_n<In;){var Zn=bn[_n],Qn=tt[Zn];(Qn===c||Us(Qn,Wo[Zn])&&!xa.call(tt,Zn))&&(tt[Zn]=dn[Zn])}return tt}),sy=zr(function(tt){return tt.push(c,Np),os(vm,c,tt)});function oy(tt,kt){return I1(tt,Mr(kt,3),Gs)}function ly(tt,kt){return I1(tt,Mr(kt,3),fu)}function cy(tt,kt){return tt==null?tt:du(tt,Mr(kt,3),Ss)}function uy(tt,kt){return tt==null?tt:rp(tt,Mr(kt,3),Ss)}function hy(tt,kt){return tt&&Gs(tt,Mr(kt,3))}function dy(tt,kt){return tt&&fu(tt,Mr(kt,3))}function fy(tt){return tt==null?[]:v0(tt,hs(tt))}function py(tt){return tt==null?[]:v0(tt,Ss(tt))}function Gu(tt,kt,Wt){var tn=tt==null?c:Mo(tt,kt);return tn===c?Wt:tn}function gy(tt,kt){return tt!=null&&$p(tt,kt,Bx)}function Wu(tt,kt){return tt!=null&&$p(tt,kt,jx)}var my=Mp(function(tt,kt,Wt){kt!=null&&typeof kt.toString!="function"&&(kt=o0.call(kt)),tt[kt]=Wt},Vu(_s)),xy=Mp(function(tt,kt,Wt){kt!=null&&typeof kt.toString!="function"&&(kt=o0.call(kt)),xa.call(tt,kt)?tt[kt].push(Wt):tt[kt]=[Wt]},Mr),by=zr(Xl);function hs(tt){return ws(tt)?Y1(tt):xu(tt)}function Ss(tt){return ws(tt)?Y1(tt,!0):Kx(tt)}function yy(tt,kt){var Wt={};return kt=Mr(kt,3),Gs(tt,function(tn,sn,dn){Zs(Wt,kt(tn,sn,dn),tn)}),Wt}function vy(tt,kt){var Wt={};return kt=Mr(kt,3),Gs(tt,function(tn,sn,dn){Zs(Wt,sn,kt(tn,sn,dn))}),Wt}var Ay=Yo(function(tt,kt,Wt){A0(tt,kt,Wt)}),vm=Yo(function(tt,kt,Wt,tn){A0(tt,kt,Wt,tn)}),wy=eo(function(tt,kt){var Wt={};if(tt==null)return Wt;var tn=!1;kt=es(kt,function(dn){return dn=xo(dn,tt),tn||(tn=dn.length>1),dn}),Ws(tt,Ou(tt),Wt),tn&&(Wt=Ds(Wt,Tt|wt|e,m3));for(var sn=kt.length;sn--;)Su(Wt,kt[sn]);return Wt});function Sy(tt,kt){return Am(tt,L0(Mr(kt)))}var _y=eo(function(tt,kt){return tt==null?{}:Jx(tt,kt)});function Am(tt,kt){if(tt==null)return{};var Wt=es(Ou(tt),function(tn){return[tn]});return kt=Mr(kt),fp(tt,Wt,function(tn,sn){return kt(tn,sn[0])})}function Cy(tt,kt,Wt){kt=xo(kt,tt);var tn=-1,sn=kt.length;for(sn||(sn=1,tt=c);++tn<sn;){var dn=tt==null?c:tt[qs(kt[tn])];dn===c&&(tn=sn,dn=Wt),tt=no(dn)?dn.call(tt):dn}return tt}function ky(tt,kt,Wt){return tt==null?tt:Gl(tt,kt,Wt)}function Ey(tt,kt,Wt,tn){return tn=typeof tn=="function"?tn:c,tt==null?tt:Gl(tt,kt,Wt,tn)}var wm=Rp(hs),Sm=Rp(Ss);function Fy(tt,kt,Wt){var tn=jr(tt),sn=tn||yo(tt)||Qo(tt);if(kt=Mr(kt,4),Wt==null){var dn=tt&&tt.constructor;sn?Wt=tn?new dn:[]:ns(tt)?Wt=no(dn)?Ko(u0(tt)):{}:Wt={}}return(sn?ds:Gs)(tt,function(bn,_n,In){return kt(Wt,bn,_n,In)}),Wt}function Ty(tt,kt){return tt==null?!0:Su(tt,kt)}function Py(tt,kt,Wt){return tt==null?tt:bp(tt,kt,ku(Wt))}function Oy(tt,kt,Wt,tn){return tn=typeof tn=="function"?tn:c,tt==null?tt:bp(tt,kt,ku(Wt),tn)}function xl(tt){return tt==null?[]:iu(tt,hs(tt))}function My(tt){return tt==null?[]:iu(tt,Ss(tt))}function Iy(tt,kt,Wt){return Wt===c&&(Wt=kt,kt=c),Wt!==c&&(Wt=Ns(Wt),Wt=Wt===Wt?Wt:0),kt!==c&&(kt=Ns(kt),kt=kt===kt?kt:0),Oo(Ns(tt),kt,Wt)}function Dy(tt,kt,Wt){return kt=ro(kt),Wt===c?(Wt=kt,kt=0):Wt=ro(Wt),tt=Ns(tt),$x(tt,kt,Wt)}function Ry(tt,kt,Wt){if(Wt&&typeof Wt!="boolean"&&xs(tt,kt,Wt)&&(kt=Wt=c),Wt===c&&(typeof kt=="boolean"?(Wt=kt,kt=c):typeof tt=="boolean"&&(Wt=tt,tt=c)),tt===c&&kt===c?(tt=0,kt=1):(tt=ro(tt),kt===c?(kt=tt,tt=0):kt=ro(kt)),tt>kt){var tn=tt;tt=kt,kt=tn}if(Wt||tt%1||kt%1){var sn=V1();return ps(tt+sn*(kt-tt+Pr("1e-"+((sn+"").length-1))),kt)}return vu(tt,kt)}var Ly=Jo(function(tt,kt,Wt){return kt=kt.toLowerCase(),tt+(Wt?_m(kt):kt)});function _m(tt){return qu(ga(tt).toLowerCase())}function Cm(tt){return tt=ga(tt),tt&&tt.replace(gr,k2).replace(Ml,"")}function Ny(tt,kt,Wt){tt=ga(tt),kt=ks(kt);var tn=tt.length;Wt=Wt===c?tn:Oo(Ur(Wt),0,tn);var sn=Wt;return Wt-=kt.length,Wt>=0&&tt.slice(Wt,sn)==kt}function By(tt){return tt=ga(tt),tt&&Sn.test(tt)?tt.replace(Xn,E2):tt}function jy(tt){return tt=ga(tt),tt&&tr.test(tt)?tt.replace($n,"\\$&"):tt}var $y=Jo(function(tt,kt,Wt){return tt+(Wt?"-":"")+kt.toLowerCase()}),Uy=Jo(function(tt,kt,Wt){return tt+(Wt?" ":"")+kt.toLowerCase()}),Hy=Tp("toLowerCase");function Xy(tt,kt,Wt){tt=ga(tt),kt=Ur(kt);var tn=kt?zo(tt):0;if(!kt||tn>=kt)return tt;var sn=(kt-tn)/2;return E0(p0(sn),Wt)+tt+E0(f0(sn),Wt)}function zy(tt,kt,Wt){tt=ga(tt),kt=Ur(kt);var tn=kt?zo(tt):0;return kt&&tn<kt?tt+E0(kt-tn,Wt):tt}function Gy(tt,kt,Wt){tt=ga(tt),kt=Ur(kt);var tn=kt?zo(tt):0;return kt&&tn<kt?E0(kt-tn,Wt)+tt:tt}function Wy(tt,kt,Wt){return Wt||kt==null?kt=0:kt&&(kt=+kt),Q2(ga(tt).replace(pr,""),kt||0)}function qy(tt,kt,Wt){return(Wt?xs(tt,kt,Wt):kt===c)?kt=1:kt=Ur(kt),Au(ga(tt),kt)}function Vy(){var tt=arguments,kt=ga(tt[0]);return tt.length<3?kt:kt.replace(tt[1],tt[2])}var Ky=Jo(function(tt,kt,Wt){return tt+(Wt?"_":"")+kt.toLowerCase()});function Yy(tt,kt,Wt){return Wt&&typeof Wt!="number"&&xs(tt,kt,Wt)&&(kt=Wt=c),Wt=Wt===c?St:Wt>>>0,Wt?(tt=ga(tt),tt&&(typeof kt=="string"||kt!=null&&!zu(kt))&&(kt=ks(kt),!kt&&Xo(tt))?bo(js(tt),0,Wt):tt.split(kt,Wt)):[]}var Jy=Jo(function(tt,kt,Wt){return tt+(Wt?" ":"")+qu(kt)});function Zy(tt,kt,Wt){return tt=ga(tt),Wt=Wt==null?0:Oo(Ur(Wt),0,tt.length),kt=ks(kt),tt.slice(Wt,Wt+kt.length)==kt}function Qy(tt,kt,Wt){var tn=ln.templateSettings;Wt&&xs(tt,kt,Wt)&&(kt=c),tt=ga(tt),kt=j0({},kt,tn,Lp);var sn=j0({},kt.imports,tn.imports,Lp),dn=hs(sn),bn=iu(sn,dn),_n,In,Zn=0,Qn=kt.interpolate||ir,ar="__p += '",xr=su((kt.escape||ir).source+"|"+Qn.source+"|"+(Qn===qn?Jr:ir).source+"|"+(kt.evaluate||ir).source+"|$","g"),Cr="//# sourceURL="+(xa.call(kt,"sourceURL")?(kt.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Jt+"]")+`
`;tt.replace(xr,function(Rr,qr,Yr,Fs,bs,Ts){return Yr||(Yr=Fs),ar+=tt.slice(Zn,Ts).replace(Jn,F2),qr&&(_n=!0,ar+=`' +
__e(`+qr+`) +
'`),bs&&(In=!0,ar+=`';
`+bs+`;
__p += '`),Yr&&(ar+=`' +
((__t = (`+Yr+`)) == null ? '' : __t) +
'`),Zn=Ts+Rr.length,Rr}),ar+=`';
`;var Dr=xa.call(kt,"variable")&&kt.variable;if(!Dr)ar=`with (obj) {
`+ar+`
}
`;else if(yr.test(Dr))throw new Br(ct);ar=(In?ar.replace(gn,""):ar).replace(hn,"$1").replace(on,"$1;"),ar="function("+(Dr||"obj")+`) {
`+(Dr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(_n?", __e = _.escape":"")+(In?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ar+`return __p
}`;var Xr=Em(function(){return na(dn,Cr+"return "+ar).apply(c,bn)});if(Xr.source=ar,Xu(Xr))throw Xr;return Xr}function e5(tt){return ga(tt).toLowerCase()}function t5(tt){return ga(tt).toUpperCase()}function n5(tt,kt,Wt){if(tt=ga(tt),tt&&(Wt||kt===c))return N1(tt);if(!tt||!(kt=ks(kt)))return tt;var tn=js(tt),sn=js(kt),dn=B1(tn,sn),bn=j1(tn,sn)+1;return bo(tn,dn,bn).join("")}function r5(tt,kt,Wt){if(tt=ga(tt),tt&&(Wt||kt===c))return tt.slice(0,U1(tt)+1);if(!tt||!(kt=ks(kt)))return tt;var tn=js(tt),sn=j1(tn,js(kt))+1;return bo(tn,0,sn).join("")}function i5(tt,kt,Wt){if(tt=ga(tt),tt&&(Wt||kt===c))return tt.replace(pr,"");if(!tt||!(kt=ks(kt)))return tt;var tn=js(tt),sn=B1(tn,js(kt));return bo(tn,sn).join("")}function a5(tt,kt){var Wt=nt,tn=pt;if(ns(kt)){var sn="separator"in kt?kt.separator:sn;Wt="length"in kt?Ur(kt.length):Wt,tn="omission"in kt?ks(kt.omission):tn}tt=ga(tt);var dn=tt.length;if(Xo(tt)){var bn=js(tt);dn=bn.length}if(Wt>=dn)return tt;var _n=Wt-zo(tn);if(_n<1)return tn;var In=bn?bo(bn,0,_n).join(""):tt.slice(0,_n);if(sn===c)return In+tn;if(bn&&(_n+=In.length-_n),zu(sn)){if(tt.slice(_n).search(sn)){var Zn,Qn=In;for(sn.global||(sn=su(sn.source,ga(Vr.exec(sn))+"g")),sn.lastIndex=0;Zn=sn.exec(Qn);)var ar=Zn.index;In=In.slice(0,ar===c?_n:ar)}}else if(tt.indexOf(ks(sn),_n)!=_n){var xr=In.lastIndexOf(sn);xr>-1&&(In=In.slice(0,xr))}return In+tn}function s5(tt){return tt=ga(tt),tt&&er.test(tt)?tt.replace(Dn,R2):tt}var o5=Jo(function(tt,kt,Wt){return tt+(Wt?" ":"")+kt.toUpperCase()}),qu=Tp("toUpperCase");function km(tt,kt,Wt){return tt=ga(tt),kt=Wt?c:kt,kt===c?P2(tt)?B2(tt):A2(tt):tt.match(kt)||[]}var Em=zr(function(tt,kt){try{return os(tt,c,kt)}catch(Wt){return Xu(Wt)?Wt:new Br(Wt)}}),l5=eo(function(tt,kt){return ds(kt,function(Wt){Wt=qs(Wt),Zs(tt,Wt,Uu(tt[Wt],tt))}),tt});function c5(tt){var kt=tt==null?0:tt.length,Wt=Mr();return tt=kt?es(tt,function(tn){if(typeof tn[1]!="function")throw new Ms(zt);return[Wt(tn[0]),tn[1]]}):[],zr(function(tn){for(var sn=-1;++sn<kt;){var dn=tt[sn];if(os(dn[0],this,tn))return os(dn[1],this,tn)}})}function u5(tt){return Rx(Ds(tt,Tt))}function Vu(tt){return function(){return tt}}function h5(tt,kt){return tt==null||tt!==tt?kt:tt}var d5=Op(),f5=Op(!0);function _s(tt){return tt}function Ku(tt){return op(typeof tt=="function"?tt:Ds(tt,Tt))}function p5(tt){return cp(Ds(tt,Tt))}function g5(tt,kt){return up(tt,Ds(kt,Tt))}var m5=zr(function(tt,kt){return function(Wt){return Xl(Wt,tt,kt)}}),x5=zr(function(tt,kt){return function(Wt){return Xl(tt,Wt,kt)}});function Yu(tt,kt,Wt){var tn=hs(kt),sn=v0(kt,tn);Wt==null&&!(ns(kt)&&(sn.length||!tn.length))&&(Wt=kt,kt=tt,tt=this,sn=v0(kt,hs(kt)));var dn=!(ns(Wt)&&"chain"in Wt)||!!Wt.chain,bn=no(tt);return ds(sn,function(_n){var In=kt[_n];tt[_n]=In,bn&&(tt.prototype[_n]=function(){var Zn=this.__chain__;if(dn||Zn){var Qn=tt(this.__wrapped__),ar=Qn.__actions__=As(this.__actions__);return ar.push({func:In,args:arguments,thisArg:tt}),Qn.__chain__=Zn,Qn}return In.apply(tt,ho([this.value()],arguments))})}),tt}function b5(){return Nr._===this&&(Nr._=z2),this}function Ju(){}function y5(tt){return tt=Ur(tt),zr(function(kt){return hp(kt,tt)})}var v5=Fu(es),A5=Fu(M1),w5=Fu(Q0);function Fm(tt){return Ru(tt)?eu(qs(tt)):Zx(tt)}function S5(tt){return function(kt){return tt==null?c:Mo(tt,kt)}}var _5=Ip(),C5=Ip(!0);function Zu(){return[]}function Qu(){return!1}function k5(){return{}}function E5(){return""}function F5(){return!0}function T5(tt,kt){if(tt=Ur(tt),tt<1||tt>it)return[];var Wt=St,tn=ps(tt,St);kt=Mr(kt),tt-=St;for(var sn=ru(tn,kt);++Wt<tt;)kt(Wt);return sn}function P5(tt){return jr(tt)?es(tt,qs):Es(tt)?[tt]:As(Kp(ga(tt)))}function O5(tt){var kt=++H2;return ga(tt)+kt}var M5=k0(function(tt,kt){return tt+kt},0),I5=Tu("ceil"),D5=k0(function(tt,kt){return tt/kt},1),R5=Tu("floor");function L5(tt){return tt&&tt.length?y0(tt,_s,pu):c}function N5(tt,kt){return tt&&tt.length?y0(tt,Mr(kt,2),pu):c}function B5(tt){return R1(tt,_s)}function j5(tt,kt){return R1(tt,Mr(kt,2))}function $5(tt){return tt&&tt.length?y0(tt,_s,bu):c}function U5(tt,kt){return tt&&tt.length?y0(tt,Mr(kt,2),bu):c}var H5=k0(function(tt,kt){return tt*kt},1),X5=Tu("round"),z5=k0(function(tt,kt){return tt-kt},0);function G5(tt){return tt&&tt.length?nu(tt,_s):0}function W5(tt,kt){return tt&&tt.length?nu(tt,Mr(kt,2)):0}return ln.after=p6,ln.ary=am,ln.assign=ty,ln.assignIn=ym,ln.assignInWith=j0,ln.assignWith=ny,ln.at=ry,ln.before=sm,ln.bind=Uu,ln.bindAll=l5,ln.bindKey=om,ln.castArray=k6,ln.chain=nm,ln.chunk=R3,ln.compact=L3,ln.concat=N3,ln.cond=c5,ln.conforms=u5,ln.constant=Vu,ln.countBy=G9,ln.create=iy,ln.curry=lm,ln.curryRight=cm,ln.debounce=um,ln.defaults=ay,ln.defaultsDeep=sy,ln.defer=g6,ln.delay=m6,ln.difference=B3,ln.differenceBy=j3,ln.differenceWith=$3,ln.drop=U3,ln.dropRight=H3,ln.dropRightWhile=X3,ln.dropWhile=z3,ln.fill=G3,ln.filter=q9,ln.flatMap=Y9,ln.flatMapDeep=J9,ln.flatMapDepth=Z9,ln.flatten=Qp,ln.flattenDeep=W3,ln.flattenDepth=q3,ln.flip=x6,ln.flow=d5,ln.flowRight=f5,ln.fromPairs=V3,ln.functions=fy,ln.functionsIn=py,ln.groupBy=Q9,ln.initial=Y3,ln.intersection=J3,ln.intersectionBy=Z3,ln.intersectionWith=Q3,ln.invert=my,ln.invertBy=xy,ln.invokeMap=t6,ln.iteratee=Ku,ln.keyBy=n6,ln.keys=hs,ln.keysIn=Ss,ln.map=I0,ln.mapKeys=yy,ln.mapValues=vy,ln.matches=p5,ln.matchesProperty=g5,ln.memoize=R0,ln.merge=Ay,ln.mergeWith=vm,ln.method=m5,ln.methodOf=x5,ln.mixin=Yu,ln.negate=L0,ln.nthArg=y5,ln.omit=wy,ln.omitBy=Sy,ln.once=b6,ln.orderBy=r6,ln.over=v5,ln.overArgs=y6,ln.overEvery=A5,ln.overSome=w5,ln.partial=Hu,ln.partialRight=hm,ln.partition=i6,ln.pick=_y,ln.pickBy=Am,ln.property=Fm,ln.propertyOf=S5,ln.pull=r9,ln.pullAll=em,ln.pullAllBy=i9,ln.pullAllWith=a9,ln.pullAt=s9,ln.range=_5,ln.rangeRight=C5,ln.rearg=v6,ln.reject=o6,ln.remove=o9,ln.rest=A6,ln.reverse=ju,ln.sampleSize=c6,ln.set=ky,ln.setWith=Ey,ln.shuffle=u6,ln.slice=l9,ln.sortBy=f6,ln.sortedUniq=g9,ln.sortedUniqBy=m9,ln.split=Yy,ln.spread=w6,ln.tail=x9,ln.take=b9,ln.takeRight=y9,ln.takeRightWhile=v9,ln.takeWhile=A9,ln.tap=L9,ln.throttle=S6,ln.thru=M0,ln.toArray=mm,ln.toPairs=wm,ln.toPairsIn=Sm,ln.toPath=P5,ln.toPlainObject=bm,ln.transform=Fy,ln.unary=_6,ln.union=w9,ln.unionBy=S9,ln.unionWith=_9,ln.uniq=C9,ln.uniqBy=k9,ln.uniqWith=E9,ln.unset=Ty,ln.unzip=$u,ln.unzipWith=tm,ln.update=Py,ln.updateWith=Oy,ln.values=xl,ln.valuesIn=My,ln.without=F9,ln.words=km,ln.wrap=C6,ln.xor=T9,ln.xorBy=P9,ln.xorWith=O9,ln.zip=M9,ln.zipObject=I9,ln.zipObjectDeep=D9,ln.zipWith=R9,ln.entries=wm,ln.entriesIn=Sm,ln.extend=ym,ln.extendWith=j0,Yu(ln,ln),ln.add=M5,ln.attempt=Em,ln.camelCase=Ly,ln.capitalize=_m,ln.ceil=I5,ln.clamp=Iy,ln.clone=E6,ln.cloneDeep=T6,ln.cloneDeepWith=P6,ln.cloneWith=F6,ln.conformsTo=O6,ln.deburr=Cm,ln.defaultTo=h5,ln.divide=D5,ln.endsWith=Ny,ln.eq=Us,ln.escape=By,ln.escapeRegExp=jy,ln.every=W9,ln.find=V9,ln.findIndex=Jp,ln.findKey=oy,ln.findLast=K9,ln.findLastIndex=Zp,ln.findLastKey=ly,ln.floor=R5,ln.forEach=rm,ln.forEachRight=im,ln.forIn=cy,ln.forInRight=uy,ln.forOwn=hy,ln.forOwnRight=dy,ln.get=Gu,ln.gt=M6,ln.gte=I6,ln.has=gy,ln.hasIn=Wu,ln.head=_g,ln.identity=_s,ln.includes=e6,ln.indexOf=K3,ln.inRange=Dy,ln.invoke=by,ln.isArguments=Ro,ln.isArray=jr,ln.isArrayBuffer=D6,ln.isArrayLike=ws,ln.isArrayLikeObject=is,ln.isBoolean=R6,ln.isBuffer=yo,ln.isDate=L6,ln.isElement=N6,ln.isEmpty=B6,ln.isEqual=j6,ln.isEqualWith=$6,ln.isError=Xu,ln.isFinite=U6,ln.isFunction=no,ln.isInteger=dm,ln.isLength=N0,ln.isMap=fm,ln.isMatch=H6,ln.isMatchWith=X6,ln.isNaN=z6,ln.isNative=G6,ln.isNil=q6,ln.isNull=W6,ln.isNumber=pm,ln.isObject=ns,ln.isObjectLike=rs,ln.isPlainObject=Yl,ln.isRegExp=zu,ln.isSafeInteger=V6,ln.isSet=gm,ln.isString=B0,ln.isSymbol=Es,ln.isTypedArray=Qo,ln.isUndefined=K6,ln.isWeakMap=Y6,ln.isWeakSet=J6,ln.join=e9,ln.kebabCase=$y,ln.last=Ls,ln.lastIndexOf=t9,ln.lowerCase=Uy,ln.lowerFirst=Hy,ln.lt=Z6,ln.lte=Q6,ln.max=L5,ln.maxBy=N5,ln.mean=B5,ln.meanBy=j5,ln.min=$5,ln.minBy=U5,ln.stubArray=Zu,ln.stubFalse=Qu,ln.stubObject=k5,ln.stubString=E5,ln.stubTrue=F5,ln.multiply=H5,ln.nth=n9,ln.noConflict=b5,ln.noop=Ju,ln.now=D0,ln.pad=Xy,ln.padEnd=zy,ln.padStart=Gy,ln.parseInt=Wy,ln.random=Ry,ln.reduce=a6,ln.reduceRight=s6,ln.repeat=qy,ln.replace=Vy,ln.result=Cy,ln.round=X5,ln.runInContext=Pn,ln.sample=l6,ln.size=h6,ln.snakeCase=Ky,ln.some=d6,ln.sortedIndex=c9,ln.sortedIndexBy=u9,ln.sortedIndexOf=h9,ln.sortedLastIndex=d9,ln.sortedLastIndexBy=f9,ln.sortedLastIndexOf=p9,ln.startCase=Jy,ln.startsWith=Zy,ln.subtract=z5,ln.sum=G5,ln.sumBy=W5,ln.template=Qy,ln.times=T5,ln.toFinite=ro,ln.toInteger=Ur,ln.toLength=xm,ln.toLower=e5,ln.toNumber=Ns,ln.toSafeInteger=ey,ln.toString=ga,ln.toUpper=t5,ln.trim=n5,ln.trimEnd=r5,ln.trimStart=i5,ln.truncate=a5,ln.unescape=s5,ln.uniqueId=O5,ln.upperCase=o5,ln.upperFirst=qu,ln.each=rm,ln.eachRight=im,ln.first=_g,Yu(ln,function(){var tt={};return Gs(ln,function(kt,Wt){xa.call(ln.prototype,Wt)||(tt[Wt]=kt)}),tt}(),{chain:!1}),ln.VERSION=_e,ds(["bind","bindKey","curry","curryRight","partial","partialRight"],function(tt){ln[tt].placeholder=ln}),ds(["drop","take"],function(tt,kt){Kr.prototype[tt]=function(Wt){Wt=Wt===c?1:cs(Ur(Wt),0);var tn=this.__filtered__&&!kt?new Kr(this):this.clone();return tn.__filtered__?tn.__takeCount__=ps(Wt,tn.__takeCount__):tn.__views__.push({size:ps(Wt,St),type:tt+(tn.__dir__<0?"Right":"")}),tn},Kr.prototype[tt+"Right"]=function(Wt){return this.reverse()[tt](Wt).reverse()}}),ds(["filter","map","takeWhile"],function(tt,kt){var Wt=kt+1,tn=Wt==Rt||Wt==lt;Kr.prototype[tt]=function(sn){var dn=this.clone();return dn.__iteratees__.push({iteratee:Mr(sn,3),type:Wt}),dn.__filtered__=dn.__filtered__||tn,dn}}),ds(["head","last"],function(tt,kt){var Wt="take"+(kt?"Right":"");Kr.prototype[tt]=function(){return this[Wt](1).value()[0]}}),ds(["initial","tail"],function(tt,kt){var Wt="drop"+(kt?"":"Right");Kr.prototype[tt]=function(){return this.__filtered__?new Kr(this):this[Wt](1)}}),Kr.prototype.compact=function(){return this.filter(_s)},Kr.prototype.find=function(tt){return this.filter(tt).head()},Kr.prototype.findLast=function(tt){return this.reverse().find(tt)},Kr.prototype.invokeMap=zr(function(tt,kt){return typeof tt=="function"?new Kr(this):this.map(function(Wt){return Xl(Wt,tt,kt)})}),Kr.prototype.reject=function(tt){return this.filter(L0(Mr(tt)))},Kr.prototype.slice=function(tt,kt){tt=Ur(tt);var Wt=this;return Wt.__filtered__&&(tt>0||kt<0)?new Kr(Wt):(tt<0?Wt=Wt.takeRight(-tt):tt&&(Wt=Wt.drop(tt)),kt!==c&&(kt=Ur(kt),Wt=kt<0?Wt.dropRight(-kt):Wt.take(kt-tt)),Wt)},Kr.prototype.takeRightWhile=function(tt){return this.reverse().takeWhile(tt).reverse()},Kr.prototype.toArray=function(){return this.take(St)},Gs(Kr.prototype,function(tt,kt){var Wt=/^(?:filter|find|map|reject)|While$/.test(kt),tn=/^(?:head|last)$/.test(kt),sn=ln[tn?"take"+(kt=="last"?"Right":""):kt],dn=tn||/^find/.test(kt);sn&&(ln.prototype[kt]=function(){var bn=this.__wrapped__,_n=tn?[1]:arguments,In=bn instanceof Kr,Zn=_n[0],Qn=In||jr(bn),ar=function(qr){var Yr=sn.apply(ln,ho([qr],_n));return tn&&xr?Yr[0]:Yr};Qn&&Wt&&typeof Zn=="function"&&Zn.length!=1&&(In=Qn=!1);var xr=this.__chain__,Cr=!!this.__actions__.length,Dr=dn&&!xr,Xr=In&&!Cr;if(!dn&&Qn){bn=Xr?bn:new Kr(this);var Rr=tt.apply(bn,_n);return Rr.__actions__.push({func:M0,args:[ar],thisArg:c}),new Is(Rr,xr)}return Dr&&Xr?tt.apply(this,_n):(Rr=this.thru(ar),Dr?tn?Rr.value()[0]:Rr.value():Rr)})}),ds(["pop","push","shift","sort","splice","unshift"],function(tt){var kt=i0[tt],Wt=/^(?:push|sort|unshift)$/.test(tt)?"tap":"thru",tn=/^(?:pop|shift)$/.test(tt);ln.prototype[tt]=function(){var sn=arguments;if(tn&&!this.__chain__){var dn=this.value();return kt.apply(jr(dn)?dn:[],sn)}return this[Wt](function(bn){return kt.apply(jr(bn)?bn:[],sn)})}}),Gs(Kr.prototype,function(tt,kt){var Wt=ln[kt];if(Wt){var tn=Wt.name+"";xa.call(Vo,tn)||(Vo[tn]=[]),Vo[tn].push({name:kt,func:Wt})}}),Vo[C0(c,d).name]=[{name:"wrapper",func:c}],Kr.prototype.clone=sx,Kr.prototype.reverse=ox,Kr.prototype.value=lx,ln.prototype.at=N9,ln.prototype.chain=B9,ln.prototype.commit=j9,ln.prototype.next=$9,ln.prototype.plant=H9,ln.prototype.reverse=X9,ln.prototype.toJSON=ln.prototype.valueOf=ln.prototype.value=z9,ln.prototype.first=ln.prototype.head,Rl&&(ln.prototype[Rl]=U9),ln},Go=j2();Fr?((Fr.exports=Go)._=Go,_i._=Go):Nr._=Go}).call(commonjsGlobal)})(lodash,lodash.exports);var lodashExports=lodash.exports;(function(i){var a=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(_,$,d,j){j===void 0&&(j=d);var g=Object.getOwnPropertyDescriptor($,d);(!g||("get"in g?!$.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return $[d]}}),Object.defineProperty(_,j,g)}:function(_,$,d,j){j===void 0&&(j=d),_[j]=$[d]}),c=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(_,$){Object.defineProperty(_,"default",{enumerable:!0,value:$})}:function(_,$){_.default=$}),_e=commonjsGlobal&&commonjsGlobal.__importStar||function(_){if(_&&_.__esModule)return _;var $={};if(_!=null)for(var d in _)d!=="default"&&Object.prototype.hasOwnProperty.call(_,d)&&a($,_,d);return c($,_),$},ot=commonjsGlobal&&commonjsGlobal.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(i,"__esModule",{value:!0}),i.mergeSplitWords=i.calculateRectangleProperties=i.recalculateBoundingBox=i.calculateFontSize=i.calculateTransform=i.calculateTextProperties=void 0;const $t=ot(lodashExports),zt=_e(pdfExports),ct=.5,Et=(_,$,d,j)=>{const g=zt.Util.transform(d.transform,_.transform);let o=Math.atan2(g[1],g[0]);$.vertical&&(o+=Math.PI/2);const ut=Math.sqrt(g[2]*g[2]+g[3]*g[3]);let dt=ut;$.ascent?dt*=$.ascent:$.descent&&(dt*=1+$.descent);let b,h;o===0?(b=g[4],h=g[5]-dt):(b=g[4]+dt*Math.sin(o),h=g[5]-dt*Math.cos(o));let et;$.vertical?et=_.height*d.scale:et=_.width*d.scale;const nt=(0,i.calculateTransform)(et,ut,$.fontFamily,_.str,j);return{left:b,top:h,fontSize:ut,transform:nt}};i.calculateTextProperties=Et;const s=(_,$,d,j,g)=>{let o=1;if(_){g.font=`${$}px ${d}`;const{width:ut}=g.measureText(j);o=_/ut}return o};i.calculateTransform=s;const st=(_,$,d)=>{const j=_*$,{length:g}=d;return Math.sqrt(j/g)*1.3333};i.calculateFontSize=st;const Tt=(_,$,d)=>({left:_.left/$*d,top:_.top/$*d,width:_.width/$*d,height:_.height/$*d});i.recalculateBoundingBox=Tt;const wt=_=>{const{x0:$,x1:d,y0:j,y1:g}=_,o=Math.sqrt(Math.pow(d-$,2)+Math.pow(j-j,2)),ut=Math.sqrt(Math.pow(d-d,2)+Math.pow(g-j,2));return{left:$,top:j,width:o,height:ut}};i.calculateRectangleProperties=wt;const e=_=>{const{items:$}=_,d={..._,items:[]};return $.forEach(j=>{let g=0;const o=$.filter(ut=>gt(j,ut,g)?(g+=ut.width,!0):!1);o.length?(d.items.push({...j,width:j.width+o.map(ut=>ut.width).reduce((ut,dt)=>ut+dt,0),str:j.str+o.map(ut=>ut.str).join("")}),$.splice(0,$.length,...$.filter(ut=>!$t.default.includes(o,ut)))):d.items.push(j)}),d};i.mergeSplitWords=e;const gt=(_,$,d)=>{const j=$t.default.round($.transform[4]-(_.transform[4]+_.width+d),1);return _.transform[5]===$.transform[5]&&_.transform[4]<$.transform[4]&&j>=-ct&&j<=ct}})(pdfHelpers);var useTesseract$1={};function arrayPush$2(i,a){for(var c=-1,_e=a.length,ot=i.length;++c<_e;)i[ot+c]=a[c];return i}var _arrayPush=arrayPush$2,baseGetTag$3=_baseGetTag,isObjectLike$3=isObjectLike_1,argsTag$2="[object Arguments]";function baseIsArguments$1(i){return isObjectLike$3(i)&&baseGetTag$3(i)==argsTag$2}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$2=isObjectLike_1,objectProto$9=Object.prototype,hasOwnProperty$7=objectProto$9.hasOwnProperty,propertyIsEnumerable$1=objectProto$9.propertyIsEnumerable,isArguments$3=baseIsArguments(function(){return arguments}())?baseIsArguments:function(i){return isObjectLike$2(i)&&hasOwnProperty$7.call(i,"callee")&&!propertyIsEnumerable$1.call(i,"callee")},isArguments_1=isArguments$3,Symbol$2=_Symbol,isArguments$2=isArguments_1,isArray$8=isArray_1,spreadableSymbol=Symbol$2?Symbol$2.isConcatSpreadable:void 0;function isFlattenable$1(i){return isArray$8(i)||isArguments$2(i)||!!(spreadableSymbol&&i&&i[spreadableSymbol])}var _isFlattenable=isFlattenable$1,arrayPush$1=_arrayPush,isFlattenable=_isFlattenable;function baseFlatten$1(i,a,c,_e,ot){var $t=-1,zt=i.length;for(c||(c=isFlattenable),ot||(ot=[]);++$t<zt;){var ct=i[$t];a>0&&c(ct)?a>1?baseFlatten$1(ct,a-1,c,_e,ot):arrayPush$1(ot,ct):_e||(ot[ot.length]=ct)}return ot}var _baseFlatten=baseFlatten$1,isArray$7=isArray_1,isSymbol$2=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey$3(i,a){if(isArray$7(i))return!1;var c=typeof i;return c=="number"||c=="symbol"||c=="boolean"||i==null||isSymbol$2(i)?!0:reIsPlainProp.test(i)||!reIsDeepProp.test(i)||a!=null&&i in Object(a)}var _isKey=isKey$3;function isObject$4(i){var a=typeof i;return i!=null&&(a=="object"||a=="function")}var isObject_1=isObject$4,baseGetTag$2=_baseGetTag,isObject$3=isObject_1,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$2(i){if(!isObject$3(i))return!1;var a=baseGetTag$2(i);return a==funcTag$1||a==genTag||a==asyncTag||a==proxyTag}var isFunction_1=isFunction$2,root$6=_root,coreJsData$1=root$6["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var i=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function isMasked$1(i){return!!maskSrcKey&&maskSrcKey in i}var _isMasked=isMasked$1,funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource$2(i){if(i!=null){try{return funcToString$1.call(i)}catch{}try{return i+""}catch{}}return""}var _toSource=toSource$2,isFunction$1=isFunction_1,isMasked=_isMasked,isObject$2=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$8=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$6=objectProto$8.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$6).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(i){if(!isObject$2(i)||isMasked(i))return!1;var a=isFunction$1(i)?reIsNative:reIsHostCtor;return a.test(toSource$1(i))}var _baseIsNative=baseIsNative$1;function getValue$1(i,a){return i==null?void 0:i[a]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$7(i,a){var c=getValue(i,a);return baseIsNative(c)?c:void 0}var _getNative=getNative$7,getNative$6=_getNative,nativeCreate$4=getNative$6(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(i){var a=this.has(i)&&delete this.__data__[i];return this.size-=a?1:0,a}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$7=Object.prototype,hasOwnProperty$5=objectProto$7.hasOwnProperty;function hashGet$1(i){var a=this.__data__;if(nativeCreate$2){var c=a[i];return c===HASH_UNDEFINED$2?void 0:c}return hasOwnProperty$5.call(a,i)?a[i]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$6=Object.prototype,hasOwnProperty$4=objectProto$6.hasOwnProperty;function hashHas$1(i){var a=this.__data__;return nativeCreate$1?a[i]!==void 0:hasOwnProperty$4.call(a,i)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1(i,a){var c=this.__data__;return this.size+=this.has(i)?0:1,c[i]=nativeCreate&&a===void 0?HASH_UNDEFINED$1:a,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(i){var a=-1,c=i==null?0:i.length;for(this.clear();++a<c;){var _e=i[a];this.set(_e[0],_e[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$3(i,a){return i===a||i!==i&&a!==a}var eq_1=eq$3,eq$2=eq_1;function assocIndexOf$4(i,a){for(var c=i.length;c--;)if(eq$2(i[c][0],a))return c;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(i){var a=this.__data__,c=assocIndexOf$3(a,i);if(c<0)return!1;var _e=a.length-1;return c==_e?a.pop():splice.call(a,c,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(i){var a=this.__data__,c=assocIndexOf$2(a,i);return c<0?void 0:a[c][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(i){return assocIndexOf$1(this.__data__,i)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(i,a){var c=this.__data__,_e=assocIndexOf(c,i);return _e<0?(++this.size,c.push([i,a])):c[_e][1]=a,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(i){var a=-1,c=i==null?0:i.length;for(this.clear();++a<c;){var _e=i[a];this.set(_e[0],_e[1])}}ListCache$4.prototype.clear=listCacheClear;ListCache$4.prototype.delete=listCacheDelete;ListCache$4.prototype.get=listCacheGet;ListCache$4.prototype.has=listCacheHas;ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,getNative$5=_getNative,root$5=_root,Map$4=getNative$5(root$5,"Map"),_Map=Map$4,Hash=_Hash,ListCache$3=_ListCache,Map$3=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$3||ListCache$3),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(i){var a=typeof i;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?i!=="__proto__":i===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(i,a){var c=i.__data__;return isKeyable(a)?c[typeof a=="string"?"string":"hash"]:c.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(i){var a=getMapData$3(this,i).delete(i);return this.size-=a?1:0,a}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(i){return getMapData$2(this,i).get(i)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(i){return getMapData$1(this,i).has(i)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(i,a){var c=getMapData(this,i),_e=c.size;return c.set(i,a),this.size+=c.size==_e?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$3(i){var a=-1,c=i==null?0:i.length;for(this.clear();++a<c;){var _e=i[a];this.set(_e[0],_e[1])}}MapCache$3.prototype.clear=mapCacheClear;MapCache$3.prototype.delete=mapCacheDelete;MapCache$3.prototype.get=mapCacheGet;MapCache$3.prototype.has=mapCacheHas;MapCache$3.prototype.set=mapCacheSet;var _MapCache=MapCache$3,MapCache$2=_MapCache,FUNC_ERROR_TEXT="Expected a function";function memoize$1(i,a){if(typeof i!="function"||a!=null&&typeof a!="function")throw new TypeError(FUNC_ERROR_TEXT);var c=function(){var _e=arguments,ot=a?a.apply(this,_e):_e[0],$t=c.cache;if($t.has(ot))return $t.get(ot);var zt=i.apply(this,_e);return c.cache=$t.set(ot,zt)||$t,zt};return c.cache=new(memoize$1.Cache||MapCache$2),c}memoize$1.Cache=MapCache$2;var memoize_1=memoize$1,memoize=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(i){var a=memoize(i,function(_e){return c.size===MAX_MEMOIZE_SIZE&&c.clear(),_e}),c=a.cache;return a}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath$1=memoizeCapped(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(rePropName,function(c,_e,ot,$t){a.push(ot?$t.replace(reEscapeChar,"$1"):_e||c)}),a}),_stringToPath=stringToPath$1,isArray$6=isArray_1,isKey$2=_isKey,stringToPath=_stringToPath,toString=toString_1;function castPath$2(i,a){return isArray$6(i)?i:isKey$2(i,a)?[i]:stringToPath(toString(i))}var _castPath=castPath$2,isSymbol$1=isSymbol_1;function toKey$4(i){if(typeof i=="string"||isSymbol$1(i))return i;var a=i+"";return a=="0"&&1/i==-1/0?"-0":a}var _toKey=toKey$4,castPath$1=_castPath,toKey$3=_toKey;function baseGet$3(i,a){a=castPath$1(a,i);for(var c=0,_e=a.length;i!=null&&c<_e;)i=i[toKey$3(a[c++])];return c&&c==_e?i:void 0}var _baseGet=baseGet$3,ListCache$2=_ListCache;function stackClear$1(){this.__data__=new ListCache$2,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(i){var a=this.__data__,c=a.delete(i);return this.size=a.size,c}var _stackDelete=stackDelete$1;function stackGet$1(i){return this.__data__.get(i)}var _stackGet=stackGet$1;function stackHas$1(i){return this.__data__.has(i)}var _stackHas=stackHas$1,ListCache$1=_ListCache,Map$2=_Map,MapCache$1=_MapCache,LARGE_ARRAY_SIZE=200;function stackSet$1(i,a){var c=this.__data__;if(c instanceof ListCache$1){var _e=c.__data__;if(!Map$2||_e.length<LARGE_ARRAY_SIZE-1)return _e.push([i,a]),this.size=++c.size,this;c=this.__data__=new MapCache$1(_e)}return c.set(i,a),this.size=c.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$2(i){var a=this.__data__=new ListCache(i);this.size=a.size}Stack$2.prototype.clear=stackClear;Stack$2.prototype.delete=stackDelete;Stack$2.prototype.get=stackGet;Stack$2.prototype.has=stackHas;Stack$2.prototype.set=stackSet;var _Stack=Stack$2,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1(i){return this.__data__.set(i,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(i){return this.__data__.has(i)}var _setCacheHas=setCacheHas$1,MapCache=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$1(i){var a=-1,c=i==null?0:i.length;for(this.__data__=new MapCache;++a<c;)this.add(i[a])}SetCache$1.prototype.add=SetCache$1.prototype.push=setCacheAdd;SetCache$1.prototype.has=setCacheHas;var _SetCache=SetCache$1;function arraySome$1(i,a){for(var c=-1,_e=i==null?0:i.length;++c<_e;)if(a(i[c],c,i))return!0;return!1}var _arraySome=arraySome$1;function cacheHas$1(i,a){return i.has(a)}var _cacheHas=cacheHas$1,SetCache=_SetCache,arraySome=_arraySome,cacheHas=_cacheHas,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays$2(i,a,c,_e,ot,$t){var zt=c&COMPARE_PARTIAL_FLAG$5,ct=i.length,Et=a.length;if(ct!=Et&&!(zt&&Et>ct))return!1;var s=$t.get(i),st=$t.get(a);if(s&&st)return s==a&&st==i;var Tt=-1,wt=!0,e=c&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for($t.set(i,a),$t.set(a,i);++Tt<ct;){var gt=i[Tt],_=a[Tt];if(_e)var $=zt?_e(_,gt,Tt,a,i,$t):_e(gt,_,Tt,i,a,$t);if($!==void 0){if($)continue;wt=!1;break}if(e){if(!arraySome(a,function(d,j){if(!cacheHas(e,j)&&(gt===d||ot(gt,d,c,_e,$t)))return e.push(j)})){wt=!1;break}}else if(!(gt===_||ot(gt,_,c,_e,$t))){wt=!1;break}}return $t.delete(i),$t.delete(a),wt}var _equalArrays=equalArrays$2,root$4=_root,Uint8Array$2=root$4.Uint8Array,_Uint8Array=Uint8Array$2;function mapToArray$1(i){var a=-1,c=Array(i.size);return i.forEach(function(_e,ot){c[++a]=[ot,_e]}),c}var _mapToArray=mapToArray$1;function setToArray$1(i){var a=-1,c=Array(i.size);return i.forEach(function(_e){c[++a]=_e}),c}var _setToArray=setToArray$1,Symbol$1=_Symbol,Uint8Array$1=_Uint8Array,eq$1=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray=_setToArray,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag$1(i,a,c,_e,ot,$t,zt){switch(c){case dataViewTag$2:if(i.byteLength!=a.byteLength||i.byteOffset!=a.byteOffset)return!1;i=i.buffer,a=a.buffer;case arrayBufferTag$1:return!(i.byteLength!=a.byteLength||!$t(new Uint8Array$1(i),new Uint8Array$1(a)));case boolTag$1:case dateTag$1:case numberTag$1:return eq$1(+i,+a);case errorTag$1:return i.name==a.name&&i.message==a.message;case regexpTag$1:case stringTag$1:return i==a+"";case mapTag$2:var ct=mapToArray;case setTag$2:var Et=_e&COMPARE_PARTIAL_FLAG$4;if(ct||(ct=setToArray),i.size!=a.size&&!Et)return!1;var s=zt.get(i);if(s)return s==a;_e|=COMPARE_UNORDERED_FLAG$2,zt.set(i,a);var st=equalArrays$1(ct(i),ct(a),_e,ot,$t,zt);return zt.delete(i),st;case symbolTag:if(symbolValueOf)return symbolValueOf.call(i)==symbolValueOf.call(a)}return!1}var _equalByTag=equalByTag$1,arrayPush=_arrayPush,isArray$5=isArray_1;function baseGetAllKeys$1(i,a,c){var _e=a(i);return isArray$5(i)?_e:arrayPush(_e,c(i))}var _baseGetAllKeys=baseGetAllKeys$1;function arrayFilter$1(i,a){for(var c=-1,_e=i==null?0:i.length,ot=0,$t=[];++c<_e;){var zt=i[c];a(zt,c,i)&&($t[ot++]=zt)}return $t}var _arrayFilter=arrayFilter$1;function stubArray$1(){return[]}var stubArray_1=stubArray$1,arrayFilter=_arrayFilter,stubArray=stubArray_1,objectProto$5=Object.prototype,propertyIsEnumerable=objectProto$5.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols$1=nativeGetSymbols?function(i){return i==null?[]:(i=Object(i),arrayFilter(nativeGetSymbols(i),function(a){return propertyIsEnumerable.call(i,a)}))}:stubArray,_getSymbols=getSymbols$1;function baseTimes$1(i,a){for(var c=-1,_e=Array(i);++c<i;)_e[c]=a(c);return _e}var _baseTimes=baseTimes$1,isBuffer$2={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;isBuffer$2.exports;(function(i,a){var c=_root,_e=stubFalse_1,ot=a&&!a.nodeType&&a,$t=ot&&!0&&i&&!i.nodeType&&i,zt=$t&&$t.exports===ot,ct=zt?c.Buffer:void 0,Et=ct?ct.isBuffer:void 0,s=Et||_e;i.exports=s})(isBuffer$2,isBuffer$2.exports);var isBufferExports=isBuffer$2.exports,MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$3(i,a){var c=typeof i;return a=a??MAX_SAFE_INTEGER$1,!!a&&(c=="number"||c!="symbol"&&reIsUint.test(i))&&i>-1&&i%1==0&&i<a}var _isIndex=isIndex$3,MAX_SAFE_INTEGER=9007199254740991;function isLength$3(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=MAX_SAFE_INTEGER}var isLength_1=isLength$3,baseGetTag$1=_baseGetTag,isLength$2=isLength_1,isObjectLike$1=isObjectLike_1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$1="[object Map]",numberTag="[object Number]",objectTag$2="[object Object]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$1]=typedArrayTags[numberTag]=typedArrayTags[objectTag$2]=typedArrayTags[regexpTag]=typedArrayTags[setTag$1]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray$1(i){return isObjectLike$1(i)&&isLength$2(i.length)&&!!typedArrayTags[baseGetTag$1(i)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$2(i){return function(a){return i(a)}}var _baseUnary=baseUnary$2,_nodeUtil={exports:{}};_nodeUtil.exports;(function(i,a){var c=_freeGlobal,_e=a&&!a.nodeType&&a,ot=_e&&!0&&i&&!i.nodeType&&i,$t=ot&&ot.exports===_e,zt=$t&&c.process,ct=function(){try{var Et=ot&&ot.require&&ot.require("util").types;return Et||zt&&zt.binding&&zt.binding("util")}catch{}}();i.exports=ct})(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray=_baseIsTypedArray,baseUnary$1=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$2=nodeIsTypedArray?baseUnary$1(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$2,baseTimes=_baseTimes,isArguments$1=isArguments_1,isArray$4=isArray_1,isBuffer$1=isBufferExports,isIndex$2=_isIndex,isTypedArray$1=isTypedArray_1,objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty;function arrayLikeKeys$1(i,a){var c=isArray$4(i),_e=!c&&isArguments$1(i),ot=!c&&!_e&&isBuffer$1(i),$t=!c&&!_e&&!ot&&isTypedArray$1(i),zt=c||_e||ot||$t,ct=zt?baseTimes(i.length,String):[],Et=ct.length;for(var s in i)(a||hasOwnProperty$3.call(i,s))&&!(zt&&(s=="length"||ot&&(s=="offset"||s=="parent")||$t&&(s=="buffer"||s=="byteLength"||s=="byteOffset")||isIndex$2(s,Et)))&&ct.push(s);return ct}var _arrayLikeKeys=arrayLikeKeys$1,objectProto$3=Object.prototype;function isPrototype$1(i){var a=i&&i.constructor,c=typeof a=="function"&&a.prototype||objectProto$3;return i===c}var _isPrototype=isPrototype$1;function overArg$1(i,a){return function(c){return i(a(c))}}var _overArg=overArg$1,overArg=_overArg,nativeKeys$1=overArg(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype=_isPrototype,nativeKeys=_nativeKeys,objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function baseKeys$1(i){if(!isPrototype(i))return nativeKeys(i);var a=[];for(var c in Object(i))hasOwnProperty$2.call(i,c)&&c!="constructor"&&a.push(c);return a}var _baseKeys=baseKeys$1,isFunction=isFunction_1,isLength$1=isLength_1;function isArrayLike$4(i){return i!=null&&isLength$1(i.length)&&!isFunction(i)}var isArrayLike_1=isArrayLike$4,arrayLikeKeys=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$3=isArrayLike_1;function keys$3(i){return isArrayLike$3(i)?arrayLikeKeys(i):baseKeys(i)}var keys_1=keys$3,baseGetAllKeys=_baseGetAllKeys,getSymbols=_getSymbols,keys$2=keys_1;function getAllKeys$1(i){return baseGetAllKeys(i,keys$2,getSymbols)}var _getAllKeys=getAllKeys$1,getAllKeys=_getAllKeys,COMPARE_PARTIAL_FLAG$3=1,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function equalObjects$1(i,a,c,_e,ot,$t){var zt=c&COMPARE_PARTIAL_FLAG$3,ct=getAllKeys(i),Et=ct.length,s=getAllKeys(a),st=s.length;if(Et!=st&&!zt)return!1;for(var Tt=Et;Tt--;){var wt=ct[Tt];if(!(zt?wt in a:hasOwnProperty$1.call(a,wt)))return!1}var e=$t.get(i),gt=$t.get(a);if(e&&gt)return e==a&&gt==i;var _=!0;$t.set(i,a),$t.set(a,i);for(var $=zt;++Tt<Et;){wt=ct[Tt];var d=i[wt],j=a[wt];if(_e)var g=zt?_e(j,d,wt,a,i,$t):_e(d,j,wt,i,a,$t);if(!(g===void 0?d===j||ot(d,j,c,_e,$t):g)){_=!1;break}$||($=wt=="constructor")}if(_&&!$){var o=i.constructor,ut=a.constructor;o!=ut&&"constructor"in i&&"constructor"in a&&!(typeof o=="function"&&o instanceof o&&typeof ut=="function"&&ut instanceof ut)&&(_=!1)}return $t.delete(i),$t.delete(a),_}var _equalObjects=equalObjects$1,getNative$4=_getNative,root$3=_root,DataView$2=getNative$4(root$3,"DataView"),_DataView=DataView$2,getNative$3=_getNative,root$2=_root,Promise$2=getNative$3(root$2,"Promise"),_Promise=Promise$2,getNative$2=_getNative,root$1=_root,Set$2=getNative$2(root$1,"Set"),_Set=Set$2,getNative$1=_getNative,root=_root,WeakMap$2=getNative$1(root,"WeakMap"),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$1=_Map,Promise$1=_Promise,Set$1=_Set,WeakMap$1=_WeakMap,baseGetTag=_baseGetTag,toSource=_toSource,mapTag="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag$1=baseGetTag;(DataView$1&&getTag$1(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag$1(new Map$1)!=mapTag||Promise$1&&getTag$1(Promise$1.resolve())!=promiseTag||Set$1&&getTag$1(new Set$1)!=setTag||WeakMap$1&&getTag$1(new WeakMap$1)!=weakMapTag)&&(getTag$1=function(i){var a=baseGetTag(i),c=a==objectTag$1?i.constructor:void 0,_e=c?toSource(c):"";if(_e)switch(_e){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return a});var _getTag=getTag$1,Stack$1=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag=_getTag,isArray$3=isArray_1,isBuffer=isBufferExports,isTypedArray=isTypedArray_1,COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function baseIsEqualDeep$1(i,a,c,_e,ot,$t){var zt=isArray$3(i),ct=isArray$3(a),Et=zt?arrayTag:getTag(i),s=ct?arrayTag:getTag(a);Et=Et==argsTag?objectTag:Et,s=s==argsTag?objectTag:s;var st=Et==objectTag,Tt=s==objectTag,wt=Et==s;if(wt&&isBuffer(i)){if(!isBuffer(a))return!1;zt=!0,st=!1}if(wt&&!st)return $t||($t=new Stack$1),zt||isTypedArray(i)?equalArrays(i,a,c,_e,ot,$t):equalByTag(i,a,Et,c,_e,ot,$t);if(!(c&COMPARE_PARTIAL_FLAG$2)){var e=st&&hasOwnProperty.call(i,"__wrapped__"),gt=Tt&&hasOwnProperty.call(a,"__wrapped__");if(e||gt){var _=e?i.value():i,$=gt?a.value():a;return $t||($t=new Stack$1),ot(_,$,c,_e,$t)}}return wt?($t||($t=new Stack$1),equalObjects(i,a,c,_e,ot,$t)):!1}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike=isObjectLike_1;function baseIsEqual$2(i,a,c,_e,ot){return i===a?!0:i==null||a==null||!isObjectLike(i)&&!isObjectLike(a)?i!==i&&a!==a:baseIsEqualDeep(i,a,c,_e,baseIsEqual$2,ot)}var _baseIsEqual=baseIsEqual$2,Stack=_Stack,baseIsEqual$1=_baseIsEqual,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch$1(i,a,c,_e){var ot=c.length,$t=ot,zt=!_e;if(i==null)return!$t;for(i=Object(i);ot--;){var ct=c[ot];if(zt&&ct[2]?ct[1]!==i[ct[0]]:!(ct[0]in i))return!1}for(;++ot<$t;){ct=c[ot];var Et=ct[0],s=i[Et],st=ct[1];if(zt&&ct[2]){if(s===void 0&&!(Et in i))return!1}else{var Tt=new Stack;if(_e)var wt=_e(s,st,Et,i,a,Tt);if(!(wt===void 0?baseIsEqual$1(st,s,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,_e,Tt):wt))return!1}}return!0}var _baseIsMatch=baseIsMatch$1,isObject$1=isObject_1;function isStrictComparable$2(i){return i===i&&!isObject$1(i)}var _isStrictComparable=isStrictComparable$2,isStrictComparable$1=_isStrictComparable,keys$1=keys_1;function getMatchData$1(i){for(var a=keys$1(i),c=a.length;c--;){var _e=a[c],ot=i[_e];a[c]=[_e,ot,isStrictComparable$1(ot)]}return a}var _getMatchData=getMatchData$1;function matchesStrictComparable$2(i,a){return function(c){return c==null?!1:c[i]===a&&(a!==void 0||i in Object(c))}}var _matchesStrictComparable=matchesStrictComparable$2,baseIsMatch=_baseIsMatch,getMatchData=_getMatchData,matchesStrictComparable$1=_matchesStrictComparable;function baseMatches$1(i){var a=getMatchData(i);return a.length==1&&a[0][2]?matchesStrictComparable$1(a[0][0],a[0][1]):function(c){return c===i||baseIsMatch(c,i,a)}}var _baseMatches=baseMatches$1,baseGet$2=_baseGet;function get$1(i,a,c){var _e=i==null?void 0:baseGet$2(i,a);return _e===void 0?c:_e}var get_1=get$1;function baseHasIn$1(i,a){return i!=null&&a in Object(i)}var _baseHasIn=baseHasIn$1,castPath=_castPath,isArguments=isArguments_1,isArray$2=isArray_1,isIndex$1=_isIndex,isLength=isLength_1,toKey$2=_toKey;function hasPath$1(i,a,c){a=castPath(a,i);for(var _e=-1,ot=a.length,$t=!1;++_e<ot;){var zt=toKey$2(a[_e]);if(!($t=i!=null&&c(i,zt)))break;i=i[zt]}return $t||++_e!=ot?$t:(ot=i==null?0:i.length,!!ot&&isLength(ot)&&isIndex$1(zt,ot)&&(isArray$2(i)||isArguments(i)))}var _hasPath=hasPath$1,baseHasIn=_baseHasIn,hasPath=_hasPath;function hasIn$1(i,a){return i!=null&&hasPath(i,a,baseHasIn)}var hasIn_1=hasIn$1,baseIsEqual=_baseIsEqual,get=get_1,hasIn=hasIn_1,isKey$1=_isKey,isStrictComparable=_isStrictComparable,matchesStrictComparable=_matchesStrictComparable,toKey$1=_toKey,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty$1(i,a){return isKey$1(i)&&isStrictComparable(a)?matchesStrictComparable(toKey$1(i),a):function(c){var _e=get(c,i);return _e===void 0&&_e===a?hasIn(c,i):baseIsEqual(a,_e,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}var _baseMatchesProperty=baseMatchesProperty$1;function identity$4(i){return i}var identity_1=identity$4;function baseProperty$1(i){return function(a){return a==null?void 0:a[i]}}var _baseProperty=baseProperty$1,baseGet$1=_baseGet;function basePropertyDeep$1(i){return function(a){return baseGet$1(a,i)}}var _basePropertyDeep=basePropertyDeep$1,baseProperty=_baseProperty,basePropertyDeep=_basePropertyDeep,isKey=_isKey,toKey=_toKey;function property$1(i){return isKey(i)?baseProperty(toKey(i)):basePropertyDeep(i)}var property_1=property$1,baseMatches=_baseMatches,baseMatchesProperty=_baseMatchesProperty,identity$3=identity_1,isArray$1=isArray_1,property=property_1;function baseIteratee$1(i){return typeof i=="function"?i:i==null?identity$3:typeof i=="object"?isArray$1(i)?baseMatchesProperty(i[0],i[1]):baseMatches(i):property(i)}var _baseIteratee=baseIteratee$1;function createBaseFor$1(i){return function(a,c,_e){for(var ot=-1,$t=Object(a),zt=_e(a),ct=zt.length;ct--;){var Et=zt[i?ct:++ot];if(c($t[Et],Et,$t)===!1)break}return a}}var _createBaseFor=createBaseFor$1,createBaseFor=_createBaseFor,baseFor$1=createBaseFor(),_baseFor=baseFor$1,baseFor=_baseFor,keys=keys_1;function baseForOwn$1(i,a){return i&&baseFor(i,a,keys)}var _baseForOwn=baseForOwn$1,isArrayLike$2=isArrayLike_1;function createBaseEach$1(i,a){return function(c,_e){if(c==null)return c;if(!isArrayLike$2(c))return i(c,_e);for(var ot=c.length,$t=a?ot:-1,zt=Object(c);(a?$t--:++$t<ot)&&_e(zt[$t],$t,zt)!==!1;);return c}}var _createBaseEach=createBaseEach$1,baseForOwn=_baseForOwn,createBaseEach=_createBaseEach,baseEach$1=createBaseEach(baseForOwn),_baseEach=baseEach$1,baseEach=_baseEach,isArrayLike$1=isArrayLike_1;function baseMap$1(i,a){var c=-1,_e=isArrayLike$1(i)?Array(i.length):[];return baseEach(i,function(ot,$t,zt){_e[++c]=a(ot,$t,zt)}),_e}var _baseMap=baseMap$1;function baseSortBy$1(i,a){var c=i.length;for(i.sort(a);c--;)i[c]=i[c].value;return i}var _baseSortBy=baseSortBy$1,isSymbol=isSymbol_1;function compareAscending$1(i,a){if(i!==a){var c=i!==void 0,_e=i===null,ot=i===i,$t=isSymbol(i),zt=a!==void 0,ct=a===null,Et=a===a,s=isSymbol(a);if(!ct&&!s&&!$t&&i>a||$t&&zt&&Et&&!ct&&!s||_e&&zt&&Et||!c&&Et||!ot)return 1;if(!_e&&!$t&&!s&&i<a||s&&c&&ot&&!_e&&!$t||ct&&c&&ot||!zt&&ot||!Et)return-1}return 0}var _compareAscending=compareAscending$1,compareAscending=_compareAscending;function compareMultiple$1(i,a,c){for(var _e=-1,ot=i.criteria,$t=a.criteria,zt=ot.length,ct=c.length;++_e<zt;){var Et=compareAscending(ot[_e],$t[_e]);if(Et){if(_e>=ct)return Et;var s=c[_e];return Et*(s=="desc"?-1:1)}}return i.index-a.index}var _compareMultiple=compareMultiple$1,arrayMap=_arrayMap,baseGet=_baseGet,baseIteratee=_baseIteratee,baseMap=_baseMap,baseSortBy=_baseSortBy,baseUnary=_baseUnary,compareMultiple=_compareMultiple,identity$2=identity_1,isArray=isArray_1;function baseOrderBy$1(i,a,c){a.length?a=arrayMap(a,function($t){return isArray($t)?function(zt){return baseGet(zt,$t.length===1?$t[0]:$t)}:$t}):a=[identity$2];var _e=-1;a=arrayMap(a,baseUnary(baseIteratee));var ot=baseMap(i,function($t,zt,ct){var Et=arrayMap(a,function(s){return s($t)});return{criteria:Et,index:++_e,value:$t}});return baseSortBy(ot,function($t,zt){return compareMultiple($t,zt,c)})}var _baseOrderBy=baseOrderBy$1;function apply$1(i,a,c){switch(c.length){case 0:return i.call(a);case 1:return i.call(a,c[0]);case 2:return i.call(a,c[0],c[1]);case 3:return i.call(a,c[0],c[1],c[2])}return i.apply(a,c)}var _apply=apply$1,apply=_apply,nativeMax=Math.max;function overRest$1(i,a,c){return a=nativeMax(a===void 0?i.length-1:a,0),function(){for(var _e=arguments,ot=-1,$t=nativeMax(_e.length-a,0),zt=Array($t);++ot<$t;)zt[ot]=_e[a+ot];ot=-1;for(var ct=Array(a+1);++ot<a;)ct[ot]=_e[ot];return ct[a]=c(zt),apply(i,this,ct)}}var _overRest=overRest$1;function constant$1(i){return function(){return i}}var constant_1=constant$1,getNative=_getNative,defineProperty$1=function(){try{var i=getNative(Object,"defineProperty");return i({},"",{}),i}catch{}}(),_defineProperty=defineProperty$1,constant=constant_1,defineProperty=_defineProperty,identity$1=identity_1,baseSetToString$1=defineProperty?function(i,a){return defineProperty(i,"toString",{configurable:!0,enumerable:!1,value:constant(a),writable:!0})}:identity$1,_baseSetToString=baseSetToString$1,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut$1(i){var a=0,c=0;return function(){var _e=nativeNow(),ot=HOT_SPAN-(_e-c);if(c=_e,ot>0){if(++a>=HOT_COUNT)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}var _shortOut=shortOut$1,baseSetToString=_baseSetToString,shortOut=_shortOut,setToString$1=shortOut(baseSetToString),_setToString=setToString$1,identity=identity_1,overRest=_overRest,setToString=_setToString;function baseRest$1(i,a){return setToString(overRest(i,a,identity),i+"")}var _baseRest=baseRest$1,eq=eq_1,isArrayLike=isArrayLike_1,isIndex=_isIndex,isObject=isObject_1;function isIterateeCall$1(i,a,c){if(!isObject(c))return!1;var _e=typeof a;return(_e=="number"?isArrayLike(c)&&isIndex(a,c.length):_e=="string"&&a in c)?eq(c[a],i):!1}var _isIterateeCall=isIterateeCall$1,baseFlatten=_baseFlatten,baseOrderBy=_baseOrderBy,baseRest=_baseRest,isIterateeCall=_isIterateeCall,sortBy=baseRest(function(i,a){if(i==null)return[];var c=a.length;return c>1&&isIterateeCall(i,a[0],a[1])?a=[]:c>2&&isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),baseOrderBy(i,baseFlatten(a,1),[])}),sortBy_1$1=sortBy,runtime={exports:{}};(function(i){var a=function(c){var _e=Object.prototype,ot=_e.hasOwnProperty,$t=Object.defineProperty||function(at,bt,St){at[bt]=St.value},zt,ct=typeof Symbol=="function"?Symbol:{},Et=ct.iterator||"@@iterator",s=ct.asyncIterator||"@@asyncIterator",st=ct.toStringTag||"@@toStringTag";function Tt(at,bt,St){return Object.defineProperty(at,bt,{value:St,enumerable:!0,configurable:!0,writable:!0}),at[bt]}try{Tt({},"")}catch{Tt=function(bt,St,ht){return bt[St]=ht}}function wt(at,bt,St,ht){var vt=bt&&bt.prototype instanceof g?bt:g,yt=Object.create(vt.prototype),At=new lt(ht||[]);return $t(yt,"_invoke",{value:Bt(at,St,At)}),yt}c.wrap=wt;function e(at,bt,St){try{return{type:"normal",arg:at.call(bt,St)}}catch(ht){return{type:"throw",arg:ht}}}var gt="suspendedStart",_="suspendedYield",$="executing",d="completed",j={};function g(){}function o(){}function ut(){}var dt={};Tt(dt,Et,function(){return this});var b=Object.getPrototypeOf,h=b&&b(b(ft([])));h&&h!==_e&&ot.call(h,Et)&&(dt=h);var et=ut.prototype=g.prototype=Object.create(dt);o.prototype=ut,$t(et,"constructor",{value:ut,configurable:!0}),$t(ut,"constructor",{value:o,configurable:!0}),o.displayName=Tt(ut,st,"GeneratorFunction");function nt(at){["next","throw","return"].forEach(function(bt){Tt(at,bt,function(St){return this._invoke(bt,St)})})}c.isGeneratorFunction=function(at){var bt=typeof at=="function"&&at.constructor;return bt?bt===o||(bt.displayName||bt.name)==="GeneratorFunction":!1},c.mark=function(at){return Object.setPrototypeOf?Object.setPrototypeOf(at,ut):(at.__proto__=ut,Tt(at,st,"GeneratorFunction")),at.prototype=Object.create(et),at},c.awrap=function(at){return{__await:at}};function pt(at,bt){function St(yt,At,Nt,Ht){var xt=e(at[yt],at,At);if(xt.type==="throw")Ht(xt.arg);else{var rt=xt.arg,mt=rt.value;return mt&&typeof mt=="object"&&ot.call(mt,"__await")?bt.resolve(mt.__await).then(function(Mt){St("next",Mt,Nt,Ht)},function(Mt){St("throw",Mt,Nt,Ht)}):bt.resolve(mt).then(function(Mt){rt.value=Mt,Nt(rt)},function(Mt){return St("throw",Mt,Nt,Ht)})}}var ht;function vt(yt,At){function Nt(){return new bt(function(Ht,xt){St(yt,At,Ht,xt)})}return ht=ht?ht.then(Nt,Nt):Nt()}$t(this,"_invoke",{value:vt})}nt(pt.prototype),Tt(pt.prototype,s,function(){return this}),c.AsyncIterator=pt,c.async=function(at,bt,St,ht,vt){vt===void 0&&(vt=Promise);var yt=new pt(wt(at,bt,St,ht),vt);return c.isGeneratorFunction(bt)?yt:yt.next().then(function(At){return At.done?At.value:yt.next()})};function Bt(at,bt,St){var ht=gt;return function(yt,At){if(ht===$)throw new Error("Generator is already running");if(ht===d){if(yt==="throw")throw At;return it()}for(St.method=yt,St.arg=At;;){var Nt=St.delegate;if(Nt){var Ht=Pt(Nt,St);if(Ht){if(Ht===j)continue;return Ht}}if(St.method==="next")St.sent=St._sent=St.arg;else if(St.method==="throw"){if(ht===gt)throw ht=d,St.arg;St.dispatchException(St.arg)}else St.method==="return"&&St.abrupt("return",St.arg);ht=$;var xt=e(at,bt,St);if(xt.type==="normal"){if(ht=St.done?d:_,xt.arg===j)continue;return{value:xt.arg,done:St.done}}else xt.type==="throw"&&(ht=d,St.method="throw",St.arg=xt.arg)}}}function Pt(at,bt){var St=bt.method,ht=at.iterator[St];if(ht===zt)return bt.delegate=null,St==="throw"&&at.iterator.return&&(bt.method="return",bt.arg=zt,Pt(at,bt),bt.method==="throw")||St!=="return"&&(bt.method="throw",bt.arg=new TypeError("The iterator does not provide a '"+St+"' method")),j;var vt=e(ht,at.iterator,bt.arg);if(vt.type==="throw")return bt.method="throw",bt.arg=vt.arg,bt.delegate=null,j;var yt=vt.arg;if(!yt)return bt.method="throw",bt.arg=new TypeError("iterator result is not an object"),bt.delegate=null,j;if(yt.done)bt[at.resultName]=yt.value,bt.next=at.nextLoc,bt.method!=="return"&&(bt.method="next",bt.arg=zt);else return yt;return bt.delegate=null,j}nt(et),Tt(et,st,"Generator"),Tt(et,Et,function(){return this}),Tt(et,"toString",function(){return"[object Generator]"});function Rt(at){var bt={tryLoc:at[0]};1 in at&&(bt.catchLoc=at[1]),2 in at&&(bt.finallyLoc=at[2],bt.afterLoc=at[3]),this.tryEntries.push(bt)}function Ft(at){var bt=at.completion||{};bt.type="normal",delete bt.arg,at.completion=bt}function lt(at){this.tryEntries=[{tryLoc:"root"}],at.forEach(Rt,this),this.reset(!0)}c.keys=function(at){var bt=Object(at),St=[];for(var ht in bt)St.push(ht);return St.reverse(),function vt(){for(;St.length;){var yt=St.pop();if(yt in bt)return vt.value=yt,vt.done=!1,vt}return vt.done=!0,vt}};function ft(at){if(at){var bt=at[Et];if(bt)return bt.call(at);if(typeof at.next=="function")return at;if(!isNaN(at.length)){var St=-1,ht=function vt(){for(;++St<at.length;)if(ot.call(at,St))return vt.value=at[St],vt.done=!1,vt;return vt.value=zt,vt.done=!0,vt};return ht.next=ht}}return{next:it}}c.values=ft;function it(){return{value:zt,done:!0}}return lt.prototype={constructor:lt,reset:function(at){if(this.prev=0,this.next=0,this.sent=this._sent=zt,this.done=!1,this.delegate=null,this.method="next",this.arg=zt,this.tryEntries.forEach(Ft),!at)for(var bt in this)bt.charAt(0)==="t"&&ot.call(this,bt)&&!isNaN(+bt.slice(1))&&(this[bt]=zt)},stop:function(){this.done=!0;var at=this.tryEntries[0],bt=at.completion;if(bt.type==="throw")throw bt.arg;return this.rval},dispatchException:function(at){if(this.done)throw at;var bt=this;function St(Ht,xt){return yt.type="throw",yt.arg=at,bt.next=Ht,xt&&(bt.method="next",bt.arg=zt),!!xt}for(var ht=this.tryEntries.length-1;ht>=0;--ht){var vt=this.tryEntries[ht],yt=vt.completion;if(vt.tryLoc==="root")return St("end");if(vt.tryLoc<=this.prev){var At=ot.call(vt,"catchLoc"),Nt=ot.call(vt,"finallyLoc");if(At&&Nt){if(this.prev<vt.catchLoc)return St(vt.catchLoc,!0);if(this.prev<vt.finallyLoc)return St(vt.finallyLoc)}else if(At){if(this.prev<vt.catchLoc)return St(vt.catchLoc,!0)}else if(Nt){if(this.prev<vt.finallyLoc)return St(vt.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(at,bt){for(var St=this.tryEntries.length-1;St>=0;--St){var ht=this.tryEntries[St];if(ht.tryLoc<=this.prev&&ot.call(ht,"finallyLoc")&&this.prev<ht.finallyLoc){var vt=ht;break}}vt&&(at==="break"||at==="continue")&&vt.tryLoc<=bt&&bt<=vt.finallyLoc&&(vt=null);var yt=vt?vt.completion:{};return yt.type=at,yt.arg=bt,vt?(this.method="next",this.next=vt.finallyLoc,j):this.complete(yt)},complete:function(at,bt){if(at.type==="throw")throw at.arg;return at.type==="break"||at.type==="continue"?this.next=at.arg:at.type==="return"?(this.rval=this.arg=at.arg,this.method="return",this.next="end"):at.type==="normal"&&bt&&(this.next=bt),j},finish:function(at){for(var bt=this.tryEntries.length-1;bt>=0;--bt){var St=this.tryEntries[bt];if(St.finallyLoc===at)return this.complete(St.completion,St.afterLoc),Ft(St),j}},catch:function(at){for(var bt=this.tryEntries.length-1;bt>=0;--bt){var St=this.tryEntries[bt];if(St.tryLoc===at){var ht=St.completion;if(ht.type==="throw"){var vt=ht.arg;Ft(St)}return vt}}throw new Error("illegal catch attempt")},delegateYield:function(at,bt,St){return this.delegate={iterator:ft(at),resultName:bt,nextLoc:St},this.method==="next"&&(this.arg=zt),j}},c}(i.exports);try{regeneratorRuntime=a}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}})(runtime);var getId$3=(i,a)=>`${i}-${a}-${Math.random().toString(16).slice(3,8)}`;const getId$2=getId$3;let jobCounter=0;var createJob$2=({id:i,action:a,payload:c={}})=>{let _e=i;return typeof _e>"u"&&(_e=getId$2("Job",jobCounter),jobCounter+=1),{id:_e,action:a,payload:c}},log$2={};let logging=!1;log$2.logging=logging;log$2.setLogging=i=>{logging=i};log$2.log=(...i)=>logging?console.log.apply(void 0,i):null;const createJob$1=createJob$2,{log:log$1}=log$2,getId$1=getId$3;let schedulerCounter=0;var createScheduler$1=()=>{const i=getId$1("Scheduler",schedulerCounter),a={},c={};let _e=[];schedulerCounter+=1;const ot=()=>_e.length,$t=()=>Object.keys(a).length,zt=()=>{if(_e.length!==0){const Tt=Object.keys(a);for(let wt=0;wt<Tt.length;wt+=1)if(typeof c[Tt[wt]]>"u"){_e[0](a[Tt[wt]]);break}}},ct=(Tt,wt)=>new Promise((e,gt)=>{const _=createJob$1({action:Tt,payload:wt});_e.push(async $=>{_e.shift(),c[$.id]=_;try{e(await $[Tt].apply(void 0,[...wt,_.id]))}catch(d){gt(d)}finally{delete c[$.id],zt()}}),log$1(`[${i}]: Add ${_.id} to JobQueue`),log$1(`[${i}]: JobQueue length=${_e.length}`),zt()});return{addWorker:Tt=>(a[Tt.id]=Tt,log$1(`[${i}]: Add ${Tt.id}`),log$1(`[${i}]: Number of workers=${$t()}`),zt(),Tt.id),addJob:async(Tt,...wt)=>{if($t()===0)throw Error(`[${i}]: You need to have at least one worker before adding jobs`);return ct(Tt,wt)},terminate:async()=>{Object.keys(a).forEach(async Tt=>{await a[Tt].terminate()}),_e=[]},getQueueLen:ot,getNumWorkers:$t}},getEnvironment=i=>{const a={};return typeof WorkerGlobalScope<"u"?a.type="webworker":typeof document=="object"?a.type="browser":typeof process=="object"&&typeof commonjsRequire=="function"&&(a.type="node"),typeof i>"u"?a:a[i]};const isBrowser=getEnvironment("type")==="browser",resolveURL=isBrowser?i=>new URL(i,window.location.href).href:i=>i;var resolvePaths$1=i=>{const a={...i};return["corePath","workerPath","langPath"].forEach(c=>{i[c]&&(a[c]=resolveURL(a[c]))}),a},OEM$2={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const version$1="6.0.1",require$$0={version:version$1};var defaultOptions$3={workerBlobURL:!0,logger:()=>{}};const version=require$$0.version,defaultOptions$2=defaultOptions$3;var defaultOptions_1={...defaultOptions$2,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${version}/dist/worker.min.js`},spawnWorker$2=({workerPath:i,workerBlobURL:a})=>{let c;if(Blob&&URL&&a){const _e=new Blob([`importScripts("${i}");`],{type:"application/javascript"});c=new Worker(URL.createObjectURL(_e))}else c=new Worker(i);return c},terminateWorker$2=i=>{i.terminate()},onMessage$2=(i,a)=>{i.onmessage=({data:c})=>{a(c)}},send$2=async(i,a)=>{i.postMessage(a)};const readFromBlobOrFile=i=>new Promise((a,c)=>{const _e=new FileReader;_e.onload=()=>{a(_e.result)},_e.onerror=({target:{error:{code:ot}}})=>{c(Error(`File could not be read! Code=${ot}`))},_e.readAsArrayBuffer(i)}),loadImage$2=async i=>{let a=i;if(typeof i>"u")return"undefined";if(typeof i=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(i)?a=atob(i.split(",")[1]).split("").map(c=>c.charCodeAt(0)):a=await(await fetch(i)).arrayBuffer();else if(typeof HTMLElement<"u"&&i instanceof HTMLElement)i.tagName==="IMG"&&(a=await loadImage$2(i.src)),i.tagName==="VIDEO"&&(a=await loadImage$2(i.poster)),i.tagName==="CANVAS"&&await new Promise(c=>{i.toBlob(async _e=>{a=await readFromBlobOrFile(_e),c()})});else if(typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas){const c=await i.convertToBlob();a=await readFromBlobOrFile(c)}else(i instanceof File||i instanceof Blob)&&(a=await readFromBlobOrFile(i));return new Uint8Array(a)};var loadImage_1=loadImage$2;const defaultOptions$1=defaultOptions_1,spawnWorker$1=spawnWorker$2,terminateWorker$1=terminateWorker$2,onMessage$1=onMessage$2,send$1=send$2,loadImage$1=loadImage_1;var browser={defaultOptions:defaultOptions$1,spawnWorker:spawnWorker$1,terminateWorker:terminateWorker$1,onMessage:onMessage$1,send:send$1,loadImage:loadImage$1};const resolvePaths=resolvePaths$1,createJob=createJob$2,{log}=log$2,getId=getId$3,OEM$1=OEM$2,{defaultOptions,spawnWorker,terminateWorker,onMessage,loadImage,send}=browser;let workerCounter=0;var createWorker$2=async(i="eng",a=OEM$1.LSTM_ONLY,c={},_e={})=>{const ot=getId("Worker",workerCounter),{logger:$t,errorHandler:zt,...ct}=resolvePaths({...defaultOptions,...c}),Et={},s=typeof i=="string"?i.split("+"):i;let st=a,Tt=_e;const wt=[OEM$1.DEFAULT,OEM$1.LSTM_ONLY].includes(a)&&!ct.legacyCore;let e,gt;const _=new Promise((ft,it)=>{gt=ft,e=it}),$=ft=>{e(ft.message)};let d=spawnWorker(ct);d.onerror=$,workerCounter+=1;const j=({id:ft,action:it,payload:at})=>new Promise((bt,St)=>{log(`[${ot}]: Start ${ft}, action=${it}`);const ht=`${it}-${ft}`;Et[ht]={resolve:bt,reject:St},send(d,{workerId:ot,jobId:ft,action:it,payload:at})}),g=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),o=ft=>j(createJob({id:ft,action:"load",payload:{options:{lstmOnly:wt,corePath:ct.corePath,logging:ct.logging}}})),ut=(ft,it,at)=>j(createJob({id:at,action:"FS",payload:{method:"writeFile",args:[ft,it]}})),dt=(ft,it)=>j(createJob({id:it,action:"FS",payload:{method:"readFile",args:[ft,{encoding:"utf8"}]}})),b=(ft,it)=>j(createJob({id:it,action:"FS",payload:{method:"unlink",args:[ft]}})),h=(ft,it,at)=>j(createJob({id:at,action:"FS",payload:{method:ft,args:it}})),et=(ft,it)=>j(createJob({id:it,action:"loadLanguage",payload:{langs:ft,options:{langPath:ct.langPath,dataPath:ct.dataPath,cachePath:ct.cachePath,cacheMethod:ct.cacheMethod,gzip:ct.gzip,lstmOnly:[OEM$1.DEFAULT,OEM$1.LSTM_ONLY].includes(st)&&!ct.legacyLang}}})),nt=(ft,it,at,bt)=>j(createJob({id:bt,action:"initialize",payload:{langs:ft,oem:it,config:at}})),pt=(ft="eng",it,at,bt)=>{if(wt&&[OEM$1.TESSERACT_ONLY,OEM$1.TESSERACT_LSTM_COMBINED].includes(it))throw Error("Legacy model requested but code missing.");const St=it||st;st=St;const ht=at||Tt;Tt=ht;const yt=(typeof ft=="string"?ft.split("+"):ft).filter(At=>!s.includes(At));return s.push(...yt),yt.length>0?et(yt,bt).then(()=>nt(ft,St,ht,bt)):nt(ft,St,ht,bt)},Bt=(ft={},it)=>j(createJob({id:it,action:"setParameters",payload:{params:ft}})),Pt=async(ft,it={},at={text:!0},bt)=>j(createJob({id:bt,action:"recognize",payload:{image:await loadImage(ft),options:it,output:at}})),Rt=async(ft,it)=>{if(wt)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return j(createJob({id:it,action:"detect",payload:{image:await loadImage(ft)}}))},Ft=async()=>(d!==null&&(terminateWorker(d),d=null),Promise.resolve());onMessage(d,({workerId:ft,jobId:it,status:at,action:bt,data:St})=>{const ht=`${bt}-${it}`;if(at==="resolve")log(`[${ft}]: Complete ${it}`),Et[ht].resolve({jobId:it,data:St}),delete Et[ht];else if(at==="reject")if(Et[ht].reject(St),delete Et[ht],bt==="load"&&e(St),zt)zt(St);else throw Error(St);else at==="progress"&&$t({...St,userJobId:it})});const lt={id:ot,worker:d,load:g,writeText:ut,readText:dt,removeFile:b,FS:h,reinitialize:pt,setParameters:Bt,recognize:Pt,detect:Rt,terminate:Ft};return o().then(()=>et(i)).then(()=>nt(i,a,_e)).then(()=>gt(lt)).catch(()=>{}),_};const createWorker$1=createWorker$2,recognize=async(i,a,c)=>{const _e=await createWorker$1(a,1,c);return _e.recognize(i).finally(async()=>{await _e.terminate()})},detect=async(i,a)=>{const c=await createWorker$1("osd",0,a);return c.detect(i).finally(async()=>{await c.terminate()})};var Tesseract$1={recognize,detect},languages$1={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},PSM$1={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const createScheduler=createScheduler$1,createWorker=createWorker$2,Tesseract=Tesseract$1,languages=languages$1,OEM=OEM$2,PSM=PSM$1,{setLogging}=log$2;var src={languages,OEM,PSM,createScheduler,createWorker,setLogging,...Tesseract},__importDefault$j=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(useTesseract$1,"__esModule",{value:!0});const sortBy_1=__importDefault$j(sortBy_1$1),react_1$p=reactExports,tesseract_js_1=src,pdfHelpers_1$3=pdfHelpers,useTesseract=(i,a)=>{const[c,_e]=(0,react_1$p.useState)(!1),[ot,$t]=(0,react_1$p.useState)(void 0),[zt,ct]=(0,react_1$p.useState)(null);(0,react_1$p.useEffect)(()=>{if(zt&&zt.baseScale!==i){const s=zt.ocrWords.map(st=>{const Tt=(0,pdfHelpers_1$3.recalculateBoundingBox)(st.coords,zt.baseScale,i),wt=(0,pdfHelpers_1$3.calculateFontSize)(Tt.width,Tt.height,st.text),e=(0,pdfHelpers_1$3.calculateTransform)(Tt.width,wt,st.fontFamily,st.text,a);return{...st,coords:Tt,fontSize:wt,transform:e}});ct({...zt,ocrWords:s,baseScale:i})}},[zt,i,a]);const Et=(0,react_1$p.useCallback)(async(s="eng")=>{_e(!0);try{const st=await(0,tesseract_js_1.createWorker)();await st.loadLanguage(s),await st.initialize(s);const Tt=await st.recognize(a.canvas);$t(void 0),_e(!1);const wt=Tt.data.words.map(e=>{const gt=(0,pdfHelpers_1$3.calculateRectangleProperties)(e.bbox),_=(0,pdfHelpers_1$3.calculateFontSize)(gt.width,gt.height,e.text),$=e.font_name||"sans-serif",d=(0,pdfHelpers_1$3.calculateTransform)(gt.width,_,$,e.text,a);return{coords:gt,text:e.text,fontSize:_,fontFamily:$,transform:d}});return ct({confidence:Tt.data.confidence,ocrWords:(0,sortBy_1.default)(wt,["coords.top","coords.left"]),baseScale:i}),await st.terminate(),Tt}catch(st){throw ct(null),_e(!1),$t(st),st}},[i,a]);return{ocrResult:zt,ocrError:ot,ocrLoading:c,doOCR:Et}};useTesseract$1.default=useTesseract;var useTextLayer$1={},__importDefault$i=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(useTextLayer$1,"__esModule",{value:!0});const react_1$o=reactExports,lodash_1=__importDefault$i(lodashExports),pdfHelpers_1$2=pdfHelpers,useTextLayer=(i,a,c)=>{const[_e,ot]=(0,react_1$o.useState)(c||null),[$t,zt]=(0,react_1$o.useState)(1.5);(0,react_1$o.useEffect)(()=>{if(_e&&a&&$t!==i){const Et=_e.map(s=>{const st=(0,pdfHelpers_1$2.recalculateBoundingBox)(s.coords,$t,i),Tt=(0,pdfHelpers_1$2.calculateFontSize)(st.width,st.height,s.text),wt=(0,pdfHelpers_1$2.calculateTransform)(st.width,Tt,s.fontFamily,s.text,a);return{...s,coords:st,fontSize:Tt,transform:wt}});ot(Et),zt(i)}},[i,$t,_e,a]);const ct=(0,react_1$o.useCallback)((Et,s)=>{const st=Et.items.map(Tt=>{const wt=Et.styles[Tt.fontName],{left:e,top:gt,fontSize:_,transform:$}=(0,pdfHelpers_1$2.calculateTextProperties)(Tt,wt,s,a);return{coords:{left:e,top:gt,width:Tt.width*i,height:Tt.height*i},text:Tt.str,fontSize:_,fontFamily:wt.fontFamily,transform:$}});ot(lodash_1.default.sortBy(st,["coords.top","coords.left"]))},[a,i]);return{textLayer:_e,buildTextLayer:ct}};useTextLayer$1.default=useTextLayer;var Selection$1={};function useEvent(i,a,c,_e){const ot=reactExports.useRef(c),$t=reactExports.useRef(_e);reactExports.useEffect(()=>{ot.current=c,$t.current=_e}),reactExports.useEffect(()=>{const zt=i&&"current"in i?i.current:i;if(!zt)return;let ct=0;function Et(...st){ct||ot.current.apply(this,st)}zt.addEventListener(a,Et);const s=$t.current;return()=>{ct=1,zt.removeEventListener(a,Et),s&&s()}},[i,a])}const useLatest=i=>{const a=reactExports.useRef(i);return reactExports.useEffect(()=>{a.current=i}),a},perf=typeof performance<"u"?performance:Date,now=()=>perf.now();function useThrottleCallback(i,a=30,c=!1){const _e=useLatest(i),ot=1e3/a,$t=reactExports.useRef(0),zt=reactExports.useRef(),ct=()=>zt.current&&clearTimeout(zt.current),Et=[a,c,_e];function s(){$t.current=0,ct()}return reactExports.useEffect(()=>s,Et),reactExports.useCallback(function(){const st=arguments,Tt=now(),wt=()=>{$t.current=Tt,ct(),_e.current.apply(null,st)},e=$t.current;if(c&&e===0)return wt();if(Tt-e>ot){if(e>0)return wt();$t.current=Tt}ct(),zt.current=setTimeout(()=>{wt(),$t.current=0},ot)},Et)}function _ref(i,a){if(typeof window>"u")return i;const{event:c,element:_e}=a;let ot;"touches"in c?ot=c.touches[0]:ot=c;const{clientX:$t,clientY:zt,screenX:ct,screenY:Et,pageX:s=0,pageY:st=0}=ot,Tt=_e.getBoundingClientRect(),wt=s-Tt.left-(window.pageXOffset||window.scrollX),e=st-Tt.top-(window.pageYOffset||window.scrollY);return"touches"in c&&(wt<0||e<0||wt>Tt.width||e>Tt.height)?{...i,context:{...i.context,hoverStatus:"leave",touchStatus:"end"}}:{context:{...i.context,hoverStatus:"enter"},mouse:{...i.mouse,x:wt,y:e,pageX:s,pageY:st,clientX:$t,clientY:zt,screenX:ct,screenY:Et,elementWidth:Tt.width,elementHeight:Tt.height,isOver:!0,isTouch:"touches"in c}}}function _ref2(i,a){const{mouse:c,context:_e}=i,ot=_ref;if(a.type==="mousemove")return _e.touchStatus==="end"?i:ot(i,a);if(a.type==="touchmove"){const $t={context:{..._e,touchStatus:"start"},mouse:c};return ot($t,a)}else if(a.type==="touchdown"){const $t={context:{..._e,touchStatus:"start"},mouse:{...c,isDown:!0}};return ot($t,a)}else{if(a.type==="mousedown")return{context:_e,mouse:{...c,isDown:!0}};if(a.type==="mouseup")return{context:_e,mouse:{...c,isDown:!1}};if(a.type==="mouseleave")return{context:{..._e,hoverStatus:"leave"},mouse:{...c,isOver:!1}};if(a.type==="touchleave")return{context:{..._e,hoverStatus:"leave",touchStatus:"end"},mouse:{...c,isOver:!1,isDown:!1}};if(a.type==="activeStatus")return{context:{..._e,activeStatus:a.value},mouse:c}}return i}function useMouse(i,a={}){const{fps:c=30,enterDelay:_e=0,leaveDelay:ot=0}=a,[$t,zt]=reactExports.useReducer(_ref2,{mouse:initialState,context:initialContext}),ct=useThrottleCallback(_=>{const $=i&&"current"in i?i.current:i;$&&zt({type:"mousemove",event:_,element:$})},c,!0),Et=useThrottleCallback(_=>{const $=i&&"current"in i?i.current:i;$&&zt({type:"touchmove",event:_,element:$})},c,!0),s=useThrottleCallback(()=>zt({type:"mouseleave"}),c,!1),st=useThrottleCallback(_=>{const $=i&&"current"in i?i.current:i;$&&zt("touches"in _?{type:"touchdown",element:$,event:_}:{type:"mousedown",element:$,event:_})},c,!0),Tt=useThrottleCallback(()=>zt({type:"mouseup"}),c,!1),wt=useThrottleCallback(()=>zt({type:"touchleave"}),c,!1);useEvent(i,"mouseenter",ct),useEvent(i,"mousemove",ct),useEvent(i,"mouseleave",s),useEvent(i,"mousedown",st),useEvent(typeof window<"u"?window:null,"mousedown",st),useEvent(typeof window<"u"?window:null,"mouseup",Tt),useEvent(i,"touchstart",st),useEvent(i,"touchmove",Et),useEvent(i,"touchend",wt),useEvent(i,"touchcancel",wt);function e(){return zt({type:"activeStatus",value:"active"})}function gt(){return zt({type:"activeStatus",value:"inactive"})}return reactExports.useEffect(()=>{if($t.context.hoverStatus==="enter"){if(_e){const _=setTimeout(e,_e);return()=>clearTimeout(_)}zt({type:"activeStatus",value:"active"})}else{if(ot){const _=setTimeout(gt,ot);return()=>clearTimeout(_)}zt({type:"activeStatus",value:"inactive"})}},[$t.context.hoverStatus,_e,ot]),$t.context.activeStatus==="active"?$t.mouse:initialState}const initialState={x:null,y:null,pageX:null,pageY:null,clientX:null,clientY:null,screenX:null,screenY:null,elementWidth:null,elementHeight:null,isOver:!1,isDown:!1,isTouch:!1},initialContext={hoverStatus:"idle",touchStatus:"idle",activeStatus:"inactive"},module$1=Object.freeze(Object.defineProperty({__proto__:null,default:useMouse},Symbol.toStringTag,{value:"Module"})),require$$1$4=getAugmentedNamespace(module$1);var selectionHelpers={};Object.defineProperty(selectionHelpers,"__esModule",{value:!0});selectionHelpers.findIntersectingChildren=selectionHelpers.calculateSelectionRectangle=selectionHelpers.isCoordsEmpty=void 0;const isCoordsEmpty=i=>i.width*i.height<=25;selectionHelpers.isCoordsEmpty=isCoordsEmpty;const calculateSelectionRectangle=(i,a)=>{const c=Math.min(i.x,a.x),_e=Math.max(i.x,a.x),ot=Math.min(i.y,a.y),$t=Math.max(i.y,a.y);return{left:c,top:ot,width:_e-c,height:$t-ot}};selectionHelpers.calculateSelectionRectangle=calculateSelectionRectangle;const findIntersectingChildren=(i,a,c=0,_e=0)=>Array.from(i).filter(ot=>intersects(ot,a,c,_e));selectionHelpers.findIntersectingChildren=findIntersectingChildren;const intersects=(i,a,c,_e)=>{if(Object.values(i.attributes).map(Et=>Et.name).includes("data-ignore"))return!1;const ot=Math.max(a.left,i.offsetLeft+c),$t=Math.min(a.left+a.width,i.offsetLeft+c+i.offsetWidth),zt=Math.max(a.top,i.offsetTop+_e),ct=Math.min(a.top+a.height,i.offsetTop+_e+i.offsetHeight);return ot<$t&&zt<ct};var SelectionRectangle$1={},__createBinding$c=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(i,a,c,_e){_e===void 0&&(_e=c);var ot=Object.getOwnPropertyDescriptor(a,c);(!ot||("get"in ot?!a.__esModule:ot.writable||ot.configurable))&&(ot={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(i,_e,ot)}:function(i,a,c,_e){_e===void 0&&(_e=c),i[_e]=a[c]}),__setModuleDefault$c=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(i,a){Object.defineProperty(i,"default",{enumerable:!0,value:a})}:function(i,a){i.default=a}),__importStar$c=commonjsGlobal&&commonjsGlobal.__importStar||function(i){if(i&&i.__esModule)return i;var a={};if(i!=null)for(var c in i)c!=="default"&&Object.prototype.hasOwnProperty.call(i,c)&&__createBinding$c(a,i,c);return __setModuleDefault$c(a,i),a};Object.defineProperty(SelectionRectangle$1,"__esModule",{value:!0});const react_1$n=__importStar$c(reactExports),SelectionRectangle=({isDragging:i,coordinates:a})=>{const c=(0,react_1$n.useMemo)(()=>i?"visible":"hidden",[i]);return react_1$n.default.createElement("span",{"data-ignore":!0,className:"selection__rectangle",style:{visibility:c,left:`${a.left}px`,top:`${a.top}px`,width:`${a.width}px`,height:`${a.height}px`}})};SelectionRectangle$1.default=SelectionRectangle;var annotationHelpers={};Object.defineProperty(annotationHelpers,"__esModule",{value:!0});annotationHelpers.buildAreaAnnotation=annotationHelpers.buildNerAnnotation=void 0;const selectionHelpers_1$1=selectionHelpers,getImageAsBase64=(i,a)=>{const{left:c,top:_e,width:ot,height:$t}=i,zt=a.getImageData(c,_e,ot,$t),ct=document.createElement("canvas");return ct.width=ot,ct.height=$t,ct.getContext("2d").putImageData(zt,0,0),ct.toDataURL("image/jpeg",1)},buildNerAnnotation=(i,a,c,_e)=>{const ot=(0,selectionHelpers_1$1.findIntersectingChildren)(c,_e),$t={page:i,nerAnnotation:{tokens:[],textIds:[]},entity:a,index:a.index};return ot.forEach(zt=>{const ct=zt.offsetLeft,Et=zt.offsetTop;(0,selectionHelpers_1$1.findIntersectingChildren)(zt.children,_e,ct,Et).forEach((s,st)=>{const Tt=s.getAttribute("data-i");Tt&&($t.nerAnnotation.tokens.push(s.textContent),$t.nerAnnotation.textIds.push(parseInt(Tt,10)))})}),$t};annotationHelpers.buildNerAnnotation=buildNerAnnotation;const buildAreaAnnotation=(i,a,c,_e,ot)=>(0,selectionHelpers_1$1.isCoordsEmpty)(c)?null:{page:i,areaAnnotation:{boundingBox:c,pdfInformation:_e,base64Image:getImageAsBase64(c,ot)},entity:a};annotationHelpers.buildAreaAnnotation=buildAreaAnnotation;var useKeyPressedListener$1={};Object.defineProperty(useKeyPressedListener$1,"__esModule",{value:!0});const react_1$m=reactExports,useKeyPressedListener=(i="CONTROL")=>{const[a,c]=(0,react_1$m.useState)(!1),_e=(0,react_1$m.useCallback)(()=>i.toUpperCase()==="CONTROL"||i.toUpperCase()==="META"?["CONTROL","META"]:[i.toUpperCase()],[i]),ot=(0,react_1$m.useCallback)(({key:zt})=>{_e().includes(zt==null?void 0:zt.toUpperCase())&&c(!0)},[_e]),$t=(0,react_1$m.useCallback)(({key:zt})=>{_e().includes(zt==null?void 0:zt.toUpperCase())&&c(!1)},[_e]);return(0,react_1$m.useEffect)(()=>(window.addEventListener("keydown",ot),window.addEventListener("keyup",$t),()=>{window.removeEventListener("keydown",ot),window.removeEventListener("keyup",$t)}),[ot,$t]),a};useKeyPressedListener$1.default=useKeyPressedListener;var CursorText$1={},configContext={};Object.defineProperty(configContext,"__esModule",{value:!0});const react_1$l=reactExports,ConfigContext=(0,react_1$l.createContext)({config:{}});ConfigContext.displayName="ConfigContext";configContext.default=ConfigContext;var __createBinding$b=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(i,a,c,_e){_e===void 0&&(_e=c);var ot=Object.getOwnPropertyDescriptor(a,c);(!ot||("get"in ot?!a.__esModule:ot.writable||ot.configurable))&&(ot={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(i,_e,ot)}:function(i,a,c,_e){_e===void 0&&(_e=c),i[_e]=a[c]}),__setModuleDefault$b=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(i,a){Object.defineProperty(i,"default",{enumerable:!0,value:a})}:function(i,a){i.default=a}),__importStar$b=commonjsGlobal&&commonjsGlobal.__importStar||function(i){if(i&&i.__esModule)return i;var a={};if(i!=null)for(var c in i)c!=="default"&&Object.prototype.hasOwnProperty.call(i,c)&&__createBinding$b(a,i,c);return __setModuleDefault$b(a,i),a},__importDefault$h=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(CursorText$1,"__esModule",{value:!0});const react_1$k=__importStar$b(reactExports),configContext_1$4=__importDefault$h(configContext),OFFSET=15,CursorText=({entity:i,mouseCoords:a})=>{const{config:c}=(0,react_1$k.useContext)(configContext_1$4.default),_e=(0,react_1$k.useRef)(null),ot=(0,react_1$k.useMemo)(()=>!i||c.hideAnnotatingTooltips||!_e.current?{}:{left:`${a.x+OFFSET}px`,top:`${a.y+OFFSET}px`,backgroundColor:i.color},[i,c.hideAnnotatingTooltips,a]);return!i||c.hideAnnotatingTooltips?null:react_1$k.default.createElement("span",{className:"cursor-text",ref:_e,style:ot},i.name)};CursorText$1.default=CursorText;var entityContext={};Object.defineProperty(entityContext,"__esModule",{value:!0});const react_1$j=reactExports,EntityContext=(0,react_1$j.createContext)({entity:void 0});EntityContext.displayName="EntityContext";entityContext.default=EntityContext;var __createBinding$a=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(i,a,c,_e){_e===void 0&&(_e=c);var ot=Object.getOwnPropertyDescriptor(a,c);(!ot||("get"in ot?!a.__esModule:ot.writable||ot.configurable))&&(ot={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(i,_e,ot)}:function(i,a,c,_e){_e===void 0&&(_e=c),i[_e]=a[c]}),__setModuleDefault$a=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(i,a){Object.defineProperty(i,"default",{enumerable:!0,value:a})}:function(i,a){i.default=a}),__importStar$a=commonjsGlobal&&commonjsGlobal.__importStar||function(i){if(i&&i.__esModule)return i;var a={};if(i!=null)for(var c in i)c!=="default"&&Object.prototype.hasOwnProperty.call(i,c)&&__createBinding$a(a,i,c);return __setModuleDefault$a(a,i),a},__importDefault$g=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Selection$1,"__esModule",{value:!0});const react_1$i=__importStar$a(reactExports),mouse_position_1=__importDefault$g(require$$1$4),selectionHelpers_1=selectionHelpers,SelectionRectangle_1=__importDefault$g(SelectionRectangle$1),annotationHelpers_1=annotationHelpers,useKeyPressedListener_1=__importDefault$g(useKeyPressedListener$1),CursorText_1=__importDefault$g(CursorText$1),entityContext_1$2=__importDefault$g(entityContext),initialCoords={left:0,top:0,width:0,height:0},Selection=({pageNumber:i,children:a,addAnnotation:c,updateLastAnnotationForEntity:_e,className:ot,style:$t,pdfInformation:zt,pdfContext:ct})=>{const Et=(0,react_1$i.useRef)(null),s=(0,mouse_position_1.default)(Et),st=(0,useKeyPressedListener_1.default)(),[Tt,wt]=(0,react_1$i.useState)(!1),[e,gt]=(0,react_1$i.useState)({x:0,y:0}),[_,$]=(0,react_1$i.useState)(initialCoords),{entity:d}=(0,react_1$i.useContext)(entityContext_1$2.default),j=(0,react_1$i.useMemo)(()=>d&&Tt?"annotating-mode":d?"normal-mode":"text-selection-mode",[d,Tt]),g=(0,react_1$i.useCallback)(b=>{var h;((h=b==null?void 0:b.key)===null||h===void 0?void 0:h.toLowerCase())==="escape"&&Tt&&(wt(!1),gt({x:0,y:0}),$(initialCoords))},[Tt]);(0,react_1$i.useEffect)(()=>(document.addEventListener("keydown",g,!1),()=>{document.removeEventListener("keydown",g,!1)}),[g]);const o=(0,react_1$i.useCallback)(()=>{if(d){const{x:b,y:h}=s;gt({x:b,y:h}),wt(!0)}},[d,s]),ut=(0,react_1$i.useCallback)(()=>{if(Et&&d){let b=_;if((0,selectionHelpers_1.isCoordsEmpty)(_)&&d.entityType==="NER"){const{x:h,y:et}=s;b={left:h,top:et,width:1,height:1}}switch(d.entityType){case"NER":{const{children:h}=Et.current,et=(0,annotationHelpers_1.buildNerAnnotation)(i,d,h,b);et.nerAnnotation.textIds.length&&(st?_e(et):c(et));break}case"AREA":{const h=(0,annotationHelpers_1.buildAreaAnnotation)(i,d,b,zt,ct);h&&c(h);break}}}wt(!1),gt({x:0,y:0}),$(initialCoords)},[d,_,s,i,st,_e,c,zt,ct]),dt=(0,react_1$i.useCallback)(()=>{if(Tt&&d){const{x:b,y:h}=s;$((0,selectionHelpers_1.calculateSelectionRectangle)(e,{x:b,y:h}))}},[Tt,d,s,e]);return react_1$i.default.createElement("div",{role:"document",ref:Et,className:`selection-container ${ot} ${j}`,style:$t,onMouseDown:o,onMouseUp:ut,onMouseMove:dt},react_1$i.default.createElement(CursorText_1.default,{entity:d,mouseCoords:{x:s==null?void 0:s.x,y:s==null?void 0:s.y}}),react_1$i.default.createElement(SelectionRectangle_1.default,{isDragging:Tt,coordinates:_}),a)};Selection$1.default=Selection;var OcrInfo$1={};const arrowRepeat="data:image/svg+xml,%3csvg%20width='1em'%20height='1em'%20viewBox='0%200%2016%2016'%20class='bi%20bi-arrow-repeat'%20fill='currentColor'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20d='M2.854%207.146a.5.5%200%200%200-.708%200l-2%202a.5.5%200%201%200%20.708.708L2.5%208.207l1.646%201.647a.5.5%200%200%200%20.708-.708l-2-2zm13-1a.5.5%200%200%200-.708%200L13.5%207.793l-1.646-1.647a.5.5%200%200%200-.708.708l2%202a.5.5%200%200%200%20.708%200l2-2a.5.5%200%200%200%200-.708z'/%3e%3cpath%20fill-rule='evenodd'%20d='M8%203a4.995%204.995%200%200%200-4.192%202.273.5.5%200%200%201-.837-.546A6%206%200%200%201%2014%208a.5.5%200%200%201-1.001%200%205%205%200%200%200-5-5zM2.5%207.5A.5.5%200%200%201%203%208a5%205%200%200%200%209.192%202.727.5.5%200%201%201%20.837.546A6%206%200%200%201%202%208a.5.5%200%200%201%20.501-.5z'/%3e%3c/svg%3e",arrowRepeat$1=Object.freeze(Object.defineProperty({__proto__:null,default:arrowRepeat},Symbol.toStringTag,{value:"Module"})),require$$1$3=getAugmentedNamespace(arrowRepeat$1),exclamationCircle="data:image/svg+xml,%3csvg%20width='1em'%20height='1em'%20viewBox='0%200%2016%2016'%20class='bi%20bi-exclamation-circle'%20fill='currentColor'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20d='M8%2015A7%207%200%201%200%208%201a7%207%200%200%200%200%2014zm0%201A8%208%200%201%200%208%200a8%208%200%200%200%200%2016z'/%3e%3cpath%20d='M7.002%2011a1%201%200%201%201%202%200%201%201%200%200%201-2%200zM7.1%204.995a.905.905%200%201%201%201.8%200l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%204.995z'/%3e%3c/svg%3e",exclamationCircle$1=Object.freeze(Object.defineProperty({__proto__:null,default:exclamationCircle},Symbol.toStringTag,{value:"Module"})),require$$2$2=getAugmentedNamespace(exclamationCircle$1),checkCircle="data:image/svg+xml,%3csvg%20width='1em'%20height='1em'%20viewBox='0%200%2016%2016'%20class='bi%20bi-check-circle'%20fill='currentColor'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20d='M8%2015A7%207%200%201%200%208%201a7%207%200%200%200%200%2014zm0%201A8%208%200%201%200%208%200a8%208%200%200%200%200%2016z'/%3e%3cpath%20fill-rule='evenodd'%20d='M10.97%204.97a.75.75%200%200%201%201.071%201.05l-3.992%204.99a.75.75%200%200%201-1.08.02L4.324%208.384a.75.75%200%201%201%201.06-1.06l2.094%202.093%203.473-4.425a.236.236%200%200%201%20.02-.022z'/%3e%3c/svg%3e",checkCircle$1=Object.freeze(Object.defineProperty({__proto__:null,default:checkCircle},Symbol.toStringTag,{value:"Module"})),require$$3=getAugmentedNamespace(checkCircle$1);var Tooltip$1={},__importDefault$f=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Tooltip$1,"__esModule",{value:!0});const react_1$h=__importDefault$f(reactExports),Tooltip=({children:i,message:a})=>react_1$h.default.createElement("div",{className:"tooltip-container"},i,react_1$h.default.createElement("span",{className:"tooltip__text"},a));Tooltip$1.default=Tooltip;var __importDefault$e=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(OcrInfo$1,"__esModule",{value:!0});const react_1$g=__importDefault$e(reactExports),arrow_repeat_svg_1=__importDefault$e(require$$1$3),exclamation_circle_svg_1=__importDefault$e(require$$2$2),check_circle_svg_1=__importDefault$e(require$$3),Tooltip_1=__importDefault$e(Tooltip$1),OcrInfo=({loading:i,error:a,message:c})=>i?react_1$g.default.createElement(Tooltip_1.default,{message:"OCR is running..."},react_1$g.default.createElement("img",{src:arrow_repeat_svg_1.default,className:"ocr-info__icon ocr-info__icon-rotate",alt:"loading icon"})):a?react_1$g.default.createElement(Tooltip_1.default,{message:a},react_1$g.default.createElement("img",{src:exclamation_circle_svg_1.default,className:"ocr-info__icon",alt:"error icon"})):c?react_1$g.default.createElement(Tooltip_1.default,{message:c},react_1$g.default.createElement("img",{src:check_circle_svg_1.default,className:"ocr-info__icon",alt:"check icon"})):null;OcrInfo$1.default=OcrInfo;var Loader$1={},__importDefault$d=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Loader$1,"__esModule",{value:!0});const react_1$f=__importDefault$d(reactExports),Loader=()=>react_1$f.default.createElement("div",{className:"loader-container"},react_1$f.default.createElement("div",{className:"loader__lds-roller"},react_1$f.default.createElement("div",null),react_1$f.default.createElement("div",null),react_1$f.default.createElement("div",null),react_1$f.default.createElement("div",null),react_1$f.default.createElement("div",null),react_1$f.default.createElement("div",null),react_1$f.default.createElement("div",null),react_1$f.default.createElement("div",null)));Loader$1.default=Loader;var TextLayer$1={},TokenContainer$1={},Token$1={},__createBinding$9=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(i,a,c,_e){_e===void 0&&(_e=c);var ot=Object.getOwnPropertyDescriptor(a,c);(!ot||("get"in ot?!a.__esModule:ot.writable||ot.configurable))&&(ot={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(i,_e,ot)}:function(i,a,c,_e){_e===void 0&&(_e=c),i[_e]=a[c]}),__setModuleDefault$9=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(i,a){Object.defineProperty(i,"default",{enumerable:!0,value:a})}:function(i,a){i.default=a}),__importStar$9=commonjsGlobal&&commonjsGlobal.__importStar||function(i){if(i&&i.__esModule)return i;var a={};if(i!=null)for(var c in i)c!=="default"&&Object.prototype.hasOwnProperty.call(i,c)&&__createBinding$9(a,i,c);return __setModuleDefault$9(a,i),a},__importDefault$c=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Token$1,"__esModule",{value:!0});const react_1$e=__importStar$9(reactExports),entityContext_1$1=__importDefault$c(entityContext),configContext_1$3=__importDefault$c(configContext),Token=({token:i,dataI:a})=>{const{entity:c}=(0,react_1$e.useContext)(entityContext_1$1.default),{config:_e}=(0,react_1$e.useContext)(configContext_1$3.default),ot=(0,react_1$e.useMemo)(()=>_e.hideAnnotateableBoxes?!1:(c==null?void 0:c.entityType)==="NER",[c,_e]);return a?react_1$e.default.createElement("span",{"data-i":a,className:`token__text-item ${ot?"annotatable":""}`.trim()},i):react_1$e.default.createElement("span",{className:"token__text-item"},i)};Token$1.default=(0,react_1$e.memo)(Token);var Mark$1={},annotationContext={};Object.defineProperty(annotationContext,"__esModule",{value:!0});const react_1$d=reactExports,AnnotationContext=(0,react_1$d.createContext)({annotations:[],removeAnnotation:()=>{},updateAnnotation:()=>{},tokenizer:new RegExp(/.+/)});AnnotationContext.displayName="AnnotationContext";annotationContext.default=AnnotationContext;var __createBinding$8=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(i,a,c,_e){_e===void 0&&(_e=c);var ot=Object.getOwnPropertyDescriptor(a,c);(!ot||("get"in ot?!a.__esModule:ot.writable||ot.configurable))&&(ot={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(i,_e,ot)}:function(i,a,c,_e){_e===void 0&&(_e=c),i[_e]=a[c]}),__setModuleDefault$8=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(i,a){Object.defineProperty(i,"default",{enumerable:!0,value:a})}:function(i,a){i.default=a}),__importStar$8=commonjsGlobal&&commonjsGlobal.__importStar||function(i){if(i&&i.__esModule)return i;var a={};if(i!=null)for(var c in i)c!=="default"&&Object.prototype.hasOwnProperty.call(i,c)&&__createBinding$8(a,i,c);return __setModuleDefault$8(a,i),a},__importDefault$b=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Mark$1,"__esModule",{value:!0});const react_1$c=__importStar$8(reactExports),annotationContext_1$5=__importDefault$b(annotationContext),Mark=({token:i,annotation:a})=>{const{removeAnnotation:c,hoveredEntities:_e}=(0,react_1$c.useContext)(annotationContext_1$5.default),ot=(0,react_1$c.useMemo)(()=>_e!=null&&_e.length?_e.some($t=>$t.id===a.entity.id&&$t.index===a.index)?{backgroundColor:a.entity.color}:{backgroundColor:"#d3d3d3"}:{backgroundColor:a.entity.color},[_e]);return react_1$c.default.createElement("mark",{className:"mark-container",onClick:()=>c(a.id),style:ot},react_1$c.default.createElement("span",{className:"mark__token"},i))};Mark$1.default=(0,react_1$c.memo)(Mark);var generalHelpers={};Object.defineProperty(generalHelpers,"__esModule",{value:!0});generalHelpers.isBetween=void 0;const isBetween=(i,a,c)=>i>a&&i<c;generalHelpers.isBetween=isBetween;var __createBinding$7=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(i,a,c,_e){_e===void 0&&(_e=c);var ot=Object.getOwnPropertyDescriptor(a,c);(!ot||("get"in ot?!a.__esModule:ot.writable||ot.configurable))&&(ot={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(i,_e,ot)}:function(i,a,c,_e){_e===void 0&&(_e=c),i[_e]=a[c]}),__setModuleDefault$7=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(i,a){Object.defineProperty(i,"default",{enumerable:!0,value:a})}:function(i,a){i.default=a}),__importStar$7=commonjsGlobal&&commonjsGlobal.__importStar||function(i){if(i&&i.__esModule)return i;var a={};if(i!=null)for(var c in i)c!=="default"&&Object.prototype.hasOwnProperty.call(i,c)&&__createBinding$7(a,i,c);return __setModuleDefault$7(a,i),a},__importDefault$a=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(TokenContainer$1,"__esModule",{value:!0});const react_1$b=__importStar$7(reactExports),textMapHelpers_1$1=textMapHelpers,Token_1=__importDefault$a(Token$1),Mark_1=__importDefault$a(Mark$1),generalHelpers_1=generalHelpers,annotationContext_1$4=__importDefault$a(annotationContext),TokenContainer=({textLayerItem:i,tokens:a,offset:c,pageNumber:_e})=>{let ot=0,$t=!1;const{text:zt,coords:ct,fontSize:Et,transform:s,fontFamily:st}=i,Tt=(0,react_1$b.useContext)(annotationContext_1$4.default),wt=(0,react_1$b.useMemo)(()=>Tt.annotations.filter($=>!!$.nerAnnotation&&$.page===_e),[Tt,_e]),e=(0,react_1$b.useMemo)(()=>(0,textMapHelpers_1$1.getTextMetrics)(zt),[zt]),gt=(0,react_1$b.useMemo)(()=>({x:ct.width/e.width,y:ct.height/e.height}),[e,ct]),_=(0,react_1$b.useMemo)(()=>Et&&s&&st?{left:`${ct.left}px`,top:`${ct.top}px`,fontSize:`${Et}px`,fontFamily:`${st}`,transform:`scaleX(${s})`}:{left:`${ct.left}px`,top:`${ct.top}px`,width:`${ct.width}px`,height:`${ct.height}px`,font:"12px sans-serif",transform:`scale(${gt.x}, ${gt.y})`},[Et,s,st,ct.left,ct.top,ct.width,ct.height,gt.x,gt.y]);return react_1$b.default.createElement("span",{className:"token-container",style:_},a.map(($,d)=>{const j=i.dataI||c+ot+1,g=wt.find(ut=>ut.nerAnnotation.textIds.includes(j)),o=(0,generalHelpers_1.isBetween)(d,0,a.length-1);return $===" "?g&&$t&&o?($t=!1,react_1$b.default.createElement(Mark_1.default,{key:d,token:$,annotation:g})):react_1$b.default.createElement(Token_1.default,{key:d,token:$}):(ot+=1,g?($t=!0,react_1$b.default.createElement(Mark_1.default,{key:d,token:$,annotation:g})):react_1$b.default.createElement(Token_1.default,{key:d,token:$,dataI:j}))}))};TokenContainer$1.default=(0,react_1$b.memo)(TokenContainer);var __createBinding$6=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(i,a,c,_e){_e===void 0&&(_e=c);var ot=Object.getOwnPropertyDescriptor(a,c);(!ot||("get"in ot?!a.__esModule:ot.writable||ot.configurable))&&(ot={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(i,_e,ot)}:function(i,a,c,_e){_e===void 0&&(_e=c),i[_e]=a[c]}),__setModuleDefault$6=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(i,a){Object.defineProperty(i,"default",{enumerable:!0,value:a})}:function(i,a){i.default=a}),__importStar$6=commonjsGlobal&&commonjsGlobal.__importStar||function(i){if(i&&i.__esModule)return i;var a={};if(i!=null)for(var c in i)c!=="default"&&Object.prototype.hasOwnProperty.call(i,c)&&__createBinding$6(a,i,c);return __setModuleDefault$6(a,i),a},__importDefault$9=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(TextLayer$1,"__esModule",{value:!0});const react_1$a=__importStar$6(reactExports),object_hash_1=__importDefault$9(object_hashExports),TokenContainer_1=__importDefault$9(TokenContainer$1),annotationContext_1$3=__importDefault$9(annotationContext),textMapHelpers_1=textMapHelpers,TextLayer=({inView:i,shouldRender:a,canvasInitialized:c,textLayer:_e,needsTokenization:ot,pageNumber:$t})=>{const{tokenizer:zt}=(0,react_1$a.useContext)(annotationContext_1$3.default);if(!a)return null;if(i&&c&&(_e!=null&&_e.length)){let ct=0;return react_1$a.default.createElement(react_1$a.default.Fragment,null,_e.map(Et=>{var s;if(!(!((s=Et.text)===null||s===void 0)&&s.replace(/\s/g,"")))return null;const st=(0,textMapHelpers_1.tokenizeText)(Et.text,zt,ot);if(!st)return null;const Tt=st.filter(wt=>wt!==" ").length;return ct+=Tt,react_1$a.default.createElement(TokenContainer_1.default,{key:(0,object_hash_1.default)(Et),textLayerItem:Et,tokens:st,offset:ct-Tt,pageNumber:$t})}))}return null};TextLayer$1.default=(0,react_1$a.memo)(TextLayer);var AreaLayer$1={},AreaMark$1={},AreaTextAnnotation$1={},__createBinding$5=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(i,a,c,_e){_e===void 0&&(_e=c);var ot=Object.getOwnPropertyDescriptor(a,c);(!ot||("get"in ot?!a.__esModule:ot.writable||ot.configurable))&&(ot={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(i,_e,ot)}:function(i,a,c,_e){_e===void 0&&(_e=c),i[_e]=a[c]}),__setModuleDefault$5=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(i,a){Object.defineProperty(i,"default",{enumerable:!0,value:a})}:function(i,a){i.default=a}),__importStar$5=commonjsGlobal&&commonjsGlobal.__importStar||function(i){if(i&&i.__esModule)return i;var a={};if(i!=null)for(var c in i)c!=="default"&&Object.prototype.hasOwnProperty.call(i,c)&&__createBinding$5(a,i,c);return __setModuleDefault$5(a,i),a};Object.defineProperty(AreaTextAnnotation$1,"__esModule",{value:!0});const react_1$9=__importStar$5(reactExports),AreaTextAnnotation=({showInput:i,annotation:a,updateAnnotation:c})=>{const[_e,ot]=(0,react_1$9.useState)(a.areaAnnotation.text||""),$t=ct=>{ot(ct.target.value)},zt=()=>{c({...a,areaAnnotation:{...a.areaAnnotation,text:_e}})};return react_1$9.default.createElement("input",{className:`area-annotation__text-input ${i?"":"hidden"}`.trim(),type:"text",value:_e,onChange:$t,onBlur:zt})};AreaTextAnnotation$1.default=AreaTextAnnotation;var AreaAnnotationToggle$1={};const eye="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='16'%20height='16'%20fill='currentColor'%20class='bi%20bi-eye'%20viewBox='0%200%2016%2016'%3e%3cpath%20d='M16%208s-3-5.5-8-5.5S0%208%200%208s3%205.5%208%205.5S16%208%2016%208zM1.173%208a13.133%2013.133%200%200%201%201.66-2.043C4.12%204.668%205.88%203.5%208%203.5c2.12%200%203.879%201.168%205.168%202.457A13.133%2013.133%200%200%201%2014.828%208c-.058.087-.122.183-.195.288-.335.48-.83%201.12-1.465%201.755C11.879%2011.332%2010.119%2012.5%208%2012.5c-2.12%200-3.879-1.168-5.168-2.457A13.134%2013.134%200%200%201%201.172%208z'/%3e%3cpath%20d='M8%205.5a2.5%202.5%200%201%200%200%205%202.5%202.5%200%200%200%200-5zM4.5%208a3.5%203.5%200%201%201%207%200%203.5%203.5%200%200%201-7%200z'/%3e%3c/svg%3e",eye$1=Object.freeze(Object.defineProperty({__proto__:null,default:eye},Symbol.toStringTag,{value:"Module"})),require$$1$2=getAugmentedNamespace(eye$1),eyeSlash="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='16'%20height='16'%20fill='currentColor'%20class='bi%20bi-eye-slash'%20viewBox='0%200%2016%2016'%3e%3cpath%20d='M13.359%2011.238C15.06%209.72%2016%208%2016%208s-3-5.5-8-5.5a7.028%207.028%200%200%200-2.79.588l.77.771A5.944%205.944%200%200%201%208%203.5c2.12%200%203.879%201.168%205.168%202.457A13.134%2013.134%200%200%201%2014.828%208c-.058.087-.122.183-.195.288-.335.48-.83%201.12-1.465%201.755-.165.165-.337.328-.517.486l.708.709z'/%3e%3cpath%20d='M11.297%209.176a3.5%203.5%200%200%200-4.474-4.474l.823.823a2.5%202.5%200%200%201%202.829%202.829l.822.822zm-2.943%201.299.822.822a3.5%203.5%200%200%201-4.474-4.474l.823.823a2.5%202.5%200%200%200%202.829%202.829z'/%3e%3cpath%20d='M3.35%205.47c-.18.16-.353.322-.518.487A13.134%2013.134%200%200%200%201.172%208l.195.288c.335.48.83%201.12%201.465%201.755C4.121%2011.332%205.881%2012.5%208%2012.5c.716%200%201.39-.133%202.02-.36l.77.772A7.029%207.029%200%200%201%208%2013.5C3%2013.5%200%208%200%208s.939-1.721%202.641-3.238l.708.709zm10.296%208.884-12-12%20.708-.708%2012%2012-.708.708z'/%3e%3c/svg%3e",eyeSlash$1=Object.freeze(Object.defineProperty({__proto__:null,default:eyeSlash},Symbol.toStringTag,{value:"Module"})),require$$2$1=getAugmentedNamespace(eyeSlash$1);var __importDefault$8=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(AreaAnnotationToggle$1,"__esModule",{value:!0});const react_1$8=__importDefault$8(reactExports),eye_svg_1=__importDefault$8(require$$1$2),eye_slash_svg_1=__importDefault$8(require$$2$1),AreaAnnotationToggle=({showInput:i,setShowInput:a})=>react_1$8.default.createElement("img",{src:i?eye_svg_1.default:eye_slash_svg_1.default,alt:"Toggle button",className:"area-annotation__toggle-icon",onClick:c=>{c.stopPropagation(),a(!i)}});AreaAnnotationToggle$1.default=AreaAnnotationToggle;var __createBinding$4=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(i,a,c,_e){_e===void 0&&(_e=c);var ot=Object.getOwnPropertyDescriptor(a,c);(!ot||("get"in ot?!a.__esModule:ot.writable||ot.configurable))&&(ot={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(i,_e,ot)}:function(i,a,c,_e){_e===void 0&&(_e=c),i[_e]=a[c]}),__setModuleDefault$4=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(i,a){Object.defineProperty(i,"default",{enumerable:!0,value:a})}:function(i,a){i.default=a}),__importStar$4=commonjsGlobal&&commonjsGlobal.__importStar||function(i){if(i&&i.__esModule)return i;var a={};if(i!=null)for(var c in i)c!=="default"&&Object.prototype.hasOwnProperty.call(i,c)&&__createBinding$4(a,i,c);return __setModuleDefault$4(a,i),a},__importDefault$7=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(AreaMark$1,"__esModule",{value:!0});const react_1$7=__importStar$4(reactExports),AreaTextAnnotation_1=__importDefault$7(AreaTextAnnotation$1),pdfHelpers_1$1=pdfHelpers,AreaAnnotationToggle_1=__importDefault$7(AreaAnnotationToggle$1),AreaMark=({pdfScale:i,annotation:a,removeAnnotation:c,updateAnnotation:_e})=>{const[ot,$t]=(0,react_1$7.useState)(!0),{areaAnnotation:{boundingBox:zt,pdfInformation:{scale:ct}}}=a,Et=(0,react_1$7.useMemo)(()=>(0,pdfHelpers_1$1.recalculateBoundingBox)(zt,ct,i),[zt,ct,i]);return react_1$7.default.createElement("div",{className:"area-annotation__container",style:{left:`${Et.left}px`,top:`${Et.top-35}px`,width:`${Et.width}px`,height:`${Et.height+35}px`}},react_1$7.default.createElement(AreaTextAnnotation_1.default,{showInput:ot,annotation:a,updateAnnotation:_e}),react_1$7.default.createElement("div",{role:"button","aria-label":"Area annotation",onClick:()=>c(a.id),className:"area-annotation__mark",style:{width:`${Et.width}px`,height:`${Et.height}px`,border:`2px solid ${a.entity.color}`}},react_1$7.default.createElement(AreaAnnotationToggle_1.default,{showInput:ot,setShowInput:$t}),react_1$7.default.createElement("span",{style:{backgroundColor:a.entity.color}})))};AreaMark$1.default=AreaMark;var __createBinding$3=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(i,a,c,_e){_e===void 0&&(_e=c);var ot=Object.getOwnPropertyDescriptor(a,c);(!ot||("get"in ot?!a.__esModule:ot.writable||ot.configurable))&&(ot={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(i,_e,ot)}:function(i,a,c,_e){_e===void 0&&(_e=c),i[_e]=a[c]}),__setModuleDefault$3=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(i,a){Object.defineProperty(i,"default",{enumerable:!0,value:a})}:function(i,a){i.default=a}),__importStar$3=commonjsGlobal&&commonjsGlobal.__importStar||function(i){if(i&&i.__esModule)return i;var a={};if(i!=null)for(var c in i)c!=="default"&&Object.prototype.hasOwnProperty.call(i,c)&&__createBinding$3(a,i,c);return __setModuleDefault$3(a,i),a},__importDefault$6=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(AreaLayer$1,"__esModule",{value:!0});const react_1$6=__importStar$3(reactExports),AreaMark_1=__importDefault$6(AreaMark$1),annotationContext_1$2=__importDefault$6(annotationContext),AreaLayer=({pdfScale:i,pageNumber:a})=>{const c=(0,react_1$6.useContext)(annotationContext_1$2.default),_e=(0,react_1$6.useMemo)(()=>c.annotations.filter(ot=>!!ot.areaAnnotation&&ot.page===a),[c,a]);return react_1$6.default.createElement(react_1$6.default.Fragment,null,_e.map(ot=>react_1$6.default.createElement(AreaMark_1.default,{pdfScale:i,key:ot.id,annotation:ot,removeAnnotation:c.removeAnnotation,updateAnnotation:c.updateAnnotation})))};AreaLayer$1.default=AreaLayer;var __createBinding$2=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(i,a,c,_e){_e===void 0&&(_e=c);var ot=Object.getOwnPropertyDescriptor(a,c);(!ot||("get"in ot?!a.__esModule:ot.writable||ot.configurable))&&(ot={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(i,_e,ot)}:function(i,a,c,_e){_e===void 0&&(_e=c),i[_e]=a[c]}),__setModuleDefault$2=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(i,a){Object.defineProperty(i,"default",{enumerable:!0,value:a})}:function(i,a){i.default=a}),__importStar$2=commonjsGlobal&&commonjsGlobal.__importStar||function(i){if(i&&i.__esModule)return i;var a={};if(i!=null)for(var c in i)c!=="default"&&Object.prototype.hasOwnProperty.call(i,c)&&__createBinding$2(a,i,c);return __setModuleDefault$2(a,i),a},__importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Page$1,"__esModule",{value:!0});const react_1$5=__importStar$2(reactExports),react_intersection_observer_1=dist,pdfHelpers_1=pdfHelpers,textLayer_1=textLayer,useTesseract_1=__importDefault$5(useTesseract$1),useTextLayer_1=__importDefault$5(useTextLayer$1),Selection_1=__importDefault$5(Selection$1),OcrInfo_1=__importDefault$5(OcrInfo$1),Loader_1=__importDefault$5(Loader$1),TextLayer_1=__importDefault$5(TextLayer$1),AreaLayer_1=__importDefault$5(AreaLayer$1),configContext_1$2=__importDefault$5(configContext),annotationContext_1$1=__importDefault$5(annotationContext),Page=({pageNumber:i,shouldRender:a,page:c,scale:_e,rotation:ot,annotations:$t,addAnnotation:zt,updateLastAnnotationForEntity:ct,addPageToTextMap:Et,initialTextLayer:s})=>{const{config:{disableOCR:st}}=(0,react_1$5.useContext)(configContext_1$2.default),{tokenizer:Tt}=(0,react_1$5.useContext)(annotationContext_1$1.default),[wt,e]=(0,react_intersection_observer_1.useInView)({threshold:0}),gt=(0,react_1$5.useRef)(null),[_,$]=(0,react_1$5.useState)(!0),[d,j]=(0,react_1$5.useState)(null),[g,o]=(0,react_1$5.useState)(null),[ut,dt]=(0,react_1$5.useState)(!1),[b,h]=(0,react_1$5.useState)({width:916/1.5*_e,height:1174/1.5*_e}),{textLayer:et,buildTextLayer:nt}=(0,useTextLayer_1.default)(_e,g,s),{ocrResult:pt,ocrError:Bt,ocrLoading:Pt,doOCR:Rt}=(0,useTesseract_1.default)(_e,g),Ft=pt?`OCR confidence ${pt.confidence}%`:void 0;return(0,react_1$5.useEffect)(()=>{if($t.length){if(et){Et(i,et,textLayer_1.TextLayerType.TEXT_LAYER,1,Tt);return}pt&&Et(i,pt.ocrWords,textLayer_1.TextLayerType.ORC,pt.confidence)}},[$t,et,pt,i,Et,Tt]),(0,react_1$5.useEffect)(()=>{!st&&ut&&e&&!pt&&Rt()},[st,ut,e,Rt,pt]),(0,react_1$5.useEffect)(()=>{gt&&o(gt.current.getContext("2d"))},[gt]),(0,react_1$5.useEffect)(()=>{gt&&g&&c&&e&&c.then(lt=>{const ft=lt.getViewport({scale:_e,rotation:ot||0}),{width:it,height:at}=ft;h(ft);const bt=gt.current;bt.width=it,bt.height=at,lt.render({canvasContext:g,viewport:ft}).promise.then(()=>{j(lt)})})},[c,_e,ot,gt,g,e]),(0,react_1$5.useEffect)(()=>{if(et!=null&&et.length){$(!1);return}e&&d&&!et&&d.getTextContent().then(lt=>{if(lt.items.length){const ft=(0,pdfHelpers_1.mergeSplitWords)(lt);nt(ft,b)}else dt(!0);$(!1)})},[e,d,b,g,c,et,nt]),react_1$5.default.createElement("div",{className:"page",ref:wt},react_1$5.default.createElement("div",{className:"page__container",style:{width:`${b.width}px`,height:`${b.height}px`}},react_1$5.default.createElement("div",{className:"page__canvas-container",style:{width:`${b.width}px`,height:`${b.height}px`}},_?react_1$5.default.createElement(Loader_1.default,null):null,react_1$5.default.createElement("canvas",{ref:gt,style:{width:`${b.width}px`,height:`${b.height}px`}})),react_1$5.default.createElement(Selection_1.default,{pageNumber:i,className:"page__text-layer-container",style:{width:`${b.width}px`,height:`${b.height}px`},addAnnotation:zt,updateLastAnnotationForEntity:ct,pdfInformation:{width:b.width,height:b.height,scale:_e},pdfContext:g},react_1$5.default.createElement(TextLayer_1.default,{inView:e,shouldRender:a,canvasInitialized:!!gt,textLayer:et||(pt==null?void 0:pt.ocrWords),pageNumber:i,needsTokenization:!s}),react_1$5.default.createElement(AreaLayer_1.default,{pdfScale:_e,pageNumber:i}),react_1$5.default.createElement("div",{className:"ocr-info-container"},react_1$5.default.createElement(OcrInfo_1.default,{loading:Pt,message:Ft,error:Bt})))))};Page$1.default=(0,react_1$5.memo)(Page);var _Error={};const error="data:image/svg+xml,%3csvg%20height='300px'%20width='300px'%20fill='%23ffffff'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20version='1.1'%20x='0px'%20y='0px'%20viewBox='0%200%2070.835%20100'%20enable-background='new%200%200%2070.835%20100'%20xml:space='preserve'%3e%3cpath%20fill='%23ffffff'%20d='M46.695,0H0v100h70.835V24.136L46.695,0z%20M47.916,7.111l15.807,15.804H47.916V7.111z%20M66.669,95.833H4.167%20V4.167h39.582v22.916h22.92V95.833z'%3e%3c/path%3e%3cpolygon%20fill='%23ffffff'%20points='16.057,51.472%2020.833,46.695%2025.611,51.472%2028.557,48.526%2023.78,43.75%2028.557,38.972%2025.611,36.026%2020.833,40.803%2016.057,36.026%2013.111,38.972%2017.888,43.75%2013.111,48.526%20'%3e%3c/polygon%3e%3cpolygon%20fill='%23ffffff'%20points='47.055,43.75%2042.278,48.526%2045.224,51.472%2050.001,46.695%2054.777,51.472%2057.724,48.526%2052.946,43.75%2057.724,38.972%2054.777,36.026%2050.001,40.803%2045.224,36.026%2042.278,38.972%20'%3e%3c/polygon%3e%3cpath%20fill='%23ffffff'%20d='M14.583,72.917h4.167v8.333c0,4.598,3.737,8.333,8.333,8.333c4.596,0,8.333-3.735,8.333-8.333v-8.333h20.834%20V68.75H14.583V72.917z%20M31.25,81.25c0,2.299-1.87,4.167-4.167,4.167c-2.297,0-4.167-1.868-4.167-4.167v-8.333H25v8.333h4.167v-8.333%20h2.083V81.25z'%3e%3c/path%3e%3c/svg%3e",error$1=Object.freeze(Object.defineProperty({__proto__:null,default:error},Symbol.toStringTag,{value:"Module"})),require$$1$1=getAugmentedNamespace(error$1);var __importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(_Error,"__esModule",{value:!0});const react_1$4=__importDefault$4(reactExports),error_svg_1=__importDefault$4(require$$1$1),Error$1=({message:i="Something went wrong."})=>react_1$4.default.createElement("div",{className:"error-container"},react_1$4.default.createElement("img",{className:"error-image",src:error_svg_1.default,alt:"Error"}),react_1$4.default.createElement("span",{className:"error-message"},i));_Error.default=Error$1;var ButtonGroup$1={};const plus="data:image/svg+xml,%3csvg%20width='1em'%20height='1em'%20viewBox='0%200%2016%2016'%20class='bi%20bi-plus'%20fill='currentColor'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20d='M8%203.5a.5.5%200%200%201%20.5.5v4a.5.5%200%200%201-.5.5H4a.5.5%200%200%201%200-1h3.5V4a.5.5%200%200%201%20.5-.5z'/%3e%3cpath%20fill-rule='evenodd'%20d='M7.5%208a.5.5%200%200%201%20.5-.5h4a.5.5%200%200%201%200%201H8.5V12a.5.5%200%200%201-1%200V8z'/%3e%3c/svg%3e",plus$1=Object.freeze(Object.defineProperty({__proto__:null,default:plus},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(plus$1),dash="data:image/svg+xml,%3csvg%20width='1em'%20height='1em'%20viewBox='0%200%2016%2016'%20class='bi%20bi-dash'%20fill='currentColor'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20d='M3.5%208a.5.5%200%200%201%20.5-.5h8a.5.5%200%200%201%200%201H4a.5.5%200%200%201-.5-.5z'/%3e%3c/svg%3e",dash$1=Object.freeze(Object.defineProperty({__proto__:null,default:dash},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(dash$1);var __importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ButtonGroup$1,"__esModule",{value:!0});const react_1$3=__importDefault$3(reactExports),plus_svg_1=__importDefault$3(require$$1),dash_svg_1=__importDefault$3(require$$2),ButtonGroup=({scale:i,setScale:a})=>{const c=_e=>{const ot=Math.round((i+_e)*10)/10;ot<=5&&ot>=.5&&a(ot)};return react_1$3.default.createElement("nav",{className:"fab-group-container"},react_1$3.default.createElement("ul",{className:"fab-group__list"},react_1$3.default.createElement("li",{className:"fab-group__list-item"},react_1$3.default.createElement("span",{role:"button",className:"fab-group__button",onClick:()=>c(.1)},react_1$3.default.createElement("img",{className:"fab-group__button-icon",src:plus_svg_1.default,alt:"Zoom in"}))),react_1$3.default.createElement("li",{className:"fab-group__list-item"},react_1$3.default.createElement("span",{role:"button",className:"fab-group__button",onClick:()=>c(-.1)},react_1$3.default.createElement("img",{className:"fab-group__button-icon",src:dash_svg_1.default,alt:"Zoom out"})))))};ButtonGroup$1.default=ButtonGroup;var EntityVisualisation$1={},__createBinding$1=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(i,a,c,_e){_e===void 0&&(_e=c);var ot=Object.getOwnPropertyDescriptor(a,c);(!ot||("get"in ot?!a.__esModule:ot.writable||ot.configurable))&&(ot={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(i,_e,ot)}:function(i,a,c,_e){_e===void 0&&(_e=c),i[_e]=a[c]}),__setModuleDefault$1=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(i,a){Object.defineProperty(i,"default",{enumerable:!0,value:a})}:function(i,a){i.default=a}),__importStar$1=commonjsGlobal&&commonjsGlobal.__importStar||function(i){if(i&&i.__esModule)return i;var a={};if(i!=null)for(var c in i)c!=="default"&&Object.prototype.hasOwnProperty.call(i,c)&&__createBinding$1(a,i,c);return __setModuleDefault$1(a,i),a},__importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(EntityVisualisation$1,"__esModule",{value:!0});const react_1$2=__importStar$1(reactExports),configContext_1$1=__importDefault$2(configContext),EntityVisualisation=({entity:i})=>{const{config:a}=(0,react_1$2.useContext)(configContext_1$1.default);return!i||a.hideAnnotatingEntityVisualizations?null:react_1$2.default.createElement("span",{className:"active-entity",style:{backgroundColor:i.color}},i.name)};EntityVisualisation$1.default=EntityVisualisation;var useAnnotationUpdater$1={};Object.defineProperty(useAnnotationUpdater$1,"__esModule",{value:!0});const react_1$1=reactExports,useAnnotationUpdater=(i,a,c,_e)=>{const ot=(0,react_1$1.useRef)("");(0,react_1$1.useEffect)(()=>{c||useAnnotationUpdater&&i!==ot.current&&(ot.current=i,_e(a))},[i,c,_e,a])};useAnnotationUpdater$1.default=useAnnotationUpdater;var __createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(i,a,c,_e){_e===void 0&&(_e=c);var ot=Object.getOwnPropertyDescriptor(a,c);(!ot||("get"in ot?!a.__esModule:ot.writable||ot.configurable))&&(ot={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(i,_e,ot)}:function(i,a,c,_e){_e===void 0&&(_e=c),i[_e]=a[c]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(i,a){Object.defineProperty(i,"default",{enumerable:!0,value:a})}:function(i,a){i.default=a}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(i){if(i&&i.__esModule)return i;var a={};if(i!=null)for(var c in i)c!=="default"&&Object.prototype.hasOwnProperty.call(i,c)&&__createBinding(a,i,c);return __setModuleDefault(a,i),a},__importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Annotator$1,"__esModule",{value:!0});const react_1=__importStar(reactExports),usePDF_1=__importDefault$1(usePDF$1),useAnnotations_1=__importDefault$1(useAnnotations$1),useTextMap_1=__importDefault$1(useTextMap$1),Page_1=__importDefault$1(Page$1),Error_1=__importDefault$1(_Error),ButtonGroup_1=__importDefault$1(ButtonGroup$1),EntityVisualisation_1=__importDefault$1(EntityVisualisation$1),annotationContext_1=__importDefault$1(annotationContext),configContext_1=__importDefault$1(configContext),entityContext_1=__importDefault$1(entityContext),useAnnotationUpdater_1=__importDefault$1(useAnnotationUpdater$1),Annotator=(0,react_1.forwardRef)(({config:i={},url:a,data:c,initialScale:_e=1.5,tokenizer:ot=new RegExp(/.+/),entity:$t,initialTextMap:zt,defaultAnnotations:ct=[],hoveredEntities:Et,rotation:s=0,getAnnotations:st,getTextMaps:Tt,onLoadSuccess:wt},e)=>{const[gt,_]=(0,react_1.useState)(_e),{pages:$,error:d,fetchPage:j}=(0,usePDF_1.default)({url:a,data:c,httpHeaders:i.httpHeaders});(0,react_1.useEffect)(()=>{$>0&&wt&&wt($)},[$,wt]);const{annotations:g,getAnnotationsForPage:o,addAnnotation:ut,updateAnnotation:dt,updateLastAnnotationForEntity:b,removeAnnotation:h,lastActionHash:et}=(0,useAnnotations_1.default)(ct,i.readonly,i.shouldUpdateDefaultAnnotations),{textMap:nt,addPageToTextMap:pt}=(0,useTextMap_1.default)(g);(0,useAnnotationUpdater_1.default)(et,g,i.readonly,st),(0,react_1.useImperativeHandle)(e,()=>({removeAnnotation:Bt}));const Bt=Ft=>{h(Ft)};(0,react_1.useEffect)(()=>{Tt&&Tt(zt||nt)},[nt,zt,Tt]);const Pt=(0,react_1.useMemo)(()=>i.hideAnnotatingEntityVisualizations?{}:$t?{border:`5px solid ${$t.color}`}:{},[$t,i]),Rt=(0,react_1.useCallback)(Ft=>{if(zt){const lt=zt.find(it=>it.page===Ft),ft=lt.shouldRender!==void 0?lt.shouldRender:!0;return lt?[lt.textMapItems,ft]:[void 0,!0]}return[void 0,!0]},[zt]);return!a&&!c?react_1.default.createElement("div",{className:"annotator-container"},react_1.default.createElement("div",{className:"annotator-pages-container"},react_1.default.createElement("div",{className:"annotator-pages"},react_1.default.createElement(Error_1.default,{message:"You need to provide either valid PDF data or a URL to a PDF"})))):d?react_1.default.createElement("div",{className:"annotator-container"},react_1.default.createElement("div",{className:"annotator-pages-container"},react_1.default.createElement("div",{className:"annotator-pages"},react_1.default.createElement(Error_1.default,null)))):react_1.default.createElement(configContext_1.default.Provider,{value:{config:i}},react_1.default.createElement("div",{className:"annotator-container",style:Pt},react_1.default.createElement(EntityVisualisation_1.default,{entity:$t}),react_1.default.createElement("div",{className:"annotator-pages-container"},react_1.default.createElement(entityContext_1.default.Provider,{value:{entity:$t}},react_1.default.createElement(annotationContext_1.default.Provider,{value:{annotations:g,removeAnnotation:Bt,updateAnnotation:dt,tokenizer:ot,hoveredEntities:Et}},react_1.default.createElement("div",{className:"annotator-pages"},Array($).fill(0).map((Ft,lt)=>{const ft=`pdf-page-${lt}`,it=lt+1,at=j(it),[bt,St]=Rt(it);return react_1.default.createElement(Page_1.default,{shouldRender:St,page:at,scale:gt,rotation:s,key:ft,pageNumber:it,annotations:o(it),addAnnotation:ut,updateLastAnnotationForEntity:b,addPageToTextMap:pt,initialTextLayer:bt})}))))),react_1.default.createElement(ButtonGroup_1.default,{scale:gt,setScale:_})))});Annotator$1.default=(0,react_1.memo)(Annotator);var __importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(reactPdfNerAnnotator,"__esModule",{value:!0});const Annotator_1=__importDefault(Annotator$1);var _default=reactPdfNerAnnotator.default=Annotator_1.default;const API_BASE="http://localhost:3001",CsvExtractor=({pdf:i,file:a,setExtractedCSV:c,onExtracted:_e})=>{const[ot,$t]=reactExports.useState(0),[zt,ct]=reactExports.useState([]),[Et,s]=reactExports.useState(!1),[st,Tt]=reactExports.useState(null),wt=reactExports.useRef(null),e=reactExports.useRef(null),[gt,_]=reactExports.useState("page"),[$,d]=reactExports.useState([]),[j,g]=reactExports.useState([]),o=reactExports.useMemo(()=>$.filter(at=>!!at.areaAnnotation),[$]),[ut,dt]=reactExports.useState(null),b=reactExports.useCallback(at=>{if(gt!=="page")return;const bt=wt.current;if(!bt)return;const ht=at.target.closest(".page");if(!ht)return;const yt=Array.from(bt.querySelectorAll(".page")).findIndex(At=>At===ht);if(yt>=0){const At=yt+1;ct(Nt=>Nt.includes(At)?Nt.filter(Ht=>Ht!==At):[...Nt,At].sort((Ht,xt)=>Ht-xt))}},[gt]);reactExports.useEffect(()=>{const at=wt.current;if(!at)return;Array.from(at.querySelectorAll(".page")).forEach((St,ht)=>{const vt=ht+1;zt.includes(vt)?St.classList.add("csvex-selected"):St.classList.remove("csvex-selected")})},[zt,ot]);const h=reactExports.useMemo(()=>Array.from({length:ot},(at,bt)=>bt+1),[ot]),et=reactExports.useCallback(at=>{const bt=new Set;for(const St of at.split(",").map(ht=>ht.trim()).filter(Boolean))if(/^\d+$/.test(St)){const ht=parseInt(St,10);ht>0&&ht<=ot&&bt.add(ht)}else if(/^(\d+)-(\d+)$/.test(St)){const[,ht,vt]=St.match(/^(\d+)-(\d+)$/),yt=Math.min(parseInt(ht,10),parseInt(vt,10)),At=Math.max(parseInt(ht,10),parseInt(vt,10));for(let Nt=yt;Nt<=At;Nt++)Nt>0&&Nt<=ot&&bt.add(Nt)}return Array.from(bt).sort((St,ht)=>St-ht)},[ot]),nt=reactExports.useCallback(async()=>{if(gt==="page"&&!a){Tt("PDF");return}Tt(null),s(!0);const at=async()=>{if(!zt.length)throw new Error("");const At=await getTextMap(i,zt),Nt={pages:Object.fromEntries(zt.map((mt,Mt)=>[String(mt),At[Mt]??""]))},Ht=new FormData;Ht.append("file",a),Ht.append("mode","page"),Ht.append("pages",JSON.stringify(zt)),Ht.append("textMap",JSON.stringify(Nt));const xt=await fetch(`${API_BASE}/api/extract-csv`,{method:"POST",body:Ht});if(!xt.ok){const mt=await xt.text();throw new Error(` (${xt.status}): ${mt}`)}const rt=await xt.json();return Object.entries(rt.results||{}).map(([mt,Mt])=>({title:mt,csv:Mt||""}))},bt=(At,Nt)=>{const Ht=At.left+At.width,xt=At.top+At.height,rt=Nt.left+Nt.width,mt=Nt.top+Nt.height,Mt=Math.max(0,Math.min(Ht,rt)-Math.max(At.left,Nt.left)),_t=Math.max(0,Math.min(xt,mt)-Math.max(At.top,Nt.top));return Mt>0&&_t>0},St=At=>{const Nt=wt.current;if(!Nt)return null;const xt=Array.from(Nt.querySelectorAll(".page"))[At-1];if(!xt)return null;const rt=xt.querySelector(".page__container");return rt?{width:rt.offsetWidth,height:rt.offsetHeight}:null},ht=(At,Nt)=>({left:At.left*Nt,top:At.top*Nt,width:At.width*Nt,height:At.height*Nt}),vt=(At,Nt)=>({left:Math.max(0,At.left-Nt),top:Math.max(0,At.top-Nt),width:At.width+Nt*2,height:At.height+Nt*2}),yt=async()=>{const At=o.map(mt=>{var Mt,_t,Lt;return{id:mt.id,page:mt.page,image:((Mt=mt.areaAnnotation)==null?void 0:Mt.base64Image)||null,bbox:((_t=mt.areaAnnotation)==null?void 0:_t.boundingBox)||null,pdf:((Lt=mt.areaAnnotation)==null?void 0:Lt.pdfInformation)||null}}).filter(mt=>mt.bbox&&mt.page);if(!At.length)throw new Error("");const Nt=At.map(mt=>{var Xt;const Mt=j.find(Ut=>Ut.page===mt.page),_t=St(mt.page),Lt=_t&&((Xt=mt.pdf)!=null&&Xt.width)?_t.width/mt.pdf.width:1,It=vt(mt.bbox,2),Ot=((Mt==null?void 0:Mt.textMapItems)||[]).filter(Ut=>{const Gt=Lt!==1?ht(Ut.coords,1/Lt):Ut.coords;return bt(It,Gt)}).sort((Ut,Gt)=>Ut.coords.top===Gt.coords.top?Ut.coords.left-Gt.coords.left:Ut.coords.top-Gt.coords.top).map(Ut=>Ut.text).join(" ");return{page:mt.page,image:mt.image,bbox:mt.bbox,pdf:mt.pdf,text:Ot}}),Ht=new FormData;Ht.append("mode","range"),Ht.append("ranges",JSON.stringify(Nt));const xt=await fetch(`${API_BASE}/api/extract-csv`,{method:"POST",body:Ht});if(!xt.ok){const mt=await xt.text();throw new Error(` (${xt.status}): ${mt}`)}const rt=await xt.json();return Object.entries(rt.results||{}).map(([mt,Mt])=>({title:mt,csv:Mt||""}))};try{const At=gt==="page"?await at():await yt();c&&c(At.map(Nt=>Nt.csv)),typeof _e=="function"&&_e(At)}catch(At){Tt((At==null?void 0:At.message)||"")}finally{s(!1)}},[a,zt,i,c,_e,gt,o,j]),pt=reactExports.useCallback(at=>{$t(at),!zt.length&&at>0&&ct([1])},[zt.length]),[Bt,Pt]=reactExports.useState("");reactExports.useEffect(()=>{Pt(zt.join(","))},[zt]);const Rt=reactExports.useCallback(()=>{ct(et(Bt))},[Bt,et]),Ft=reactExports.useCallback(()=>ct([]),[]),lt=reactExports.useCallback(()=>ct(h),[h]),ft=jsxRuntimeExports.jsx("style",{children:`
      .csvex-selected .page__container {
        outline: 3px solid #3b82f6;
        outline-offset: 0px;
      }
    `}),it=reactExports.useMemo(()=>({id:999,name:"",color:"#f59e0b",entityType:"AREA"}),[]);return jsxRuntimeExports.jsxs("div",{className:"w-full grid grid-cols-12 gap-4",children:[ft,jsxRuntimeExports.jsxs("div",{className:"col-span-9",children:[jsxRuntimeExports.jsx("div",{ref:wt,onClick:b,className:"border rounded-md overflow-auto max-h-[90vh] bg-white",children:jsxRuntimeExports.jsx(_default,{data:i,onLoadSuccess:pt,getAnnotations:d,getTextMaps:g,ref:e,entity:gt==="range"?it:void 0})}),jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[Et&&jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:""}),st&&jsxRuntimeExports.jsx("div",{className:"text-sm text-red-600",children:st})]})]}),jsxRuntimeExports.jsx("div",{className:"col-span-3",children:jsxRuntimeExports.jsxs("div",{className:"sticky top-4 border rounded-md p-3 flex flex-col gap-3 bg-white",children:[jsxRuntimeExports.jsx("div",{className:"font-medium",children:""}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{className:`text-xs px-2 py-1 border rounded ${gt==="page"?"bg-blue-600 text-white":"hover:bg-gray-50"}`,onClick:()=>_("page"),children:""}),jsxRuntimeExports.jsx("button",{className:`text-xs px-2 py-1 border rounded ${gt==="range"?"bg-blue-600 text-white":"hover:bg-gray-50"}`,onClick:()=>_("range"),children:""})]}),gt==="page"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"font-medium mt-1",children:""}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-600",children:""}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{className:"text-xs px-2 py-1 border rounded hover:bg-gray-50",onClick:lt,disabled:!ot,children:""}),jsxRuntimeExports.jsx("button",{className:"text-xs px-2 py-1 border rounded hover:bg-gray-50",onClick:Ft,disabled:!zt.length,children:""})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs text-gray-700 mb-1",children:" (: 1,3-5,8)"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{className:"w-full border rounded px-2 py-1 text-sm",value:Bt,onChange:at=>Pt(at.target.value),placeholder:"1,3-5"}),jsxRuntimeExports.jsx("button",{className:"text-xs px-2 py-1 border rounded hover:bg-gray-50",onClick:Rt,children:""})]})]}),jsxRuntimeExports.jsx("div",{className:"max-h-[40vh] overflow-auto border rounded",children:h.length?jsxRuntimeExports.jsx("ul",{className:"divide-y",children:h.map(at=>jsxRuntimeExports.jsxs("li",{className:"flex items-center gap-2 px-2 py-1",children:[jsxRuntimeExports.jsx("input",{id:`page-${at}`,type:"checkbox",className:"cursor-pointer",checked:zt.includes(at),onChange:bt=>ct(St=>bt.target.checked?[...St,at].sort((ht,vt)=>ht-vt):St.filter(ht=>ht!==at))}),jsxRuntimeExports.jsxs("label",{htmlFor:`page-${at}`,className:"text-sm cursor-pointer",children:[" ",at]})]},at))}):jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 p-2",children:""})})]}),gt==="range"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"font-medium mt-1",children:""}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-600",children:"PDF"}),jsxRuntimeExports.jsx("div",{className:"max-h-[40vh] overflow-auto border rounded p-2 flex flex-col gap-2",children:o.length?o.map(at=>{var St;const bt=((St=at.areaAnnotation)==null?void 0:St.base64Image)||"";return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("img",{src:bt,className:"w-16 h-16 object-contain border rounded cursor-pointer bg-white",alt:"",onClick:()=>dt(bt)}),jsxRuntimeExports.jsxs("div",{className:"text-xs flex-1",children:["p.",at.page," / id:",at.id]}),jsxRuntimeExports.jsx("button",{className:"text-xs px-2 py-1 border rounded hover:bg-gray-50",onClick:()=>{var ht,vt;return(vt=(ht=e.current)==null?void 0:ht.removeAnnotation)==null?void 0:vt.call(ht,at.id)},children:""})]},at.id)}):jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:""})}),ut&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>dt(null),children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-3 rounded shadow max-w-[80vw] max-h-[80vh]",onClick:at=>at.stopPropagation(),children:[jsxRuntimeExports.jsx("img",{src:ut,alt:"",className:"max-w-[78vw] max-h-[70vh] object-contain"}),jsxRuntimeExports.jsx("div",{className:"mt-2 text-right",children:jsxRuntimeExports.jsx("button",{className:"text-xs px-2 py-1 border rounded hover:bg-gray-50",onClick:()=>dt(null),children:""})})]})})]}),jsxRuntimeExports.jsx("button",{className:"mt-2 w-full px-3 py-2 rounded-md bg-blue-600 text-white text-sm disabled:bg-gray-300",onClick:nt,disabled:(gt==="page"?!zt.length:!o.length)||!a||Et,children:Et?"":""})]})})]})},PDFImportPage=()=>{const[i,a]=React$1.useState(null),[c,_e]=React$1.useState(null),[ot,$t]=React$1.useState([]),zt=async ct=>{var s;const Et=((s=ct.target.files)==null?void 0:s[0])||null;if(a(Et),Et){const st=await Et.arrayBuffer();_e(st)}else _e(null)};return jsxRuntimeExports.jsxs("div",{className:"p-4 flex flex-col gap-4 max-w-6xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-semibold",children:"PDF"}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("label",{className:"inline-flex items-center gap-3 px-4 py-2 rounded-md border cursor-pointer hover:bg-gray-50 bg-white",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:"application/pdf",className:"hidden",onChange:zt}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"PDF"})]})})]}),c?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CsvExtractor,{pdf:c,file:i,onExtracted:ct=>$t(ct)}),ot.length>0&&jsxRuntimeExports.jsx("div",{className:"col-span-12",children:jsxRuntimeExports.jsx("div",{className:"mt-4 flex flex-col gap-6",children:ot.map((ct,Et)=>{const s=ct.csv.split(/\r?\n/).map(st=>st.trim()).filter(st=>st.length>0).map(st=>st.split(","));return jsxRuntimeExports.jsxs("div",{className:"border rounded-md bg-white",children:[jsxRuntimeExports.jsxs("div",{className:"px-3 py-2 border-b flex items-center justify-between bg-gray-50",children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-sm",children:ct.title||`table_${Et+1}`}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{className:"text-xs px-2 py-1 border rounded hover:bg-gray-100",onClick:async()=>{try{await navigator.clipboard.writeText(ct.csv)}catch{}},children:""}),jsxRuntimeExports.jsx("button",{className:"text-xs px-2 py-1 border rounded hover:bg-gray-100",onClick:()=>{const st=new Blob([ct.csv],{type:"text/csv;charset=utf-8;"}),Tt=URL.createObjectURL(st),wt=document.createElement("a");wt.href=Tt,wt.download=`${ct.title||`table_${Et+1}`}.csv`,wt.click(),URL.revokeObjectURL(Tt)},children:"CSV"})]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-auto",children:jsxRuntimeExports.jsx("table",{className:"min-w-full text-sm",children:jsxRuntimeExports.jsx("tbody",{children:s.map((st,Tt)=>jsxRuntimeExports.jsx("tr",{className:Tt===0?"bg-gray-50":"",children:st.map((wt,e)=>jsxRuntimeExports.jsx("td",{className:"px-2 py-1 border",children:wt},e))},Tt))})})})]},Et)})})})]}):jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600",children:"PDF"})]})};function App(){return jsxRuntimeExports.jsx("div",{className:"min-h-screen",children:jsxRuntimeExports.jsx(PDFImportPage,{})})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React$1.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
